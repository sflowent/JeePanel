import{a as Ue,b as pr,c as NT,d as xa,e as Wh,f as Zu,g as OT}from"./chunk-2WH2EVR6.js";var MO=xa((DO,EO)=>{"use strict";(function(r,t){typeof DO=="object"&&typeof EO<"u"?EO.exports=t():typeof define=="function"&&define.amd?define(t):(r=typeof globalThis<"u"?globalThis:r||self,r["'typed'"]=t())})(DO,function(){"use strict";function r(){return!0}function t(){return!1}function e(){}let n="Argument is not a typed-function.";function i(){function s(ue){return typeof ue=="object"&&ue!==null&&ue.constructor===Object}let a=[{name:"number",test:function(ue){return typeof ue=="number"}},{name:"string",test:function(ue){return typeof ue=="string"}},{name:"boolean",test:function(ue){return typeof ue=="boolean"}},{name:"Function",test:function(ue){return typeof ue=="function"}},{name:"Array",test:Array.isArray},{name:"Date",test:function(ue){return ue instanceof Date}},{name:"RegExp",test:function(ue){return ue instanceof RegExp}},{name:"Object",test:s},{name:"null",test:function(ue){return ue===null}},{name:"undefined",test:function(ue){return ue===void 0}}],l={name:"any",test:r,isAny:!0},c,d,f=0,m={createCount:0};function p(ue){let Ce=c.get(ue);if(Ce)return Ce;let Re='Unknown type "'+ue+'"',Xe=ue.toLowerCase(),Qe;for(Qe of d)if(Qe.toLowerCase()===Xe){Re+='. Did you mean "'+Qe+'" ?';break}throw new TypeError(Re)}function b(ue){let Ce=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"any",Re=Ce?p(Ce).index:d.length,Xe=[];for(let Je=0;Je<ue.length;++Je){if(!ue[Je]||typeof ue[Je].name!="string"||typeof ue[Je].test!="function")throw new TypeError("Object with properties {name: string, test: function} expected");let Le=ue[Je].name;if(c.has(Le))throw new TypeError('Duplicate type name "'+Le+'"');Xe.push(Le),c.set(Le,{name:Le,test:ue[Je].test,isAny:ue[Je].isAny,index:Re+Je,conversionsTo:[]})}let Qe=d.slice(Re);d=d.slice(0,Re).concat(Xe).concat(Qe);for(let Je=Re+Xe.length;Je<d.length;++Je)c.get(d[Je]).index=Je}function y(){c=new Map,d=[],f=0,b([l],!1)}y(),b(a);function C(){let ue;for(ue of d)c.get(ue).conversionsTo=[];f=0}function S(ue){let Ce=d.filter(Re=>{let Xe=c.get(Re);return!Xe.isAny&&Xe.test(ue)});return Ce.length?Ce:["any"]}function A(ue){return ue&&typeof ue=="function"&&"_typedFunctionData"in ue}function x(ue,Ce,Re){if(!A(ue))throw new TypeError(n);let Xe=Re&&Re.exact,Qe=Array.isArray(Ce)?Ce.join(","):Ce,Je=O(Qe),Le=w(Je);if(!Xe||Le in ue.signatures){let _e=ue._typedFunctionData.signatureMap.get(Le);if(_e)return _e}let st=Je.length,B;if(Xe){B=[];let _e;for(_e in ue.signatures)B.push(ue._typedFunctionData.signatureMap.get(_e))}else B=ue._typedFunctionData.signatures;for(let _e=0;_e<st;++_e){let Ye=Je[_e],Ct=[],Ht;for(Ht of B){let Lr=X(Ht.params,_e);if(!(!Lr||Ye.restParam&&!Lr.restParam)){if(!Lr.hasAny){let ys=I(Lr);if(Ye.types.some(Ks=>!ys.has(Ks.name)))continue}Ct.push(Ht)}}if(B=Ct,B.length===0)break}let J;for(J of B)if(J.params.length<=st)return J;throw new TypeError("Signature not found (signature: "+(ue.name||"unnamed")+"("+w(Je,", ")+"))")}function M(ue,Ce,Re){return x(ue,Ce,Re).implementation}function E(ue,Ce){let Re=p(Ce);if(Re.test(ue))return ue;let Xe=Re.conversionsTo;if(Xe.length===0)throw new Error("There are no conversions to "+Ce+" defined.");for(let Qe=0;Qe<Xe.length;Qe++)if(p(Xe[Qe].from).test(ue))return Xe[Qe].convert(ue);throw new Error("Cannot convert "+ue+" to "+Ce)}function w(ue){let Ce=arguments.length>1&&arguments[1]!==void 0?arguments[1]:",";return ue.map(Re=>Re.name).join(Ce)}function T(ue){let Ce=ue.indexOf("...")===0,Xe=(Ce?ue.length>3?ue.slice(3):"any":ue).split("|").map(st=>p(st.trim())),Qe=!1,Je=Ce?"...":"";return{types:Xe.map(function(st){return Qe=st.isAny||Qe,Je+=st.name+"|",{name:st.name,typeIndex:st.index,test:st.test,isAny:st.isAny,conversion:null,conversionIndex:-1}}),name:Je.slice(0,-1),hasAny:Qe,hasConversion:!1,restParam:Ce}}function k(ue){let Ce=ue.types.map(Le=>Le.name),Re=Q(Ce),Xe=ue.hasAny,Qe=ue.name,Je=Re.map(function(Le){let st=p(Le.from);return Xe=st.isAny||Xe,Qe+="|"+Le.from,{name:Le.from,typeIndex:st.index,test:st.test,isAny:st.isAny,conversion:Le,conversionIndex:Le.index}});return{types:ue.types.concat(Je),name:Qe,hasAny:Xe,hasConversion:Je.length>0,restParam:ue.restParam}}function I(ue){return ue.typeSet||(ue.typeSet=new Set,ue.types.forEach(Ce=>ue.typeSet.add(Ce.name))),ue.typeSet}function O(ue){let Ce=[];if(typeof ue!="string")throw new TypeError("Signatures must be strings");let Re=ue.trim();if(Re==="")return Ce;let Xe=Re.split(",");for(let Qe=0;Qe<Xe.length;++Qe){let Je=T(Xe[Qe].trim());if(Je.restParam&&Qe!==Xe.length-1)throw new SyntaxError('Unexpected rest parameter "'+Xe[Qe]+'": only allowed for the last parameter');if(Je.types.length===0)return null;Ce.push(Je)}return Ce}function R(ue){let Ce=te(ue);return Ce?Ce.restParam:!1}function j(ue){if(!ue||ue.types.length===0)return r;if(ue.types.length===1)return p(ue.types[0].name).test;if(ue.types.length===2){let Ce=p(ue.types[0].name).test,Re=p(ue.types[1].name).test;return function(Qe){return Ce(Qe)||Re(Qe)}}else{let Ce=ue.types.map(function(Re){return p(Re.name).test});return function(Xe){for(let Qe=0;Qe<Ce.length;Qe++)if(Ce[Qe](Xe))return!0;return!1}}}function q(ue){let Ce,Re,Xe;if(R(ue)){Ce=Ve(ue).map(j);let Qe=Ce.length,Je=j(te(ue)),Le=function(st){for(let B=Qe;B<st.length;B++)if(!Je(st[B]))return!1;return!0};return function(B){for(let J=0;J<Ce.length;J++)if(!Ce[J](B[J]))return!1;return Le(B)&&B.length>=Qe+1}}else return ue.length===0?function(Je){return Je.length===0}:ue.length===1?(Re=j(ue[0]),function(Je){return Re(Je[0])&&Je.length===1}):ue.length===2?(Re=j(ue[0]),Xe=j(ue[1]),function(Je){return Re(Je[0])&&Xe(Je[1])&&Je.length===2}):(Ce=ue.map(j),function(Je){for(let Le=0;Le<Ce.length;Le++)if(!Ce[Le](Je[Le]))return!1;return Je.length===Ce.length})}function X(ue,Ce){return Ce<ue.length?ue[Ce]:R(ue)?te(ue):null}function Y(ue,Ce){let Re=X(ue,Ce);return Re?I(Re):new Set}function P(ue){return ue.conversion===null||ue.conversion===void 0}function L(ue,Ce){let Re=new Set;return ue.forEach(Xe=>{let Qe=Y(Xe.params,Ce),Je;for(Je of Qe)Re.add(Je)}),Re.has("any")?["any"]:Array.from(Re)}function Z(ue,Ce,Re){let Xe,Qe,Je=ue||"unnamed",Le=Re,st;for(st=0;st<Ce.length;st++){let Ye=[];if(Le.forEach(Ct=>{let Ht=X(Ct.params,st),Lr=j(Ht);(st<Ct.params.length||R(Ct.params))&&Lr(Ce[st])&&Ye.push(Ct)}),Ye.length===0){if(Qe=L(Le,st),Qe.length>0){let Ct=S(Ce[st]);return Xe=new TypeError("Unexpected type of argument in function "+Je+" (expected: "+Qe.join(" or ")+", actual: "+Ct.join(" | ")+", index: "+st+")"),Xe.data={category:"wrongType",fn:Je,index:st,actual:Ct,expected:Qe},Xe}}else Le=Ye}let B=Le.map(function(Ye){return R(Ye.params)?1/0:Ye.params.length});if(Ce.length<Math.min.apply(null,B))return Qe=L(Le,st),Xe=new TypeError("Too few arguments in function "+Je+" (expected: "+Qe.join(" or ")+", index: "+Ce.length+")"),Xe.data={category:"tooFewArgs",fn:Je,index:Ce.length,expected:Qe},Xe;let J=Math.max.apply(null,B);if(Ce.length>J)return Xe=new TypeError("Too many arguments in function "+Je+" (expected: "+J+", actual: "+Ce.length+")"),Xe.data={category:"tooManyArgs",fn:Je,index:Ce.length,expectedLength:J},Xe;let _e=[];for(let Ye=0;Ye<Ce.length;++Ye)_e.push(S(Ce[Ye]).join("|"));return Xe=new TypeError('Arguments of type "'+_e.join(", ")+'" do not match any of the defined signatures of function '+Je+"."),Xe.data={category:"mismatch",actual:_e},Xe}function U(ue){let Ce=d.length+1;for(let Re=0;Re<ue.types.length;Re++)P(ue.types[Re])&&(Ce=Math.min(Ce,ue.types[Re].typeIndex));return Ce}function ce(ue){let Ce=f+1;for(let Re=0;Re<ue.types.length;Re++)P(ue.types[Re])||(Ce=Math.min(Ce,ue.types[Re].conversionIndex));return Ce}function me(ue,Ce){if(ue.hasAny){if(!Ce.hasAny)return 1}else if(Ce.hasAny)return-1;if(ue.restParam){if(!Ce.restParam)return 1}else if(Ce.restParam)return-1;if(ue.hasConversion){if(!Ce.hasConversion)return 1}else if(Ce.hasConversion)return-1;let Re=U(ue)-U(Ce);if(Re<0)return-1;if(Re>0)return 1;let Xe=ce(ue)-ce(Ce);return Xe<0?-1:Xe>0?1:0}function se(ue,Ce){let Re=ue.params,Xe=Ce.params,Qe=te(Re),Je=te(Xe),Le=R(Re),st=R(Xe);if(Le&&Qe.hasAny){if(!st||!Je.hasAny)return 1}else if(st&&Je.hasAny)return-1;let B=0,J=0,_e;for(_e of Re)_e.hasAny&&++B,_e.hasConversion&&++J;let Ye=0,Ct=0;for(_e of Xe)_e.hasAny&&++Ye,_e.hasConversion&&++Ct;if(B!==Ye)return B-Ye;if(Le&&Qe.hasConversion){if(!st||!Je.hasConversion)return 1}else if(st&&Je.hasConversion)return-1;if(J!==Ct)return J-Ct;if(Le){if(!st)return 1}else if(st)return-1;let Ht=(Re.length-Xe.length)*(Le?-1:1);if(Ht!==0)return Ht;let Lr=[],ys=0;for(let Sl=0;Sl<Re.length;++Sl){let Yd=me(Re[Sl],Xe[Sl]);Lr.push(Yd),ys+=Yd}if(ys!==0)return ys;let Ks;for(Ks of Lr)if(Ks!==0)return Ks;return 0}function Q(ue){if(ue.length===0)return[];let Ce=ue.map(p);ue.length>1&&Ce.sort((Qe,Je)=>Qe.index-Je.index);let Re=Ce[0].conversionsTo;if(ue.length===1)return Re;Re=Re.concat([]);let Xe=new Set(ue);for(let Qe=1;Qe<Ce.length;++Qe){let Je;for(Je of Ce[Qe].conversionsTo)Xe.has(Je.from)||(Re.push(Je),Xe.add(Je.from))}return Re}function he(ue,Ce){let Re=Ce;if(ue.some(Qe=>Qe.hasConversion)){let Qe=R(ue),Je=ue.map(ke);Re=function(){let st=[],B=Qe?arguments.length-1:arguments.length;for(let J=0;J<B;J++)st[J]=Je[J](arguments[J]);return Qe&&(st[B]=arguments[B].map(Je[B])),Ce.apply(this,st)}}let Xe=Re;if(R(ue)){let Qe=ue.length-1;Xe=function(){return Re.apply(this,re(arguments,0,Qe).concat([re(arguments,Qe)]))}}return Xe}function ke(ue){let Ce,Re,Xe,Qe,Je=[],Le=[];switch(ue.types.forEach(function(st){st.conversion&&(Je.push(p(st.conversion.from).test),Le.push(st.conversion.convert))}),Le.length){case 0:return function(B){return B};case 1:return Ce=Je[0],Xe=Le[0],function(B){return Ce(B)?Xe(B):B};case 2:return Ce=Je[0],Re=Je[1],Xe=Le[0],Qe=Le[1],function(B){return Ce(B)?Xe(B):Re(B)?Qe(B):B};default:return function(B){for(let J=0;J<Le.length;J++)if(Je[J](B))return Le[J](B);return B}}}function be(ue){function Ce(Re,Xe,Qe){if(Xe<Re.length){let Je=Re[Xe],Le=[];if(Je.restParam){let st=Je.types.filter(P);st.length<Je.types.length&&Le.push({types:st,name:"..."+st.map(B=>B.name).join("|"),hasAny:st.some(B=>B.isAny),hasConversion:!1,restParam:!0}),Le.push(Je)}else Le=Je.types.map(function(st){return{types:[st],name:st.name,hasAny:st.isAny,hasConversion:st.conversion,restParam:!1}});return Ae(Le,function(st){return Ce(Re,Xe+1,Qe.concat([st]))})}else return[Qe]}return Ce(ue,0,[])}function ee(ue,Ce){let Re=Math.max(ue.length,Ce.length);for(let st=0;st<Re;st++){let B=Y(ue,st),J=Y(Ce,st),_e=!1,Ye;for(Ye of J)if(B.has(Ye)){_e=!0;break}if(!_e)return!1}let Xe=ue.length,Qe=Ce.length,Je=R(ue),Le=R(Ce);return Je?Le?Xe===Qe:Qe>=Xe:Le?Xe>=Qe:Xe===Qe}function ae(ue){return ue.map(Ce=>tr(Ce)?mt(Ce.referToSelf.callback):yt(Ce)?Ge(Ce.referTo.references,Ce.referTo.callback):Ce)}function le(ue,Ce,Re){let Xe=[],Qe;for(Qe of ue){let Je=Re[Qe];if(typeof Je!="number")throw new TypeError('No definition for referenced signature "'+Qe+'"');if(Je=Ce[Je],typeof Je!="function")return!1;Xe.push(Je)}return Xe}function pe(ue,Ce,Re){let Xe=ae(ue),Qe=new Array(Xe.length).fill(!1),Je=!0;for(;Je;){Je=!1;let Le=!0;for(let st=0;st<Xe.length;++st){if(Qe[st])continue;let B=Xe[st];if(tr(B))Xe[st]=B.referToSelf.callback(Re),Xe[st].referToSelf=B.referToSelf,Qe[st]=!0,Le=!1;else if(yt(B)){let J=le(B.referTo.references,Xe,Ce);J?(Xe[st]=B.referTo.callback.apply(this,J),Xe[st].referTo=B.referTo,Qe[st]=!0,Le=!1):Je=!0}}if(Le&&Je)throw new SyntaxError("Circular reference detected in resolving typed.referTo")}return Xe}function ve(ue){let Ce=/\bthis(\(|\.signatures\b)/;Object.keys(ue).forEach(Re=>{let Xe=ue[Re];if(Ce.test(Xe.toString()))throw new SyntaxError("Using `this` to self-reference a function is deprecated since typed-function@3. Use typed.referTo and typed.referToSelf instead.")})}function Ee(ue,Ce){if(m.createCount++,Object.keys(Ce).length===0)throw new SyntaxError("No signatures provided");m.warnAgainstDeprecatedThis&&ve(Ce);let Re=[],Xe=[],Qe={},Je=[],Le;for(Le in Ce){if(!Object.prototype.hasOwnProperty.call(Ce,Le))continue;let cn=O(Le);if(!cn)continue;Re.forEach(function(qu){if(ee(qu,cn))throw new TypeError('Conflicting signatures "'+w(qu)+'" and "'+w(cn)+'".')}),Re.push(cn);let Bo=Xe.length;Xe.push(Ce[Le]);let nt=cn.map(k),fr;for(fr of be(nt)){let qu=w(fr);Je.push({params:fr,name:qu,fn:Bo}),fr.every(z0=>!z0.hasConversion)&&(Qe[qu]=Bo)}}Je.sort(se);let st=pe(Xe,Qe,qa),B;for(B in Qe)Object.prototype.hasOwnProperty.call(Qe,B)&&(Qe[B]=st[Qe[B]]);let J=[],_e=new Map;for(B of Je)_e.has(B.name)||(B.fn=st[B.fn],J.push(B),_e.set(B.name,B));let Ye=J[0]&&J[0].params.length<=2&&!R(J[0].params),Ct=J[1]&&J[1].params.length<=2&&!R(J[1].params),Ht=J[2]&&J[2].params.length<=2&&!R(J[2].params),Lr=J[3]&&J[3].params.length<=2&&!R(J[3].params),ys=J[4]&&J[4].params.length<=2&&!R(J[4].params),Ks=J[5]&&J[5].params.length<=2&&!R(J[5].params),Sl=Ye&&Ct&&Ht&&Lr&&ys&&Ks;for(let cn=0;cn<J.length;++cn)J[cn].test=q(J[cn].params);let Yd=Ye?j(J[0].params[0]):t,Wx=Ct?j(J[1].params[0]):t,kA=Ht?j(J[2].params[0]):t,N0=Lr?j(J[3].params[0]):t,NA=ys?j(J[4].params[0]):t,O0=Ks?j(J[5].params[0]):t,OA=Ye?j(J[0].params[1]):t,F0=Ct?j(J[1].params[1]):t,FA=Ht?j(J[2].params[1]):t,RA=Lr?j(J[3].params[1]):t,R0=ys?j(J[4].params[1]):t,PA=Ks?j(J[5].params[1]):t;for(let cn=0;cn<J.length;++cn)J[cn].implementation=he(J[cn].params,J[cn].fn);let P0=Ye?J[0].implementation:e,Kd=Ct?J[1].implementation:e,LA=Ht?J[2].implementation:e,BA=Lr?J[3].implementation:e,Ap=ys?J[4].implementation:e,L0=Ks?J[5].implementation:e,Xd=Ye?J[0].params.length:-1,VA=Ct?J[1].params.length:-1,Hu=Ht?J[2].params.length:-1,B0=Lr?J[3].params.length:-1,$x=ys?J[4].params.length:-1,Ri=Ks?J[5].params.length:-1,Ut=Sl?6:0,Uu=J.length,V0=J.map(cn=>cn.test),Dl=J.map(cn=>cn.implementation),yn=function(){for(let Bo=Ut;Bo<Uu;Bo++)if(V0[Bo](arguments))return Dl[Bo].apply(this,arguments);return m.onMismatch(ue,arguments,J)};function qa(cn,Bo){return arguments.length===Xd&&Yd(cn)&&OA(Bo)?P0.apply(this,arguments):arguments.length===VA&&Wx(cn)&&F0(Bo)?Kd.apply(this,arguments):arguments.length===Hu&&kA(cn)&&FA(Bo)?LA.apply(this,arguments):arguments.length===B0&&N0(cn)&&RA(Bo)?BA.apply(this,arguments):arguments.length===$x&&NA(cn)&&R0(Bo)?Ap.apply(this,arguments):arguments.length===Ri&&O0(cn)&&PA(Bo)?L0.apply(this,arguments):yn.apply(this,arguments)}try{Object.defineProperty(qa,"name",{value:ue})}catch{}return qa.signatures=Qe,qa._typedFunctionData={signatures:J,signatureMap:_e},qa}function Ie(ue,Ce,Re){throw Z(ue,Ce,Re)}function Ve(ue){return re(ue,0,ue.length-1)}function te(ue){return ue[ue.length-1]}function re(ue,Ce,Re){return Array.prototype.slice.call(ue,Ce,Re)}function De(ue,Ce){for(let Re=0;Re<ue.length;Re++)if(Ce(ue[Re]))return ue[Re]}function Ae(ue,Ce){return Array.prototype.concat.apply([],ue.map(Ce))}function qe(){let ue=Ve(arguments).map(Re=>w(O(Re))),Ce=te(arguments);if(typeof Ce!="function")throw new TypeError("Callback function expected as last argument");return Ge(ue,Ce)}function Ge(ue,Ce){return{referTo:{references:ue,callback:Ce}}}function mt(ue){if(typeof ue!="function")throw new TypeError("Callback function expected as first argument");return{referToSelf:{callback:ue}}}function yt(ue){return ue&&typeof ue.referTo=="object"&&Array.isArray(ue.referTo.references)&&typeof ue.referTo.callback=="function"}function tr(ue){return ue&&typeof ue.referToSelf=="object"&&typeof ue.referToSelf.callback=="function"}function Yt(ue,Ce){if(!ue)return Ce;if(Ce&&Ce!==ue){let Re=new Error("Function names do not match (expected: "+ue+", actual: "+Ce+")");throw Re.data={actual:Ce,expected:ue},Re}return ue}function bn(ue){let Ce;for(let Re in ue)Object.prototype.hasOwnProperty.call(ue,Re)&&(A(ue[Re])||typeof ue[Re].signature=="string")&&(Ce=Yt(Ce,ue[Re].name));return Ce}function Vr(ue,Ce){let Re;for(Re in Ce)if(Object.prototype.hasOwnProperty.call(Ce,Re)){if(Re in ue&&Ce[Re]!==ue[Re]){let Xe=new Error('Signature "'+Re+'" is defined twice');throw Xe.data={signature:Re,sourceFunction:Ce[Re],destFunction:ue[Re]},Xe}ue[Re]=Ce[Re]}}let xi=m;m=function(ue){let Ce=typeof ue=="string",Re=Ce?1:0,Xe=Ce?ue:"",Qe={};for(let Je=Re;Je<arguments.length;++Je){let Le=arguments[Je],st={},B;if(typeof Le=="function"?(B=Le.name,typeof Le.signature=="string"?st[Le.signature]=Le:A(Le)&&(st=Le.signatures)):s(Le)&&(st=Le,Ce||(B=bn(Le))),Object.keys(st).length===0){let J=new TypeError("Argument to 'typed' at index "+Je+" is not a (typed) function, nor an object with signatures as keys and functions as values.");throw J.data={index:Je,argument:Le},J}Ce||(Xe=Yt(Xe,B)),Vr(Qe,st)}return Ee(Xe||"",Qe)},m.create=i,m.createCount=xi.createCount,m.onMismatch=Ie,m.throwMismatchError=Ie,m.createError=Z,m.clear=y,m.clearConversions=C,m.addTypes=b,m._findType=p,m.referTo=qe,m.referToSelf=mt,m.convert=E,m.findSignature=x,m.find=M,m.isTypedFunction=A,m.warnAgainstDeprecatedThis=!0,m.addType=function(ue,Ce){let Re="any";Ce!==!1&&c.has("Object")&&(Re="Object"),m.addTypes([ue],Re)};function oi(ue){if(!ue||typeof ue.from!="string"||typeof ue.to!="string"||typeof ue.convert!="function")throw new TypeError("Object with properties {from: string, to: string, convert: function} expected");if(ue.to===ue.from)throw new SyntaxError('Illegal to define conversion from "'+ue.from+'" to itself.')}return m.addConversion=function(ue){let Ce=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{override:!1};oi(ue);let Re=p(ue.to),Xe=Re.conversionsTo.find(Qe=>Qe.from===ue.from);if(Xe)if(Ce&&Ce.override)m.removeConversion({from:Xe.from,to:ue.to,convert:Xe.convert});else throw new Error('There is already a conversion from "'+ue.from+'" to "'+Re.name+'"');Re.conversionsTo.push({from:ue.from,convert:ue.convert,index:f++})},m.addConversions=function(ue,Ce){ue.forEach(Re=>m.addConversion(Re,Ce))},m.removeConversion=function(ue){oi(ue);let Ce=p(ue.to),Re=De(Ce.conversionsTo,Qe=>Qe.from===ue.from);if(!Re)throw new Error("Attempt to remove nonexistent conversion from "+ue.from+" to "+ue.to);if(Re.convert!==ue.convert)throw new Error("Conversion to remove does not match existing conversion");let Xe=Ce.conversionsTo.indexOf(Re);Ce.conversionsTo.splice(Xe,1)},m.resolve=function(ue,Ce){if(!A(ue))throw new TypeError(n);let Re=ue._typedFunctionData.signatures;for(let Xe=0;Xe<Re.length;++Xe)if(Re[Xe].test(Ce))return Re[Xe];return null},m}var o=i();return o})});var UK=xa((lct,HK)=>{"use strict";HK.exports=function r(t,e){"use strict";var n=/(^([+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?)?$|^0x[0-9a-f]+$|\d+)/gi,i=/(^[ ]*|[ ]*$)/g,o=/(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[\/\-]\d{1,4}[\/\-]\d{1,4}|^\w+, \w+ \d+, \d{4})/,s=/^0x[0-9a-f]+$/i,a=/^0/,l=function(x){return r.insensitive&&(""+x).toLowerCase()||""+x},c=l(t).replace(i,"")||"",d=l(e).replace(i,"")||"",f=c.replace(n,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),m=d.replace(n,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),p=parseInt(c.match(s),16)||f.length!==1&&c.match(o)&&Date.parse(c),b=parseInt(d.match(s),16)||p&&d.match(o)&&Date.parse(d)||null,y,C;if(b){if(p<b)return-1;if(p>b)return 1}for(var S=0,A=Math.max(f.length,m.length);S<A;S++){if(y=!(f[S]||"").match(a)&&parseFloat(f[S])||f[S]||0,C=!(m[S]||"").match(a)&&parseFloat(m[S])||m[S]||0,isNaN(y)!==isNaN(C))return isNaN(y)?1:-1;if(typeof y!=typeof C&&(y+="",C+=""),y<C)return-1;if(y>C)return 1}return 0}});var GX=xa((Imt,$X)=>{"use strict";var fL=Object.assign||function(r){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n])}return r},eIe={"{":"\\{","}":"\\}","\\":"\\textbackslash{}","#":"\\#",$:"\\$","%":"\\%","&":"\\&","^":"\\textasciicircum{}",_:"\\_","~":"\\textasciitilde{}"},tIe={"\u2013":"\\--","\u2014":"\\---"," ":"~","	":"\\qquad{}","\r\n":"\\newline{}","\n":"\\newline{}"},rIe=function(t,e){return fL({},t,e)};$X.exports=function(r){for(var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},e=t.preserveFormatting,n=e===void 0?!1:e,i=t.escapeMapFn,o=i===void 0?rIe:i,s=String(r),a="",l=o(fL({},eIe),n?fL({},tIe):{}),c=Object.keys(l),d=function(){var m=!1;c.forEach(function(p,b){m||s.length>=p.length&&s.slice(0,p.length)===p&&(a+=l[c[b]],s=s.slice(p.length,s.length),m=!0)}),m||(a+=s.slice(0,1),s=s.slice(1,s.length))};s;)d();return a}});var Sre=xa((Cre,hB)=>{"use strict";(function(r,t,e){function n(a){var l=this,c=s();l.next=function(){var d=2091639*l.s0+l.c*23283064365386963e-26;return l.s0=l.s1,l.s1=l.s2,l.s2=d-(l.c=d|0)},l.c=1,l.s0=c(" "),l.s1=c(" "),l.s2=c(" "),l.s0-=c(a),l.s0<0&&(l.s0+=1),l.s1-=c(a),l.s1<0&&(l.s1+=1),l.s2-=c(a),l.s2<0&&(l.s2+=1),c=null}function i(a,l){return l.c=a.c,l.s0=a.s0,l.s1=a.s1,l.s2=a.s2,l}function o(a,l){var c=new n(a),d=l&&l.state,f=c.next;return f.int32=function(){return c.next()*4294967296|0},f.double=function(){return f()+(f()*2097152|0)*11102230246251565e-32},f.quick=f,d&&(typeof d=="object"&&i(d,c),f.state=function(){return i(c,{})}),f}function s(){var a=4022871197,l=function(c){c=String(c);for(var d=0;d<c.length;d++){a+=c.charCodeAt(d);var f=.02519603282416938*a;a=f>>>0,f-=a,f*=a,a=f>>>0,f-=a,a+=f*4294967296}return(a>>>0)*23283064365386963e-26};return l}t&&t.exports?t.exports=o:e&&e.amd?e(function(){return o}):this.alea=o})(Cre,typeof hB=="object"&&hB,typeof define=="function"&&define)});var Ere=xa((Dre,mB)=>{"use strict";(function(r,t,e){function n(s){var a=this,l="";a.x=0,a.y=0,a.z=0,a.w=0,a.next=function(){var d=a.x^a.x<<11;return a.x=a.y,a.y=a.z,a.z=a.w,a.w^=a.w>>>19^d^d>>>8},s===(s|0)?a.x=s:l+=s;for(var c=0;c<l.length+64;c++)a.x^=l.charCodeAt(c)|0,a.next()}function i(s,a){return a.x=s.x,a.y=s.y,a.z=s.z,a.w=s.w,a}function o(s,a){var l=new n(s),c=a&&a.state,d=function(){return(l.next()>>>0)/4294967296};return d.double=function(){do var f=l.next()>>>11,m=(l.next()>>>0)/4294967296,p=(f+m)/(1<<21);while(p===0);return p},d.int32=l.next,d.quick=d,c&&(typeof c=="object"&&i(c,l),d.state=function(){return i(l,{})}),d}t&&t.exports?t.exports=o:e&&e.amd?e(function(){return o}):this.xor128=o})(Dre,typeof mB=="object"&&mB,typeof define=="function"&&define)});var Are=xa((Mre,pB)=>{"use strict";(function(r,t,e){function n(s){var a=this,l="";a.next=function(){var d=a.x^a.x>>>2;return a.x=a.y,a.y=a.z,a.z=a.w,a.w=a.v,(a.d=a.d+362437|0)+(a.v=a.v^a.v<<4^(d^d<<1))|0},a.x=0,a.y=0,a.z=0,a.w=0,a.v=0,s===(s|0)?a.x=s:l+=s;for(var c=0;c<l.length+64;c++)a.x^=l.charCodeAt(c)|0,c==l.length&&(a.d=a.x<<10^a.x>>>4),a.next()}function i(s,a){return a.x=s.x,a.y=s.y,a.z=s.z,a.w=s.w,a.v=s.v,a.d=s.d,a}function o(s,a){var l=new n(s),c=a&&a.state,d=function(){return(l.next()>>>0)/4294967296};return d.double=function(){do var f=l.next()>>>11,m=(l.next()>>>0)/4294967296,p=(f+m)/(1<<21);while(p===0);return p},d.int32=l.next,d.quick=d,c&&(typeof c=="object"&&i(c,l),d.state=function(){return i(l,{})}),d}t&&t.exports?t.exports=o:e&&e.amd?e(function(){return o}):this.xorwow=o})(Mre,typeof pB=="object"&&pB,typeof define=="function"&&define)});var Ire=xa((Tre,gB)=>{"use strict";(function(r,t,e){function n(s){var a=this;a.next=function(){var c=a.x,d=a.i,f,m,p;return f=c[d],f^=f>>>7,m=f^f<<24,f=c[d+1&7],m^=f^f>>>10,f=c[d+3&7],m^=f^f>>>3,f=c[d+4&7],m^=f^f<<7,f=c[d+7&7],f=f^f<<13,m^=f^f<<9,c[d]=m,a.i=d+1&7,m};function l(c,d){var f,m,p=[];if(d===(d|0))m=p[0]=d;else for(d=""+d,f=0;f<d.length;++f)p[f&7]=p[f&7]<<15^d.charCodeAt(f)+p[f+1&7]<<13;for(;p.length<8;)p.push(0);for(f=0;f<8&&p[f]===0;++f);for(f==8?m=p[7]=-1:m=p[f],c.x=p,c.i=0,f=256;f>0;--f)c.next()}l(a,s)}function i(s,a){return a.x=s.x.slice(),a.i=s.i,a}function o(s,a){s==null&&(s=+new Date);var l=new n(s),c=a&&a.state,d=function(){return(l.next()>>>0)/4294967296};return d.double=function(){do var f=l.next()>>>11,m=(l.next()>>>0)/4294967296,p=(f+m)/(1<<21);while(p===0);return p},d.int32=l.next,d.quick=d,c&&(c.x&&i(c,l),d.state=function(){return i(l,{})}),d}t&&t.exports?t.exports=o:e&&e.amd?e(function(){return o}):this.xorshift7=o})(Tre,typeof gB=="object"&&gB,typeof define=="function"&&define)});var Nre=xa((kre,vB)=>{"use strict";(function(r,t,e){function n(s){var a=this;a.next=function(){var c=a.w,d=a.X,f=a.i,m,p;return a.w=c=c+1640531527|0,p=d[f+34&127],m=d[f=f+1&127],p^=p<<13,m^=m<<17,p^=p>>>15,m^=m>>>12,p=d[f]=p^m,a.i=f,p+(c^c>>>16)|0};function l(c,d){var f,m,p,b,y,C=[],S=128;for(d===(d|0)?(m=d,d=null):(d=d+"\0",m=0,S=Math.max(S,d.length)),p=0,b=-32;b<S;++b)d&&(m^=d.charCodeAt((b+32)%d.length)),b===0&&(y=m),m^=m<<10,m^=m>>>15,m^=m<<4,m^=m>>>13,b>=0&&(y=y+1640531527|0,f=C[b&127]^=m+y,p=f==0?p+1:0);for(p>=128&&(C[(d&&d.length||0)&127]=-1),p=127,b=4*128;b>0;--b)m=C[p+34&127],f=C[p=p+1&127],m^=m<<13,f^=f<<17,m^=m>>>15,f^=f>>>12,C[p]=m^f;c.w=y,c.X=C,c.i=p}l(a,s)}function i(s,a){return a.i=s.i,a.w=s.w,a.X=s.X.slice(),a}function o(s,a){s==null&&(s=+new Date);var l=new n(s),c=a&&a.state,d=function(){return(l.next()>>>0)/4294967296};return d.double=function(){do var f=l.next()>>>11,m=(l.next()>>>0)/4294967296,p=(f+m)/(1<<21);while(p===0);return p},d.int32=l.next,d.quick=d,c&&(c.X&&i(c,l),d.state=function(){return i(l,{})}),d}t&&t.exports?t.exports=o:e&&e.amd?e(function(){return o}):this.xor4096=o})(kre,typeof vB=="object"&&vB,typeof define=="function"&&define)});var Fre=xa((Ore,bB)=>{"use strict";(function(r,t,e){function n(s){var a=this,l="";a.next=function(){var d=a.b,f=a.c,m=a.d,p=a.a;return d=d<<25^d>>>7^f,f=f-m|0,m=m<<24^m>>>8^p,p=p-d|0,a.b=d=d<<20^d>>>12^f,a.c=f=f-m|0,a.d=m<<16^f>>>16^p,a.a=p-d|0},a.a=0,a.b=0,a.c=-1640531527,a.d=1367130551,s===Math.floor(s)?(a.a=s/4294967296|0,a.b=s|0):l+=s;for(var c=0;c<l.length+20;c++)a.b^=l.charCodeAt(c)|0,a.next()}function i(s,a){return a.a=s.a,a.b=s.b,a.c=s.c,a.d=s.d,a}function o(s,a){var l=new n(s),c=a&&a.state,d=function(){return(l.next()>>>0)/4294967296};return d.double=function(){do var f=l.next()>>>11,m=(l.next()>>>0)/4294967296,p=(f+m)/(1<<21);while(p===0);return p},d.int32=l.next,d.quick=d,c&&(typeof c=="object"&&i(c,l),d.state=function(){return i(l,{})}),d}t&&t.exports?t.exports=o:e&&e.amd?e(function(){return o}):this.tychei=o})(Ore,typeof bB=="object"&&bB,typeof define=="function"&&define)});var Rre=xa(()=>{"use strict"});var Lre=xa((Pre,MD)=>{"use strict";(function(r,t,e){var n=256,i=6,o=52,s="random",a=e.pow(n,i),l=e.pow(2,o),c=l*2,d=n-1,f;function m(x,M,E){var w=[];M=M==!0?{entropy:!0}:M||{};var T=C(y(M.entropy?[x,A(t)]:x??S(),3),w),k=new p(w),I=function(){for(var O=k.g(i),R=a,j=0;O<l;)O=(O+j)*n,R*=n,j=k.g(1);for(;O>=c;)O/=2,R/=2,j>>>=1;return(O+j)/R};return I.int32=function(){return k.g(4)|0},I.quick=function(){return k.g(4)/4294967296},I.double=I,C(A(k.S),t),(M.pass||E||function(O,R,j,q){return q&&(q.S&&b(q,k),O.state=function(){return b(k,{})}),j?(e[s]=O,R):O})(I,T,"global"in M?M.global:this==e,M.state)}function p(x){var M,E=x.length,w=this,T=0,k=w.i=w.j=0,I=w.S=[];for(E||(x=[E++]);T<n;)I[T]=T++;for(T=0;T<n;T++)I[T]=I[k=d&k+x[T%E]+(M=I[T])],I[k]=M;(w.g=function(O){for(var R,j=0,q=w.i,X=w.j,Y=w.S;O--;)R=Y[q=d&q+1],j=j*n+Y[d&(Y[q]=Y[X=d&X+R])+(Y[X]=R)];return w.i=q,w.j=X,j})(n)}function b(x,M){return M.i=x.i,M.j=x.j,M.S=x.S.slice(),M}function y(x,M){var E=[],w=typeof x,T;if(M&&w=="object")for(T in x)try{E.push(y(x[T],M-1))}catch{}return E.length?E:w=="string"?x:x+"\0"}function C(x,M){for(var E=x+"",w,T=0;T<E.length;)M[d&T]=d&(w^=M[d&T]*19)+E.charCodeAt(T++);return A(M)}function S(){try{var x;return f&&(x=f.randomBytes)?x=x(n):(x=new Uint8Array(n),(r.crypto||r.msCrypto).getRandomValues(x)),A(x)}catch{var M=r.navigator,E=M&&M.plugins;return[+new Date,r,E,r.screen,A(t)]}}function A(x){return String.fromCharCode.apply(0,x)}if(C(e.random(),t),typeof MD=="object"&&MD.exports){MD.exports=m;try{f=Rre()}catch{}}else typeof define=="function"&&define.amd?define(function(){return m}):e["seed"+s]=m})(typeof self<"u"?self:Pre,[],Math)});var Vre=xa((tMt,Bre)=>{"use strict";var yke=Sre(),_ke=Ere(),xke=Are(),wke=Ire(),Cke=Nre(),Ske=Fre(),zm=Lre();zm.alea=yke;zm.xor128=_ke;zm.xorwow=xke;zm.xorshift7=wke;zm.xor4096=Cke;zm.tychei=Ske;Bre.exports=zm});var Kfe=xa((rj,nj)=>{"use strict";(function(r,t){typeof rj=="object"&&typeof nj<"u"?nj.exports=t():typeof define=="function"&&define.amd?define(t):(r=r||self,r.CodeMirror=t())})(rj,function(){"use strict";var r=navigator.userAgent,t=navigator.platform,e=/gecko\/\d/i.test(r),n=/MSIE \d/.test(r),i=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(r),o=/Edge\/(\d+)/.exec(r),s=n||i||o,a=s&&(n?document.documentMode||6:+(o||i)[1]),l=!o&&/WebKit\//.test(r),c=l&&/Qt\/\d+\.\d+/.test(r),d=!o&&/Chrome\/(\d+)/.exec(r),f=d&&+d[1],m=/Opera\//.test(r),p=/Apple Computer/.test(navigator.vendor),b=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(r),y=/PhantomJS/.test(r),C=p&&(/Mobile\/\w+/.test(r)||navigator.maxTouchPoints>2),S=/Android/.test(r),A=C||S||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(r),x=C||/Mac/.test(t),M=/\bCrOS\b/.test(r),E=/win/i.test(t),w=m&&r.match(/Version\/(\d*\.\d*)/);w&&(w=Number(w[1])),w&&w>=15&&(m=!1,l=!0);var T=x&&(c||m&&(w==null||w<12.11)),k=e||s&&a>=9;function I(u){return new RegExp("(^|\\s)"+u+"(?:$|\\s)\\s*")}var O=function(u,h){var v=u.className,g=I(h).exec(v);if(g){var _=v.slice(g.index+g[0].length);u.className=v.slice(0,g.index)+(_?g[1]+_:"")}};function R(u){for(var h=u.childNodes.length;h>0;--h)u.removeChild(u.firstChild);return u}function j(u,h){return R(u).appendChild(h)}function q(u,h,v,g){var _=document.createElement(u);if(v&&(_.className=v),g&&(_.style.cssText=g),typeof h=="string")_.appendChild(document.createTextNode(h));else if(h)for(var D=0;D<h.length;++D)_.appendChild(h[D]);return _}function X(u,h,v,g){var _=q(u,h,v,g);return _.setAttribute("role","presentation"),_}var Y;document.createRange?Y=function(u,h,v,g){var _=document.createRange();return _.setEnd(g||u,v),_.setStart(u,h),_}:Y=function(u,h,v){var g=document.body.createTextRange();try{g.moveToElementText(u.parentNode)}catch{return g}return g.collapse(!0),g.moveEnd("character",v),g.moveStart("character",h),g};function P(u,h){if(h.nodeType==3&&(h=h.parentNode),u.contains)return u.contains(h);do if(h.nodeType==11&&(h=h.host),h==u)return!0;while(h=h.parentNode)}function L(u){var h;try{h=u.activeElement}catch{h=u.body||null}for(;h&&h.shadowRoot&&h.shadowRoot.activeElement;)h=h.shadowRoot.activeElement;return h}function Z(u,h){var v=u.className;I(h).test(v)||(u.className+=(v?" ":"")+h)}function U(u,h){for(var v=u.split(" "),g=0;g<v.length;g++)v[g]&&!I(v[g]).test(h)&&(h+=" "+v[g]);return h}var ce=function(u){u.select()};C?ce=function(u){u.selectionStart=0,u.selectionEnd=u.value.length}:s&&(ce=function(u){try{u.select()}catch{}});function me(u){return u.display.wrapper.ownerDocument}function se(u){return me(u).defaultView}function Q(u){var h=Array.prototype.slice.call(arguments,1);return function(){return u.apply(null,h)}}function he(u,h,v){h||(h={});for(var g in u)u.hasOwnProperty(g)&&(v!==!1||!h.hasOwnProperty(g))&&(h[g]=u[g]);return h}function ke(u,h,v,g,_){h==null&&(h=u.search(/[^\s\u00a0]/),h==-1&&(h=u.length));for(var D=g||0,N=_||0;;){var z=u.indexOf("	",D);if(z<0||z>=h)return N+(h-D);N+=z-D,N+=v-N%v,D=z+1}}var be=function(){this.id=null,this.f=null,this.time=0,this.handler=Q(this.onTimeout,this)};be.prototype.onTimeout=function(u){u.id=0,u.time<=+new Date?u.f():setTimeout(u.handler,u.time-+new Date)},be.prototype.set=function(u,h){this.f=h;var v=+new Date+u;(!this.id||v<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,u),this.time=v)};function ee(u,h){for(var v=0;v<u.length;++v)if(u[v]==h)return v;return-1}var ae=50,le={toString:function(){return"CodeMirror.Pass"}},pe={scroll:!1},ve={origin:"*mouse"},Ee={origin:"+move"};function Ie(u,h,v){for(var g=0,_=0;;){var D=u.indexOf("	",g);D==-1&&(D=u.length);var N=D-g;if(D==u.length||_+N>=h)return g+Math.min(N,h-_);if(_+=D-g,_+=v-_%v,g=D+1,_>=h)return g}}var Ve=[""];function te(u){for(;Ve.length<=u;)Ve.push(re(Ve)+" ");return Ve[u]}function re(u){return u[u.length-1]}function De(u,h){for(var v=[],g=0;g<u.length;g++)v[g]=h(u[g],g);return v}function Ae(u,h,v){for(var g=0,_=v(h);g<u.length&&v(u[g])<=_;)g++;u.splice(g,0,h)}function qe(){}function Ge(u,h){var v;return Object.create?v=Object.create(u):(qe.prototype=u,v=new qe),h&&he(h,v),v}var mt=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function yt(u){return/\w/.test(u)||u>"\x80"&&(u.toUpperCase()!=u.toLowerCase()||mt.test(u))}function tr(u,h){return h?h.source.indexOf("\\w")>-1&&yt(u)?!0:h.test(u):yt(u)}function Yt(u){for(var h in u)if(u.hasOwnProperty(h)&&u[h])return!1;return!0}var bn=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function Vr(u){return u.charCodeAt(0)>=768&&bn.test(u)}function xi(u,h,v){for(;(v<0?h>0:h<u.length)&&Vr(u.charAt(h));)h+=v;return h}function oi(u,h,v){for(var g=h>v?-1:1;;){if(h==v)return h;var _=(h+v)/2,D=g<0?Math.ceil(_):Math.floor(_);if(D==h)return u(D)?h:v;u(D)?v=D:h=D+g}}function ue(u,h,v,g){if(!u)return g(h,v,"ltr",0);for(var _=!1,D=0;D<u.length;++D){var N=u[D];(N.from<v&&N.to>h||h==v&&N.to==h)&&(g(Math.max(N.from,h),Math.min(N.to,v),N.level==1?"rtl":"ltr",D),_=!0)}_||g(h,v,"ltr")}var Ce=null;function Re(u,h,v){var g;Ce=null;for(var _=0;_<u.length;++_){var D=u[_];if(D.from<h&&D.to>h)return _;D.to==h&&(D.from!=D.to&&v=="before"?g=_:Ce=_),D.from==h&&(D.from!=D.to&&v!="before"?g=_:Ce=_)}return g??Ce}var Xe=function(){var u="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",h="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111";function v(G){return G<=247?u.charAt(G):1424<=G&&G<=1524?"R":1536<=G&&G<=1785?h.charAt(G-1536):1774<=G&&G<=2220?"r":8192<=G&&G<=8203?"w":G==8204?"b":"L"}var g=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,_=/[stwN]/,D=/[LRr]/,N=/[Lb1n]/,z=/[1n]/;function H(G,ne,fe){this.level=G,this.from=ne,this.to=fe}return function(G,ne){var fe=ne=="ltr"?"L":"R";if(G.length==0||ne=="ltr"&&!g.test(G))return!1;for(var Se=G.length,ye=[],je=0;je<Se;++je)ye.push(v(G.charCodeAt(je)));for(var Ze=0,lt=fe;Ze<Se;++Ze){var gt=ye[Ze];gt=="m"?ye[Ze]=lt:lt=gt}for(var St=0,vt=fe;St<Se;++St){var At=ye[St];At=="1"&&vt=="r"?ye[St]="n":D.test(At)&&(vt=At,At=="r"&&(ye[St]="R"))}for(var Qt=1,Kt=ye[0];Qt<Se-1;++Qt){var zr=ye[Qt];zr=="+"&&Kt=="1"&&ye[Qt+1]=="1"?ye[Qt]="1":zr==","&&Kt==ye[Qt+1]&&(Kt=="1"||Kt=="n")&&(ye[Qt]=Kt),Kt=zr}for(var Hn=0;Hn<Se;++Hn){var Co=ye[Hn];if(Co==",")ye[Hn]="N";else if(Co=="%"){var wi=void 0;for(wi=Hn+1;wi<Se&&ye[wi]=="%";++wi);for(var _a=Hn&&ye[Hn-1]=="!"||wi<Se&&ye[wi]=="1"?"1":"N",Qs=Hn;Qs<wi;++Qs)ye[Qs]=_a;Hn=wi-1}}for(var Xi=0,Js=fe;Xi<Se;++Xi){var Vo=ye[Xi];Js=="L"&&Vo=="1"?ye[Xi]="L":D.test(Vo)&&(Js=Vo)}for(var lo=0;lo<Se;++lo)if(_.test(ye[lo])){var Zi=void 0;for(Zi=lo+1;Zi<Se&&_.test(ye[Zi]);++Zi);for(var Pi=(lo?ye[lo-1]:fe)=="L",ea=(Zi<Se?ye[Zi]:fe)=="L",$p=Pi==ea?Pi?"L":"R":fe,sf=lo;sf<Zi;++sf)ye[sf]=$p;lo=Zi-1}for(var is=[],Uc,So=0;So<Se;)if(N.test(ye[So])){var IT=So;for(++So;So<Se&&N.test(ye[So]);++So);is.push(new H(0,IT,So))}else{var Xu=So,Uh=is.length,qh=ne=="rtl"?1:0;for(++So;So<Se&&ye[So]!="L";++So);for(var xs=Xu;xs<So;)if(z.test(ye[xs])){Xu<xs&&(is.splice(Uh,0,new H(1,Xu,xs)),Uh+=qh);var Gp=xs;for(++xs;xs<So&&z.test(ye[xs]);++xs);is.splice(Uh,0,new H(2,Gp,xs)),Uh+=qh,Xu=xs}else++xs;Xu<So&&is.splice(Uh,0,new H(1,Xu,So))}return ne=="ltr"&&(is[0].level==1&&(Uc=G.match(/^\s+/))&&(is[0].from=Uc[0].length,is.unshift(new H(0,0,Uc[0].length))),re(is).level==1&&(Uc=G.match(/\s+$/))&&(re(is).to-=Uc[0].length,is.push(new H(0,Se-Uc[0].length,Se)))),ne=="rtl"?is.reverse():is}}();function Qe(u,h){var v=u.order;return v==null&&(v=u.order=Xe(u.text,h)),v}var Je=[],Le=function(u,h,v){if(u.addEventListener)u.addEventListener(h,v,!1);else if(u.attachEvent)u.attachEvent("on"+h,v);else{var g=u._handlers||(u._handlers={});g[h]=(g[h]||Je).concat(v)}};function st(u,h){return u._handlers&&u._handlers[h]||Je}function B(u,h,v){if(u.removeEventListener)u.removeEventListener(h,v,!1);else if(u.detachEvent)u.detachEvent("on"+h,v);else{var g=u._handlers,_=g&&g[h];if(_){var D=ee(_,v);D>-1&&(g[h]=_.slice(0,D).concat(_.slice(D+1)))}}}function J(u,h){var v=st(u,h);if(v.length)for(var g=Array.prototype.slice.call(arguments,2),_=0;_<v.length;++_)v[_].apply(null,g)}function _e(u,h,v){return typeof h=="string"&&(h={type:h,preventDefault:function(){this.defaultPrevented=!0}}),J(u,v||h.type,u,h),Ks(h)||h.codemirrorIgnore}function Ye(u){var h=u._handlers&&u._handlers.cursorActivity;if(h)for(var v=u.curOp.cursorActivityHandlers||(u.curOp.cursorActivityHandlers=[]),g=0;g<h.length;++g)ee(v,h[g])==-1&&v.push(h[g])}function Ct(u,h){return st(u,h).length>0}function Ht(u){u.prototype.on=function(h,v){Le(this,h,v)},u.prototype.off=function(h,v){B(this,h,v)}}function Lr(u){u.preventDefault?u.preventDefault():u.returnValue=!1}function ys(u){u.stopPropagation?u.stopPropagation():u.cancelBubble=!0}function Ks(u){return u.defaultPrevented!=null?u.defaultPrevented:u.returnValue==!1}function Sl(u){Lr(u),ys(u)}function Yd(u){return u.target||u.srcElement}function Wx(u){var h=u.which;return h==null&&(u.button&1?h=1:u.button&2?h=3:u.button&4&&(h=2)),x&&u.ctrlKey&&h==1&&(h=3),h}var kA=function(){if(s&&a<9)return!1;var u=q("div");return"draggable"in u||"dragDrop"in u}(),N0;function NA(u){if(N0==null){var h=q("span","\u200B");j(u,q("span",[h,document.createTextNode("x")])),u.firstChild.offsetHeight!=0&&(N0=h.offsetWidth<=1&&h.offsetHeight>2&&!(s&&a<8))}var v=N0?q("span","\u200B"):q("span","\xA0",null,"display: inline-block; width: 1px; margin-right: -1px");return v.setAttribute("cm-text",""),v}var O0;function OA(u){if(O0!=null)return O0;var h=j(u,document.createTextNode("A\u062EA")),v=Y(h,0,1).getBoundingClientRect(),g=Y(h,1,2).getBoundingClientRect();return R(u),!v||v.left==v.right?!1:O0=g.right-v.right<3}var F0=`

b`.split(/\n/).length!=3?function(u){for(var h=0,v=[],g=u.length;h<=g;){var _=u.indexOf(`
`,h);_==-1&&(_=u.length);var D=u.slice(h,u.charAt(_-1)=="\r"?_-1:_),N=D.indexOf("\r");N!=-1?(v.push(D.slice(0,N)),h+=N+1):(v.push(D),h=_+1)}return v}:function(u){return u.split(/\r\n?|\n/)},FA=window.getSelection?function(u){try{return u.selectionStart!=u.selectionEnd}catch{return!1}}:function(u){var h;try{h=u.ownerDocument.selection.createRange()}catch{}return!h||h.parentElement()!=u?!1:h.compareEndPoints("StartToEnd",h)!=0},RA=function(){var u=q("div");return"oncopy"in u?!0:(u.setAttribute("oncopy","return;"),typeof u.oncopy=="function")}(),R0=null;function PA(u){if(R0!=null)return R0;var h=j(u,q("span","x")),v=h.getBoundingClientRect(),g=Y(h,0,1).getBoundingClientRect();return R0=Math.abs(v.left-g.left)>1}var P0={},Kd={};function LA(u,h){arguments.length>2&&(h.dependencies=Array.prototype.slice.call(arguments,2)),P0[u]=h}function BA(u,h){Kd[u]=h}function Ap(u){if(typeof u=="string"&&Kd.hasOwnProperty(u))u=Kd[u];else if(u&&typeof u.name=="string"&&Kd.hasOwnProperty(u.name)){var h=Kd[u.name];typeof h=="string"&&(h={name:h}),u=Ge(h,u),u.name=h.name}else{if(typeof u=="string"&&/^[\w\-]+\/[\w\-]+\+xml$/.test(u))return Ap("application/xml");if(typeof u=="string"&&/^[\w\-]+\/[\w\-]+\+json$/.test(u))return Ap("application/json")}return typeof u=="string"?{name:u}:u||{name:"null"}}function L0(u,h){h=Ap(h);var v=P0[h.name];if(!v)return L0(u,"text/plain");var g=v(u,h);if(Xd.hasOwnProperty(h.name)){var _=Xd[h.name];for(var D in _)_.hasOwnProperty(D)&&(g.hasOwnProperty(D)&&(g["_"+D]=g[D]),g[D]=_[D])}if(g.name=h.name,h.helperType&&(g.helperType=h.helperType),h.modeProps)for(var N in h.modeProps)g[N]=h.modeProps[N];return g}var Xd={};function VA(u,h){var v=Xd.hasOwnProperty(u)?Xd[u]:Xd[u]={};he(h,v)}function Hu(u,h){if(h===!0)return h;if(u.copyState)return u.copyState(h);var v={};for(var g in h){var _=h[g];_ instanceof Array&&(_=_.concat([])),v[g]=_}return v}function B0(u,h){for(var v;u.innerMode&&(v=u.innerMode(h),!(!v||v.mode==u));)h=v.state,u=v.mode;return v||{mode:u,state:h}}function $x(u,h,v){return u.startState?u.startState(h,v):!0}var Ri=function(u,h,v){this.pos=this.start=0,this.string=u,this.tabSize=h||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=v};Ri.prototype.eol=function(){return this.pos>=this.string.length},Ri.prototype.sol=function(){return this.pos==this.lineStart},Ri.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},Ri.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},Ri.prototype.eat=function(u){var h=this.string.charAt(this.pos),v;if(typeof u=="string"?v=h==u:v=h&&(u.test?u.test(h):u(h)),v)return++this.pos,h},Ri.prototype.eatWhile=function(u){for(var h=this.pos;this.eat(u););return this.pos>h},Ri.prototype.eatSpace=function(){for(var u=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>u},Ri.prototype.skipToEnd=function(){this.pos=this.string.length},Ri.prototype.skipTo=function(u){var h=this.string.indexOf(u,this.pos);if(h>-1)return this.pos=h,!0},Ri.prototype.backUp=function(u){this.pos-=u},Ri.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=ke(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?ke(this.string,this.lineStart,this.tabSize):0)},Ri.prototype.indentation=function(){return ke(this.string,null,this.tabSize)-(this.lineStart?ke(this.string,this.lineStart,this.tabSize):0)},Ri.prototype.match=function(u,h,v){if(typeof u=="string"){var g=function(N){return v?N.toLowerCase():N},_=this.string.substr(this.pos,u.length);if(g(_)==g(u))return h!==!1&&(this.pos+=u.length),!0}else{var D=this.string.slice(this.pos).match(u);return D&&D.index>0?null:(D&&h!==!1&&(this.pos+=D[0].length),D)}},Ri.prototype.current=function(){return this.string.slice(this.start,this.pos)},Ri.prototype.hideFirstChars=function(u,h){this.lineStart+=u;try{return h()}finally{this.lineStart-=u}},Ri.prototype.lookAhead=function(u){var h=this.lineOracle;return h&&h.lookAhead(u)},Ri.prototype.baseToken=function(){var u=this.lineOracle;return u&&u.baseToken(this.pos)};function Ut(u,h){if(h-=u.first,h<0||h>=u.size)throw new Error("There is no line "+(h+u.first)+" in the document.");for(var v=u;!v.lines;)for(var g=0;;++g){var _=v.children[g],D=_.chunkSize();if(h<D){v=_;break}h-=D}return v.lines[h]}function Uu(u,h,v){var g=[],_=h.line;return u.iter(h.line,v.line+1,function(D){var N=D.text;_==v.line&&(N=N.slice(0,v.ch)),_==h.line&&(N=N.slice(h.ch)),g.push(N),++_}),g}function V0(u,h,v){var g=[];return u.iter(h,v,function(_){g.push(_.text)}),g}function Dl(u,h){var v=h-u.height;if(v)for(var g=u;g;g=g.parent)g.height+=v}function yn(u){if(u.parent==null)return null;for(var h=u.parent,v=ee(h.lines,u),g=h.parent;g;h=g,g=g.parent)for(var _=0;g.children[_]!=h;++_)v+=g.children[_].chunkSize();return v+h.first}function qa(u,h){var v=u.first;e:do{for(var g=0;g<u.children.length;++g){var _=u.children[g],D=_.height;if(h<D){u=_;continue e}h-=D,v+=_.chunkSize()}return v}while(!u.lines);for(var N=0;N<u.lines.length;++N){var z=u.lines[N],H=z.height;if(h<H)break;h-=H}return v+N}function cn(u,h){return h>=u.first&&h<u.first+u.size}function Bo(u,h){return String(u.lineNumberFormatter(h+u.firstLineNumber))}function nt(u,h,v){if(v===void 0&&(v=null),!(this instanceof nt))return new nt(u,h,v);this.line=u,this.ch=h,this.sticky=v}function fr(u,h){return u.line-h.line||u.ch-h.ch}function qu(u,h){return u.sticky==h.sticky&&fr(u,h)==0}function z0(u){return nt(u.line,u.ch)}function Gx(u,h){return fr(u,h)<0?h:u}function Yx(u,h){return fr(u,h)<0?u:h}function fj(u,h){return Math.max(u.first,Math.min(h,u.first+u.size-1))}function Er(u,h){if(h.line<u.first)return nt(u.first,0);var v=u.first+u.size-1;return h.line>v?nt(v,Ut(u,v).text.length):$he(h,Ut(u,h.line).text.length)}function $he(u,h){var v=u.ch;return v==null||v>h?nt(u.line,h):v<0?nt(u.line,0):u}function hj(u,h){for(var v=[],g=0;g<h.length;g++)v[g]=Er(u,h[g]);return v}var Kx=function(u,h){this.state=u,this.lookAhead=h},zc=function(u,h,v,g){this.state=h,this.doc=u,this.line=v,this.maxLookAhead=g||0,this.baseTokens=null,this.baseTokenPos=1};zc.prototype.lookAhead=function(u){var h=this.doc.getLine(this.line+u);return h!=null&&u>this.maxLookAhead&&(this.maxLookAhead=u),h},zc.prototype.baseToken=function(u){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=u;)this.baseTokenPos+=2;var h=this.baseTokens[this.baseTokenPos+1];return{type:h&&h.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-u}},zc.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},zc.fromSaved=function(u,h,v){return h instanceof Kx?new zc(u,Hu(u.mode,h.state),v,h.lookAhead):new zc(u,Hu(u.mode,h),v)},zc.prototype.save=function(u){var h=u!==!1?Hu(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new Kx(h,this.maxLookAhead):h};function mj(u,h,v,g){var _=[u.state.modeGen],D={};_j(u,h.text,u.doc.mode,v,function(G,ne){return _.push(G,ne)},D,g);for(var N=v.state,z=function(G){v.baseTokens=_;var ne=u.state.overlays[G],fe=1,Se=0;v.state=!0,_j(u,h.text,ne.mode,v,function(ye,je){for(var Ze=fe;Se<ye;){var lt=_[fe];lt>ye&&_.splice(fe,1,ye,_[fe+1],lt),fe+=2,Se=Math.min(ye,lt)}if(je)if(ne.opaque)_.splice(Ze,fe-Ze,ye,"overlay "+je),fe=Ze+2;else for(;Ze<fe;Ze+=2){var gt=_[Ze+1];_[Ze+1]=(gt?gt+" ":"")+"overlay "+je}},D),v.state=N,v.baseTokens=null,v.baseTokenPos=1},H=0;H<u.state.overlays.length;++H)z(H);return{styles:_,classes:D.bgClass||D.textClass?D:null}}function pj(u,h,v){if(!h.styles||h.styles[0]!=u.state.modeGen){var g=j0(u,yn(h)),_=h.text.length>u.options.maxHighlightLength&&Hu(u.doc.mode,g.state),D=mj(u,h,g);_&&(g.state=_),h.stateAfter=g.save(!_),h.styles=D.styles,D.classes?h.styleClasses=D.classes:h.styleClasses&&(h.styleClasses=null),v===u.doc.highlightFrontier&&(u.doc.modeFrontier=Math.max(u.doc.modeFrontier,++u.doc.highlightFrontier))}return h.styles}function j0(u,h,v){var g=u.doc,_=u.display;if(!g.mode.startState)return new zc(g,!0,h);var D=Ghe(u,h,v),N=D>g.first&&Ut(g,D-1).stateAfter,z=N?zc.fromSaved(g,N,D):new zc(g,$x(g.mode),D);return g.iter(D,h,function(H){zA(u,H.text,z);var G=z.line;H.stateAfter=G==h-1||G%5==0||G>=_.viewFrom&&G<_.viewTo?z.save():null,z.nextLine()}),v&&(g.modeFrontier=z.line),z}function zA(u,h,v,g){var _=u.doc.mode,D=new Ri(h,u.options.tabSize,v);for(D.start=D.pos=g||0,h==""&&gj(_,v.state);!D.eol();)jA(_,D,v.state),D.start=D.pos}function gj(u,h){if(u.blankLine)return u.blankLine(h);if(u.innerMode){var v=B0(u,h);if(v.mode.blankLine)return v.mode.blankLine(v.state)}}function jA(u,h,v,g){for(var _=0;_<10;_++){g&&(g[0]=B0(u,v).mode);var D=u.token(h,v);if(h.pos>h.start)return D}throw new Error("Mode "+u.name+" failed to advance stream.")}var vj=function(u,h,v){this.start=u.start,this.end=u.pos,this.string=u.current(),this.type=h||null,this.state=v};function bj(u,h,v,g){var _=u.doc,D=_.mode,N;h=Er(_,h);var z=Ut(_,h.line),H=j0(u,h.line,v),G=new Ri(z.text,u.options.tabSize,H),ne;for(g&&(ne=[]);(g||G.pos<h.ch)&&!G.eol();)G.start=G.pos,N=jA(D,G,H.state),g&&ne.push(new vj(G,N,Hu(_.mode,H.state)));return g?ne:new vj(G,N,H.state)}function yj(u,h){if(u)for(;;){var v=u.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!v)break;u=u.slice(0,v.index)+u.slice(v.index+v[0].length);var g=v[1]?"bgClass":"textClass";h[g]==null?h[g]=v[2]:new RegExp("(?:^|\\s)"+v[2]+"(?:$|\\s)").test(h[g])||(h[g]+=" "+v[2])}return u}function _j(u,h,v,g,_,D,N){var z=v.flattenSpans;z==null&&(z=u.options.flattenSpans);var H=0,G=null,ne=new Ri(h,u.options.tabSize,g),fe,Se=u.options.addModeClass&&[null];for(h==""&&yj(gj(v,g.state),D);!ne.eol();){if(ne.pos>u.options.maxHighlightLength?(z=!1,N&&zA(u,h,g,ne.pos),ne.pos=h.length,fe=null):fe=yj(jA(v,ne,g.state,Se),D),Se){var ye=Se[0].name;ye&&(fe="m-"+(fe?ye+" "+fe:ye))}if(!z||G!=fe){for(;H<ne.start;)H=Math.min(ne.start,H+5e3),_(H,G);G=fe}ne.start=ne.pos}for(;H<ne.pos;){var je=Math.min(ne.pos,H+5e3);_(je,G),H=je}}function Ghe(u,h,v){for(var g,_,D=u.doc,N=v?-1:h-(u.doc.mode.innerMode?1e3:100),z=h;z>N;--z){if(z<=D.first)return D.first;var H=Ut(D,z-1),G=H.stateAfter;if(G&&(!v||z+(G instanceof Kx?G.lookAhead:0)<=D.modeFrontier))return z;var ne=ke(H.text,null,u.options.tabSize);(_==null||g>ne)&&(_=z-1,g=ne)}return _}function Yhe(u,h){if(u.modeFrontier=Math.min(u.modeFrontier,h),!(u.highlightFrontier<h-10)){for(var v=u.first,g=h-1;g>v;g--){var _=Ut(u,g).stateAfter;if(_&&(!(_ instanceof Kx)||g+_.lookAhead<h)){v=g+1;break}}u.highlightFrontier=Math.min(u.highlightFrontier,v)}}var xj=!1,Wu=!1;function Khe(){xj=!0}function Xhe(){Wu=!0}function Xx(u,h,v){this.marker=u,this.from=h,this.to=v}function H0(u,h){if(u)for(var v=0;v<u.length;++v){var g=u[v];if(g.marker==h)return g}}function Zhe(u,h){for(var v,g=0;g<u.length;++g)u[g]!=h&&(v||(v=[])).push(u[g]);return v}function Qhe(u,h,v){var g=v&&window.WeakSet&&(v.markedSpans||(v.markedSpans=new WeakSet));g&&u.markedSpans&&g.has(u.markedSpans)?u.markedSpans.push(h):(u.markedSpans=u.markedSpans?u.markedSpans.concat([h]):[h],g&&g.add(u.markedSpans)),h.marker.attachLine(u)}function Jhe(u,h,v){var g;if(u)for(var _=0;_<u.length;++_){var D=u[_],N=D.marker,z=D.from==null||(N.inclusiveLeft?D.from<=h:D.from<h);if(z||D.from==h&&N.type=="bookmark"&&(!v||!D.marker.insertLeft)){var H=D.to==null||(N.inclusiveRight?D.to>=h:D.to>h);(g||(g=[])).push(new Xx(N,D.from,H?null:D.to))}}return g}function eme(u,h,v){var g;if(u)for(var _=0;_<u.length;++_){var D=u[_],N=D.marker,z=D.to==null||(N.inclusiveRight?D.to>=h:D.to>h);if(z||D.from==h&&N.type=="bookmark"&&(!v||D.marker.insertLeft)){var H=D.from==null||(N.inclusiveLeft?D.from<=h:D.from<h);(g||(g=[])).push(new Xx(N,H?null:D.from-h,D.to==null?null:D.to-h))}}return g}function HA(u,h){if(h.full)return null;var v=cn(u,h.from.line)&&Ut(u,h.from.line).markedSpans,g=cn(u,h.to.line)&&Ut(u,h.to.line).markedSpans;if(!v&&!g)return null;var _=h.from.ch,D=h.to.ch,N=fr(h.from,h.to)==0,z=Jhe(v,_,N),H=eme(g,D,N),G=h.text.length==1,ne=re(h.text).length+(G?_:0);if(z)for(var fe=0;fe<z.length;++fe){var Se=z[fe];if(Se.to==null){var ye=H0(H,Se.marker);ye?G&&(Se.to=ye.to==null?null:ye.to+ne):Se.to=_}}if(H)for(var je=0;je<H.length;++je){var Ze=H[je];if(Ze.to!=null&&(Ze.to+=ne),Ze.from==null){var lt=H0(z,Ze.marker);lt||(Ze.from=ne,G&&(z||(z=[])).push(Ze))}else Ze.from+=ne,G&&(z||(z=[])).push(Ze)}z&&(z=wj(z)),H&&H!=z&&(H=wj(H));var gt=[z];if(!G){var St=h.text.length-2,vt;if(St>0&&z)for(var At=0;At<z.length;++At)z[At].to==null&&(vt||(vt=[])).push(new Xx(z[At].marker,null,null));for(var Qt=0;Qt<St;++Qt)gt.push(vt);gt.push(H)}return gt}function wj(u){for(var h=0;h<u.length;++h){var v=u[h];v.from!=null&&v.from==v.to&&v.marker.clearWhenEmpty!==!1&&u.splice(h--,1)}return u.length?u:null}function tme(u,h,v){var g=null;if(u.iter(h.line,v.line+1,function(ye){if(ye.markedSpans)for(var je=0;je<ye.markedSpans.length;++je){var Ze=ye.markedSpans[je].marker;Ze.readOnly&&(!g||ee(g,Ze)==-1)&&(g||(g=[])).push(Ze)}}),!g)return null;for(var _=[{from:h,to:v}],D=0;D<g.length;++D)for(var N=g[D],z=N.find(0),H=0;H<_.length;++H){var G=_[H];if(!(fr(G.to,z.from)<0||fr(G.from,z.to)>0)){var ne=[H,1],fe=fr(G.from,z.from),Se=fr(G.to,z.to);(fe<0||!N.inclusiveLeft&&!fe)&&ne.push({from:G.from,to:z.from}),(Se>0||!N.inclusiveRight&&!Se)&&ne.push({from:z.to,to:G.to}),_.splice.apply(_,ne),H+=ne.length-3}}return _}function Cj(u){var h=u.markedSpans;if(h){for(var v=0;v<h.length;++v)h[v].marker.detachLine(u);u.markedSpans=null}}function Sj(u,h){if(h){for(var v=0;v<h.length;++v)h[v].marker.attachLine(u);u.markedSpans=h}}function Zx(u){return u.inclusiveLeft?-1:0}function Qx(u){return u.inclusiveRight?1:0}function UA(u,h){var v=u.lines.length-h.lines.length;if(v!=0)return v;var g=u.find(),_=h.find(),D=fr(g.from,_.from)||Zx(u)-Zx(h);if(D)return-D;var N=fr(g.to,_.to)||Qx(u)-Qx(h);return N||h.id-u.id}function Dj(u,h){var v=Wu&&u.markedSpans,g;if(v)for(var _=void 0,D=0;D<v.length;++D)_=v[D],_.marker.collapsed&&(h?_.from:_.to)==null&&(!g||UA(g,_.marker)<0)&&(g=_.marker);return g}function Ej(u){return Dj(u,!0)}function Jx(u){return Dj(u,!1)}function rme(u,h){var v=Wu&&u.markedSpans,g;if(v)for(var _=0;_<v.length;++_){var D=v[_];D.marker.collapsed&&(D.from==null||D.from<h)&&(D.to==null||D.to>h)&&(!g||UA(g,D.marker)<0)&&(g=D.marker)}return g}function Mj(u,h,v,g,_){var D=Ut(u,h),N=Wu&&D.markedSpans;if(N)for(var z=0;z<N.length;++z){var H=N[z];if(H.marker.collapsed){var G=H.marker.find(0),ne=fr(G.from,v)||Zx(H.marker)-Zx(_),fe=fr(G.to,g)||Qx(H.marker)-Qx(_);if(!(ne>=0&&fe<=0||ne<=0&&fe>=0)&&(ne<=0&&(H.marker.inclusiveRight&&_.inclusiveLeft?fr(G.to,v)>=0:fr(G.to,v)>0)||ne>=0&&(H.marker.inclusiveRight&&_.inclusiveLeft?fr(G.from,g)<=0:fr(G.from,g)<0)))return!0}}}function nc(u){for(var h;h=Ej(u);)u=h.find(-1,!0).line;return u}function nme(u){for(var h;h=Jx(u);)u=h.find(1,!0).line;return u}function ime(u){for(var h,v;h=Jx(u);)u=h.find(1,!0).line,(v||(v=[])).push(u);return v}function qA(u,h){var v=Ut(u,h),g=nc(v);return v==g?h:yn(g)}function Aj(u,h){if(h>u.lastLine())return h;var v=Ut(u,h),g;if(!Zd(u,v))return h;for(;g=Jx(v);)v=g.find(1,!0).line;return yn(v)+1}function Zd(u,h){var v=Wu&&h.markedSpans;if(v){for(var g=void 0,_=0;_<v.length;++_)if(g=v[_],!!g.marker.collapsed){if(g.from==null)return!0;if(!g.marker.widgetNode&&g.from==0&&g.marker.inclusiveLeft&&WA(u,h,g))return!0}}}function WA(u,h,v){if(v.to==null){var g=v.marker.find(1,!0);return WA(u,g.line,H0(g.line.markedSpans,v.marker))}if(v.marker.inclusiveRight&&v.to==h.text.length)return!0;for(var _=void 0,D=0;D<h.markedSpans.length;++D)if(_=h.markedSpans[D],_.marker.collapsed&&!_.marker.widgetNode&&_.from==v.to&&(_.to==null||_.to!=v.from)&&(_.marker.inclusiveLeft||v.marker.inclusiveRight)&&WA(u,h,_))return!0}function $u(u){u=nc(u);for(var h=0,v=u.parent,g=0;g<v.lines.length;++g){var _=v.lines[g];if(_==u)break;h+=_.height}for(var D=v.parent;D;v=D,D=v.parent)for(var N=0;N<D.children.length;++N){var z=D.children[N];if(z==v)break;h+=z.height}return h}function ew(u){if(u.height==0)return 0;for(var h=u.text.length,v,g=u;v=Ej(g);){var _=v.find(0,!0);g=_.from.line,h+=_.from.ch-_.to.ch}for(g=u;v=Jx(g);){var D=v.find(0,!0);h-=g.text.length-D.from.ch,g=D.to.line,h+=g.text.length-D.to.ch}return h}function $A(u){var h=u.display,v=u.doc;h.maxLine=Ut(v,v.first),h.maxLineLength=ew(h.maxLine),h.maxLineChanged=!0,v.iter(function(g){var _=ew(g);_>h.maxLineLength&&(h.maxLineLength=_,h.maxLine=g)})}var Tp=function(u,h,v){this.text=u,Sj(this,h),this.height=v?v(this):1};Tp.prototype.lineNo=function(){return yn(this)},Ht(Tp);function ome(u,h,v,g){u.text=h,u.stateAfter&&(u.stateAfter=null),u.styles&&(u.styles=null),u.order!=null&&(u.order=null),Cj(u),Sj(u,v);var _=g?g(u):1;_!=u.height&&Dl(u,_)}function sme(u){u.parent=null,Cj(u)}var ame={},lme={};function Tj(u,h){if(!u||/^\s*$/.test(u))return null;var v=h.addModeClass?lme:ame;return v[u]||(v[u]=u.replace(/\S+/g,"cm-$&"))}function Ij(u,h){var v=X("span",null,null,l?"padding-right: .1px":null),g={pre:X("pre",[v],"CodeMirror-line"),content:v,col:0,pos:0,cm:u,trailingSpace:!1,splitSpaces:u.getOption("lineWrapping")};h.measure={};for(var _=0;_<=(h.rest?h.rest.length:0);_++){var D=_?h.rest[_-1]:h.line,N=void 0;g.pos=0,g.addToken=ume,OA(u.display.measure)&&(N=Qe(D,u.doc.direction))&&(g.addToken=fme(g.addToken,N)),g.map=[];var z=h!=u.display.externalMeasured&&yn(D);hme(D,g,pj(u,D,z)),D.styleClasses&&(D.styleClasses.bgClass&&(g.bgClass=U(D.styleClasses.bgClass,g.bgClass||"")),D.styleClasses.textClass&&(g.textClass=U(D.styleClasses.textClass,g.textClass||""))),g.map.length==0&&g.map.push(0,0,g.content.appendChild(NA(u.display.measure))),_==0?(h.measure.map=g.map,h.measure.cache={}):((h.measure.maps||(h.measure.maps=[])).push(g.map),(h.measure.caches||(h.measure.caches=[])).push({}))}if(l){var H=g.content.lastChild;(/\bcm-tab\b/.test(H.className)||H.querySelector&&H.querySelector(".cm-tab"))&&(g.content.className="cm-tab-wrap-hack")}return J(u,"renderLine",u,h.line,g.pre),g.pre.className&&(g.textClass=U(g.pre.className,g.textClass||"")),g}function cme(u){var h=q("span","\u2022","cm-invalidchar");return h.title="\\u"+u.charCodeAt(0).toString(16),h.setAttribute("aria-label",h.title),h}function ume(u,h,v,g,_,D,N){if(h){var z=u.splitSpaces?dme(h,u.trailingSpace):h,H=u.cm.state.specialChars,G=!1,ne;if(!H.test(h))u.col+=h.length,ne=document.createTextNode(z),u.map.push(u.pos,u.pos+h.length,ne),s&&a<9&&(G=!0),u.pos+=h.length;else{ne=document.createDocumentFragment();for(var fe=0;;){H.lastIndex=fe;var Se=H.exec(h),ye=Se?Se.index-fe:h.length-fe;if(ye){var je=document.createTextNode(z.slice(fe,fe+ye));s&&a<9?ne.appendChild(q("span",[je])):ne.appendChild(je),u.map.push(u.pos,u.pos+ye,je),u.col+=ye,u.pos+=ye}if(!Se)break;fe+=ye+1;var Ze=void 0;if(Se[0]=="	"){var lt=u.cm.options.tabSize,gt=lt-u.col%lt;Ze=ne.appendChild(q("span",te(gt),"cm-tab")),Ze.setAttribute("role","presentation"),Ze.setAttribute("cm-text","	"),u.col+=gt}else Se[0]=="\r"||Se[0]==`
`?(Ze=ne.appendChild(q("span",Se[0]=="\r"?"\u240D":"\u2424","cm-invalidchar")),Ze.setAttribute("cm-text",Se[0]),u.col+=1):(Ze=u.cm.options.specialCharPlaceholder(Se[0]),Ze.setAttribute("cm-text",Se[0]),s&&a<9?ne.appendChild(q("span",[Ze])):ne.appendChild(Ze),u.col+=1);u.map.push(u.pos,u.pos+1,Ze),u.pos++}}if(u.trailingSpace=z.charCodeAt(h.length-1)==32,v||g||_||G||D||N){var St=v||"";g&&(St+=g),_&&(St+=_);var vt=q("span",[ne],St,D);if(N)for(var At in N)N.hasOwnProperty(At)&&At!="style"&&At!="class"&&vt.setAttribute(At,N[At]);return u.content.appendChild(vt)}u.content.appendChild(ne)}}function dme(u,h){if(u.length>1&&!/  /.test(u))return u;for(var v=h,g="",_=0;_<u.length;_++){var D=u.charAt(_);D==" "&&v&&(_==u.length-1||u.charCodeAt(_+1)==32)&&(D="\xA0"),g+=D,v=D==" "}return g}function fme(u,h){return function(v,g,_,D,N,z,H){_=_?_+" cm-force-border":"cm-force-border";for(var G=v.pos,ne=G+g.length;;){for(var fe=void 0,Se=0;Se<h.length&&(fe=h[Se],!(fe.to>G&&fe.from<=G));Se++);if(fe.to>=ne)return u(v,g,_,D,N,z,H);u(v,g.slice(0,fe.to-G),_,D,null,z,H),D=null,g=g.slice(fe.to-G),G=fe.to}}}function kj(u,h,v,g){var _=!g&&v.widgetNode;_&&u.map.push(u.pos,u.pos+h,_),!g&&u.cm.display.input.needsContentAttribute&&(_||(_=u.content.appendChild(document.createElement("span"))),_.setAttribute("cm-marker",v.id)),_&&(u.cm.display.input.setUneditable(_),u.content.appendChild(_)),u.pos+=h,u.trailingSpace=!1}function hme(u,h,v){var g=u.markedSpans,_=u.text,D=0;if(!g){for(var N=1;N<v.length;N+=2)h.addToken(h,_.slice(D,D=v[N]),Tj(v[N+1],h.cm.options));return}for(var z=_.length,H=0,G=1,ne="",fe,Se,ye=0,je,Ze,lt,gt,St;;){if(ye==H){je=Ze=lt=Se="",St=null,gt=null,ye=1/0;for(var vt=[],At=void 0,Qt=0;Qt<g.length;++Qt){var Kt=g[Qt],zr=Kt.marker;if(zr.type=="bookmark"&&Kt.from==H&&zr.widgetNode)vt.push(zr);else if(Kt.from<=H&&(Kt.to==null||Kt.to>H||zr.collapsed&&Kt.to==H&&Kt.from==H)){if(Kt.to!=null&&Kt.to!=H&&ye>Kt.to&&(ye=Kt.to,Ze=""),zr.className&&(je+=" "+zr.className),zr.css&&(Se=(Se?Se+";":"")+zr.css),zr.startStyle&&Kt.from==H&&(lt+=" "+zr.startStyle),zr.endStyle&&Kt.to==ye&&(At||(At=[])).push(zr.endStyle,Kt.to),zr.title&&((St||(St={})).title=zr.title),zr.attributes)for(var Hn in zr.attributes)(St||(St={}))[Hn]=zr.attributes[Hn];zr.collapsed&&(!gt||UA(gt.marker,zr)<0)&&(gt=Kt)}else Kt.from>H&&ye>Kt.from&&(ye=Kt.from)}if(At)for(var Co=0;Co<At.length;Co+=2)At[Co+1]==ye&&(Ze+=" "+At[Co]);if(!gt||gt.from==H)for(var wi=0;wi<vt.length;++wi)kj(h,0,vt[wi]);if(gt&&(gt.from||0)==H){if(kj(h,(gt.to==null?z+1:gt.to)-H,gt.marker,gt.from==null),gt.to==null)return;gt.to==H&&(gt=!1)}}if(H>=z)break;for(var _a=Math.min(z,ye);;){if(ne){var Qs=H+ne.length;if(!gt){var Xi=Qs>_a?ne.slice(0,_a-H):ne;h.addToken(h,Xi,fe?fe+je:je,lt,H+Xi.length==ye?Ze:"",Se,St)}if(Qs>=_a){ne=ne.slice(_a-H),H=_a;break}H=Qs,lt=""}ne=_.slice(D,D=v[G++]),fe=Tj(v[G++],h.cm.options)}}}function Nj(u,h,v){this.line=h,this.rest=ime(h),this.size=this.rest?yn(re(this.rest))-v+1:1,this.node=this.text=null,this.hidden=Zd(u,h)}function tw(u,h,v){for(var g=[],_,D=h;D<v;D=_){var N=new Nj(u.doc,Ut(u.doc,D),D);_=D+N.size,g.push(N)}return g}var Ip=null;function mme(u){Ip?Ip.ops.push(u):u.ownsGroup=Ip={ops:[u],delayedCallbacks:[]}}function pme(u){var h=u.delayedCallbacks,v=0;do{for(;v<h.length;v++)h[v].call(null);for(var g=0;g<u.ops.length;g++){var _=u.ops[g];if(_.cursorActivityHandlers)for(;_.cursorActivityCalled<_.cursorActivityHandlers.length;)_.cursorActivityHandlers[_.cursorActivityCalled++].call(null,_.cm)}}while(v<h.length)}function gme(u,h){var v=u.ownsGroup;if(v)try{pme(v)}finally{Ip=null,h(v)}}var U0=null;function _o(u,h){var v=st(u,h);if(v.length){var g=Array.prototype.slice.call(arguments,2),_;Ip?_=Ip.delayedCallbacks:U0?_=U0:(_=U0=[],setTimeout(vme,0));for(var D=function(z){_.push(function(){return v[z].apply(null,g)})},N=0;N<v.length;++N)D(N)}}function vme(){var u=U0;U0=null;for(var h=0;h<u.length;++h)u[h]()}function Oj(u,h,v,g){for(var _=0;_<h.changes.length;_++){var D=h.changes[_];D=="text"?yme(u,h):D=="gutter"?Rj(u,h,v,g):D=="class"?GA(u,h):D=="widget"&&_me(u,h,g)}h.changes=null}function q0(u){return u.node==u.text&&(u.node=q("div",null,null,"position: relative"),u.text.parentNode&&u.text.parentNode.replaceChild(u.node,u.text),u.node.appendChild(u.text),s&&a<8&&(u.node.style.zIndex=2)),u.node}function bme(u,h){var v=h.bgClass?h.bgClass+" "+(h.line.bgClass||""):h.line.bgClass;if(v&&(v+=" CodeMirror-linebackground"),h.background)v?h.background.className=v:(h.background.parentNode.removeChild(h.background),h.background=null);else if(v){var g=q0(h);h.background=g.insertBefore(q("div",null,v),g.firstChild),u.display.input.setUneditable(h.background)}}function Fj(u,h){var v=u.display.externalMeasured;return v&&v.line==h.line?(u.display.externalMeasured=null,h.measure=v.measure,v.built):Ij(u,h)}function yme(u,h){var v=h.text.className,g=Fj(u,h);h.text==h.node&&(h.node=g.pre),h.text.parentNode.replaceChild(g.pre,h.text),h.text=g.pre,g.bgClass!=h.bgClass||g.textClass!=h.textClass?(h.bgClass=g.bgClass,h.textClass=g.textClass,GA(u,h)):v&&(h.text.className=v)}function GA(u,h){bme(u,h),h.line.wrapClass?q0(h).className=h.line.wrapClass:h.node!=h.text&&(h.node.className="");var v=h.textClass?h.textClass+" "+(h.line.textClass||""):h.line.textClass;h.text.className=v||""}function Rj(u,h,v,g){if(h.gutter&&(h.node.removeChild(h.gutter),h.gutter=null),h.gutterBackground&&(h.node.removeChild(h.gutterBackground),h.gutterBackground=null),h.line.gutterClass){var _=q0(h);h.gutterBackground=q("div",null,"CodeMirror-gutter-background "+h.line.gutterClass,"left: "+(u.options.fixedGutter?g.fixedPos:-g.gutterTotalWidth)+"px; width: "+g.gutterTotalWidth+"px"),u.display.input.setUneditable(h.gutterBackground),_.insertBefore(h.gutterBackground,h.text)}var D=h.line.gutterMarkers;if(u.options.lineNumbers||D){var N=q0(h),z=h.gutter=q("div",null,"CodeMirror-gutter-wrapper","left: "+(u.options.fixedGutter?g.fixedPos:-g.gutterTotalWidth)+"px");if(z.setAttribute("aria-hidden","true"),u.display.input.setUneditable(z),N.insertBefore(z,h.text),h.line.gutterClass&&(z.className+=" "+h.line.gutterClass),u.options.lineNumbers&&(!D||!D["CodeMirror-linenumbers"])&&(h.lineNumber=z.appendChild(q("div",Bo(u.options,v),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+g.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+u.display.lineNumInnerWidth+"px"))),D)for(var H=0;H<u.display.gutterSpecs.length;++H){var G=u.display.gutterSpecs[H].className,ne=D.hasOwnProperty(G)&&D[G];ne&&z.appendChild(q("div",[ne],"CodeMirror-gutter-elt","left: "+g.gutterLeft[G]+"px; width: "+g.gutterWidth[G]+"px"))}}}function _me(u,h,v){h.alignable&&(h.alignable=null);for(var g=I("CodeMirror-linewidget"),_=h.node.firstChild,D=void 0;_;_=D)D=_.nextSibling,g.test(_.className)&&h.node.removeChild(_);Pj(u,h,v)}function xme(u,h,v,g){var _=Fj(u,h);return h.text=h.node=_.pre,_.bgClass&&(h.bgClass=_.bgClass),_.textClass&&(h.textClass=_.textClass),GA(u,h),Rj(u,h,v,g),Pj(u,h,g),h.node}function Pj(u,h,v){if(Lj(u,h.line,h,v,!0),h.rest)for(var g=0;g<h.rest.length;g++)Lj(u,h.rest[g],h,v,!1)}function Lj(u,h,v,g,_){if(h.widgets)for(var D=q0(v),N=0,z=h.widgets;N<z.length;++N){var H=z[N],G=q("div",[H.node],"CodeMirror-linewidget"+(H.className?" "+H.className:""));H.handleMouseEvents||G.setAttribute("cm-ignore-events","true"),wme(H,G,v,g),u.display.input.setUneditable(G),_&&H.above?D.insertBefore(G,v.gutter||v.text):D.appendChild(G),_o(H,"redraw")}}function wme(u,h,v,g){if(u.noHScroll){(v.alignable||(v.alignable=[])).push(h);var _=g.wrapperWidth;h.style.left=g.fixedPos+"px",u.coverGutter||(_-=g.gutterTotalWidth,h.style.paddingLeft=g.gutterTotalWidth+"px"),h.style.width=_+"px"}u.coverGutter&&(h.style.zIndex=5,h.style.position="relative",u.noHScroll||(h.style.marginLeft=-g.gutterTotalWidth+"px"))}function W0(u){if(u.height!=null)return u.height;var h=u.doc.cm;if(!h)return 0;if(!P(document.body,u.node)){var v="position: relative;";u.coverGutter&&(v+="margin-left: -"+h.display.gutters.offsetWidth+"px;"),u.noHScroll&&(v+="width: "+h.display.wrapper.clientWidth+"px;"),j(h.display.measure,q("div",[u.node],null,v))}return u.height=u.node.parentNode.offsetHeight}function Gu(u,h){for(var v=Yd(h);v!=u.wrapper;v=v.parentNode)if(!v||v.nodeType==1&&v.getAttribute("cm-ignore-events")=="true"||v.parentNode==u.sizer&&v!=u.mover)return!0}function rw(u){return u.lineSpace.offsetTop}function YA(u){return u.mover.offsetHeight-u.lineSpace.offsetHeight}function Bj(u){if(u.cachedPaddingH)return u.cachedPaddingH;var h=j(u.measure,q("pre","x","CodeMirror-line-like")),v=window.getComputedStyle?window.getComputedStyle(h):h.currentStyle,g={left:parseInt(v.paddingLeft),right:parseInt(v.paddingRight)};return!isNaN(g.left)&&!isNaN(g.right)&&(u.cachedPaddingH=g),g}function jc(u){return ae-u.display.nativeBarWidth}function Rh(u){return u.display.scroller.clientWidth-jc(u)-u.display.barWidth}function KA(u){return u.display.scroller.clientHeight-jc(u)-u.display.barHeight}function Cme(u,h,v){var g=u.options.lineWrapping,_=g&&Rh(u);if(!h.measure.heights||g&&h.measure.width!=_){var D=h.measure.heights=[];if(g){h.measure.width=_;for(var N=h.text.firstChild.getClientRects(),z=0;z<N.length-1;z++){var H=N[z],G=N[z+1];Math.abs(H.bottom-G.bottom)>2&&D.push((H.bottom+G.top)/2-v.top)}}D.push(v.bottom-v.top)}}function Vj(u,h,v){if(u.line==h)return{map:u.measure.map,cache:u.measure.cache};if(u.rest){for(var g=0;g<u.rest.length;g++)if(u.rest[g]==h)return{map:u.measure.maps[g],cache:u.measure.caches[g]};for(var _=0;_<u.rest.length;_++)if(yn(u.rest[_])>v)return{map:u.measure.maps[_],cache:u.measure.caches[_],before:!0}}}function Sme(u,h){h=nc(h);var v=yn(h),g=u.display.externalMeasured=new Nj(u.doc,h,v);g.lineN=v;var _=g.built=Ij(u,g);return g.text=_.pre,j(u.display.lineMeasure,_.pre),g}function zj(u,h,v,g){return Hc(u,kp(u,h),v,g)}function XA(u,h){if(h>=u.display.viewFrom&&h<u.display.viewTo)return u.display.view[Bh(u,h)];var v=u.display.externalMeasured;if(v&&h>=v.lineN&&h<v.lineN+v.size)return v}function kp(u,h){var v=yn(h),g=XA(u,v);g&&!g.text?g=null:g&&g.changes&&(Oj(u,g,v,tT(u)),u.curOp.forceUpdate=!0),g||(g=Sme(u,h));var _=Vj(g,h,v);return{line:h,view:g,rect:null,map:_.map,cache:_.cache,before:_.before,hasHeights:!1}}function Hc(u,h,v,g,_){h.before&&(v=-1);var D=v+(g||""),N;return h.cache.hasOwnProperty(D)?N=h.cache[D]:(h.rect||(h.rect=h.view.text.getBoundingClientRect()),h.hasHeights||(Cme(u,h.view,h.rect),h.hasHeights=!0),N=Eme(u,h,v,g),N.bogus||(h.cache[D]=N)),{left:N.left,right:N.right,top:_?N.rtop:N.top,bottom:_?N.rbottom:N.bottom}}var jj={left:0,right:0,top:0,bottom:0};function Hj(u,h,v){for(var g,_,D,N,z,H,G=0;G<u.length;G+=3)if(z=u[G],H=u[G+1],h<z?(_=0,D=1,N="left"):h<H?(_=h-z,D=_+1):(G==u.length-3||h==H&&u[G+3]>h)&&(D=H-z,_=D-1,h>=H&&(N="right")),_!=null){if(g=u[G+2],z==H&&v==(g.insertLeft?"left":"right")&&(N=v),v=="left"&&_==0)for(;G&&u[G-2]==u[G-3]&&u[G-1].insertLeft;)g=u[(G-=3)+2],N="left";if(v=="right"&&_==H-z)for(;G<u.length-3&&u[G+3]==u[G+4]&&!u[G+5].insertLeft;)g=u[(G+=3)+2],N="right";break}return{node:g,start:_,end:D,collapse:N,coverStart:z,coverEnd:H}}function Dme(u,h){var v=jj;if(h=="left")for(var g=0;g<u.length&&(v=u[g]).left==v.right;g++);else for(var _=u.length-1;_>=0&&(v=u[_]).left==v.right;_--);return v}function Eme(u,h,v,g){var _=Hj(h.map,v,g),D=_.node,N=_.start,z=_.end,H=_.collapse,G;if(D.nodeType==3){for(var ne=0;ne<4;ne++){for(;N&&Vr(h.line.text.charAt(_.coverStart+N));)--N;for(;_.coverStart+z<_.coverEnd&&Vr(h.line.text.charAt(_.coverStart+z));)++z;if(s&&a<9&&N==0&&z==_.coverEnd-_.coverStart?G=D.parentNode.getBoundingClientRect():G=Dme(Y(D,N,z).getClientRects(),g),G.left||G.right||N==0)break;z=N,N=N-1,H="right"}s&&a<11&&(G=Mme(u.display.measure,G))}else{N>0&&(H=g="right");var fe;u.options.lineWrapping&&(fe=D.getClientRects()).length>1?G=fe[g=="right"?fe.length-1:0]:G=D.getBoundingClientRect()}if(s&&a<9&&!N&&(!G||!G.left&&!G.right)){var Se=D.parentNode.getClientRects()[0];Se?G={left:Se.left,right:Se.left+Op(u.display),top:Se.top,bottom:Se.bottom}:G=jj}for(var ye=G.top-h.rect.top,je=G.bottom-h.rect.top,Ze=(ye+je)/2,lt=h.view.measure.heights,gt=0;gt<lt.length-1&&!(Ze<lt[gt]);gt++);var St=gt?lt[gt-1]:0,vt=lt[gt],At={left:(H=="right"?G.right:G.left)-h.rect.left,right:(H=="left"?G.left:G.right)-h.rect.left,top:St,bottom:vt};return!G.left&&!G.right&&(At.bogus=!0),u.options.singleCursorHeightPerLine||(At.rtop=ye,At.rbottom=je),At}function Mme(u,h){if(!window.screen||screen.logicalXDPI==null||screen.logicalXDPI==screen.deviceXDPI||!PA(u))return h;var v=screen.logicalXDPI/screen.deviceXDPI,g=screen.logicalYDPI/screen.deviceYDPI;return{left:h.left*v,right:h.right*v,top:h.top*g,bottom:h.bottom*g}}function Uj(u){if(u.measure&&(u.measure.cache={},u.measure.heights=null,u.rest))for(var h=0;h<u.rest.length;h++)u.measure.caches[h]={}}function qj(u){u.display.externalMeasure=null,R(u.display.lineMeasure);for(var h=0;h<u.display.view.length;h++)Uj(u.display.view[h])}function $0(u){qj(u),u.display.cachedCharWidth=u.display.cachedTextHeight=u.display.cachedPaddingH=null,u.options.lineWrapping||(u.display.maxLineChanged=!0),u.display.lineNumChars=null}function Wj(u){return d&&S?-(u.body.getBoundingClientRect().left-parseInt(getComputedStyle(u.body).marginLeft)):u.defaultView.pageXOffset||(u.documentElement||u.body).scrollLeft}function $j(u){return d&&S?-(u.body.getBoundingClientRect().top-parseInt(getComputedStyle(u.body).marginTop)):u.defaultView.pageYOffset||(u.documentElement||u.body).scrollTop}function ZA(u){var h=nc(u),v=h.widgets,g=0;if(v)for(var _=0;_<v.length;++_)v[_].above&&(g+=W0(v[_]));return g}function nw(u,h,v,g,_){if(!_){var D=ZA(h);v.top+=D,v.bottom+=D}if(g=="line")return v;g||(g="local");var N=$u(h);if(g=="local"?N+=rw(u.display):N-=u.display.viewOffset,g=="page"||g=="window"){var z=u.display.lineSpace.getBoundingClientRect();N+=z.top+(g=="window"?0:$j(me(u)));var H=z.left+(g=="window"?0:Wj(me(u)));v.left+=H,v.right+=H}return v.top+=N,v.bottom+=N,v}function Gj(u,h,v){if(v=="div")return h;var g=h.left,_=h.top;if(v=="page")g-=Wj(me(u)),_-=$j(me(u));else if(v=="local"||!v){var D=u.display.sizer.getBoundingClientRect();g+=D.left,_+=D.top}var N=u.display.lineSpace.getBoundingClientRect();return{left:g-N.left,top:_-N.top}}function iw(u,h,v,g,_){return g||(g=Ut(u.doc,h.line)),nw(u,g,zj(u,g,h.ch,_),v)}function ic(u,h,v,g,_,D){g=g||Ut(u.doc,h.line),_||(_=kp(u,g));function N(je,Ze){var lt=Hc(u,_,je,Ze?"right":"left",D);return Ze?lt.left=lt.right:lt.right=lt.left,nw(u,g,lt,v)}var z=Qe(g,u.doc.direction),H=h.ch,G=h.sticky;if(H>=g.text.length?(H=g.text.length,G="before"):H<=0&&(H=0,G="after"),!z)return N(G=="before"?H-1:H,G=="before");function ne(je,Ze,lt){var gt=z[Ze],St=gt.level==1;return N(lt?je-1:je,St!=lt)}var fe=Re(z,H,G),Se=Ce,ye=ne(H,fe,G=="before");return Se!=null&&(ye.other=ne(H,Se,G!="before")),ye}function Yj(u,h){var v=0;h=Er(u.doc,h),u.options.lineWrapping||(v=Op(u.display)*h.ch);var g=Ut(u.doc,h.line),_=$u(g)+rw(u.display);return{left:v,right:v,top:_,bottom:_+g.height}}function QA(u,h,v,g,_){var D=nt(u,h,v);return D.xRel=_,g&&(D.outside=g),D}function JA(u,h,v){var g=u.doc;if(v+=u.display.viewOffset,v<0)return QA(g.first,0,null,-1,-1);var _=qa(g,v),D=g.first+g.size-1;if(_>D)return QA(g.first+g.size-1,Ut(g,D).text.length,null,1,1);h<0&&(h=0);for(var N=Ut(g,_);;){var z=Ame(u,N,_,h,v),H=rme(N,z.ch+(z.xRel>0||z.outside>0?1:0));if(!H)return z;var G=H.find(1);if(G.line==_)return G;N=Ut(g,_=G.line)}}function Kj(u,h,v,g){g-=ZA(h);var _=h.text.length,D=oi(function(N){return Hc(u,v,N-1).bottom<=g},_,0);return _=oi(function(N){return Hc(u,v,N).top>g},D,_),{begin:D,end:_}}function Xj(u,h,v,g){v||(v=kp(u,h));var _=nw(u,h,Hc(u,v,g),"line").top;return Kj(u,h,v,_)}function eT(u,h,v,g){return u.bottom<=v?!1:u.top>v?!0:(g?u.left:u.right)>h}function Ame(u,h,v,g,_){_-=$u(h);var D=kp(u,h),N=ZA(h),z=0,H=h.text.length,G=!0,ne=Qe(h,u.doc.direction);if(ne){var fe=(u.options.lineWrapping?Ime:Tme)(u,h,v,D,ne,g,_);G=fe.level!=1,z=G?fe.from:fe.to-1,H=G?fe.to:fe.from-1}var Se=null,ye=null,je=oi(function(Qt){var Kt=Hc(u,D,Qt);return Kt.top+=N,Kt.bottom+=N,eT(Kt,g,_,!1)?(Kt.top<=_&&Kt.left<=g&&(Se=Qt,ye=Kt),!0):!1},z,H),Ze,lt,gt=!1;if(ye){var St=g-ye.left<ye.right-g,vt=St==G;je=Se+(vt?0:1),lt=vt?"after":"before",Ze=St?ye.left:ye.right}else{!G&&(je==H||je==z)&&je++,lt=je==0?"after":je==h.text.length?"before":Hc(u,D,je-(G?1:0)).bottom+N<=_==G?"after":"before";var At=ic(u,nt(v,je,lt),"line",h,D);Ze=At.left,gt=_<At.top?-1:_>=At.bottom?1:0}return je=xi(h.text,je,1),QA(v,je,lt,gt,g-Ze)}function Tme(u,h,v,g,_,D,N){var z=oi(function(fe){var Se=_[fe],ye=Se.level!=1;return eT(ic(u,nt(v,ye?Se.to:Se.from,ye?"before":"after"),"line",h,g),D,N,!0)},0,_.length-1),H=_[z];if(z>0){var G=H.level!=1,ne=ic(u,nt(v,G?H.from:H.to,G?"after":"before"),"line",h,g);eT(ne,D,N,!0)&&ne.top>N&&(H=_[z-1])}return H}function Ime(u,h,v,g,_,D,N){var z=Kj(u,h,g,N),H=z.begin,G=z.end;/\s/.test(h.text.charAt(G-1))&&G--;for(var ne=null,fe=null,Se=0;Se<_.length;Se++){var ye=_[Se];if(!(ye.from>=G||ye.to<=H)){var je=ye.level!=1,Ze=Hc(u,g,je?Math.min(G,ye.to)-1:Math.max(H,ye.from)).right,lt=Ze<D?D-Ze+1e9:Ze-D;(!ne||fe>lt)&&(ne=ye,fe=lt)}}return ne||(ne=_[_.length-1]),ne.from<H&&(ne={from:H,to:ne.to,level:ne.level}),ne.to>G&&(ne={from:ne.from,to:G,level:ne.level}),ne}var Ph;function Np(u){if(u.cachedTextHeight!=null)return u.cachedTextHeight;if(Ph==null){Ph=q("pre",null,"CodeMirror-line-like");for(var h=0;h<49;++h)Ph.appendChild(document.createTextNode("x")),Ph.appendChild(q("br"));Ph.appendChild(document.createTextNode("x"))}j(u.measure,Ph);var v=Ph.offsetHeight/50;return v>3&&(u.cachedTextHeight=v),R(u.measure),v||1}function Op(u){if(u.cachedCharWidth!=null)return u.cachedCharWidth;var h=q("span","xxxxxxxxxx"),v=q("pre",[h],"CodeMirror-line-like");j(u.measure,v);var g=h.getBoundingClientRect(),_=(g.right-g.left)/10;return _>2&&(u.cachedCharWidth=_),_||10}function tT(u){for(var h=u.display,v={},g={},_=h.gutters.clientLeft,D=h.gutters.firstChild,N=0;D;D=D.nextSibling,++N){var z=u.display.gutterSpecs[N].className;v[z]=D.offsetLeft+D.clientLeft+_,g[z]=D.clientWidth}return{fixedPos:rT(h),gutterTotalWidth:h.gutters.offsetWidth,gutterLeft:v,gutterWidth:g,wrapperWidth:h.wrapper.clientWidth}}function rT(u){return u.scroller.getBoundingClientRect().left-u.sizer.getBoundingClientRect().left}function Zj(u){var h=Np(u.display),v=u.options.lineWrapping,g=v&&Math.max(5,u.display.scroller.clientWidth/Op(u.display)-3);return function(_){if(Zd(u.doc,_))return 0;var D=0;if(_.widgets)for(var N=0;N<_.widgets.length;N++)_.widgets[N].height&&(D+=_.widgets[N].height);return v?D+(Math.ceil(_.text.length/g)||1)*h:D+h}}function nT(u){var h=u.doc,v=Zj(u);h.iter(function(g){var _=v(g);_!=g.height&&Dl(g,_)})}function Lh(u,h,v,g){var _=u.display;if(!v&&Yd(h).getAttribute("cm-not-content")=="true")return null;var D,N,z=_.lineSpace.getBoundingClientRect();try{D=h.clientX-z.left,N=h.clientY-z.top}catch{return null}var H=JA(u,D,N),G;if(g&&H.xRel>0&&(G=Ut(u.doc,H.line).text).length==H.ch){var ne=ke(G,G.length,u.options.tabSize)-G.length;H=nt(H.line,Math.max(0,Math.round((D-Bj(u.display).left)/Op(u.display))-ne))}return H}function Bh(u,h){if(h>=u.display.viewTo||(h-=u.display.viewFrom,h<0))return null;for(var v=u.display.view,g=0;g<v.length;g++)if(h-=v[g].size,h<0)return g}function Xs(u,h,v,g){h==null&&(h=u.doc.first),v==null&&(v=u.doc.first+u.doc.size),g||(g=0);var _=u.display;if(g&&v<_.viewTo&&(_.updateLineNumbers==null||_.updateLineNumbers>h)&&(_.updateLineNumbers=h),u.curOp.viewChanged=!0,h>=_.viewTo)Wu&&qA(u.doc,h)<_.viewTo&&Jd(u);else if(v<=_.viewFrom)Wu&&Aj(u.doc,v+g)>_.viewFrom?Jd(u):(_.viewFrom+=g,_.viewTo+=g);else if(h<=_.viewFrom&&v>=_.viewTo)Jd(u);else if(h<=_.viewFrom){var D=ow(u,v,v+g,1);D?(_.view=_.view.slice(D.index),_.viewFrom=D.lineN,_.viewTo+=g):Jd(u)}else if(v>=_.viewTo){var N=ow(u,h,h,-1);N?(_.view=_.view.slice(0,N.index),_.viewTo=N.lineN):Jd(u)}else{var z=ow(u,h,h,-1),H=ow(u,v,v+g,1);z&&H?(_.view=_.view.slice(0,z.index).concat(tw(u,z.lineN,H.lineN)).concat(_.view.slice(H.index)),_.viewTo+=g):Jd(u)}var G=_.externalMeasured;G&&(v<G.lineN?G.lineN+=g:h<G.lineN+G.size&&(_.externalMeasured=null))}function Qd(u,h,v){u.curOp.viewChanged=!0;var g=u.display,_=u.display.externalMeasured;if(_&&h>=_.lineN&&h<_.lineN+_.size&&(g.externalMeasured=null),!(h<g.viewFrom||h>=g.viewTo)){var D=g.view[Bh(u,h)];if(D.node!=null){var N=D.changes||(D.changes=[]);ee(N,v)==-1&&N.push(v)}}}function Jd(u){u.display.viewFrom=u.display.viewTo=u.doc.first,u.display.view=[],u.display.viewOffset=0}function ow(u,h,v,g){var _=Bh(u,h),D,N=u.display.view;if(!Wu||v==u.doc.first+u.doc.size)return{index:_,lineN:v};for(var z=u.display.viewFrom,H=0;H<_;H++)z+=N[H].size;if(z!=h){if(g>0){if(_==N.length-1)return null;D=z+N[_].size-h,_++}else D=z-h;h+=D,v+=D}for(;qA(u.doc,v)!=v;){if(_==(g<0?0:N.length-1))return null;v+=g*N[_-(g<0?1:0)].size,_+=g}return{index:_,lineN:v}}function kme(u,h,v){var g=u.display,_=g.view;_.length==0||h>=g.viewTo||v<=g.viewFrom?(g.view=tw(u,h,v),g.viewFrom=h):(g.viewFrom>h?g.view=tw(u,h,g.viewFrom).concat(g.view):g.viewFrom<h&&(g.view=g.view.slice(Bh(u,h))),g.viewFrom=h,g.viewTo<v?g.view=g.view.concat(tw(u,g.viewTo,v)):g.viewTo>v&&(g.view=g.view.slice(0,Bh(u,v)))),g.viewTo=v}function Qj(u){for(var h=u.display.view,v=0,g=0;g<h.length;g++){var _=h[g];!_.hidden&&(!_.node||_.changes)&&++v}return v}function G0(u){u.display.input.showSelection(u.display.input.prepareSelection())}function Jj(u,h){h===void 0&&(h=!0);var v=u.doc,g={},_=g.cursors=document.createDocumentFragment(),D=g.selection=document.createDocumentFragment(),N=u.options.$customCursor;N&&(h=!0);for(var z=0;z<v.sel.ranges.length;z++)if(!(!h&&z==v.sel.primIndex)){var H=v.sel.ranges[z];if(!(H.from().line>=u.display.viewTo||H.to().line<u.display.viewFrom)){var G=H.empty();if(N){var ne=N(u,H);ne&&iT(u,ne,_)}else(G||u.options.showCursorWhenSelecting)&&iT(u,H.head,_);G||Nme(u,H,D)}}return g}function iT(u,h,v){var g=ic(u,h,"div",null,null,!u.options.singleCursorHeightPerLine),_=v.appendChild(q("div","\xA0","CodeMirror-cursor"));if(_.style.left=g.left+"px",_.style.top=g.top+"px",_.style.height=Math.max(0,g.bottom-g.top)*u.options.cursorHeight+"px",/\bcm-fat-cursor\b/.test(u.getWrapperElement().className)){var D=iw(u,h,"div",null,null),N=D.right-D.left;_.style.width=(N>0?N:u.defaultCharWidth())+"px"}if(g.other){var z=v.appendChild(q("div","\xA0","CodeMirror-cursor CodeMirror-secondarycursor"));z.style.display="",z.style.left=g.other.left+"px",z.style.top=g.other.top+"px",z.style.height=(g.other.bottom-g.other.top)*.85+"px"}}function sw(u,h){return u.top-h.top||u.left-h.left}function Nme(u,h,v){var g=u.display,_=u.doc,D=document.createDocumentFragment(),N=Bj(u.display),z=N.left,H=Math.max(g.sizerWidth,Rh(u)-g.sizer.offsetLeft)-N.right,G=_.direction=="ltr";function ne(vt,At,Qt,Kt){At<0&&(At=0),At=Math.round(At),Kt=Math.round(Kt),D.appendChild(q("div",null,"CodeMirror-selected","position: absolute; left: "+vt+`px;
                             top: `+At+"px; width: "+(Qt??H-vt)+`px;
                             height: `+(Kt-At)+"px"))}function fe(vt,At,Qt){var Kt=Ut(_,vt),zr=Kt.text.length,Hn,Co;function wi(Xi,Js){return iw(u,nt(vt,Xi),"div",Kt,Js)}function _a(Xi,Js,Vo){var lo=Xj(u,Kt,null,Xi),Zi=Js=="ltr"==(Vo=="after")?"left":"right",Pi=Vo=="after"?lo.begin:lo.end-(/\s/.test(Kt.text.charAt(lo.end-1))?2:1);return wi(Pi,Zi)[Zi]}var Qs=Qe(Kt,_.direction);return ue(Qs,At||0,Qt??zr,function(Xi,Js,Vo,lo){var Zi=Vo=="ltr",Pi=wi(Xi,Zi?"left":"right"),ea=wi(Js-1,Zi?"right":"left"),$p=At==null&&Xi==0,sf=Qt==null&&Js==zr,is=lo==0,Uc=!Qs||lo==Qs.length-1;if(ea.top-Pi.top<=3){var So=(G?$p:sf)&&is,IT=(G?sf:$p)&&Uc,Xu=So?z:(Zi?Pi:ea).left,Uh=IT?H:(Zi?ea:Pi).right;ne(Xu,Pi.top,Uh-Xu,Pi.bottom)}else{var qh,xs,Gp,kT;Zi?(qh=G&&$p&&is?z:Pi.left,xs=G?H:_a(Xi,Vo,"before"),Gp=G?z:_a(Js,Vo,"after"),kT=G&&sf&&Uc?H:ea.right):(qh=G?_a(Xi,Vo,"before"):z,xs=!G&&$p&&is?H:Pi.right,Gp=!G&&sf&&Uc?z:ea.left,kT=G?_a(Js,Vo,"after"):H),ne(qh,Pi.top,xs-qh,Pi.bottom),Pi.bottom<ea.top&&ne(z,Pi.bottom,null,ea.top),ne(Gp,ea.top,kT-Gp,ea.bottom)}(!Hn||sw(Pi,Hn)<0)&&(Hn=Pi),sw(ea,Hn)<0&&(Hn=ea),(!Co||sw(Pi,Co)<0)&&(Co=Pi),sw(ea,Co)<0&&(Co=ea)}),{start:Hn,end:Co}}var Se=h.from(),ye=h.to();if(Se.line==ye.line)fe(Se.line,Se.ch,ye.ch);else{var je=Ut(_,Se.line),Ze=Ut(_,ye.line),lt=nc(je)==nc(Ze),gt=fe(Se.line,Se.ch,lt?je.text.length+1:null).end,St=fe(ye.line,lt?0:null,ye.ch).start;lt&&(gt.top<St.top-2?(ne(gt.right,gt.top,null,gt.bottom),ne(z,St.top,St.left,St.bottom)):ne(gt.right,gt.top,St.left-gt.right,gt.bottom)),gt.bottom<St.top&&ne(z,gt.bottom,null,St.top)}v.appendChild(D)}function oT(u){if(u.state.focused){var h=u.display;clearInterval(h.blinker);var v=!0;h.cursorDiv.style.visibility="",u.options.cursorBlinkRate>0?h.blinker=setInterval(function(){u.hasFocus()||Fp(u),h.cursorDiv.style.visibility=(v=!v)?"":"hidden"},u.options.cursorBlinkRate):u.options.cursorBlinkRate<0&&(h.cursorDiv.style.visibility="hidden")}}function eH(u){u.hasFocus()||(u.display.input.focus(),u.state.focused||aT(u))}function sT(u){u.state.delayingBlurEvent=!0,setTimeout(function(){u.state.delayingBlurEvent&&(u.state.delayingBlurEvent=!1,u.state.focused&&Fp(u))},100)}function aT(u,h){u.state.delayingBlurEvent&&!u.state.draggingText&&(u.state.delayingBlurEvent=!1),u.options.readOnly!="nocursor"&&(u.state.focused||(J(u,"focus",u,h),u.state.focused=!0,Z(u.display.wrapper,"CodeMirror-focused"),!u.curOp&&u.display.selForContextMenu!=u.doc.sel&&(u.display.input.reset(),l&&setTimeout(function(){return u.display.input.reset(!0)},20)),u.display.input.receivedFocus()),oT(u))}function Fp(u,h){u.state.delayingBlurEvent||(u.state.focused&&(J(u,"blur",u,h),u.state.focused=!1,O(u.display.wrapper,"CodeMirror-focused")),clearInterval(u.display.blinker),setTimeout(function(){u.state.focused||(u.display.shift=!1)},150))}function aw(u){for(var h=u.display,v=h.lineDiv.offsetTop,g=Math.max(0,h.scroller.getBoundingClientRect().top),_=h.lineDiv.getBoundingClientRect().top,D=0,N=0;N<h.view.length;N++){var z=h.view[N],H=u.options.lineWrapping,G=void 0,ne=0;if(!z.hidden){if(_+=z.line.height,s&&a<8){var fe=z.node.offsetTop+z.node.offsetHeight;G=fe-v,v=fe}else{var Se=z.node.getBoundingClientRect();G=Se.bottom-Se.top,!H&&z.text.firstChild&&(ne=z.text.firstChild.getBoundingClientRect().right-Se.left-1)}var ye=z.line.height-G;if((ye>.005||ye<-.005)&&(_<g&&(D-=ye),Dl(z.line,G),tH(z.line),z.rest))for(var je=0;je<z.rest.length;je++)tH(z.rest[je]);if(ne>u.display.sizerWidth){var Ze=Math.ceil(ne/Op(u.display));Ze>u.display.maxLineLength&&(u.display.maxLineLength=Ze,u.display.maxLine=z.line,u.display.maxLineChanged=!0)}}}Math.abs(D)>2&&(h.scroller.scrollTop+=D)}function tH(u){if(u.widgets)for(var h=0;h<u.widgets.length;++h){var v=u.widgets[h],g=v.node.parentNode;g&&(v.height=g.offsetHeight)}}function lw(u,h,v){var g=v&&v.top!=null?Math.max(0,v.top):u.scroller.scrollTop;g=Math.floor(g-rw(u));var _=v&&v.bottom!=null?v.bottom:g+u.wrapper.clientHeight,D=qa(h,g),N=qa(h,_);if(v&&v.ensure){var z=v.ensure.from.line,H=v.ensure.to.line;z<D?(D=z,N=qa(h,$u(Ut(h,z))+u.wrapper.clientHeight)):Math.min(H,h.lastLine())>=N&&(D=qa(h,$u(Ut(h,H))-u.wrapper.clientHeight),N=H)}return{from:D,to:Math.max(N,D+1)}}function Ome(u,h){if(!_e(u,"scrollCursorIntoView")){var v=u.display,g=v.sizer.getBoundingClientRect(),_=null,D=v.wrapper.ownerDocument;if(h.top+g.top<0?_=!0:h.bottom+g.top>(D.defaultView.innerHeight||D.documentElement.clientHeight)&&(_=!1),_!=null&&!y){var N=q("div","\u200B",null,`position: absolute;
                         top: `+(h.top-v.viewOffset-rw(u.display))+`px;
                         height: `+(h.bottom-h.top+jc(u)+v.barHeight)+`px;
                         left: `+h.left+"px; width: "+Math.max(2,h.right-h.left)+"px;");u.display.lineSpace.appendChild(N),N.scrollIntoView(_),u.display.lineSpace.removeChild(N)}}}function Fme(u,h,v,g){g==null&&(g=0);var _;!u.options.lineWrapping&&h==v&&(v=h.sticky=="before"?nt(h.line,h.ch+1,"before"):h,h=h.ch?nt(h.line,h.sticky=="before"?h.ch-1:h.ch,"after"):h);for(var D=0;D<5;D++){var N=!1,z=ic(u,h),H=!v||v==h?z:ic(u,v);_={left:Math.min(z.left,H.left),top:Math.min(z.top,H.top)-g,right:Math.max(z.left,H.left),bottom:Math.max(z.bottom,H.bottom)+g};var G=lT(u,_),ne=u.doc.scrollTop,fe=u.doc.scrollLeft;if(G.scrollTop!=null&&(K0(u,G.scrollTop),Math.abs(u.doc.scrollTop-ne)>1&&(N=!0)),G.scrollLeft!=null&&(Vh(u,G.scrollLeft),Math.abs(u.doc.scrollLeft-fe)>1&&(N=!0)),!N)break}return _}function Rme(u,h){var v=lT(u,h);v.scrollTop!=null&&K0(u,v.scrollTop),v.scrollLeft!=null&&Vh(u,v.scrollLeft)}function lT(u,h){var v=u.display,g=Np(u.display);h.top<0&&(h.top=0);var _=u.curOp&&u.curOp.scrollTop!=null?u.curOp.scrollTop:v.scroller.scrollTop,D=KA(u),N={};h.bottom-h.top>D&&(h.bottom=h.top+D);var z=u.doc.height+YA(v),H=h.top<g,G=h.bottom>z-g;if(h.top<_)N.scrollTop=H?0:h.top;else if(h.bottom>_+D){var ne=Math.min(h.top,(G?z:h.bottom)-D);ne!=_&&(N.scrollTop=ne)}var fe=u.options.fixedGutter?0:v.gutters.offsetWidth,Se=u.curOp&&u.curOp.scrollLeft!=null?u.curOp.scrollLeft:v.scroller.scrollLeft-fe,ye=Rh(u)-v.gutters.offsetWidth,je=h.right-h.left>ye;return je&&(h.right=h.left+ye),h.left<10?N.scrollLeft=0:h.left<Se?N.scrollLeft=Math.max(0,h.left+fe-(je?0:10)):h.right>ye+Se-3&&(N.scrollLeft=h.right+(je?0:10)-ye),N}function cT(u,h){h!=null&&(cw(u),u.curOp.scrollTop=(u.curOp.scrollTop==null?u.doc.scrollTop:u.curOp.scrollTop)+h)}function Rp(u){cw(u);var h=u.getCursor();u.curOp.scrollToPos={from:h,to:h,margin:u.options.cursorScrollMargin}}function Y0(u,h,v){(h!=null||v!=null)&&cw(u),h!=null&&(u.curOp.scrollLeft=h),v!=null&&(u.curOp.scrollTop=v)}function Pme(u,h){cw(u),u.curOp.scrollToPos=h}function cw(u){var h=u.curOp.scrollToPos;if(h){u.curOp.scrollToPos=null;var v=Yj(u,h.from),g=Yj(u,h.to);rH(u,v,g,h.margin)}}function rH(u,h,v,g){var _=lT(u,{left:Math.min(h.left,v.left),top:Math.min(h.top,v.top)-g,right:Math.max(h.right,v.right),bottom:Math.max(h.bottom,v.bottom)+g});Y0(u,_.scrollLeft,_.scrollTop)}function K0(u,h){Math.abs(u.doc.scrollTop-h)<2||(e||dT(u,{top:h}),nH(u,h,!0),e&&dT(u),Q0(u,100))}function nH(u,h,v){h=Math.max(0,Math.min(u.display.scroller.scrollHeight-u.display.scroller.clientHeight,h)),!(u.display.scroller.scrollTop==h&&!v)&&(u.doc.scrollTop=h,u.display.scrollbars.setScrollTop(h),u.display.scroller.scrollTop!=h&&(u.display.scroller.scrollTop=h))}function Vh(u,h,v,g){h=Math.max(0,Math.min(h,u.display.scroller.scrollWidth-u.display.scroller.clientWidth)),!((v?h==u.doc.scrollLeft:Math.abs(u.doc.scrollLeft-h)<2)&&!g)&&(u.doc.scrollLeft=h,lH(u),u.display.scroller.scrollLeft!=h&&(u.display.scroller.scrollLeft=h),u.display.scrollbars.setScrollLeft(h))}function X0(u){var h=u.display,v=h.gutters.offsetWidth,g=Math.round(u.doc.height+YA(u.display));return{clientHeight:h.scroller.clientHeight,viewHeight:h.wrapper.clientHeight,scrollWidth:h.scroller.scrollWidth,clientWidth:h.scroller.clientWidth,viewWidth:h.wrapper.clientWidth,barLeft:u.options.fixedGutter?v:0,docHeight:g,scrollHeight:g+jc(u)+h.barHeight,nativeBarWidth:h.nativeBarWidth,gutterWidth:v}}var zh=function(u,h,v){this.cm=v;var g=this.vert=q("div",[q("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),_=this.horiz=q("div",[q("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");g.tabIndex=_.tabIndex=-1,u(g),u(_),Le(g,"scroll",function(){g.clientHeight&&h(g.scrollTop,"vertical")}),Le(_,"scroll",function(){_.clientWidth&&h(_.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,s&&a<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};zh.prototype.update=function(u){var h=u.scrollWidth>u.clientWidth+1,v=u.scrollHeight>u.clientHeight+1,g=u.nativeBarWidth;if(v){this.vert.style.display="block",this.vert.style.bottom=h?g+"px":"0";var _=u.viewHeight-(h?g:0);this.vert.firstChild.style.height=Math.max(0,u.scrollHeight-u.clientHeight+_)+"px"}else this.vert.scrollTop=0,this.vert.style.display="",this.vert.firstChild.style.height="0";if(h){this.horiz.style.display="block",this.horiz.style.right=v?g+"px":"0",this.horiz.style.left=u.barLeft+"px";var D=u.viewWidth-u.barLeft-(v?g:0);this.horiz.firstChild.style.width=Math.max(0,u.scrollWidth-u.clientWidth+D)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&u.clientHeight>0&&(g==0&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:v?g:0,bottom:h?g:0}},zh.prototype.setScrollLeft=function(u){this.horiz.scrollLeft!=u&&(this.horiz.scrollLeft=u),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},zh.prototype.setScrollTop=function(u){this.vert.scrollTop!=u&&(this.vert.scrollTop=u),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},zh.prototype.zeroWidthHack=function(){var u=x&&!b?"12px":"18px";this.horiz.style.height=this.vert.style.width=u,this.horiz.style.visibility=this.vert.style.visibility="hidden",this.disableHoriz=new be,this.disableVert=new be},zh.prototype.enableZeroWidthBar=function(u,h,v){u.style.visibility="";function g(){var _=u.getBoundingClientRect(),D=v=="vert"?document.elementFromPoint(_.right-1,(_.top+_.bottom)/2):document.elementFromPoint((_.right+_.left)/2,_.bottom-1);D!=u?u.style.visibility="hidden":h.set(1e3,g)}h.set(1e3,g)},zh.prototype.clear=function(){var u=this.horiz.parentNode;u.removeChild(this.horiz),u.removeChild(this.vert)};var Z0=function(){};Z0.prototype.update=function(){return{bottom:0,right:0}},Z0.prototype.setScrollLeft=function(){},Z0.prototype.setScrollTop=function(){},Z0.prototype.clear=function(){};function Pp(u,h){h||(h=X0(u));var v=u.display.barWidth,g=u.display.barHeight;iH(u,h);for(var _=0;_<4&&v!=u.display.barWidth||g!=u.display.barHeight;_++)v!=u.display.barWidth&&u.options.lineWrapping&&aw(u),iH(u,X0(u)),v=u.display.barWidth,g=u.display.barHeight}function iH(u,h){var v=u.display,g=v.scrollbars.update(h);v.sizer.style.paddingRight=(v.barWidth=g.right)+"px",v.sizer.style.paddingBottom=(v.barHeight=g.bottom)+"px",v.heightForcer.style.borderBottom=g.bottom+"px solid transparent",g.right&&g.bottom?(v.scrollbarFiller.style.display="block",v.scrollbarFiller.style.height=g.bottom+"px",v.scrollbarFiller.style.width=g.right+"px"):v.scrollbarFiller.style.display="",g.bottom&&u.options.coverGutterNextToScrollbar&&u.options.fixedGutter?(v.gutterFiller.style.display="block",v.gutterFiller.style.height=g.bottom+"px",v.gutterFiller.style.width=h.gutterWidth+"px"):v.gutterFiller.style.display=""}var oH={native:zh,null:Z0};function sH(u){u.display.scrollbars&&(u.display.scrollbars.clear(),u.display.scrollbars.addClass&&O(u.display.wrapper,u.display.scrollbars.addClass)),u.display.scrollbars=new oH[u.options.scrollbarStyle](function(h){u.display.wrapper.insertBefore(h,u.display.scrollbarFiller),Le(h,"mousedown",function(){u.state.focused&&setTimeout(function(){return u.display.input.focus()},0)}),h.setAttribute("cm-not-content","true")},function(h,v){v=="horizontal"?Vh(u,h):K0(u,h)},u),u.display.scrollbars.addClass&&Z(u.display.wrapper,u.display.scrollbars.addClass)}var Lme=0;function jh(u){u.curOp={cm:u,viewChanged:!1,startHeight:u.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++Lme,markArrays:null},mme(u.curOp)}function Hh(u){var h=u.curOp;h&&gme(h,function(v){for(var g=0;g<v.ops.length;g++)v.ops[g].cm.curOp=null;Bme(v)})}function Bme(u){for(var h=u.ops,v=0;v<h.length;v++)Vme(h[v]);for(var g=0;g<h.length;g++)zme(h[g]);for(var _=0;_<h.length;_++)jme(h[_]);for(var D=0;D<h.length;D++)Hme(h[D]);for(var N=0;N<h.length;N++)Ume(h[N])}function Vme(u){var h=u.cm,v=h.display;Wme(h),u.updateMaxLine&&$A(h),u.mustUpdate=u.viewChanged||u.forceUpdate||u.scrollTop!=null||u.scrollToPos&&(u.scrollToPos.from.line<v.viewFrom||u.scrollToPos.to.line>=v.viewTo)||v.maxLineChanged&&h.options.lineWrapping,u.update=u.mustUpdate&&new uw(h,u.mustUpdate&&{top:u.scrollTop,ensure:u.scrollToPos},u.forceUpdate)}function zme(u){u.updatedDisplay=u.mustUpdate&&uT(u.cm,u.update)}function jme(u){var h=u.cm,v=h.display;u.updatedDisplay&&aw(h),u.barMeasure=X0(h),v.maxLineChanged&&!h.options.lineWrapping&&(u.adjustWidthTo=zj(h,v.maxLine,v.maxLine.text.length).left+3,h.display.sizerWidth=u.adjustWidthTo,u.barMeasure.scrollWidth=Math.max(v.scroller.clientWidth,v.sizer.offsetLeft+u.adjustWidthTo+jc(h)+h.display.barWidth),u.maxScrollLeft=Math.max(0,v.sizer.offsetLeft+u.adjustWidthTo-Rh(h))),(u.updatedDisplay||u.selectionChanged)&&(u.preparedSelection=v.input.prepareSelection())}function Hme(u){var h=u.cm;u.adjustWidthTo!=null&&(h.display.sizer.style.minWidth=u.adjustWidthTo+"px",u.maxScrollLeft<h.doc.scrollLeft&&Vh(h,Math.min(h.display.scroller.scrollLeft,u.maxScrollLeft),!0),h.display.maxLineChanged=!1);var v=u.focus&&u.focus==L(me(h));u.preparedSelection&&h.display.input.showSelection(u.preparedSelection,v),(u.updatedDisplay||u.startHeight!=h.doc.height)&&Pp(h,u.barMeasure),u.updatedDisplay&&hT(h,u.barMeasure),u.selectionChanged&&oT(h),h.state.focused&&u.updateInput&&h.display.input.reset(u.typing),v&&eH(u.cm)}function Ume(u){var h=u.cm,v=h.display,g=h.doc;if(u.updatedDisplay&&aH(h,u.update),v.wheelStartX!=null&&(u.scrollTop!=null||u.scrollLeft!=null||u.scrollToPos)&&(v.wheelStartX=v.wheelStartY=null),u.scrollTop!=null&&nH(h,u.scrollTop,u.forceScroll),u.scrollLeft!=null&&Vh(h,u.scrollLeft,!0,!0),u.scrollToPos){var _=Fme(h,Er(g,u.scrollToPos.from),Er(g,u.scrollToPos.to),u.scrollToPos.margin);Ome(h,_)}var D=u.maybeHiddenMarkers,N=u.maybeUnhiddenMarkers;if(D)for(var z=0;z<D.length;++z)D[z].lines.length||J(D[z],"hide");if(N)for(var H=0;H<N.length;++H)N[H].lines.length&&J(N[H],"unhide");v.wrapper.offsetHeight&&(g.scrollTop=h.display.scroller.scrollTop),u.changeObjs&&J(h,"changes",h,u.changeObjs),u.update&&u.update.finish()}function ya(u,h){if(u.curOp)return h();jh(u);try{return h()}finally{Hh(u)}}function xo(u,h){return function(){if(u.curOp)return h.apply(u,arguments);jh(u);try{return h.apply(u,arguments)}finally{Hh(u)}}}function _s(u){return function(){if(this.curOp)return u.apply(this,arguments);jh(this);try{return u.apply(this,arguments)}finally{Hh(this)}}}function wo(u){return function(){var h=this.cm;if(!h||h.curOp)return u.apply(this,arguments);jh(h);try{return u.apply(this,arguments)}finally{Hh(h)}}}function Q0(u,h){u.doc.highlightFrontier<u.display.viewTo&&u.state.highlight.set(h,Q(qme,u))}function qme(u){var h=u.doc;if(!(h.highlightFrontier>=u.display.viewTo)){var v=+new Date+u.options.workTime,g=j0(u,h.highlightFrontier),_=[];h.iter(g.line,Math.min(h.first+h.size,u.display.viewTo+500),function(D){if(g.line>=u.display.viewFrom){var N=D.styles,z=D.text.length>u.options.maxHighlightLength?Hu(h.mode,g.state):null,H=mj(u,D,g,!0);z&&(g.state=z),D.styles=H.styles;var G=D.styleClasses,ne=H.classes;ne?D.styleClasses=ne:G&&(D.styleClasses=null);for(var fe=!N||N.length!=D.styles.length||G!=ne&&(!G||!ne||G.bgClass!=ne.bgClass||G.textClass!=ne.textClass),Se=0;!fe&&Se<N.length;++Se)fe=N[Se]!=D.styles[Se];fe&&_.push(g.line),D.stateAfter=g.save(),g.nextLine()}else D.text.length<=u.options.maxHighlightLength&&zA(u,D.text,g),D.stateAfter=g.line%5==0?g.save():null,g.nextLine();if(+new Date>v)return Q0(u,u.options.workDelay),!0}),h.highlightFrontier=g.line,h.modeFrontier=Math.max(h.modeFrontier,g.line),_.length&&ya(u,function(){for(var D=0;D<_.length;D++)Qd(u,_[D],"text")})}}var uw=function(u,h,v){var g=u.display;this.viewport=h,this.visible=lw(g,u.doc,h),this.editorIsHidden=!g.wrapper.offsetWidth,this.wrapperHeight=g.wrapper.clientHeight,this.wrapperWidth=g.wrapper.clientWidth,this.oldDisplayWidth=Rh(u),this.force=v,this.dims=tT(u),this.events=[]};uw.prototype.signal=function(u,h){Ct(u,h)&&this.events.push(arguments)},uw.prototype.finish=function(){for(var u=0;u<this.events.length;u++)J.apply(null,this.events[u])};function Wme(u){var h=u.display;!h.scrollbarsClipped&&h.scroller.offsetWidth&&(h.nativeBarWidth=h.scroller.offsetWidth-h.scroller.clientWidth,h.heightForcer.style.height=jc(u)+"px",h.sizer.style.marginBottom=-h.nativeBarWidth+"px",h.sizer.style.borderRightWidth=jc(u)+"px",h.scrollbarsClipped=!0)}function $me(u){if(u.hasFocus())return null;var h=L(me(u));if(!h||!P(u.display.lineDiv,h))return null;var v={activeElt:h};if(window.getSelection){var g=se(u).getSelection();g.anchorNode&&g.extend&&P(u.display.lineDiv,g.anchorNode)&&(v.anchorNode=g.anchorNode,v.anchorOffset=g.anchorOffset,v.focusNode=g.focusNode,v.focusOffset=g.focusOffset)}return v}function Gme(u){if(!(!u||!u.activeElt||u.activeElt==L(u.activeElt.ownerDocument))&&(u.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(u.activeElt.nodeName)&&u.anchorNode&&P(document.body,u.anchorNode)&&P(document.body,u.focusNode))){var h=u.activeElt.ownerDocument,v=h.defaultView.getSelection(),g=h.createRange();g.setEnd(u.anchorNode,u.anchorOffset),g.collapse(!1),v.removeAllRanges(),v.addRange(g),v.extend(u.focusNode,u.focusOffset)}}function uT(u,h){var v=u.display,g=u.doc;if(h.editorIsHidden)return Jd(u),!1;if(!h.force&&h.visible.from>=v.viewFrom&&h.visible.to<=v.viewTo&&(v.updateLineNumbers==null||v.updateLineNumbers>=v.viewTo)&&v.renderedView==v.view&&Qj(u)==0)return!1;cH(u)&&(Jd(u),h.dims=tT(u));var _=g.first+g.size,D=Math.max(h.visible.from-u.options.viewportMargin,g.first),N=Math.min(_,h.visible.to+u.options.viewportMargin);v.viewFrom<D&&D-v.viewFrom<20&&(D=Math.max(g.first,v.viewFrom)),v.viewTo>N&&v.viewTo-N<20&&(N=Math.min(_,v.viewTo)),Wu&&(D=qA(u.doc,D),N=Aj(u.doc,N));var z=D!=v.viewFrom||N!=v.viewTo||v.lastWrapHeight!=h.wrapperHeight||v.lastWrapWidth!=h.wrapperWidth;kme(u,D,N),v.viewOffset=$u(Ut(u.doc,v.viewFrom)),u.display.mover.style.top=v.viewOffset+"px";var H=Qj(u);if(!z&&H==0&&!h.force&&v.renderedView==v.view&&(v.updateLineNumbers==null||v.updateLineNumbers>=v.viewTo))return!1;var G=$me(u);return H>4&&(v.lineDiv.style.display="none"),Yme(u,v.updateLineNumbers,h.dims),H>4&&(v.lineDiv.style.display=""),v.renderedView=v.view,Gme(G),R(v.cursorDiv),R(v.selectionDiv),v.gutters.style.height=v.sizer.style.minHeight=0,z&&(v.lastWrapHeight=h.wrapperHeight,v.lastWrapWidth=h.wrapperWidth,Q0(u,400)),v.updateLineNumbers=null,!0}function aH(u,h){for(var v=h.viewport,g=!0;;g=!1){if(!g||!u.options.lineWrapping||h.oldDisplayWidth==Rh(u)){if(v&&v.top!=null&&(v={top:Math.min(u.doc.height+YA(u.display)-KA(u),v.top)}),h.visible=lw(u.display,u.doc,v),h.visible.from>=u.display.viewFrom&&h.visible.to<=u.display.viewTo)break}else g&&(h.visible=lw(u.display,u.doc,v));if(!uT(u,h))break;aw(u);var _=X0(u);G0(u),Pp(u,_),hT(u,_),h.force=!1}h.signal(u,"update",u),(u.display.viewFrom!=u.display.reportedViewFrom||u.display.viewTo!=u.display.reportedViewTo)&&(h.signal(u,"viewportChange",u,u.display.viewFrom,u.display.viewTo),u.display.reportedViewFrom=u.display.viewFrom,u.display.reportedViewTo=u.display.viewTo)}function dT(u,h){var v=new uw(u,h);if(uT(u,v)){aw(u),aH(u,v);var g=X0(u);G0(u),Pp(u,g),hT(u,g),v.finish()}}function Yme(u,h,v){var g=u.display,_=u.options.lineNumbers,D=g.lineDiv,N=D.firstChild;function z(je){var Ze=je.nextSibling;return l&&x&&u.display.currentWheelTarget==je?je.style.display="none":je.parentNode.removeChild(je),Ze}for(var H=g.view,G=g.viewFrom,ne=0;ne<H.length;ne++){var fe=H[ne];if(!fe.hidden)if(!fe.node||fe.node.parentNode!=D){var Se=xme(u,fe,G,v);D.insertBefore(Se,N)}else{for(;N!=fe.node;)N=z(N);var ye=_&&h!=null&&h<=G&&fe.lineNumber;fe.changes&&(ee(fe.changes,"gutter")>-1&&(ye=!1),Oj(u,fe,G,v)),ye&&(R(fe.lineNumber),fe.lineNumber.appendChild(document.createTextNode(Bo(u.options,G)))),N=fe.node.nextSibling}G+=fe.size}for(;N;)N=z(N)}function fT(u){var h=u.gutters.offsetWidth;u.sizer.style.marginLeft=h+"px",_o(u,"gutterChanged",u)}function hT(u,h){u.display.sizer.style.minHeight=h.docHeight+"px",u.display.heightForcer.style.top=h.docHeight+"px",u.display.gutters.style.height=h.docHeight+u.display.barHeight+jc(u)+"px"}function lH(u){var h=u.display,v=h.view;if(!(!h.alignWidgets&&(!h.gutters.firstChild||!u.options.fixedGutter))){for(var g=rT(h)-h.scroller.scrollLeft+u.doc.scrollLeft,_=h.gutters.offsetWidth,D=g+"px",N=0;N<v.length;N++)if(!v[N].hidden){u.options.fixedGutter&&(v[N].gutter&&(v[N].gutter.style.left=D),v[N].gutterBackground&&(v[N].gutterBackground.style.left=D));var z=v[N].alignable;if(z)for(var H=0;H<z.length;H++)z[H].style.left=D}u.options.fixedGutter&&(h.gutters.style.left=g+_+"px")}}function cH(u){if(!u.options.lineNumbers)return!1;var h=u.doc,v=Bo(u.options,h.first+h.size-1),g=u.display;if(v.length!=g.lineNumChars){var _=g.measure.appendChild(q("div",[q("div",v)],"CodeMirror-linenumber CodeMirror-gutter-elt")),D=_.firstChild.offsetWidth,N=_.offsetWidth-D;return g.lineGutter.style.width="",g.lineNumInnerWidth=Math.max(D,g.lineGutter.offsetWidth-N)+1,g.lineNumWidth=g.lineNumInnerWidth+N,g.lineNumChars=g.lineNumInnerWidth?v.length:-1,g.lineGutter.style.width=g.lineNumWidth+"px",fT(u.display),!0}return!1}function mT(u,h){for(var v=[],g=!1,_=0;_<u.length;_++){var D=u[_],N=null;if(typeof D!="string"&&(N=D.style,D=D.className),D=="CodeMirror-linenumbers")if(h)g=!0;else continue;v.push({className:D,style:N})}return h&&!g&&v.push({className:"CodeMirror-linenumbers",style:null}),v}function uH(u){var h=u.gutters,v=u.gutterSpecs;R(h),u.lineGutter=null;for(var g=0;g<v.length;++g){var _=v[g],D=_.className,N=_.style,z=h.appendChild(q("div",null,"CodeMirror-gutter "+D));N&&(z.style.cssText=N),D=="CodeMirror-linenumbers"&&(u.lineGutter=z,z.style.width=(u.lineNumWidth||1)+"px")}h.style.display=v.length?"":"none",fT(u)}function J0(u){uH(u.display),Xs(u),lH(u)}function Kme(u,h,v,g){var _=this;this.input=v,_.scrollbarFiller=q("div",null,"CodeMirror-scrollbar-filler"),_.scrollbarFiller.setAttribute("cm-not-content","true"),_.gutterFiller=q("div",null,"CodeMirror-gutter-filler"),_.gutterFiller.setAttribute("cm-not-content","true"),_.lineDiv=X("div",null,"CodeMirror-code"),_.selectionDiv=q("div",null,null,"position: relative; z-index: 1"),_.cursorDiv=q("div",null,"CodeMirror-cursors"),_.measure=q("div",null,"CodeMirror-measure"),_.lineMeasure=q("div",null,"CodeMirror-measure"),_.lineSpace=X("div",[_.measure,_.lineMeasure,_.selectionDiv,_.cursorDiv,_.lineDiv],null,"position: relative; outline: none");var D=X("div",[_.lineSpace],"CodeMirror-lines");_.mover=q("div",[D],null,"position: relative"),_.sizer=q("div",[_.mover],"CodeMirror-sizer"),_.sizerWidth=null,_.heightForcer=q("div",null,null,"position: absolute; height: "+ae+"px; width: 1px;"),_.gutters=q("div",null,"CodeMirror-gutters"),_.lineGutter=null,_.scroller=q("div",[_.sizer,_.heightForcer,_.gutters],"CodeMirror-scroll"),_.scroller.setAttribute("tabIndex","-1"),_.wrapper=q("div",[_.scrollbarFiller,_.gutterFiller,_.scroller],"CodeMirror"),_.wrapper.setAttribute("translate","no"),s&&a<8&&(_.gutters.style.zIndex=-1,_.scroller.style.paddingRight=0),!l&&!(e&&A)&&(_.scroller.draggable=!0),u&&(u.appendChild?u.appendChild(_.wrapper):u(_.wrapper)),_.viewFrom=_.viewTo=h.first,_.reportedViewFrom=_.reportedViewTo=h.first,_.view=[],_.renderedView=null,_.externalMeasured=null,_.viewOffset=0,_.lastWrapHeight=_.lastWrapWidth=0,_.updateLineNumbers=null,_.nativeBarWidth=_.barHeight=_.barWidth=0,_.scrollbarsClipped=!1,_.lineNumWidth=_.lineNumInnerWidth=_.lineNumChars=null,_.alignWidgets=!1,_.cachedCharWidth=_.cachedTextHeight=_.cachedPaddingH=null,_.maxLine=null,_.maxLineLength=0,_.maxLineChanged=!1,_.wheelDX=_.wheelDY=_.wheelStartX=_.wheelStartY=null,_.shift=!1,_.selForContextMenu=null,_.activeTouch=null,_.gutterSpecs=mT(g.gutters,g.lineNumbers),uH(_),v.init(_)}var dw=0,Yu=null;s?Yu=-.53:e?Yu=15:d?Yu=-.7:p&&(Yu=-1/3);function dH(u){var h=u.wheelDeltaX,v=u.wheelDeltaY;return h==null&&u.detail&&u.axis==u.HORIZONTAL_AXIS&&(h=u.detail),v==null&&u.detail&&u.axis==u.VERTICAL_AXIS?v=u.detail:v==null&&(v=u.wheelDelta),{x:h,y:v}}function Xme(u){var h=dH(u);return h.x*=Yu,h.y*=Yu,h}function fH(u,h){d&&f==102&&(u.display.chromeScrollHack==null?u.display.sizer.style.pointerEvents="none":clearTimeout(u.display.chromeScrollHack),u.display.chromeScrollHack=setTimeout(function(){u.display.chromeScrollHack=null,u.display.sizer.style.pointerEvents=""},100));var v=dH(h),g=v.x,_=v.y,D=Yu;h.deltaMode===0&&(g=h.deltaX,_=h.deltaY,D=1);var N=u.display,z=N.scroller,H=z.scrollWidth>z.clientWidth,G=z.scrollHeight>z.clientHeight;if(g&&H||_&&G){if(_&&x&&l){e:for(var ne=h.target,fe=N.view;ne!=z;ne=ne.parentNode)for(var Se=0;Se<fe.length;Se++)if(fe[Se].node==ne){u.display.currentWheelTarget=ne;break e}}if(g&&!e&&!m&&D!=null){_&&G&&K0(u,Math.max(0,z.scrollTop+_*D)),Vh(u,Math.max(0,z.scrollLeft+g*D)),(!_||_&&G)&&Lr(h),N.wheelStartX=null;return}if(_&&D!=null){var ye=_*D,je=u.doc.scrollTop,Ze=je+N.wrapper.clientHeight;ye<0?je=Math.max(0,je+ye-50):Ze=Math.min(u.doc.height,Ze+ye+50),dT(u,{top:je,bottom:Ze})}dw<20&&h.deltaMode!==0&&(N.wheelStartX==null?(N.wheelStartX=z.scrollLeft,N.wheelStartY=z.scrollTop,N.wheelDX=g,N.wheelDY=_,setTimeout(function(){if(N.wheelStartX!=null){var lt=z.scrollLeft-N.wheelStartX,gt=z.scrollTop-N.wheelStartY,St=gt&&N.wheelDY&&gt/N.wheelDY||lt&&N.wheelDX&&lt/N.wheelDX;N.wheelStartX=N.wheelStartY=null,St&&(Yu=(Yu*dw+St)/(dw+1),++dw)}},200)):(N.wheelDX+=g,N.wheelDY+=_))}}var Wa=function(u,h){this.ranges=u,this.primIndex=h};Wa.prototype.primary=function(){return this.ranges[this.primIndex]},Wa.prototype.equals=function(u){if(u==this)return!0;if(u.primIndex!=this.primIndex||u.ranges.length!=this.ranges.length)return!1;for(var h=0;h<this.ranges.length;h++){var v=this.ranges[h],g=u.ranges[h];if(!qu(v.anchor,g.anchor)||!qu(v.head,g.head))return!1}return!0},Wa.prototype.deepCopy=function(){for(var u=[],h=0;h<this.ranges.length;h++)u[h]=new _n(z0(this.ranges[h].anchor),z0(this.ranges[h].head));return new Wa(u,this.primIndex)},Wa.prototype.somethingSelected=function(){for(var u=0;u<this.ranges.length;u++)if(!this.ranges[u].empty())return!0;return!1},Wa.prototype.contains=function(u,h){h||(h=u);for(var v=0;v<this.ranges.length;v++){var g=this.ranges[v];if(fr(h,g.from())>=0&&fr(u,g.to())<=0)return v}return-1};var _n=function(u,h){this.anchor=u,this.head=h};_n.prototype.from=function(){return Yx(this.anchor,this.head)},_n.prototype.to=function(){return Gx(this.anchor,this.head)},_n.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch};function oc(u,h,v){var g=u&&u.options.selectionsMayTouch,_=h[v];h.sort(function(Se,ye){return fr(Se.from(),ye.from())}),v=ee(h,_);for(var D=1;D<h.length;D++){var N=h[D],z=h[D-1],H=fr(z.to(),N.from());if(g&&!N.empty()?H>0:H>=0){var G=Yx(z.from(),N.from()),ne=Gx(z.to(),N.to()),fe=z.empty()?N.from()==N.head:z.from()==z.head;D<=v&&--v,h.splice(--D,2,new _n(fe?ne:G,fe?G:ne))}}return new Wa(h,v)}function ef(u,h){return new Wa([new _n(u,h||u)],0)}function tf(u){return u.text?nt(u.from.line+u.text.length-1,re(u.text).length+(u.text.length==1?u.from.ch:0)):u.to}function hH(u,h){if(fr(u,h.from)<0)return u;if(fr(u,h.to)<=0)return tf(h);var v=u.line+h.text.length-(h.to.line-h.from.line)-1,g=u.ch;return u.line==h.to.line&&(g+=tf(h).ch-h.to.ch),nt(v,g)}function pT(u,h){for(var v=[],g=0;g<u.sel.ranges.length;g++){var _=u.sel.ranges[g];v.push(new _n(hH(_.anchor,h),hH(_.head,h)))}return oc(u.cm,v,u.sel.primIndex)}function mH(u,h,v){return u.line==h.line?nt(v.line,u.ch-h.ch+v.ch):nt(v.line+(u.line-h.line),u.ch)}function Zme(u,h,v){for(var g=[],_=nt(u.first,0),D=_,N=0;N<h.length;N++){var z=h[N],H=mH(z.from,_,D),G=mH(tf(z),_,D);if(_=z.to,D=G,v=="around"){var ne=u.sel.ranges[N],fe=fr(ne.head,ne.anchor)<0;g[N]=new _n(fe?G:H,fe?H:G)}else g[N]=new _n(H,H)}return new Wa(g,u.sel.primIndex)}function gT(u){u.doc.mode=L0(u.options,u.doc.modeOption),eb(u)}function eb(u){u.doc.iter(function(h){h.stateAfter&&(h.stateAfter=null),h.styles&&(h.styles=null)}),u.doc.modeFrontier=u.doc.highlightFrontier=u.doc.first,Q0(u,100),u.state.modeGen++,u.curOp&&Xs(u)}function pH(u,h){return h.from.ch==0&&h.to.ch==0&&re(h.text)==""&&(!u.cm||u.cm.options.wholeLineUpdateBefore)}function vT(u,h,v,g){function _(St){return v?v[St]:null}function D(St,vt,At){ome(St,vt,At,g),_o(St,"change",St,h)}function N(St,vt){for(var At=[],Qt=St;Qt<vt;++Qt)At.push(new Tp(G[Qt],_(Qt),g));return At}var z=h.from,H=h.to,G=h.text,ne=Ut(u,z.line),fe=Ut(u,H.line),Se=re(G),ye=_(G.length-1),je=H.line-z.line;if(h.full)u.insert(0,N(0,G.length)),u.remove(G.length,u.size-G.length);else if(pH(u,h)){var Ze=N(0,G.length-1);D(fe,fe.text,ye),je&&u.remove(z.line,je),Ze.length&&u.insert(z.line,Ze)}else if(ne==fe)if(G.length==1)D(ne,ne.text.slice(0,z.ch)+Se+ne.text.slice(H.ch),ye);else{var lt=N(1,G.length-1);lt.push(new Tp(Se+ne.text.slice(H.ch),ye,g)),D(ne,ne.text.slice(0,z.ch)+G[0],_(0)),u.insert(z.line+1,lt)}else if(G.length==1)D(ne,ne.text.slice(0,z.ch)+G[0]+fe.text.slice(H.ch),_(0)),u.remove(z.line+1,je);else{D(ne,ne.text.slice(0,z.ch)+G[0],_(0)),D(fe,Se+fe.text.slice(H.ch),ye);var gt=N(1,G.length-1);je>1&&u.remove(z.line+1,je-1),u.insert(z.line+1,gt)}_o(u,"change",u,h)}function rf(u,h,v){function g(_,D,N){if(_.linked)for(var z=0;z<_.linked.length;++z){var H=_.linked[z];if(H.doc!=D){var G=N&&H.sharedHist;v&&!G||(h(H.doc,G),g(H.doc,_,G))}}}g(u,null,!0)}function gH(u,h){if(h.cm)throw new Error("This document is already in use.");u.doc=h,h.cm=u,nT(u),gT(u),vH(u),u.options.direction=h.direction,u.options.lineWrapping||$A(u),u.options.mode=h.modeOption,Xs(u)}function vH(u){(u.doc.direction=="rtl"?Z:O)(u.display.lineDiv,"CodeMirror-rtl")}function Qme(u){ya(u,function(){vH(u),Xs(u)})}function fw(u){this.done=[],this.undone=[],this.undoDepth=u?u.undoDepth:1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=u?u.maxGeneration:1}function bT(u,h){var v={from:z0(h.from),to:tf(h),text:Uu(u,h.from,h.to)};return _H(u,v,h.from.line,h.to.line+1),rf(u,function(g){return _H(g,v,h.from.line,h.to.line+1)},!0),v}function bH(u){for(;u.length;){var h=re(u);if(h.ranges)u.pop();else break}}function Jme(u,h){if(h)return bH(u.done),re(u.done);if(u.done.length&&!re(u.done).ranges)return re(u.done);if(u.done.length>1&&!u.done[u.done.length-2].ranges)return u.done.pop(),re(u.done)}function yH(u,h,v,g){var _=u.history;_.undone.length=0;var D=+new Date,N,z;if((_.lastOp==g||_.lastOrigin==h.origin&&h.origin&&(h.origin.charAt(0)=="+"&&_.lastModTime>D-(u.cm?u.cm.options.historyEventDelay:500)||h.origin.charAt(0)=="*"))&&(N=Jme(_,_.lastOp==g)))z=re(N.changes),fr(h.from,h.to)==0&&fr(h.from,z.to)==0?z.to=tf(h):N.changes.push(bT(u,h));else{var H=re(_.done);for((!H||!H.ranges)&&hw(u.sel,_.done),N={changes:[bT(u,h)],generation:_.generation},_.done.push(N);_.done.length>_.undoDepth;)_.done.shift(),_.done[0].ranges||_.done.shift()}_.done.push(v),_.generation=++_.maxGeneration,_.lastModTime=_.lastSelTime=D,_.lastOp=_.lastSelOp=g,_.lastOrigin=_.lastSelOrigin=h.origin,z||J(u,"historyAdded")}function epe(u,h,v,g){var _=h.charAt(0);return _=="*"||_=="+"&&v.ranges.length==g.ranges.length&&v.somethingSelected()==g.somethingSelected()&&new Date-u.history.lastSelTime<=(u.cm?u.cm.options.historyEventDelay:500)}function tpe(u,h,v,g){var _=u.history,D=g&&g.origin;v==_.lastSelOp||D&&_.lastSelOrigin==D&&(_.lastModTime==_.lastSelTime&&_.lastOrigin==D||epe(u,D,re(_.done),h))?_.done[_.done.length-1]=h:hw(h,_.done),_.lastSelTime=+new Date,_.lastSelOrigin=D,_.lastSelOp=v,g&&g.clearRedo!==!1&&bH(_.undone)}function hw(u,h){var v=re(h);v&&v.ranges&&v.equals(u)||h.push(u)}function _H(u,h,v,g){var _=h["spans_"+u.id],D=0;u.iter(Math.max(u.first,v),Math.min(u.first+u.size,g),function(N){N.markedSpans&&((_||(_=h["spans_"+u.id]={}))[D]=N.markedSpans),++D})}function rpe(u){if(!u)return null;for(var h,v=0;v<u.length;++v)u[v].marker.explicitlyCleared?h||(h=u.slice(0,v)):h&&h.push(u[v]);return h?h.length?h:null:u}function npe(u,h){var v=h["spans_"+u.id];if(!v)return null;for(var g=[],_=0;_<h.text.length;++_)g.push(rpe(v[_]));return g}function xH(u,h){var v=npe(u,h),g=HA(u,h);if(!v)return g;if(!g)return v;for(var _=0;_<v.length;++_){var D=v[_],N=g[_];if(D&&N)e:for(var z=0;z<N.length;++z){for(var H=N[z],G=0;G<D.length;++G)if(D[G].marker==H.marker)continue e;D.push(H)}else N&&(v[_]=N)}return v}function Lp(u,h,v){for(var g=[],_=0;_<u.length;++_){var D=u[_];if(D.ranges){g.push(v?Wa.prototype.deepCopy.call(D):D);continue}var N=D.changes,z=[];g.push({changes:z});for(var H=0;H<N.length;++H){var G=N[H],ne=void 0;if(z.push({from:G.from,to:G.to,text:G.text}),h)for(var fe in G)(ne=fe.match(/^spans_(\d+)$/))&&ee(h,Number(ne[1]))>-1&&(re(z)[fe]=G[fe],delete G[fe])}}return g}function yT(u,h,v,g){if(g){var _=u.anchor;if(v){var D=fr(h,_)<0;D!=fr(v,_)<0?(_=h,h=v):D!=fr(h,v)<0&&(h=v)}return new _n(_,h)}else return new _n(v||h,h)}function mw(u,h,v,g,_){_==null&&(_=u.cm&&(u.cm.display.shift||u.extend)),ns(u,new Wa([yT(u.sel.primary(),h,v,_)],0),g)}function wH(u,h,v){for(var g=[],_=u.cm&&(u.cm.display.shift||u.extend),D=0;D<u.sel.ranges.length;D++)g[D]=yT(u.sel.ranges[D],h[D],null,_);var N=oc(u.cm,g,u.sel.primIndex);ns(u,N,v)}function _T(u,h,v,g){var _=u.sel.ranges.slice(0);_[h]=v,ns(u,oc(u.cm,_,u.sel.primIndex),g)}function CH(u,h,v,g){ns(u,ef(h,v),g)}function ipe(u,h,v){var g={ranges:h.ranges,update:function(_){this.ranges=[];for(var D=0;D<_.length;D++)this.ranges[D]=new _n(Er(u,_[D].anchor),Er(u,_[D].head))},origin:v&&v.origin};return J(u,"beforeSelectionChange",u,g),u.cm&&J(u.cm,"beforeSelectionChange",u.cm,g),g.ranges!=h.ranges?oc(u.cm,g.ranges,g.ranges.length-1):h}function SH(u,h,v){var g=u.history.done,_=re(g);_&&_.ranges?(g[g.length-1]=h,pw(u,h,v)):ns(u,h,v)}function ns(u,h,v){pw(u,h,v),tpe(u,u.sel,u.cm?u.cm.curOp.id:NaN,v)}function pw(u,h,v){(Ct(u,"beforeSelectionChange")||u.cm&&Ct(u.cm,"beforeSelectionChange"))&&(h=ipe(u,h,v));var g=v&&v.bias||(fr(h.primary().head,u.sel.primary().head)<0?-1:1);DH(u,MH(u,h,g,!0)),!(v&&v.scroll===!1)&&u.cm&&u.cm.getOption("readOnly")!="nocursor"&&Rp(u.cm)}function DH(u,h){h.equals(u.sel)||(u.sel=h,u.cm&&(u.cm.curOp.updateInput=1,u.cm.curOp.selectionChanged=!0,Ye(u.cm)),_o(u,"cursorActivity",u))}function EH(u){DH(u,MH(u,u.sel,null,!1))}function MH(u,h,v,g){for(var _,D=0;D<h.ranges.length;D++){var N=h.ranges[D],z=h.ranges.length==u.sel.ranges.length&&u.sel.ranges[D],H=gw(u,N.anchor,z&&z.anchor,v,g),G=N.head==N.anchor?H:gw(u,N.head,z&&z.head,v,g);(_||H!=N.anchor||G!=N.head)&&(_||(_=h.ranges.slice(0,D)),_[D]=new _n(H,G))}return _?oc(u.cm,_,h.primIndex):h}function Bp(u,h,v,g,_){var D=Ut(u,h.line);if(D.markedSpans)for(var N=0;N<D.markedSpans.length;++N){var z=D.markedSpans[N],H=z.marker,G="selectLeft"in H?!H.selectLeft:H.inclusiveLeft,ne="selectRight"in H?!H.selectRight:H.inclusiveRight;if((z.from==null||(G?z.from<=h.ch:z.from<h.ch))&&(z.to==null||(ne?z.to>=h.ch:z.to>h.ch))){if(_&&(J(H,"beforeCursorEnter"),H.explicitlyCleared))if(D.markedSpans){--N;continue}else break;if(!H.atomic)continue;if(v){var fe=H.find(g<0?1:-1),Se=void 0;if((g<0?ne:G)&&(fe=AH(u,fe,-g,fe&&fe.line==h.line?D:null)),fe&&fe.line==h.line&&(Se=fr(fe,v))&&(g<0?Se<0:Se>0))return Bp(u,fe,h,g,_)}var ye=H.find(g<0?-1:1);return(g<0?G:ne)&&(ye=AH(u,ye,g,ye.line==h.line?D:null)),ye?Bp(u,ye,h,g,_):null}}return h}function gw(u,h,v,g,_){var D=g||1,N=Bp(u,h,v,D,_)||!_&&Bp(u,h,v,D,!0)||Bp(u,h,v,-D,_)||!_&&Bp(u,h,v,-D,!0);return N||(u.cantEdit=!0,nt(u.first,0))}function AH(u,h,v,g){return v<0&&h.ch==0?h.line>u.first?Er(u,nt(h.line-1)):null:v>0&&h.ch==(g||Ut(u,h.line)).text.length?h.line<u.first+u.size-1?nt(h.line+1,0):null:new nt(h.line,h.ch+v)}function TH(u){u.setSelection(nt(u.firstLine(),0),nt(u.lastLine()),pe)}function IH(u,h,v){var g={canceled:!1,from:h.from,to:h.to,text:h.text,origin:h.origin,cancel:function(){return g.canceled=!0}};return v&&(g.update=function(_,D,N,z){_&&(g.from=Er(u,_)),D&&(g.to=Er(u,D)),N&&(g.text=N),z!==void 0&&(g.origin=z)}),J(u,"beforeChange",u,g),u.cm&&J(u.cm,"beforeChange",u.cm,g),g.canceled?(u.cm&&(u.cm.curOp.updateInput=2),null):{from:g.from,to:g.to,text:g.text,origin:g.origin}}function Vp(u,h,v){if(u.cm){if(!u.cm.curOp)return xo(u.cm,Vp)(u,h,v);if(u.cm.state.suppressEdits)return}if(!((Ct(u,"beforeChange")||u.cm&&Ct(u.cm,"beforeChange"))&&(h=IH(u,h,!0),!h))){var g=xj&&!v&&tme(u,h.from,h.to);if(g)for(var _=g.length-1;_>=0;--_)kH(u,{from:g[_].from,to:g[_].to,text:_?[""]:h.text,origin:h.origin});else kH(u,h)}}function kH(u,h){if(!(h.text.length==1&&h.text[0]==""&&fr(h.from,h.to)==0)){var v=pT(u,h);yH(u,h,v,u.cm?u.cm.curOp.id:NaN),tb(u,h,v,HA(u,h));var g=[];rf(u,function(_,D){!D&&ee(g,_.history)==-1&&(RH(_.history,h),g.push(_.history)),tb(_,h,null,HA(_,h))})}}function vw(u,h,v){var g=u.cm&&u.cm.state.suppressEdits;if(!(g&&!v)){for(var _=u.history,D,N=u.sel,z=h=="undo"?_.done:_.undone,H=h=="undo"?_.undone:_.done,G=0;G<z.length&&(D=z[G],!(v?D.ranges&&!D.equals(u.sel):!D.ranges));G++);if(G!=z.length){for(_.lastOrigin=_.lastSelOrigin=null;;)if(D=z.pop(),D.ranges){if(hw(D,H),v&&!D.equals(u.sel)){ns(u,D,{clearRedo:!1});return}N=D}else if(g){z.push(D);return}else break;var ne=[];hw(N,H),H.push({changes:ne,generation:_.generation}),_.generation=D.generation||++_.maxGeneration;for(var fe=Ct(u,"beforeChange")||u.cm&&Ct(u.cm,"beforeChange"),Se=function(Ze){var lt=D.changes[Ze];if(lt.origin=h,fe&&!IH(u,lt,!1))return z.length=0,{};ne.push(bT(u,lt));var gt=Ze?pT(u,lt):re(z);tb(u,lt,gt,xH(u,lt)),!Ze&&u.cm&&u.cm.scrollIntoView({from:lt.from,to:tf(lt)});var St=[];rf(u,function(vt,At){!At&&ee(St,vt.history)==-1&&(RH(vt.history,lt),St.push(vt.history)),tb(vt,lt,null,xH(vt,lt))})},ye=D.changes.length-1;ye>=0;--ye){var je=Se(ye);if(je)return je.v}}}}function NH(u,h){if(h!=0&&(u.first+=h,u.sel=new Wa(De(u.sel.ranges,function(_){return new _n(nt(_.anchor.line+h,_.anchor.ch),nt(_.head.line+h,_.head.ch))}),u.sel.primIndex),u.cm)){Xs(u.cm,u.first,u.first-h,h);for(var v=u.cm.display,g=v.viewFrom;g<v.viewTo;g++)Qd(u.cm,g,"gutter")}}function tb(u,h,v,g){if(u.cm&&!u.cm.curOp)return xo(u.cm,tb)(u,h,v,g);if(h.to.line<u.first){NH(u,h.text.length-1-(h.to.line-h.from.line));return}if(!(h.from.line>u.lastLine())){if(h.from.line<u.first){var _=h.text.length-1-(u.first-h.from.line);NH(u,_),h={from:nt(u.first,0),to:nt(h.to.line+_,h.to.ch),text:[re(h.text)],origin:h.origin}}var D=u.lastLine();h.to.line>D&&(h={from:h.from,to:nt(D,Ut(u,D).text.length),text:[h.text[0]],origin:h.origin}),h.removed=Uu(u,h.from,h.to),v||(v=pT(u,h)),u.cm?ope(u.cm,h,g):vT(u,h,g),pw(u,v,pe),u.cantEdit&&gw(u,nt(u.firstLine(),0))&&(u.cantEdit=!1)}}function ope(u,h,v){var g=u.doc,_=u.display,D=h.from,N=h.to,z=!1,H=D.line;u.options.lineWrapping||(H=yn(nc(Ut(g,D.line))),g.iter(H,N.line+1,function(ye){if(ye==_.maxLine)return z=!0,!0})),g.sel.contains(h.from,h.to)>-1&&Ye(u),vT(g,h,v,Zj(u)),u.options.lineWrapping||(g.iter(H,D.line+h.text.length,function(ye){var je=ew(ye);je>_.maxLineLength&&(_.maxLine=ye,_.maxLineLength=je,_.maxLineChanged=!0,z=!1)}),z&&(u.curOp.updateMaxLine=!0)),Yhe(g,D.line),Q0(u,400);var G=h.text.length-(N.line-D.line)-1;h.full?Xs(u):D.line==N.line&&h.text.length==1&&!pH(u.doc,h)?Qd(u,D.line,"text"):Xs(u,D.line,N.line+1,G);var ne=Ct(u,"changes"),fe=Ct(u,"change");if(fe||ne){var Se={from:D,to:N,text:h.text,removed:h.removed,origin:h.origin};fe&&_o(u,"change",u,Se),ne&&(u.curOp.changeObjs||(u.curOp.changeObjs=[])).push(Se)}u.display.selForContextMenu=null}function zp(u,h,v,g,_){var D;g||(g=v),fr(g,v)<0&&(D=[g,v],v=D[0],g=D[1]),typeof h=="string"&&(h=u.splitLines(h)),Vp(u,{from:v,to:g,text:h,origin:_})}function OH(u,h,v,g){v<u.line?u.line+=g:h<u.line&&(u.line=h,u.ch=0)}function FH(u,h,v,g){for(var _=0;_<u.length;++_){var D=u[_],N=!0;if(D.ranges){D.copied||(D=u[_]=D.deepCopy(),D.copied=!0);for(var z=0;z<D.ranges.length;z++)OH(D.ranges[z].anchor,h,v,g),OH(D.ranges[z].head,h,v,g);continue}for(var H=0;H<D.changes.length;++H){var G=D.changes[H];if(v<G.from.line)G.from=nt(G.from.line+g,G.from.ch),G.to=nt(G.to.line+g,G.to.ch);else if(h<=G.to.line){N=!1;break}}N||(u.splice(0,_+1),_=0)}}function RH(u,h){var v=h.from.line,g=h.to.line,_=h.text.length-(g-v)-1;FH(u.done,v,g,_),FH(u.undone,v,g,_)}function rb(u,h,v,g){var _=h,D=h;return typeof h=="number"?D=Ut(u,fj(u,h)):_=yn(h),_==null?null:(g(D,_)&&u.cm&&Qd(u.cm,_,v),D)}function nb(u){this.lines=u,this.parent=null;for(var h=0,v=0;v<u.length;++v)u[v].parent=this,h+=u[v].height;this.height=h}nb.prototype={chunkSize:function(){return this.lines.length},removeInner:function(u,h){for(var v=u,g=u+h;v<g;++v){var _=this.lines[v];this.height-=_.height,sme(_),_o(_,"delete")}this.lines.splice(u,h)},collapse:function(u){u.push.apply(u,this.lines)},insertInner:function(u,h,v){this.height+=v,this.lines=this.lines.slice(0,u).concat(h).concat(this.lines.slice(u));for(var g=0;g<h.length;++g)h[g].parent=this},iterN:function(u,h,v){for(var g=u+h;u<g;++u)if(v(this.lines[u]))return!0}};function ib(u){this.children=u;for(var h=0,v=0,g=0;g<u.length;++g){var _=u[g];h+=_.chunkSize(),v+=_.height,_.parent=this}this.size=h,this.height=v,this.parent=null}ib.prototype={chunkSize:function(){return this.size},removeInner:function(u,h){this.size-=h;for(var v=0;v<this.children.length;++v){var g=this.children[v],_=g.chunkSize();if(u<_){var D=Math.min(h,_-u),N=g.height;if(g.removeInner(u,D),this.height-=N-g.height,_==D&&(this.children.splice(v--,1),g.parent=null),(h-=D)==0)break;u=0}else u-=_}if(this.size-h<25&&(this.children.length>1||!(this.children[0]instanceof nb))){var z=[];this.collapse(z),this.children=[new nb(z)],this.children[0].parent=this}},collapse:function(u){for(var h=0;h<this.children.length;++h)this.children[h].collapse(u)},insertInner:function(u,h,v){this.size+=h.length,this.height+=v;for(var g=0;g<this.children.length;++g){var _=this.children[g],D=_.chunkSize();if(u<=D){if(_.insertInner(u,h,v),_.lines&&_.lines.length>50){for(var N=_.lines.length%25+25,z=N;z<_.lines.length;){var H=new nb(_.lines.slice(z,z+=25));_.height-=H.height,this.children.splice(++g,0,H),H.parent=this}_.lines=_.lines.slice(0,N),this.maybeSpill()}break}u-=D}},maybeSpill:function(){if(!(this.children.length<=10)){var u=this;do{var h=u.children.splice(u.children.length-5,5),v=new ib(h);if(u.parent){u.size-=v.size,u.height-=v.height;var _=ee(u.parent.children,u);u.parent.children.splice(_+1,0,v)}else{var g=new ib(u.children);g.parent=u,u.children=[g,v],u=g}v.parent=u.parent}while(u.children.length>10);u.parent.maybeSpill()}},iterN:function(u,h,v){for(var g=0;g<this.children.length;++g){var _=this.children[g],D=_.chunkSize();if(u<D){var N=Math.min(h,D-u);if(_.iterN(u,N,v))return!0;if((h-=N)==0)break;u=0}else u-=D}}};var ob=function(u,h,v){if(v)for(var g in v)v.hasOwnProperty(g)&&(this[g]=v[g]);this.doc=u,this.node=h};ob.prototype.clear=function(){var u=this.doc.cm,h=this.line.widgets,v=this.line,g=yn(v);if(!(g==null||!h)){for(var _=0;_<h.length;++_)h[_]==this&&h.splice(_--,1);h.length||(v.widgets=null);var D=W0(this);Dl(v,Math.max(0,v.height-D)),u&&(ya(u,function(){PH(u,v,-D),Qd(u,g,"widget")}),_o(u,"lineWidgetCleared",u,this,g))}},ob.prototype.changed=function(){var u=this,h=this.height,v=this.doc.cm,g=this.line;this.height=null;var _=W0(this)-h;_&&(Zd(this.doc,g)||Dl(g,g.height+_),v&&ya(v,function(){v.curOp.forceUpdate=!0,PH(v,g,_),_o(v,"lineWidgetChanged",v,u,yn(g))}))},Ht(ob);function PH(u,h,v){$u(h)<(u.curOp&&u.curOp.scrollTop||u.doc.scrollTop)&&cT(u,v)}function spe(u,h,v,g){var _=new ob(u,v,g),D=u.cm;return D&&_.noHScroll&&(D.display.alignWidgets=!0),rb(u,h,"widget",function(N){var z=N.widgets||(N.widgets=[]);if(_.insertAt==null?z.push(_):z.splice(Math.min(z.length,Math.max(0,_.insertAt)),0,_),_.line=N,D&&!Zd(u,N)){var H=$u(N)<u.scrollTop;Dl(N,N.height+W0(_)),H&&cT(D,_.height),D.curOp.forceUpdate=!0}return!0}),D&&_o(D,"lineWidgetAdded",D,_,typeof h=="number"?h:yn(h)),_}var LH=0,nf=function(u,h){this.lines=[],this.type=h,this.doc=u,this.id=++LH};nf.prototype.clear=function(){if(!this.explicitlyCleared){var u=this.doc.cm,h=u&&!u.curOp;if(h&&jh(u),Ct(this,"clear")){var v=this.find();v&&_o(this,"clear",v.from,v.to)}for(var g=null,_=null,D=0;D<this.lines.length;++D){var N=this.lines[D],z=H0(N.markedSpans,this);u&&!this.collapsed?Qd(u,yn(N),"text"):u&&(z.to!=null&&(_=yn(N)),z.from!=null&&(g=yn(N))),N.markedSpans=Zhe(N.markedSpans,z),z.from==null&&this.collapsed&&!Zd(this.doc,N)&&u&&Dl(N,Np(u.display))}if(u&&this.collapsed&&!u.options.lineWrapping)for(var H=0;H<this.lines.length;++H){var G=nc(this.lines[H]),ne=ew(G);ne>u.display.maxLineLength&&(u.display.maxLine=G,u.display.maxLineLength=ne,u.display.maxLineChanged=!0)}g!=null&&u&&this.collapsed&&Xs(u,g,_+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,u&&EH(u.doc)),u&&_o(u,"markerCleared",u,this,g,_),h&&Hh(u),this.parent&&this.parent.clear()}},nf.prototype.find=function(u,h){u==null&&this.type=="bookmark"&&(u=1);for(var v,g,_=0;_<this.lines.length;++_){var D=this.lines[_],N=H0(D.markedSpans,this);if(N.from!=null&&(v=nt(h?D:yn(D),N.from),u==-1))return v;if(N.to!=null&&(g=nt(h?D:yn(D),N.to),u==1))return g}return v&&{from:v,to:g}},nf.prototype.changed=function(){var u=this,h=this.find(-1,!0),v=this,g=this.doc.cm;!h||!g||ya(g,function(){var _=h.line,D=yn(h.line),N=XA(g,D);if(N&&(Uj(N),g.curOp.selectionChanged=g.curOp.forceUpdate=!0),g.curOp.updateMaxLine=!0,!Zd(v.doc,_)&&v.height!=null){var z=v.height;v.height=null;var H=W0(v)-z;H&&Dl(_,_.height+H)}_o(g,"markerChanged",g,u)})},nf.prototype.attachLine=function(u){if(!this.lines.length&&this.doc.cm){var h=this.doc.cm.curOp;(!h.maybeHiddenMarkers||ee(h.maybeHiddenMarkers,this)==-1)&&(h.maybeUnhiddenMarkers||(h.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(u)},nf.prototype.detachLine=function(u){if(this.lines.splice(ee(this.lines,u),1),!this.lines.length&&this.doc.cm){var h=this.doc.cm.curOp;(h.maybeHiddenMarkers||(h.maybeHiddenMarkers=[])).push(this)}},Ht(nf);function jp(u,h,v,g,_){if(g&&g.shared)return ape(u,h,v,g,_);if(u.cm&&!u.cm.curOp)return xo(u.cm,jp)(u,h,v,g,_);var D=new nf(u,_),N=fr(h,v);if(g&&he(g,D,!1),N>0||N==0&&D.clearWhenEmpty!==!1)return D;if(D.replacedWith&&(D.collapsed=!0,D.widgetNode=X("span",[D.replacedWith],"CodeMirror-widget"),g.handleMouseEvents||D.widgetNode.setAttribute("cm-ignore-events","true"),g.insertLeft&&(D.widgetNode.insertLeft=!0)),D.collapsed){if(Mj(u,h.line,h,v,D)||h.line!=v.line&&Mj(u,v.line,h,v,D))throw new Error("Inserting collapsed marker partially overlapping an existing one");Xhe()}D.addToHistory&&yH(u,{from:h,to:v,origin:"markText"},u.sel,NaN);var z=h.line,H=u.cm,G;if(u.iter(z,v.line+1,function(fe){H&&D.collapsed&&!H.options.lineWrapping&&nc(fe)==H.display.maxLine&&(G=!0),D.collapsed&&z!=h.line&&Dl(fe,0),Qhe(fe,new Xx(D,z==h.line?h.ch:null,z==v.line?v.ch:null),u.cm&&u.cm.curOp),++z}),D.collapsed&&u.iter(h.line,v.line+1,function(fe){Zd(u,fe)&&Dl(fe,0)}),D.clearOnEnter&&Le(D,"beforeCursorEnter",function(){return D.clear()}),D.readOnly&&(Khe(),(u.history.done.length||u.history.undone.length)&&u.clearHistory()),D.collapsed&&(D.id=++LH,D.atomic=!0),H){if(G&&(H.curOp.updateMaxLine=!0),D.collapsed)Xs(H,h.line,v.line+1);else if(D.className||D.startStyle||D.endStyle||D.css||D.attributes||D.title)for(var ne=h.line;ne<=v.line;ne++)Qd(H,ne,"text");D.atomic&&EH(H.doc),_o(H,"markerAdded",H,D)}return D}var sb=function(u,h){this.markers=u,this.primary=h;for(var v=0;v<u.length;++v)u[v].parent=this};sb.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var u=0;u<this.markers.length;++u)this.markers[u].clear();_o(this,"clear")}},sb.prototype.find=function(u,h){return this.primary.find(u,h)},Ht(sb);function ape(u,h,v,g,_){g=he(g),g.shared=!1;var D=[jp(u,h,v,g,_)],N=D[0],z=g.widgetNode;return rf(u,function(H){z&&(g.widgetNode=z.cloneNode(!0)),D.push(jp(H,Er(H,h),Er(H,v),g,_));for(var G=0;G<H.linked.length;++G)if(H.linked[G].isParent)return;N=re(D)}),new sb(D,N)}function BH(u){return u.findMarks(nt(u.first,0),u.clipPos(nt(u.lastLine())),function(h){return h.parent})}function lpe(u,h){for(var v=0;v<h.length;v++){var g=h[v],_=g.find(),D=u.clipPos(_.from),N=u.clipPos(_.to);if(fr(D,N)){var z=jp(u,D,N,g.primary,g.primary.type);g.markers.push(z),z.parent=g}}}function cpe(u){for(var h=function(g){var _=u[g],D=[_.primary.doc];rf(_.primary.doc,function(H){return D.push(H)});for(var N=0;N<_.markers.length;N++){var z=_.markers[N];ee(D,z.doc)==-1&&(z.parent=null,_.markers.splice(N--,1))}},v=0;v<u.length;v++)h(v)}var upe=0,Zs=function(u,h,v,g,_){if(!(this instanceof Zs))return new Zs(u,h,v,g,_);v==null&&(v=0),ib.call(this,[new nb([new Tp("",null)])]),this.first=v,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=v;var D=nt(v,0);this.sel=ef(D),this.history=new fw(null),this.id=++upe,this.modeOption=h,this.lineSep=g,this.direction=_=="rtl"?"rtl":"ltr",this.extend=!1,typeof u=="string"&&(u=this.splitLines(u)),vT(this,{from:D,to:D,text:u}),ns(this,ef(D),pe)};Zs.prototype=Ge(ib.prototype,{constructor:Zs,iter:function(u,h,v){v?this.iterN(u-this.first,h-u,v):this.iterN(this.first,this.first+this.size,u)},insert:function(u,h){for(var v=0,g=0;g<h.length;++g)v+=h[g].height;this.insertInner(u-this.first,h,v)},remove:function(u,h){this.removeInner(u-this.first,h)},getValue:function(u){var h=V0(this,this.first,this.first+this.size);return u===!1?h:h.join(u||this.lineSeparator())},setValue:wo(function(u){var h=nt(this.first,0),v=this.first+this.size-1;Vp(this,{from:h,to:nt(v,Ut(this,v).text.length),text:this.splitLines(u),origin:"setValue",full:!0},!0),this.cm&&Y0(this.cm,0,0),ns(this,ef(h),pe)}),replaceRange:function(u,h,v,g){h=Er(this,h),v=v?Er(this,v):h,zp(this,u,h,v,g)},getRange:function(u,h,v){var g=Uu(this,Er(this,u),Er(this,h));return v===!1?g:v===""?g.join(""):g.join(v||this.lineSeparator())},getLine:function(u){var h=this.getLineHandle(u);return h&&h.text},getLineHandle:function(u){if(cn(this,u))return Ut(this,u)},getLineNumber:function(u){return yn(u)},getLineHandleVisualStart:function(u){return typeof u=="number"&&(u=Ut(this,u)),nc(u)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(u){return Er(this,u)},getCursor:function(u){var h=this.sel.primary(),v;return u==null||u=="head"?v=h.head:u=="anchor"?v=h.anchor:u=="end"||u=="to"||u===!1?v=h.to():v=h.from(),v},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:wo(function(u,h,v){CH(this,Er(this,typeof u=="number"?nt(u,h||0):u),null,v)}),setSelection:wo(function(u,h,v){CH(this,Er(this,u),Er(this,h||u),v)}),extendSelection:wo(function(u,h,v){mw(this,Er(this,u),h&&Er(this,h),v)}),extendSelections:wo(function(u,h){wH(this,hj(this,u),h)}),extendSelectionsBy:wo(function(u,h){var v=De(this.sel.ranges,u);wH(this,hj(this,v),h)}),setSelections:wo(function(u,h,v){if(u.length){for(var g=[],_=0;_<u.length;_++)g[_]=new _n(Er(this,u[_].anchor),Er(this,u[_].head||u[_].anchor));h==null&&(h=Math.min(u.length-1,this.sel.primIndex)),ns(this,oc(this.cm,g,h),v)}}),addSelection:wo(function(u,h,v){var g=this.sel.ranges.slice(0);g.push(new _n(Er(this,u),Er(this,h||u))),ns(this,oc(this.cm,g,g.length-1),v)}),getSelection:function(u){for(var h=this.sel.ranges,v,g=0;g<h.length;g++){var _=Uu(this,h[g].from(),h[g].to());v=v?v.concat(_):_}return u===!1?v:v.join(u||this.lineSeparator())},getSelections:function(u){for(var h=[],v=this.sel.ranges,g=0;g<v.length;g++){var _=Uu(this,v[g].from(),v[g].to());u!==!1&&(_=_.join(u||this.lineSeparator())),h[g]=_}return h},replaceSelection:function(u,h,v){for(var g=[],_=0;_<this.sel.ranges.length;_++)g[_]=u;this.replaceSelections(g,h,v||"+input")},replaceSelections:wo(function(u,h,v){for(var g=[],_=this.sel,D=0;D<_.ranges.length;D++){var N=_.ranges[D];g[D]={from:N.from(),to:N.to(),text:this.splitLines(u[D]),origin:v}}for(var z=h&&h!="end"&&Zme(this,g,h),H=g.length-1;H>=0;H--)Vp(this,g[H]);z?SH(this,z):this.cm&&Rp(this.cm)}),undo:wo(function(){vw(this,"undo")}),redo:wo(function(){vw(this,"redo")}),undoSelection:wo(function(){vw(this,"undo",!0)}),redoSelection:wo(function(){vw(this,"redo",!0)}),setExtending:function(u){this.extend=u},getExtending:function(){return this.extend},historySize:function(){for(var u=this.history,h=0,v=0,g=0;g<u.done.length;g++)u.done[g].ranges||++h;for(var _=0;_<u.undone.length;_++)u.undone[_].ranges||++v;return{undo:h,redo:v}},clearHistory:function(){var u=this;this.history=new fw(this.history),rf(this,function(h){return h.history=u.history},!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(u){return u&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(u){return this.history.generation==(u||this.cleanGeneration)},getHistory:function(){return{done:Lp(this.history.done),undone:Lp(this.history.undone)}},setHistory:function(u){var h=this.history=new fw(this.history);h.done=Lp(u.done.slice(0),null,!0),h.undone=Lp(u.undone.slice(0),null,!0)},setGutterMarker:wo(function(u,h,v){return rb(this,u,"gutter",function(g){var _=g.gutterMarkers||(g.gutterMarkers={});return _[h]=v,!v&&Yt(_)&&(g.gutterMarkers=null),!0})}),clearGutter:wo(function(u){var h=this;this.iter(function(v){v.gutterMarkers&&v.gutterMarkers[u]&&rb(h,v,"gutter",function(){return v.gutterMarkers[u]=null,Yt(v.gutterMarkers)&&(v.gutterMarkers=null),!0})})}),lineInfo:function(u){var h;if(typeof u=="number"){if(!cn(this,u)||(h=u,u=Ut(this,u),!u))return null}else if(h=yn(u),h==null)return null;return{line:h,handle:u,text:u.text,gutterMarkers:u.gutterMarkers,textClass:u.textClass,bgClass:u.bgClass,wrapClass:u.wrapClass,widgets:u.widgets}},addLineClass:wo(function(u,h,v){return rb(this,u,h=="gutter"?"gutter":"class",function(g){var _=h=="text"?"textClass":h=="background"?"bgClass":h=="gutter"?"gutterClass":"wrapClass";if(!g[_])g[_]=v;else{if(I(v).test(g[_]))return!1;g[_]+=" "+v}return!0})}),removeLineClass:wo(function(u,h,v){return rb(this,u,h=="gutter"?"gutter":"class",function(g){var _=h=="text"?"textClass":h=="background"?"bgClass":h=="gutter"?"gutterClass":"wrapClass",D=g[_];if(D)if(v==null)g[_]=null;else{var N=D.match(I(v));if(!N)return!1;var z=N.index+N[0].length;g[_]=D.slice(0,N.index)+(!N.index||z==D.length?"":" ")+D.slice(z)||null}else return!1;return!0})}),addLineWidget:wo(function(u,h,v){return spe(this,u,h,v)}),removeLineWidget:function(u){u.clear()},markText:function(u,h,v){return jp(this,Er(this,u),Er(this,h),v,v&&v.type||"range")},setBookmark:function(u,h){var v={replacedWith:h&&(h.nodeType==null?h.widget:h),insertLeft:h&&h.insertLeft,clearWhenEmpty:!1,shared:h&&h.shared,handleMouseEvents:h&&h.handleMouseEvents};return u=Er(this,u),jp(this,u,u,v,"bookmark")},findMarksAt:function(u){u=Er(this,u);var h=[],v=Ut(this,u.line).markedSpans;if(v)for(var g=0;g<v.length;++g){var _=v[g];(_.from==null||_.from<=u.ch)&&(_.to==null||_.to>=u.ch)&&h.push(_.marker.parent||_.marker)}return h},findMarks:function(u,h,v){u=Er(this,u),h=Er(this,h);var g=[],_=u.line;return this.iter(u.line,h.line+1,function(D){var N=D.markedSpans;if(N)for(var z=0;z<N.length;z++){var H=N[z];!(H.to!=null&&_==u.line&&u.ch>=H.to||H.from==null&&_!=u.line||H.from!=null&&_==h.line&&H.from>=h.ch)&&(!v||v(H.marker))&&g.push(H.marker.parent||H.marker)}++_}),g},getAllMarks:function(){var u=[];return this.iter(function(h){var v=h.markedSpans;if(v)for(var g=0;g<v.length;++g)v[g].from!=null&&u.push(v[g].marker)}),u},posFromIndex:function(u){var h,v=this.first,g=this.lineSeparator().length;return this.iter(function(_){var D=_.text.length+g;if(D>u)return h=u,!0;u-=D,++v}),Er(this,nt(v,h))},indexFromPos:function(u){u=Er(this,u);var h=u.ch;if(u.line<this.first||u.ch<0)return 0;var v=this.lineSeparator().length;return this.iter(this.first,u.line,function(g){h+=g.text.length+v}),h},copy:function(u){var h=new Zs(V0(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return h.scrollTop=this.scrollTop,h.scrollLeft=this.scrollLeft,h.sel=this.sel,h.extend=!1,u&&(h.history.undoDepth=this.history.undoDepth,h.setHistory(this.getHistory())),h},linkedDoc:function(u){u||(u={});var h=this.first,v=this.first+this.size;u.from!=null&&u.from>h&&(h=u.from),u.to!=null&&u.to<v&&(v=u.to);var g=new Zs(V0(this,h,v),u.mode||this.modeOption,h,this.lineSep,this.direction);return u.sharedHist&&(g.history=this.history),(this.linked||(this.linked=[])).push({doc:g,sharedHist:u.sharedHist}),g.linked=[{doc:this,isParent:!0,sharedHist:u.sharedHist}],lpe(g,BH(this)),g},unlinkDoc:function(u){if(u instanceof pi&&(u=u.doc),this.linked)for(var h=0;h<this.linked.length;++h){var v=this.linked[h];if(v.doc==u){this.linked.splice(h,1),u.unlinkDoc(this),cpe(BH(this));break}}if(u.history==this.history){var g=[u.id];rf(u,function(_){return g.push(_.id)},!0),u.history=new fw(null),u.history.done=Lp(this.history.done,g),u.history.undone=Lp(this.history.undone,g)}},iterLinkedDocs:function(u){rf(this,u)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(u){return this.lineSep?u.split(this.lineSep):F0(u)},lineSeparator:function(){return this.lineSep||`
`},setDirection:wo(function(u){u!="rtl"&&(u="ltr"),u!=this.direction&&(this.direction=u,this.iter(function(h){return h.order=null}),this.cm&&Qme(this.cm))})}),Zs.prototype.eachLine=Zs.prototype.iter;var VH=0;function dpe(u){var h=this;if(zH(h),!(_e(h,u)||Gu(h.display,u))){Lr(u),s&&(VH=+new Date);var v=Lh(h,u,!0),g=u.dataTransfer.files;if(!(!v||h.isReadOnly()))if(g&&g.length&&window.FileReader&&window.File)for(var _=g.length,D=Array(_),N=0,z=function(){++N==_&&xo(h,function(){v=Er(h.doc,v);var ye={from:v,to:v,text:h.doc.splitLines(D.filter(function(je){return je!=null}).join(h.doc.lineSeparator())),origin:"paste"};Vp(h.doc,ye),SH(h.doc,ef(Er(h.doc,v),Er(h.doc,tf(ye))))})()},H=function(ye,je){if(h.options.allowDropFileTypes&&ee(h.options.allowDropFileTypes,ye.type)==-1){z();return}var Ze=new FileReader;Ze.onerror=function(){return z()},Ze.onload=function(){var lt=Ze.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(lt)){z();return}D[je]=lt,z()},Ze.readAsText(ye)},G=0;G<g.length;G++)H(g[G],G);else{if(h.state.draggingText&&h.doc.sel.contains(v)>-1){h.state.draggingText(u),setTimeout(function(){return h.display.input.focus()},20);return}try{var ne=u.dataTransfer.getData("Text");if(ne){var fe;if(h.state.draggingText&&!h.state.draggingText.copy&&(fe=h.listSelections()),pw(h.doc,ef(v,v)),fe)for(var Se=0;Se<fe.length;++Se)zp(h.doc,"",fe[Se].anchor,fe[Se].head,"drag");h.replaceSelection(ne,"around","paste"),h.display.input.focus()}}catch{}}}}function fpe(u,h){if(s&&(!u.state.draggingText||+new Date-VH<100)){Sl(h);return}if(!(_e(u,h)||Gu(u.display,h))&&(h.dataTransfer.setData("Text",u.getSelection()),h.dataTransfer.effectAllowed="copyMove",h.dataTransfer.setDragImage&&!p)){var v=q("img",null,null,"position: fixed; left: 0; top: 0;");v.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",m&&(v.width=v.height=1,u.display.wrapper.appendChild(v),v._top=v.offsetTop),h.dataTransfer.setDragImage(v,0,0),m&&v.parentNode.removeChild(v)}}function hpe(u,h){var v=Lh(u,h);if(v){var g=document.createDocumentFragment();iT(u,v,g),u.display.dragCursor||(u.display.dragCursor=q("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),u.display.lineSpace.insertBefore(u.display.dragCursor,u.display.cursorDiv)),j(u.display.dragCursor,g)}}function zH(u){u.display.dragCursor&&(u.display.lineSpace.removeChild(u.display.dragCursor),u.display.dragCursor=null)}function jH(u){if(document.getElementsByClassName){for(var h=document.getElementsByClassName("CodeMirror"),v=[],g=0;g<h.length;g++){var _=h[g].CodeMirror;_&&v.push(_)}v.length&&v[0].operation(function(){for(var D=0;D<v.length;D++)u(v[D])})}}var HH=!1;function mpe(){HH||(ppe(),HH=!0)}function ppe(){var u;Le(window,"resize",function(){u==null&&(u=setTimeout(function(){u=null,jH(gpe)},100))}),Le(window,"blur",function(){return jH(Fp)})}function gpe(u){var h=u.display;h.cachedCharWidth=h.cachedTextHeight=h.cachedPaddingH=null,h.scrollbarsClipped=!1,u.setSize()}for(var of={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},ab=0;ab<10;ab++)of[ab+48]=of[ab+96]=String(ab);for(var bw=65;bw<=90;bw++)of[bw]=String.fromCharCode(bw);for(var lb=1;lb<=12;lb++)of[lb+111]=of[lb+63235]="F"+lb;var Ku={};Ku.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},Ku.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},Ku.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},Ku.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},Ku.default=x?Ku.macDefault:Ku.pcDefault;function vpe(u){var h=u.split(/-(?!$)/);u=h[h.length-1];for(var v,g,_,D,N=0;N<h.length-1;N++){var z=h[N];if(/^(cmd|meta|m)$/i.test(z))D=!0;else if(/^a(lt)?$/i.test(z))v=!0;else if(/^(c|ctrl|control)$/i.test(z))g=!0;else if(/^s(hift)?$/i.test(z))_=!0;else throw new Error("Unrecognized modifier name: "+z)}return v&&(u="Alt-"+u),g&&(u="Ctrl-"+u),D&&(u="Cmd-"+u),_&&(u="Shift-"+u),u}function bpe(u){var h={};for(var v in u)if(u.hasOwnProperty(v)){var g=u[v];if(/^(name|fallthrough|(de|at)tach)$/.test(v))continue;if(g=="..."){delete u[v];continue}for(var _=De(v.split(" "),vpe),D=0;D<_.length;D++){var N=void 0,z=void 0;D==_.length-1?(z=_.join(" "),N=g):(z=_.slice(0,D+1).join(" "),N="...");var H=h[z];if(!H)h[z]=N;else if(H!=N)throw new Error("Inconsistent bindings for "+z)}delete u[v]}for(var G in h)u[G]=h[G];return u}function Hp(u,h,v,g){h=yw(h);var _=h.call?h.call(u,g):h[u];if(_===!1)return"nothing";if(_==="...")return"multi";if(_!=null&&v(_))return"handled";if(h.fallthrough){if(Object.prototype.toString.call(h.fallthrough)!="[object Array]")return Hp(u,h.fallthrough,v,g);for(var D=0;D<h.fallthrough.length;D++){var N=Hp(u,h.fallthrough[D],v,g);if(N)return N}}}function UH(u){var h=typeof u=="string"?u:of[u.keyCode];return h=="Ctrl"||h=="Alt"||h=="Shift"||h=="Mod"}function qH(u,h,v){var g=u;return h.altKey&&g!="Alt"&&(u="Alt-"+u),(T?h.metaKey:h.ctrlKey)&&g!="Ctrl"&&(u="Ctrl-"+u),(T?h.ctrlKey:h.metaKey)&&g!="Mod"&&(u="Cmd-"+u),!v&&h.shiftKey&&g!="Shift"&&(u="Shift-"+u),u}function WH(u,h){if(m&&u.keyCode==34&&u.char)return!1;var v=of[u.keyCode];return v==null||u.altGraphKey?!1:(u.keyCode==3&&u.code&&(v=u.code),qH(v,u,h))}function yw(u){return typeof u=="string"?Ku[u]:u}function Up(u,h){for(var v=u.doc.sel.ranges,g=[],_=0;_<v.length;_++){for(var D=h(v[_]);g.length&&fr(D.from,re(g).to)<=0;){var N=g.pop();if(fr(N.from,D.from)<0){D.from=N.from;break}}g.push(D)}ya(u,function(){for(var z=g.length-1;z>=0;z--)zp(u.doc,"",g[z].from,g[z].to,"+delete");Rp(u)})}function xT(u,h,v){var g=xi(u.text,h+v,v);return g<0||g>u.text.length?null:g}function wT(u,h,v){var g=xT(u,h.ch,v);return g==null?null:new nt(h.line,g,v<0?"after":"before")}function CT(u,h,v,g,_){if(u){h.doc.direction=="rtl"&&(_=-_);var D=Qe(v,h.doc.direction);if(D){var N=_<0?re(D):D[0],z=_<0==(N.level==1),H=z?"after":"before",G;if(N.level>0||h.doc.direction=="rtl"){var ne=kp(h,v);G=_<0?v.text.length-1:0;var fe=Hc(h,ne,G).top;G=oi(function(Se){return Hc(h,ne,Se).top==fe},_<0==(N.level==1)?N.from:N.to-1,G),H=="before"&&(G=xT(v,G,1))}else G=_<0?N.to:N.from;return new nt(g,G,H)}}return new nt(g,_<0?v.text.length:0,_<0?"before":"after")}function ype(u,h,v,g){var _=Qe(h,u.doc.direction);if(!_)return wT(h,v,g);v.ch>=h.text.length?(v.ch=h.text.length,v.sticky="before"):v.ch<=0&&(v.ch=0,v.sticky="after");var D=Re(_,v.ch,v.sticky),N=_[D];if(u.doc.direction=="ltr"&&N.level%2==0&&(g>0?N.to>v.ch:N.from<v.ch))return wT(h,v,g);var z=function(gt,St){return xT(h,gt instanceof nt?gt.ch:gt,St)},H,G=function(gt){return u.options.lineWrapping?(H=H||kp(u,h),Xj(u,h,H,gt)):{begin:0,end:h.text.length}},ne=G(v.sticky=="before"?z(v,-1):v.ch);if(u.doc.direction=="rtl"||N.level==1){var fe=N.level==1==g<0,Se=z(v,fe?1:-1);if(Se!=null&&(fe?Se<=N.to&&Se<=ne.end:Se>=N.from&&Se>=ne.begin)){var ye=fe?"before":"after";return new nt(v.line,Se,ye)}}var je=function(gt,St,vt){for(var At=function(Hn,Co){return Co?new nt(v.line,z(Hn,1),"before"):new nt(v.line,Hn,"after")};gt>=0&&gt<_.length;gt+=St){var Qt=_[gt],Kt=St>0==(Qt.level!=1),zr=Kt?vt.begin:z(vt.end,-1);if(Qt.from<=zr&&zr<Qt.to||(zr=Kt?Qt.from:z(Qt.to,-1),vt.begin<=zr&&zr<vt.end))return At(zr,Kt)}},Ze=je(D+g,g,ne);if(Ze)return Ze;var lt=g>0?ne.end:z(ne.begin,-1);return lt!=null&&!(g>0&&lt==h.text.length)&&(Ze=je(g>0?0:_.length-1,g,G(lt)),Ze)?Ze:null}var cb={selectAll:TH,singleSelection:function(u){return u.setSelection(u.getCursor("anchor"),u.getCursor("head"),pe)},killLine:function(u){return Up(u,function(h){if(h.empty()){var v=Ut(u.doc,h.head.line).text.length;return h.head.ch==v&&h.head.line<u.lastLine()?{from:h.head,to:nt(h.head.line+1,0)}:{from:h.head,to:nt(h.head.line,v)}}else return{from:h.from(),to:h.to()}})},deleteLine:function(u){return Up(u,function(h){return{from:nt(h.from().line,0),to:Er(u.doc,nt(h.to().line+1,0))}})},delLineLeft:function(u){return Up(u,function(h){return{from:nt(h.from().line,0),to:h.from()}})},delWrappedLineLeft:function(u){return Up(u,function(h){var v=u.charCoords(h.head,"div").top+5,g=u.coordsChar({left:0,top:v},"div");return{from:g,to:h.from()}})},delWrappedLineRight:function(u){return Up(u,function(h){var v=u.charCoords(h.head,"div").top+5,g=u.coordsChar({left:u.display.lineDiv.offsetWidth+100,top:v},"div");return{from:h.from(),to:g}})},undo:function(u){return u.undo()},redo:function(u){return u.redo()},undoSelection:function(u){return u.undoSelection()},redoSelection:function(u){return u.redoSelection()},goDocStart:function(u){return u.extendSelection(nt(u.firstLine(),0))},goDocEnd:function(u){return u.extendSelection(nt(u.lastLine()))},goLineStart:function(u){return u.extendSelectionsBy(function(h){return $H(u,h.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(u){return u.extendSelectionsBy(function(h){return GH(u,h.head)},{origin:"+move",bias:1})},goLineEnd:function(u){return u.extendSelectionsBy(function(h){return _pe(u,h.head.line)},{origin:"+move",bias:-1})},goLineRight:function(u){return u.extendSelectionsBy(function(h){var v=u.cursorCoords(h.head,"div").top+5;return u.coordsChar({left:u.display.lineDiv.offsetWidth+100,top:v},"div")},Ee)},goLineLeft:function(u){return u.extendSelectionsBy(function(h){var v=u.cursorCoords(h.head,"div").top+5;return u.coordsChar({left:0,top:v},"div")},Ee)},goLineLeftSmart:function(u){return u.extendSelectionsBy(function(h){var v=u.cursorCoords(h.head,"div").top+5,g=u.coordsChar({left:0,top:v},"div");return g.ch<u.getLine(g.line).search(/\S/)?GH(u,h.head):g},Ee)},goLineUp:function(u){return u.moveV(-1,"line")},goLineDown:function(u){return u.moveV(1,"line")},goPageUp:function(u){return u.moveV(-1,"page")},goPageDown:function(u){return u.moveV(1,"page")},goCharLeft:function(u){return u.moveH(-1,"char")},goCharRight:function(u){return u.moveH(1,"char")},goColumnLeft:function(u){return u.moveH(-1,"column")},goColumnRight:function(u){return u.moveH(1,"column")},goWordLeft:function(u){return u.moveH(-1,"word")},goGroupRight:function(u){return u.moveH(1,"group")},goGroupLeft:function(u){return u.moveH(-1,"group")},goWordRight:function(u){return u.moveH(1,"word")},delCharBefore:function(u){return u.deleteH(-1,"codepoint")},delCharAfter:function(u){return u.deleteH(1,"char")},delWordBefore:function(u){return u.deleteH(-1,"word")},delWordAfter:function(u){return u.deleteH(1,"word")},delGroupBefore:function(u){return u.deleteH(-1,"group")},delGroupAfter:function(u){return u.deleteH(1,"group")},indentAuto:function(u){return u.indentSelection("smart")},indentMore:function(u){return u.indentSelection("add")},indentLess:function(u){return u.indentSelection("subtract")},insertTab:function(u){return u.replaceSelection("	")},insertSoftTab:function(u){for(var h=[],v=u.listSelections(),g=u.options.tabSize,_=0;_<v.length;_++){var D=v[_].from(),N=ke(u.getLine(D.line),D.ch,g);h.push(te(g-N%g))}u.replaceSelections(h)},defaultTab:function(u){u.somethingSelected()?u.indentSelection("add"):u.execCommand("insertTab")},transposeChars:function(u){return ya(u,function(){for(var h=u.listSelections(),v=[],g=0;g<h.length;g++)if(h[g].empty()){var _=h[g].head,D=Ut(u.doc,_.line).text;if(D){if(_.ch==D.length&&(_=new nt(_.line,_.ch-1)),_.ch>0)_=new nt(_.line,_.ch+1),u.replaceRange(D.charAt(_.ch-1)+D.charAt(_.ch-2),nt(_.line,_.ch-2),_,"+transpose");else if(_.line>u.doc.first){var N=Ut(u.doc,_.line-1).text;N&&(_=new nt(_.line,1),u.replaceRange(D.charAt(0)+u.doc.lineSeparator()+N.charAt(N.length-1),nt(_.line-1,N.length-1),_,"+transpose"))}}v.push(new _n(_,_))}u.setSelections(v)})},newlineAndIndent:function(u){return ya(u,function(){for(var h=u.listSelections(),v=h.length-1;v>=0;v--)u.replaceRange(u.doc.lineSeparator(),h[v].anchor,h[v].head,"+input");h=u.listSelections();for(var g=0;g<h.length;g++)u.indentLine(h[g].from().line,null,!0);Rp(u)})},openLine:function(u){return u.replaceSelection(`
`,"start")},toggleOverwrite:function(u){return u.toggleOverwrite()}};function $H(u,h){var v=Ut(u.doc,h),g=nc(v);return g!=v&&(h=yn(g)),CT(!0,u,g,h,1)}function _pe(u,h){var v=Ut(u.doc,h),g=nme(v);return g!=v&&(h=yn(g)),CT(!0,u,v,h,-1)}function GH(u,h){var v=$H(u,h.line),g=Ut(u.doc,v.line),_=Qe(g,u.doc.direction);if(!_||_[0].level==0){var D=Math.max(v.ch,g.text.search(/\S/)),N=h.line==v.line&&h.ch<=D&&h.ch;return nt(v.line,N?0:D,v.sticky)}return v}function _w(u,h,v){if(typeof h=="string"&&(h=cb[h],!h))return!1;u.display.input.ensurePolled();var g=u.display.shift,_=!1;try{u.isReadOnly()&&(u.state.suppressEdits=!0),v&&(u.display.shift=!1),_=h(u)!=le}finally{u.display.shift=g,u.state.suppressEdits=!1}return _}function xpe(u,h,v){for(var g=0;g<u.state.keyMaps.length;g++){var _=Hp(h,u.state.keyMaps[g],v,u);if(_)return _}return u.options.extraKeys&&Hp(h,u.options.extraKeys,v,u)||Hp(h,u.options.keyMap,v,u)}var wpe=new be;function ub(u,h,v,g){var _=u.state.keySeq;if(_){if(UH(h))return"handled";if(/\'$/.test(h)?u.state.keySeq=null:wpe.set(50,function(){u.state.keySeq==_&&(u.state.keySeq=null,u.display.input.reset())}),YH(u,_+" "+h,v,g))return!0}return YH(u,h,v,g)}function YH(u,h,v,g){var _=xpe(u,h,g);return _=="multi"&&(u.state.keySeq=h),_=="handled"&&_o(u,"keyHandled",u,h,v),(_=="handled"||_=="multi")&&(Lr(v),oT(u)),!!_}function KH(u,h){var v=WH(h,!0);return v?h.shiftKey&&!u.state.keySeq?ub(u,"Shift-"+v,h,function(g){return _w(u,g,!0)})||ub(u,v,h,function(g){if(typeof g=="string"?/^go[A-Z]/.test(g):g.motion)return _w(u,g)}):ub(u,v,h,function(g){return _w(u,g)}):!1}function Cpe(u,h,v){return ub(u,"'"+v+"'",h,function(g){return _w(u,g,!0)})}var ST=null;function XH(u){var h=this;if(!(u.target&&u.target!=h.display.input.getField())&&(h.curOp.focus=L(me(h)),!_e(h,u))){s&&a<11&&u.keyCode==27&&(u.returnValue=!1);var v=u.keyCode;h.display.shift=v==16||u.shiftKey;var g=KH(h,u);m&&(ST=g?v:null,!g&&v==88&&!RA&&(x?u.metaKey:u.ctrlKey)&&h.replaceSelection("",null,"cut")),e&&!x&&!g&&v==46&&u.shiftKey&&!u.ctrlKey&&document.execCommand&&document.execCommand("cut"),v==18&&!/\bCodeMirror-crosshair\b/.test(h.display.lineDiv.className)&&Spe(h)}}function Spe(u){var h=u.display.lineDiv;Z(h,"CodeMirror-crosshair");function v(g){(g.keyCode==18||!g.altKey)&&(O(h,"CodeMirror-crosshair"),B(document,"keyup",v),B(document,"mouseover",v))}Le(document,"keyup",v),Le(document,"mouseover",v)}function ZH(u){u.keyCode==16&&(this.doc.sel.shift=!1),_e(this,u)}function QH(u){var h=this;if(!(u.target&&u.target!=h.display.input.getField())&&!(Gu(h.display,u)||_e(h,u)||u.ctrlKey&&!u.altKey||x&&u.metaKey)){var v=u.keyCode,g=u.charCode;if(m&&v==ST){ST=null,Lr(u);return}if(!(m&&(!u.which||u.which<10)&&KH(h,u))){var _=String.fromCharCode(g??v);_!="\b"&&(Cpe(h,u,_)||h.display.input.onKeyPress(u))}}}var Dpe=400,DT=function(u,h,v){this.time=u,this.pos=h,this.button=v};DT.prototype.compare=function(u,h,v){return this.time+Dpe>u&&fr(h,this.pos)==0&&v==this.button};var db,fb;function Epe(u,h){var v=+new Date;return fb&&fb.compare(v,u,h)?(db=fb=null,"triple"):db&&db.compare(v,u,h)?(fb=new DT(v,u,h),db=null,"double"):(db=new DT(v,u,h),fb=null,"single")}function JH(u){var h=this,v=h.display;if(!(_e(h,u)||v.activeTouch&&v.input.supportsTouch())){if(v.input.ensurePolled(),v.shift=u.shiftKey,Gu(v,u)){l||(v.scroller.draggable=!1,setTimeout(function(){return v.scroller.draggable=!0},100));return}if(!ET(h,u)){var g=Lh(h,u),_=Wx(u),D=g?Epe(g,_):"single";se(h).focus(),_==1&&h.state.selectingText&&h.state.selectingText(u),!(g&&Mpe(h,_,g,D,u))&&(_==1?g?Tpe(h,g,D,u):Yd(u)==v.scroller&&Lr(u):_==2?(g&&mw(h.doc,g),setTimeout(function(){return v.input.focus()},20)):_==3&&(k?h.display.input.onContextMenu(u):sT(h)))}}}function Mpe(u,h,v,g,_){var D="Click";return g=="double"?D="Double"+D:g=="triple"&&(D="Triple"+D),D=(h==1?"Left":h==2?"Middle":"Right")+D,ub(u,qH(D,_),_,function(N){if(typeof N=="string"&&(N=cb[N]),!N)return!1;var z=!1;try{u.isReadOnly()&&(u.state.suppressEdits=!0),z=N(u,v)!=le}finally{u.state.suppressEdits=!1}return z})}function Ape(u,h,v){var g=u.getOption("configureMouse"),_=g?g(u,h,v):{};if(_.unit==null){var D=M?v.shiftKey&&v.metaKey:v.altKey;_.unit=D?"rectangle":h=="single"?"char":h=="double"?"word":"line"}return(_.extend==null||u.doc.extend)&&(_.extend=u.doc.extend||v.shiftKey),_.addNew==null&&(_.addNew=x?v.metaKey:v.ctrlKey),_.moveOnDrag==null&&(_.moveOnDrag=!(x?v.altKey:v.ctrlKey)),_}function Tpe(u,h,v,g){s?setTimeout(Q(eH,u),0):u.curOp.focus=L(me(u));var _=Ape(u,v,g),D=u.doc.sel,N;u.options.dragDrop&&kA&&!u.isReadOnly()&&v=="single"&&(N=D.contains(h))>-1&&(fr((N=D.ranges[N]).from(),h)<0||h.xRel>0)&&(fr(N.to(),h)>0||h.xRel<0)?Ipe(u,g,h,_):kpe(u,g,h,_)}function Ipe(u,h,v,g){var _=u.display,D=!1,N=xo(u,function(G){l&&(_.scroller.draggable=!1),u.state.draggingText=!1,u.state.delayingBlurEvent&&(u.hasFocus()?u.state.delayingBlurEvent=!1:sT(u)),B(_.wrapper.ownerDocument,"mouseup",N),B(_.wrapper.ownerDocument,"mousemove",z),B(_.scroller,"dragstart",H),B(_.scroller,"drop",N),D||(Lr(G),g.addNew||mw(u.doc,v,null,null,g.extend),l&&!p||s&&a==9?setTimeout(function(){_.wrapper.ownerDocument.body.focus({preventScroll:!0}),_.input.focus()},20):_.input.focus())}),z=function(G){D=D||Math.abs(h.clientX-G.clientX)+Math.abs(h.clientY-G.clientY)>=10},H=function(){return D=!0};l&&(_.scroller.draggable=!0),u.state.draggingText=N,N.copy=!g.moveOnDrag,Le(_.wrapper.ownerDocument,"mouseup",N),Le(_.wrapper.ownerDocument,"mousemove",z),Le(_.scroller,"dragstart",H),Le(_.scroller,"drop",N),u.state.delayingBlurEvent=!0,setTimeout(function(){return _.input.focus()},20),_.scroller.dragDrop&&_.scroller.dragDrop()}function eU(u,h,v){if(v=="char")return new _n(h,h);if(v=="word")return u.findWordAt(h);if(v=="line")return new _n(nt(h.line,0),Er(u.doc,nt(h.line+1,0)));var g=v(u,h);return new _n(g.from,g.to)}function kpe(u,h,v,g){s&&sT(u);var _=u.display,D=u.doc;Lr(h);var N,z,H=D.sel,G=H.ranges;if(g.addNew&&!g.extend?(z=D.sel.contains(v),z>-1?N=G[z]:N=new _n(v,v)):(N=D.sel.primary(),z=D.sel.primIndex),g.unit=="rectangle")g.addNew||(N=new _n(v,v)),v=Lh(u,h,!0,!0),z=-1;else{var ne=eU(u,v,g.unit);g.extend?N=yT(N,ne.anchor,ne.head,g.extend):N=ne}g.addNew?z==-1?(z=G.length,ns(D,oc(u,G.concat([N]),z),{scroll:!1,origin:"*mouse"})):G.length>1&&G[z].empty()&&g.unit=="char"&&!g.extend?(ns(D,oc(u,G.slice(0,z).concat(G.slice(z+1)),0),{scroll:!1,origin:"*mouse"}),H=D.sel):_T(D,z,N,ve):(z=0,ns(D,new Wa([N],0),ve),H=D.sel);var fe=v;function Se(vt){if(fr(fe,vt)!=0)if(fe=vt,g.unit=="rectangle"){for(var At=[],Qt=u.options.tabSize,Kt=ke(Ut(D,v.line).text,v.ch,Qt),zr=ke(Ut(D,vt.line).text,vt.ch,Qt),Hn=Math.min(Kt,zr),Co=Math.max(Kt,zr),wi=Math.min(v.line,vt.line),_a=Math.min(u.lastLine(),Math.max(v.line,vt.line));wi<=_a;wi++){var Qs=Ut(D,wi).text,Xi=Ie(Qs,Hn,Qt);Hn==Co?At.push(new _n(nt(wi,Xi),nt(wi,Xi))):Qs.length>Xi&&At.push(new _n(nt(wi,Xi),nt(wi,Ie(Qs,Co,Qt))))}At.length||At.push(new _n(v,v)),ns(D,oc(u,H.ranges.slice(0,z).concat(At),z),{origin:"*mouse",scroll:!1}),u.scrollIntoView(vt)}else{var Js=N,Vo=eU(u,vt,g.unit),lo=Js.anchor,Zi;fr(Vo.anchor,lo)>0?(Zi=Vo.head,lo=Yx(Js.from(),Vo.anchor)):(Zi=Vo.anchor,lo=Gx(Js.to(),Vo.head));var Pi=H.ranges.slice(0);Pi[z]=Npe(u,new _n(Er(D,lo),Zi)),ns(D,oc(u,Pi,z),ve)}}var ye=_.wrapper.getBoundingClientRect(),je=0;function Ze(vt){var At=++je,Qt=Lh(u,vt,!0,g.unit=="rectangle");if(Qt)if(fr(Qt,fe)!=0){u.curOp.focus=L(me(u)),Se(Qt);var Kt=lw(_,D);(Qt.line>=Kt.to||Qt.line<Kt.from)&&setTimeout(xo(u,function(){je==At&&Ze(vt)}),150)}else{var zr=vt.clientY<ye.top?-20:vt.clientY>ye.bottom?20:0;zr&&setTimeout(xo(u,function(){je==At&&(_.scroller.scrollTop+=zr,Ze(vt))}),50)}}function lt(vt){u.state.selectingText=!1,je=1/0,vt&&(Lr(vt),_.input.focus()),B(_.wrapper.ownerDocument,"mousemove",gt),B(_.wrapper.ownerDocument,"mouseup",St),D.history.lastSelOrigin=null}var gt=xo(u,function(vt){vt.buttons===0||!Wx(vt)?lt(vt):Ze(vt)}),St=xo(u,lt);u.state.selectingText=St,Le(_.wrapper.ownerDocument,"mousemove",gt),Le(_.wrapper.ownerDocument,"mouseup",St)}function Npe(u,h){var v=h.anchor,g=h.head,_=Ut(u.doc,v.line);if(fr(v,g)==0&&v.sticky==g.sticky)return h;var D=Qe(_);if(!D)return h;var N=Re(D,v.ch,v.sticky),z=D[N];if(z.from!=v.ch&&z.to!=v.ch)return h;var H=N+(z.from==v.ch==(z.level!=1)?0:1);if(H==0||H==D.length)return h;var G;if(g.line!=v.line)G=(g.line-v.line)*(u.doc.direction=="ltr"?1:-1)>0;else{var ne=Re(D,g.ch,g.sticky),fe=ne-N||(g.ch-v.ch)*(z.level==1?-1:1);ne==H-1||ne==H?G=fe<0:G=fe>0}var Se=D[H+(G?-1:0)],ye=G==(Se.level==1),je=ye?Se.from:Se.to,Ze=ye?"after":"before";return v.ch==je&&v.sticky==Ze?h:new _n(new nt(v.line,je,Ze),g)}function tU(u,h,v,g){var _,D;if(h.touches)_=h.touches[0].clientX,D=h.touches[0].clientY;else try{_=h.clientX,D=h.clientY}catch{return!1}if(_>=Math.floor(u.display.gutters.getBoundingClientRect().right))return!1;g&&Lr(h);var N=u.display,z=N.lineDiv.getBoundingClientRect();if(D>z.bottom||!Ct(u,v))return Ks(h);D-=z.top-N.viewOffset;for(var H=0;H<u.display.gutterSpecs.length;++H){var G=N.gutters.childNodes[H];if(G&&G.getBoundingClientRect().right>=_){var ne=qa(u.doc,D),fe=u.display.gutterSpecs[H];return J(u,v,u,ne,fe.className,h),Ks(h)}}}function ET(u,h){return tU(u,h,"gutterClick",!0)}function rU(u,h){Gu(u.display,h)||Ope(u,h)||_e(u,h,"contextmenu")||k||u.display.input.onContextMenu(h)}function Ope(u,h){return Ct(u,"gutterContextMenu")?tU(u,h,"gutterContextMenu",!1):!1}function nU(u){u.display.wrapper.className=u.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+u.options.theme.replace(/(^|\s)\s*/g," cm-s-"),$0(u)}var qp={toString:function(){return"CodeMirror.Init"}},iU={},xw={};function Fpe(u){var h=u.optionHandlers;function v(g,_,D,N){u.defaults[g]=_,D&&(h[g]=N?function(z,H,G){G!=qp&&D(z,H,G)}:D)}u.defineOption=v,u.Init=qp,v("value","",function(g,_){return g.setValue(_)},!0),v("mode",null,function(g,_){g.doc.modeOption=_,gT(g)},!0),v("indentUnit",2,gT,!0),v("indentWithTabs",!1),v("smartIndent",!0),v("tabSize",4,function(g){eb(g),$0(g),Xs(g)},!0),v("lineSeparator",null,function(g,_){if(g.doc.lineSep=_,!!_){var D=[],N=g.doc.first;g.doc.iter(function(H){for(var G=0;;){var ne=H.text.indexOf(_,G);if(ne==-1)break;G=ne+_.length,D.push(nt(N,ne))}N++});for(var z=D.length-1;z>=0;z--)zp(g.doc,_,D[z],nt(D[z].line,D[z].ch+_.length))}}),v("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b\u200e\u200f\u2028\u2029\ufeff\ufff9-\ufffc]/g,function(g,_,D){g.state.specialChars=new RegExp(_.source+(_.test("	")?"":"|	"),"g"),D!=qp&&g.refresh()}),v("specialCharPlaceholder",cme,function(g){return g.refresh()},!0),v("electricChars",!0),v("inputStyle",A?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),v("spellcheck",!1,function(g,_){return g.getInputField().spellcheck=_},!0),v("autocorrect",!1,function(g,_){return g.getInputField().autocorrect=_},!0),v("autocapitalize",!1,function(g,_){return g.getInputField().autocapitalize=_},!0),v("rtlMoveVisually",!E),v("wholeLineUpdateBefore",!0),v("theme","default",function(g){nU(g),J0(g)},!0),v("keyMap","default",function(g,_,D){var N=yw(_),z=D!=qp&&yw(D);z&&z.detach&&z.detach(g,N),N.attach&&N.attach(g,z||null)}),v("extraKeys",null),v("configureMouse",null),v("lineWrapping",!1,Ppe,!0),v("gutters",[],function(g,_){g.display.gutterSpecs=mT(_,g.options.lineNumbers),J0(g)},!0),v("fixedGutter",!0,function(g,_){g.display.gutters.style.left=_?rT(g.display)+"px":"0",g.refresh()},!0),v("coverGutterNextToScrollbar",!1,function(g){return Pp(g)},!0),v("scrollbarStyle","native",function(g){sH(g),Pp(g),g.display.scrollbars.setScrollTop(g.doc.scrollTop),g.display.scrollbars.setScrollLeft(g.doc.scrollLeft)},!0),v("lineNumbers",!1,function(g,_){g.display.gutterSpecs=mT(g.options.gutters,_),J0(g)},!0),v("firstLineNumber",1,J0,!0),v("lineNumberFormatter",function(g){return g},J0,!0),v("showCursorWhenSelecting",!1,G0,!0),v("resetSelectionOnContextMenu",!0),v("lineWiseCopyCut",!0),v("pasteLinesPerSelection",!0),v("selectionsMayTouch",!1),v("readOnly",!1,function(g,_){_=="nocursor"&&(Fp(g),g.display.input.blur()),g.display.input.readOnlyChanged(_)}),v("screenReaderLabel",null,function(g,_){_=_===""?null:_,g.display.input.screenReaderLabelChanged(_)}),v("disableInput",!1,function(g,_){_||g.display.input.reset()},!0),v("dragDrop",!0,Rpe),v("allowDropFileTypes",null),v("cursorBlinkRate",530),v("cursorScrollMargin",0),v("cursorHeight",1,G0,!0),v("singleCursorHeightPerLine",!0,G0,!0),v("workTime",100),v("workDelay",100),v("flattenSpans",!0,eb,!0),v("addModeClass",!1,eb,!0),v("pollInterval",100),v("undoDepth",200,function(g,_){return g.doc.history.undoDepth=_}),v("historyEventDelay",1250),v("viewportMargin",10,function(g){return g.refresh()},!0),v("maxHighlightLength",1e4,eb,!0),v("moveInputWithCursor",!0,function(g,_){_||g.display.input.resetPosition()}),v("tabindex",null,function(g,_){return g.display.input.getField().tabIndex=_||""}),v("autofocus",null),v("direction","ltr",function(g,_){return g.doc.setDirection(_)},!0),v("phrases",null)}function Rpe(u,h,v){var g=v&&v!=qp;if(!h!=!g){var _=u.display.dragFunctions,D=h?Le:B;D(u.display.scroller,"dragstart",_.start),D(u.display.scroller,"dragenter",_.enter),D(u.display.scroller,"dragover",_.over),D(u.display.scroller,"dragleave",_.leave),D(u.display.scroller,"drop",_.drop)}}function Ppe(u){u.options.lineWrapping?(Z(u.display.wrapper,"CodeMirror-wrap"),u.display.sizer.style.minWidth="",u.display.sizerWidth=null):(O(u.display.wrapper,"CodeMirror-wrap"),$A(u)),nT(u),Xs(u),$0(u),setTimeout(function(){return Pp(u)},100)}function pi(u,h){var v=this;if(!(this instanceof pi))return new pi(u,h);this.options=h=h?he(h):{},he(iU,h,!1);var g=h.value;typeof g=="string"?g=new Zs(g,h.mode,null,h.lineSeparator,h.direction):h.mode&&(g.modeOption=h.mode),this.doc=g;var _=new pi.inputStyles[h.inputStyle](this),D=this.display=new Kme(u,g,_,h);D.wrapper.CodeMirror=this,nU(this),h.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),sH(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new be,keySeq:null,specialChars:null},h.autofocus&&!A&&D.input.focus(),s&&a<11&&setTimeout(function(){return v.display.input.reset(!0)},20),Lpe(this),mpe(),jh(this),this.curOp.forceUpdate=!0,gH(this,g),h.autofocus&&!A||this.hasFocus()?setTimeout(function(){v.hasFocus()&&!v.state.focused&&aT(v)},20):Fp(this);for(var N in xw)xw.hasOwnProperty(N)&&xw[N](this,h[N],qp);cH(this),h.finishInit&&h.finishInit(this);for(var z=0;z<MT.length;++z)MT[z](this);Hh(this),l&&h.lineWrapping&&getComputedStyle(D.lineDiv).textRendering=="optimizelegibility"&&(D.lineDiv.style.textRendering="auto")}pi.defaults=iU,pi.optionHandlers=xw;function Lpe(u){var h=u.display;Le(h.scroller,"mousedown",xo(u,JH)),s&&a<11?Le(h.scroller,"dblclick",xo(u,function(H){if(!_e(u,H)){var G=Lh(u,H);if(!(!G||ET(u,H)||Gu(u.display,H))){Lr(H);var ne=u.findWordAt(G);mw(u.doc,ne.anchor,ne.head)}}})):Le(h.scroller,"dblclick",function(H){return _e(u,H)||Lr(H)}),Le(h.scroller,"contextmenu",function(H){return rU(u,H)}),Le(h.input.getField(),"contextmenu",function(H){h.scroller.contains(H.target)||rU(u,H)});var v,g={end:0};function _(){h.activeTouch&&(v=setTimeout(function(){return h.activeTouch=null},1e3),g=h.activeTouch,g.end=+new Date)}function D(H){if(H.touches.length!=1)return!1;var G=H.touches[0];return G.radiusX<=1&&G.radiusY<=1}function N(H,G){if(G.left==null)return!0;var ne=G.left-H.left,fe=G.top-H.top;return ne*ne+fe*fe>20*20}Le(h.scroller,"touchstart",function(H){if(!_e(u,H)&&!D(H)&&!ET(u,H)){h.input.ensurePolled(),clearTimeout(v);var G=+new Date;h.activeTouch={start:G,moved:!1,prev:G-g.end<=300?g:null},H.touches.length==1&&(h.activeTouch.left=H.touches[0].pageX,h.activeTouch.top=H.touches[0].pageY)}}),Le(h.scroller,"touchmove",function(){h.activeTouch&&(h.activeTouch.moved=!0)}),Le(h.scroller,"touchend",function(H){var G=h.activeTouch;if(G&&!Gu(h,H)&&G.left!=null&&!G.moved&&new Date-G.start<300){var ne=u.coordsChar(h.activeTouch,"page"),fe;!G.prev||N(G,G.prev)?fe=new _n(ne,ne):!G.prev.prev||N(G,G.prev.prev)?fe=u.findWordAt(ne):fe=new _n(nt(ne.line,0),Er(u.doc,nt(ne.line+1,0))),u.setSelection(fe.anchor,fe.head),u.focus(),Lr(H)}_()}),Le(h.scroller,"touchcancel",_),Le(h.scroller,"scroll",function(){h.scroller.clientHeight&&(K0(u,h.scroller.scrollTop),Vh(u,h.scroller.scrollLeft,!0),J(u,"scroll",u))}),Le(h.scroller,"mousewheel",function(H){return fH(u,H)}),Le(h.scroller,"DOMMouseScroll",function(H){return fH(u,H)}),Le(h.wrapper,"scroll",function(){return h.wrapper.scrollTop=h.wrapper.scrollLeft=0}),h.dragFunctions={enter:function(H){_e(u,H)||Sl(H)},over:function(H){_e(u,H)||(hpe(u,H),Sl(H))},start:function(H){return fpe(u,H)},drop:xo(u,dpe),leave:function(H){_e(u,H)||zH(u)}};var z=h.input.getField();Le(z,"keyup",function(H){return ZH.call(u,H)}),Le(z,"keydown",xo(u,XH)),Le(z,"keypress",xo(u,QH)),Le(z,"focus",function(H){return aT(u,H)}),Le(z,"blur",function(H){return Fp(u,H)})}var MT=[];pi.defineInitHook=function(u){return MT.push(u)};function hb(u,h,v,g){var _=u.doc,D;v==null&&(v="add"),v=="smart"&&(_.mode.indent?D=j0(u,h).state:v="prev");var N=u.options.tabSize,z=Ut(_,h),H=ke(z.text,null,N);z.stateAfter&&(z.stateAfter=null);var G=z.text.match(/^\s*/)[0],ne;if(!g&&!/\S/.test(z.text))ne=0,v="not";else if(v=="smart"&&(ne=_.mode.indent(D,z.text.slice(G.length),z.text),ne==le||ne>150)){if(!g)return;v="prev"}v=="prev"?h>_.first?ne=ke(Ut(_,h-1).text,null,N):ne=0:v=="add"?ne=H+u.options.indentUnit:v=="subtract"?ne=H-u.options.indentUnit:typeof v=="number"&&(ne=H+v),ne=Math.max(0,ne);var fe="",Se=0;if(u.options.indentWithTabs)for(var ye=Math.floor(ne/N);ye;--ye)Se+=N,fe+="	";if(Se<ne&&(fe+=te(ne-Se)),fe!=G)return zp(_,fe,nt(h,0),nt(h,G.length),"+input"),z.stateAfter=null,!0;for(var je=0;je<_.sel.ranges.length;je++){var Ze=_.sel.ranges[je];if(Ze.head.line==h&&Ze.head.ch<G.length){var lt=nt(h,G.length);_T(_,je,new _n(lt,lt));break}}}var sc=null;function ww(u){sc=u}function AT(u,h,v,g,_){var D=u.doc;u.display.shift=!1,g||(g=D.sel);var N=+new Date-200,z=_=="paste"||u.state.pasteIncoming>N,H=F0(h),G=null;if(z&&g.ranges.length>1)if(sc&&sc.text.join(`
`)==h){if(g.ranges.length%sc.text.length==0){G=[];for(var ne=0;ne<sc.text.length;ne++)G.push(D.splitLines(sc.text[ne]))}}else H.length==g.ranges.length&&u.options.pasteLinesPerSelection&&(G=De(H,function(gt){return[gt]}));for(var fe=u.curOp.updateInput,Se=g.ranges.length-1;Se>=0;Se--){var ye=g.ranges[Se],je=ye.from(),Ze=ye.to();ye.empty()&&(v&&v>0?je=nt(je.line,je.ch-v):u.state.overwrite&&!z?Ze=nt(Ze.line,Math.min(Ut(D,Ze.line).text.length,Ze.ch+re(H).length)):z&&sc&&sc.lineWise&&sc.text.join(`
`)==H.join(`
`)&&(je=Ze=nt(je.line,0)));var lt={from:je,to:Ze,text:G?G[Se%G.length]:H,origin:_||(z?"paste":u.state.cutIncoming>N?"cut":"+input")};Vp(u.doc,lt),_o(u,"inputRead",u,lt)}h&&!z&&sU(u,h),Rp(u),u.curOp.updateInput<2&&(u.curOp.updateInput=fe),u.curOp.typing=!0,u.state.pasteIncoming=u.state.cutIncoming=-1}function oU(u,h){var v=u.clipboardData&&u.clipboardData.getData("Text");if(v)return u.preventDefault(),!h.isReadOnly()&&!h.options.disableInput&&h.hasFocus()&&ya(h,function(){return AT(h,v,0,null,"paste")}),!0}function sU(u,h){if(!(!u.options.electricChars||!u.options.smartIndent))for(var v=u.doc.sel,g=v.ranges.length-1;g>=0;g--){var _=v.ranges[g];if(!(_.head.ch>100||g&&v.ranges[g-1].head.line==_.head.line)){var D=u.getModeAt(_.head),N=!1;if(D.electricChars){for(var z=0;z<D.electricChars.length;z++)if(h.indexOf(D.electricChars.charAt(z))>-1){N=hb(u,_.head.line,"smart");break}}else D.electricInput&&D.electricInput.test(Ut(u.doc,_.head.line).text.slice(0,_.head.ch))&&(N=hb(u,_.head.line,"smart"));N&&_o(u,"electricInput",u,_.head.line)}}}function aU(u){for(var h=[],v=[],g=0;g<u.doc.sel.ranges.length;g++){var _=u.doc.sel.ranges[g].head.line,D={anchor:nt(_,0),head:nt(_+1,0)};v.push(D),h.push(u.getRange(D.anchor,D.head))}return{text:h,ranges:v}}function lU(u,h,v,g){u.setAttribute("autocorrect",v?"":"off"),u.setAttribute("autocapitalize",g?"":"off"),u.setAttribute("spellcheck",!!h)}function cU(){var u=q("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; min-height: 1em; outline: none"),h=q("div",[u],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return l?u.style.width="1000px":u.setAttribute("wrap","off"),C&&(u.style.border="1px solid black"),lU(u),h}function Bpe(u){var h=u.optionHandlers,v=u.helpers={};u.prototype={constructor:u,focus:function(){se(this).focus(),this.display.input.focus()},setOption:function(g,_){var D=this.options,N=D[g];D[g]==_&&g!="mode"||(D[g]=_,h.hasOwnProperty(g)&&xo(this,h[g])(this,_,N),J(this,"optionChange",this,g))},getOption:function(g){return this.options[g]},getDoc:function(){return this.doc},addKeyMap:function(g,_){this.state.keyMaps[_?"push":"unshift"](yw(g))},removeKeyMap:function(g){for(var _=this.state.keyMaps,D=0;D<_.length;++D)if(_[D]==g||_[D].name==g)return _.splice(D,1),!0},addOverlay:_s(function(g,_){var D=g.token?g:u.getMode(this.options,g);if(D.startState)throw new Error("Overlays may not be stateful.");Ae(this.state.overlays,{mode:D,modeSpec:g,opaque:_&&_.opaque,priority:_&&_.priority||0},function(N){return N.priority}),this.state.modeGen++,Xs(this)}),removeOverlay:_s(function(g){for(var _=this.state.overlays,D=0;D<_.length;++D){var N=_[D].modeSpec;if(N==g||typeof g=="string"&&N.name==g){_.splice(D,1),this.state.modeGen++,Xs(this);return}}}),indentLine:_s(function(g,_,D){typeof _!="string"&&typeof _!="number"&&(_==null?_=this.options.smartIndent?"smart":"prev":_=_?"add":"subtract"),cn(this.doc,g)&&hb(this,g,_,D)}),indentSelection:_s(function(g){for(var _=this.doc.sel.ranges,D=-1,N=0;N<_.length;N++){var z=_[N];if(z.empty())z.head.line>D&&(hb(this,z.head.line,g,!0),D=z.head.line,N==this.doc.sel.primIndex&&Rp(this));else{var H=z.from(),G=z.to(),ne=Math.max(D,H.line);D=Math.min(this.lastLine(),G.line-(G.ch?0:1))+1;for(var fe=ne;fe<D;++fe)hb(this,fe,g);var Se=this.doc.sel.ranges;H.ch==0&&_.length==Se.length&&Se[N].from().ch>0&&_T(this.doc,N,new _n(H,Se[N].to()),pe)}}}),getTokenAt:function(g,_){return bj(this,g,_)},getLineTokens:function(g,_){return bj(this,nt(g),_,!0)},getTokenTypeAt:function(g){g=Er(this.doc,g);var _=pj(this,Ut(this.doc,g.line)),D=0,N=(_.length-1)/2,z=g.ch,H;if(z==0)H=_[2];else for(;;){var G=D+N>>1;if((G?_[G*2-1]:0)>=z)N=G;else if(_[G*2+1]<z)D=G+1;else{H=_[G*2+2];break}}var ne=H?H.indexOf("overlay "):-1;return ne<0?H:ne==0?null:H.slice(0,ne-1)},getModeAt:function(g){var _=this.doc.mode;return _.innerMode?u.innerMode(_,this.getTokenAt(g).state).mode:_},getHelper:function(g,_){return this.getHelpers(g,_)[0]},getHelpers:function(g,_){var D=[];if(!v.hasOwnProperty(_))return D;var N=v[_],z=this.getModeAt(g);if(typeof z[_]=="string")N[z[_]]&&D.push(N[z[_]]);else if(z[_])for(var H=0;H<z[_].length;H++){var G=N[z[_][H]];G&&D.push(G)}else z.helperType&&N[z.helperType]?D.push(N[z.helperType]):N[z.name]&&D.push(N[z.name]);for(var ne=0;ne<N._global.length;ne++){var fe=N._global[ne];fe.pred(z,this)&&ee(D,fe.val)==-1&&D.push(fe.val)}return D},getStateAfter:function(g,_){var D=this.doc;return g=fj(D,g??D.first+D.size-1),j0(this,g+1,_).state},cursorCoords:function(g,_){var D,N=this.doc.sel.primary();return g==null?D=N.head:typeof g=="object"?D=Er(this.doc,g):D=g?N.from():N.to(),ic(this,D,_||"page")},charCoords:function(g,_){return iw(this,Er(this.doc,g),_||"page")},coordsChar:function(g,_){return g=Gj(this,g,_||"page"),JA(this,g.left,g.top)},lineAtHeight:function(g,_){return g=Gj(this,{top:g,left:0},_||"page").top,qa(this.doc,g+this.display.viewOffset)},heightAtLine:function(g,_,D){var N=!1,z;if(typeof g=="number"){var H=this.doc.first+this.doc.size-1;g<this.doc.first?g=this.doc.first:g>H&&(g=H,N=!0),z=Ut(this.doc,g)}else z=g;return nw(this,z,{top:0,left:0},_||"page",D||N).top+(N?this.doc.height-$u(z):0)},defaultTextHeight:function(){return Np(this.display)},defaultCharWidth:function(){return Op(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(g,_,D,N,z){var H=this.display;g=ic(this,Er(this.doc,g));var G=g.bottom,ne=g.left;if(_.style.position="absolute",_.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(_),H.sizer.appendChild(_),N=="over")G=g.top;else if(N=="above"||N=="near"){var fe=Math.max(H.wrapper.clientHeight,this.doc.height),Se=Math.max(H.sizer.clientWidth,H.lineSpace.clientWidth);(N=="above"||g.bottom+_.offsetHeight>fe)&&g.top>_.offsetHeight?G=g.top-_.offsetHeight:g.bottom+_.offsetHeight<=fe&&(G=g.bottom),ne+_.offsetWidth>Se&&(ne=Se-_.offsetWidth)}_.style.top=G+"px",_.style.left=_.style.right="",z=="right"?(ne=H.sizer.clientWidth-_.offsetWidth,_.style.right="0px"):(z=="left"?ne=0:z=="middle"&&(ne=(H.sizer.clientWidth-_.offsetWidth)/2),_.style.left=ne+"px"),D&&Rme(this,{left:ne,top:G,right:ne+_.offsetWidth,bottom:G+_.offsetHeight})},triggerOnKeyDown:_s(XH),triggerOnKeyPress:_s(QH),triggerOnKeyUp:ZH,triggerOnMouseDown:_s(JH),execCommand:function(g){if(cb.hasOwnProperty(g))return cb[g].call(null,this)},triggerElectric:_s(function(g){sU(this,g)}),findPosH:function(g,_,D,N){var z=1;_<0&&(z=-1,_=-_);for(var H=Er(this.doc,g),G=0;G<_&&(H=TT(this.doc,H,z,D,N),!H.hitSide);++G);return H},moveH:_s(function(g,_){var D=this;this.extendSelectionsBy(function(N){return D.display.shift||D.doc.extend||N.empty()?TT(D.doc,N.head,g,_,D.options.rtlMoveVisually):g<0?N.from():N.to()},Ee)}),deleteH:_s(function(g,_){var D=this.doc.sel,N=this.doc;D.somethingSelected()?N.replaceSelection("",null,"+delete"):Up(this,function(z){var H=TT(N,z.head,g,_,!1);return g<0?{from:H,to:z.head}:{from:z.head,to:H}})}),findPosV:function(g,_,D,N){var z=1,H=N;_<0&&(z=-1,_=-_);for(var G=Er(this.doc,g),ne=0;ne<_;++ne){var fe=ic(this,G,"div");if(H==null?H=fe.left:fe.left=H,G=uU(this,fe,z,D),G.hitSide)break}return G},moveV:_s(function(g,_){var D=this,N=this.doc,z=[],H=!this.display.shift&&!N.extend&&N.sel.somethingSelected();if(N.extendSelectionsBy(function(ne){if(H)return g<0?ne.from():ne.to();var fe=ic(D,ne.head,"div");ne.goalColumn!=null&&(fe.left=ne.goalColumn),z.push(fe.left);var Se=uU(D,fe,g,_);return _=="page"&&ne==N.sel.primary()&&cT(D,iw(D,Se,"div").top-fe.top),Se},Ee),z.length)for(var G=0;G<N.sel.ranges.length;G++)N.sel.ranges[G].goalColumn=z[G]}),findWordAt:function(g){var _=this.doc,D=Ut(_,g.line).text,N=g.ch,z=g.ch;if(D){var H=this.getHelper(g,"wordChars");(g.sticky=="before"||z==D.length)&&N?--N:++z;for(var G=D.charAt(N),ne=tr(G,H)?function(fe){return tr(fe,H)}:/\s/.test(G)?function(fe){return/\s/.test(fe)}:function(fe){return!/\s/.test(fe)&&!tr(fe)};N>0&&ne(D.charAt(N-1));)--N;for(;z<D.length&&ne(D.charAt(z));)++z}return new _n(nt(g.line,N),nt(g.line,z))},toggleOverwrite:function(g){g!=null&&g==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?Z(this.display.cursorDiv,"CodeMirror-overwrite"):O(this.display.cursorDiv,"CodeMirror-overwrite"),J(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==L(me(this))},isReadOnly:function(){return!!(this.options.readOnly||this.doc.cantEdit)},scrollTo:_s(function(g,_){Y0(this,g,_)}),getScrollInfo:function(){var g=this.display.scroller;return{left:g.scrollLeft,top:g.scrollTop,height:g.scrollHeight-jc(this)-this.display.barHeight,width:g.scrollWidth-jc(this)-this.display.barWidth,clientHeight:KA(this),clientWidth:Rh(this)}},scrollIntoView:_s(function(g,_){g==null?(g={from:this.doc.sel.primary().head,to:null},_==null&&(_=this.options.cursorScrollMargin)):typeof g=="number"?g={from:nt(g,0),to:null}:g.from==null&&(g={from:g,to:null}),g.to||(g.to=g.from),g.margin=_||0,g.from.line!=null?Pme(this,g):rH(this,g.from,g.to,g.margin)}),setSize:_s(function(g,_){var D=this,N=function(H){return typeof H=="number"||/^\d+$/.test(String(H))?H+"px":H};g!=null&&(this.display.wrapper.style.width=N(g)),_!=null&&(this.display.wrapper.style.height=N(_)),this.options.lineWrapping&&qj(this);var z=this.display.viewFrom;this.doc.iter(z,this.display.viewTo,function(H){if(H.widgets){for(var G=0;G<H.widgets.length;G++)if(H.widgets[G].noHScroll){Qd(D,z,"widget");break}}++z}),this.curOp.forceUpdate=!0,J(this,"refresh",this)}),operation:function(g){return ya(this,g)},startOperation:function(){return jh(this)},endOperation:function(){return Hh(this)},refresh:_s(function(){var g=this.display.cachedTextHeight;Xs(this),this.curOp.forceUpdate=!0,$0(this),Y0(this,this.doc.scrollLeft,this.doc.scrollTop),fT(this.display),(g==null||Math.abs(g-Np(this.display))>.5||this.options.lineWrapping)&&nT(this),J(this,"refresh",this)}),swapDoc:_s(function(g){var _=this.doc;return _.cm=null,this.state.selectingText&&this.state.selectingText(),gH(this,g),$0(this),this.display.input.reset(),Y0(this,g.scrollLeft,g.scrollTop),this.curOp.forceScroll=!0,_o(this,"swapDoc",this,_),_}),phrase:function(g){var _=this.options.phrases;return _&&Object.prototype.hasOwnProperty.call(_,g)?_[g]:g},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},Ht(u),u.registerHelper=function(g,_,D){v.hasOwnProperty(g)||(v[g]=u[g]={_global:[]}),v[g][_]=D},u.registerGlobalHelper=function(g,_,D,N){u.registerHelper(g,_,N),v[g]._global.push({pred:D,val:N})}}function TT(u,h,v,g,_){var D=h,N=v,z=Ut(u,h.line),H=_&&u.direction=="rtl"?-v:v;function G(){var St=h.line+H;return St<u.first||St>=u.first+u.size?!1:(h=new nt(St,h.ch,h.sticky),z=Ut(u,St))}function ne(St){var vt;if(g=="codepoint"){var At=z.text.charCodeAt(h.ch+(v>0?0:-1));if(isNaN(At))vt=null;else{var Qt=v>0?At>=55296&&At<56320:At>=56320&&At<57343;vt=new nt(h.line,Math.max(0,Math.min(z.text.length,h.ch+v*(Qt?2:1))),-v)}}else _?vt=ype(u.cm,z,h,v):vt=wT(z,h,v);if(vt==null)if(!St&&G())h=CT(_,u.cm,z,h.line,H);else return!1;else h=vt;return!0}if(g=="char"||g=="codepoint")ne();else if(g=="column")ne(!0);else if(g=="word"||g=="group")for(var fe=null,Se=g=="group",ye=u.cm&&u.cm.getHelper(h,"wordChars"),je=!0;!(v<0&&!ne(!je));je=!1){var Ze=z.text.charAt(h.ch)||`
`,lt=tr(Ze,ye)?"w":Se&&Ze==`
`?"n":!Se||/\s/.test(Ze)?null:"p";if(Se&&!je&&!lt&&(lt="s"),fe&&fe!=lt){v<0&&(v=1,ne(),h.sticky="after");break}if(lt&&(fe=lt),v>0&&!ne(!je))break}var gt=gw(u,h,D,N,!0);return qu(D,gt)&&(gt.hitSide=!0),gt}function uU(u,h,v,g){var _=u.doc,D=h.left,N;if(g=="page"){var z=Math.min(u.display.wrapper.clientHeight,se(u).innerHeight||_(u).documentElement.clientHeight),H=Math.max(z-.5*Np(u.display),3);N=(v>0?h.bottom:h.top)+v*H}else g=="line"&&(N=v>0?h.bottom+3:h.top-3);for(var G;G=JA(u,D,N),!!G.outside;){if(v<0?N<=0:N>=_.height){G.hitSide=!0;break}N+=v*5}return G}var Nn=function(u){this.cm=u,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new be,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};Nn.prototype.init=function(u){var h=this,v=this,g=v.cm,_=v.div=u.lineDiv;_.contentEditable=!0,lU(_,g.options.spellcheck,g.options.autocorrect,g.options.autocapitalize);function D(z){for(var H=z.target;H;H=H.parentNode){if(H==_)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(H.className))break}return!1}Le(_,"paste",function(z){!D(z)||_e(g,z)||oU(z,g)||a<=11&&setTimeout(xo(g,function(){return h.updateFromDOM()}),20)}),Le(_,"compositionstart",function(z){h.composing={data:z.data,done:!1}}),Le(_,"compositionupdate",function(z){h.composing||(h.composing={data:z.data,done:!1})}),Le(_,"compositionend",function(z){h.composing&&(z.data!=h.composing.data&&h.readFromDOMSoon(),h.composing.done=!0)}),Le(_,"touchstart",function(){return v.forceCompositionEnd()}),Le(_,"input",function(){h.composing||h.readFromDOMSoon()});function N(z){if(!(!D(z)||_e(g,z))){if(g.somethingSelected())ww({lineWise:!1,text:g.getSelections()}),z.type=="cut"&&g.replaceSelection("",null,"cut");else if(g.options.lineWiseCopyCut){var H=aU(g);ww({lineWise:!0,text:H.text}),z.type=="cut"&&g.operation(function(){g.setSelections(H.ranges,0,pe),g.replaceSelection("",null,"cut")})}else return;if(z.clipboardData){z.clipboardData.clearData();var G=sc.text.join(`
`);if(z.clipboardData.setData("Text",G),z.clipboardData.getData("Text")==G){z.preventDefault();return}}var ne=cU(),fe=ne.firstChild;g.display.lineSpace.insertBefore(ne,g.display.lineSpace.firstChild),fe.value=sc.text.join(`
`);var Se=L(_.ownerDocument);ce(fe),setTimeout(function(){g.display.lineSpace.removeChild(ne),Se.focus(),Se==_&&v.showPrimarySelection()},50)}}Le(_,"copy",N),Le(_,"cut",N)},Nn.prototype.screenReaderLabelChanged=function(u){u?this.div.setAttribute("aria-label",u):this.div.removeAttribute("aria-label")},Nn.prototype.prepareSelection=function(){var u=Jj(this.cm,!1);return u.focus=L(this.div.ownerDocument)==this.div,u},Nn.prototype.showSelection=function(u,h){!u||!this.cm.display.view.length||((u.focus||h)&&this.showPrimarySelection(),this.showMultipleSelections(u))},Nn.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},Nn.prototype.showPrimarySelection=function(){var u=this.getSelection(),h=this.cm,v=h.doc.sel.primary(),g=v.from(),_=v.to();if(h.display.viewTo==h.display.viewFrom||g.line>=h.display.viewTo||_.line<h.display.viewFrom){u.removeAllRanges();return}var D=Cw(h,u.anchorNode,u.anchorOffset),N=Cw(h,u.focusNode,u.focusOffset);if(!(D&&!D.bad&&N&&!N.bad&&fr(Yx(D,N),g)==0&&fr(Gx(D,N),_)==0)){var z=h.display.view,H=g.line>=h.display.viewFrom&&dU(h,g)||{node:z[0].measure.map[2],offset:0},G=_.line<h.display.viewTo&&dU(h,_);if(!G){var ne=z[z.length-1].measure,fe=ne.maps?ne.maps[ne.maps.length-1]:ne.map;G={node:fe[fe.length-1],offset:fe[fe.length-2]-fe[fe.length-3]}}if(!H||!G){u.removeAllRanges();return}var Se=u.rangeCount&&u.getRangeAt(0),ye;try{ye=Y(H.node,H.offset,G.offset,G.node)}catch{}ye&&(!e&&h.state.focused?(u.collapse(H.node,H.offset),ye.collapsed||(u.removeAllRanges(),u.addRange(ye))):(u.removeAllRanges(),u.addRange(ye)),Se&&u.anchorNode==null?u.addRange(Se):e&&this.startGracePeriod()),this.rememberSelection()}},Nn.prototype.startGracePeriod=function(){var u=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){u.gracePeriod=!1,u.selectionChanged()&&u.cm.operation(function(){return u.cm.curOp.selectionChanged=!0})},20)},Nn.prototype.showMultipleSelections=function(u){j(this.cm.display.cursorDiv,u.cursors),j(this.cm.display.selectionDiv,u.selection)},Nn.prototype.rememberSelection=function(){var u=this.getSelection();this.lastAnchorNode=u.anchorNode,this.lastAnchorOffset=u.anchorOffset,this.lastFocusNode=u.focusNode,this.lastFocusOffset=u.focusOffset},Nn.prototype.selectionInEditor=function(){var u=this.getSelection();if(!u.rangeCount)return!1;var h=u.getRangeAt(0).commonAncestorContainer;return P(this.div,h)},Nn.prototype.focus=function(){this.cm.options.readOnly!="nocursor"&&((!this.selectionInEditor()||L(this.div.ownerDocument)!=this.div)&&this.showSelection(this.prepareSelection(),!0),this.div.focus())},Nn.prototype.blur=function(){this.div.blur()},Nn.prototype.getField=function(){return this.div},Nn.prototype.supportsTouch=function(){return!0},Nn.prototype.receivedFocus=function(){var u=this,h=this;this.selectionInEditor()?setTimeout(function(){return u.pollSelection()},20):ya(this.cm,function(){return h.cm.curOp.selectionChanged=!0});function v(){h.cm.state.focused&&(h.pollSelection(),h.polling.set(h.cm.options.pollInterval,v))}this.polling.set(this.cm.options.pollInterval,v)},Nn.prototype.selectionChanged=function(){var u=this.getSelection();return u.anchorNode!=this.lastAnchorNode||u.anchorOffset!=this.lastAnchorOffset||u.focusNode!=this.lastFocusNode||u.focusOffset!=this.lastFocusOffset},Nn.prototype.pollSelection=function(){if(!(this.readDOMTimeout!=null||this.gracePeriod||!this.selectionChanged())){var u=this.getSelection(),h=this.cm;if(S&&d&&this.cm.display.gutterSpecs.length&&Vpe(u.anchorNode)){this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),this.focus();return}if(!this.composing){this.rememberSelection();var v=Cw(h,u.anchorNode,u.anchorOffset),g=Cw(h,u.focusNode,u.focusOffset);v&&g&&ya(h,function(){ns(h.doc,ef(v,g),pe),(v.bad||g.bad)&&(h.curOp.selectionChanged=!0)})}}},Nn.prototype.pollContent=function(){this.readDOMTimeout!=null&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var u=this.cm,h=u.display,v=u.doc.sel.primary(),g=v.from(),_=v.to();if(g.ch==0&&g.line>u.firstLine()&&(g=nt(g.line-1,Ut(u.doc,g.line-1).length)),_.ch==Ut(u.doc,_.line).text.length&&_.line<u.lastLine()&&(_=nt(_.line+1,0)),g.line<h.viewFrom||_.line>h.viewTo-1)return!1;var D,N,z;g.line==h.viewFrom||(D=Bh(u,g.line))==0?(N=yn(h.view[0].line),z=h.view[0].node):(N=yn(h.view[D].line),z=h.view[D-1].node.nextSibling);var H=Bh(u,_.line),G,ne;if(H==h.view.length-1?(G=h.viewTo-1,ne=h.lineDiv.lastChild):(G=yn(h.view[H+1].line)-1,ne=h.view[H+1].node.previousSibling),!z)return!1;for(var fe=u.doc.splitLines(zpe(u,z,ne,N,G)),Se=Uu(u.doc,nt(N,0),nt(G,Ut(u.doc,G).text.length));fe.length>1&&Se.length>1;)if(re(fe)==re(Se))fe.pop(),Se.pop(),G--;else if(fe[0]==Se[0])fe.shift(),Se.shift(),N++;else break;for(var ye=0,je=0,Ze=fe[0],lt=Se[0],gt=Math.min(Ze.length,lt.length);ye<gt&&Ze.charCodeAt(ye)==lt.charCodeAt(ye);)++ye;for(var St=re(fe),vt=re(Se),At=Math.min(St.length-(fe.length==1?ye:0),vt.length-(Se.length==1?ye:0));je<At&&St.charCodeAt(St.length-je-1)==vt.charCodeAt(vt.length-je-1);)++je;if(fe.length==1&&Se.length==1&&N==g.line)for(;ye&&ye>g.ch&&St.charCodeAt(St.length-je-1)==vt.charCodeAt(vt.length-je-1);)ye--,je++;fe[fe.length-1]=St.slice(0,St.length-je).replace(/^\u200b+/,""),fe[0]=fe[0].slice(ye).replace(/\u200b+$/,"");var Qt=nt(N,ye),Kt=nt(G,Se.length?re(Se).length-je:0);if(fe.length>1||fe[0]||fr(Qt,Kt))return zp(u.doc,fe,Qt,Kt,"+input"),!0},Nn.prototype.ensurePolled=function(){this.forceCompositionEnd()},Nn.prototype.reset=function(){this.forceCompositionEnd()},Nn.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},Nn.prototype.readFromDOMSoon=function(){var u=this;this.readDOMTimeout==null&&(this.readDOMTimeout=setTimeout(function(){if(u.readDOMTimeout=null,u.composing)if(u.composing.done)u.composing=null;else return;u.updateFromDOM()},80))},Nn.prototype.updateFromDOM=function(){var u=this;(this.cm.isReadOnly()||!this.pollContent())&&ya(this.cm,function(){return Xs(u.cm)})},Nn.prototype.setUneditable=function(u){u.contentEditable="false"},Nn.prototype.onKeyPress=function(u){u.charCode==0||this.composing||(u.preventDefault(),this.cm.isReadOnly()||xo(this.cm,AT)(this.cm,String.fromCharCode(u.charCode==null?u.keyCode:u.charCode),0))},Nn.prototype.readOnlyChanged=function(u){this.div.contentEditable=String(u!="nocursor")},Nn.prototype.onContextMenu=function(){},Nn.prototype.resetPosition=function(){},Nn.prototype.needsContentAttribute=!0;function dU(u,h){var v=XA(u,h.line);if(!v||v.hidden)return null;var g=Ut(u.doc,h.line),_=Vj(v,g,h.line),D=Qe(g,u.doc.direction),N="left";if(D){var z=Re(D,h.ch);N=z%2?"right":"left"}var H=Hj(_.map,h.ch,N);return H.offset=H.collapse=="right"?H.end:H.start,H}function Vpe(u){for(var h=u;h;h=h.parentNode)if(/CodeMirror-gutter-wrapper/.test(h.className))return!0;return!1}function Wp(u,h){return h&&(u.bad=!0),u}function zpe(u,h,v,g,_){var D="",N=!1,z=u.doc.lineSeparator(),H=!1;function G(ye){return function(je){return je.id==ye}}function ne(){N&&(D+=z,H&&(D+=z),N=H=!1)}function fe(ye){ye&&(ne(),D+=ye)}function Se(ye){if(ye.nodeType==1){var je=ye.getAttribute("cm-text");if(je){fe(je);return}var Ze=ye.getAttribute("cm-marker"),lt;if(Ze){var gt=u.findMarks(nt(g,0),nt(_+1,0),G(+Ze));gt.length&&(lt=gt[0].find(0))&&fe(Uu(u.doc,lt.from,lt.to).join(z));return}if(ye.getAttribute("contenteditable")=="false")return;var St=/^(pre|div|p|li|table|br)$/i.test(ye.nodeName);if(!/^br$/i.test(ye.nodeName)&&ye.textContent.length==0)return;St&&ne();for(var vt=0;vt<ye.childNodes.length;vt++)Se(ye.childNodes[vt]);/^(pre|p)$/i.test(ye.nodeName)&&(H=!0),St&&(N=!0)}else ye.nodeType==3&&fe(ye.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}for(;Se(h),h!=v;)h=h.nextSibling,H=!1;return D}function Cw(u,h,v){var g;if(h==u.display.lineDiv){if(g=u.display.lineDiv.childNodes[v],!g)return Wp(u.clipPos(nt(u.display.viewTo-1)),!0);h=null,v=0}else for(g=h;;g=g.parentNode){if(!g||g==u.display.lineDiv)return null;if(g.parentNode&&g.parentNode==u.display.lineDiv)break}for(var _=0;_<u.display.view.length;_++){var D=u.display.view[_];if(D.node==g)return jpe(D,h,v)}}function jpe(u,h,v){var g=u.text.firstChild,_=!1;if(!h||!P(g,h))return Wp(nt(yn(u.line),0),!0);if(h==g&&(_=!0,h=g.childNodes[v],v=0,!h)){var D=u.rest?re(u.rest):u.line;return Wp(nt(yn(D),D.text.length),_)}var N=h.nodeType==3?h:null,z=h;for(!N&&h.childNodes.length==1&&h.firstChild.nodeType==3&&(N=h.firstChild,v&&(v=N.nodeValue.length));z.parentNode!=g;)z=z.parentNode;var H=u.measure,G=H.maps;function ne(lt,gt,St){for(var vt=-1;vt<(G?G.length:0);vt++)for(var At=vt<0?H.map:G[vt],Qt=0;Qt<At.length;Qt+=3){var Kt=At[Qt+2];if(Kt==lt||Kt==gt){var zr=yn(vt<0?u.line:u.rest[vt]),Hn=At[Qt]+St;return(St<0||Kt!=lt)&&(Hn=At[Qt+(St?1:0)]),nt(zr,Hn)}}}var fe=ne(N,z,v);if(fe)return Wp(fe,_);for(var Se=z.nextSibling,ye=N?N.nodeValue.length-v:0;Se;Se=Se.nextSibling){if(fe=ne(Se,Se.firstChild,0),fe)return Wp(nt(fe.line,fe.ch-ye),_);ye+=Se.textContent.length}for(var je=z.previousSibling,Ze=v;je;je=je.previousSibling){if(fe=ne(je,je.firstChild,-1),fe)return Wp(nt(fe.line,fe.ch+Ze),_);Ze+=je.textContent.length}}var Hi=function(u){this.cm=u,this.prevInput="",this.pollingFast=!1,this.polling=new be,this.hasSelection=!1,this.composing=null};Hi.prototype.init=function(u){var h=this,v=this,g=this.cm;this.createField(u);var _=this.textarea;u.wrapper.insertBefore(this.wrapper,u.wrapper.firstChild),C&&(_.style.width="0px"),Le(_,"input",function(){s&&a>=9&&h.hasSelection&&(h.hasSelection=null),v.poll()}),Le(_,"paste",function(N){_e(g,N)||oU(N,g)||(g.state.pasteIncoming=+new Date,v.fastPoll())});function D(N){if(!_e(g,N)){if(g.somethingSelected())ww({lineWise:!1,text:g.getSelections()});else if(g.options.lineWiseCopyCut){var z=aU(g);ww({lineWise:!0,text:z.text}),N.type=="cut"?g.setSelections(z.ranges,null,pe):(v.prevInput="",_.value=z.text.join(`
`),ce(_))}else return;N.type=="cut"&&(g.state.cutIncoming=+new Date)}}Le(_,"cut",D),Le(_,"copy",D),Le(u.scroller,"paste",function(N){if(!(Gu(u,N)||_e(g,N))){if(!_.dispatchEvent){g.state.pasteIncoming=+new Date,v.focus();return}var z=new Event("paste");z.clipboardData=N.clipboardData,_.dispatchEvent(z)}}),Le(u.lineSpace,"selectstart",function(N){Gu(u,N)||Lr(N)}),Le(_,"compositionstart",function(){var N=g.getCursor("from");v.composing&&v.composing.range.clear(),v.composing={start:N,range:g.markText(N,g.getCursor("to"),{className:"CodeMirror-composing"})}}),Le(_,"compositionend",function(){v.composing&&(v.poll(),v.composing.range.clear(),v.composing=null)})},Hi.prototype.createField=function(u){this.wrapper=cU(),this.textarea=this.wrapper.firstChild},Hi.prototype.screenReaderLabelChanged=function(u){u?this.textarea.setAttribute("aria-label",u):this.textarea.removeAttribute("aria-label")},Hi.prototype.prepareSelection=function(){var u=this.cm,h=u.display,v=u.doc,g=Jj(u);if(u.options.moveInputWithCursor){var _=ic(u,v.sel.primary().head,"div"),D=h.wrapper.getBoundingClientRect(),N=h.lineDiv.getBoundingClientRect();g.teTop=Math.max(0,Math.min(h.wrapper.clientHeight-10,_.top+N.top-D.top)),g.teLeft=Math.max(0,Math.min(h.wrapper.clientWidth-10,_.left+N.left-D.left))}return g},Hi.prototype.showSelection=function(u){var h=this.cm,v=h.display;j(v.cursorDiv,u.cursors),j(v.selectionDiv,u.selection),u.teTop!=null&&(this.wrapper.style.top=u.teTop+"px",this.wrapper.style.left=u.teLeft+"px")},Hi.prototype.reset=function(u){if(!(this.contextMenuPending||this.composing)){var h=this.cm;if(h.somethingSelected()){this.prevInput="";var v=h.getSelection();this.textarea.value=v,h.state.focused&&ce(this.textarea),s&&a>=9&&(this.hasSelection=v)}else u||(this.prevInput=this.textarea.value="",s&&a>=9&&(this.hasSelection=null))}},Hi.prototype.getField=function(){return this.textarea},Hi.prototype.supportsTouch=function(){return!1},Hi.prototype.focus=function(){if(this.cm.options.readOnly!="nocursor"&&(!A||L(this.textarea.ownerDocument)!=this.textarea))try{this.textarea.focus()}catch{}},Hi.prototype.blur=function(){this.textarea.blur()},Hi.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},Hi.prototype.receivedFocus=function(){this.slowPoll()},Hi.prototype.slowPoll=function(){var u=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){u.poll(),u.cm.state.focused&&u.slowPoll()})},Hi.prototype.fastPoll=function(){var u=!1,h=this;h.pollingFast=!0;function v(){var g=h.poll();!g&&!u?(u=!0,h.polling.set(60,v)):(h.pollingFast=!1,h.slowPoll())}h.polling.set(20,v)},Hi.prototype.poll=function(){var u=this,h=this.cm,v=this.textarea,g=this.prevInput;if(this.contextMenuPending||!h.state.focused||FA(v)&&!g&&!this.composing||h.isReadOnly()||h.options.disableInput||h.state.keySeq)return!1;var _=v.value;if(_==g&&!h.somethingSelected())return!1;if(s&&a>=9&&this.hasSelection===_||x&&/[\uf700-\uf7ff]/.test(_))return h.display.input.reset(),!1;if(h.doc.sel==h.display.selForContextMenu){var D=_.charCodeAt(0);if(D==8203&&!g&&(g="\u200B"),D==8666)return this.reset(),this.cm.execCommand("undo")}for(var N=0,z=Math.min(g.length,_.length);N<z&&g.charCodeAt(N)==_.charCodeAt(N);)++N;return ya(h,function(){AT(h,_.slice(N),g.length-N,null,u.composing?"*compose":null),_.length>1e3||_.indexOf(`
`)>-1?v.value=u.prevInput="":u.prevInput=_,u.composing&&(u.composing.range.clear(),u.composing.range=h.markText(u.composing.start,h.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},Hi.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},Hi.prototype.onKeyPress=function(){s&&a>=9&&(this.hasSelection=null),this.fastPoll()},Hi.prototype.onContextMenu=function(u){var h=this,v=h.cm,g=v.display,_=h.textarea;h.contextMenuPending&&h.contextMenuPending();var D=Lh(v,u),N=g.scroller.scrollTop;if(!D||m)return;var z=v.options.resetSelectionOnContextMenu;z&&v.doc.sel.contains(D)==-1&&xo(v,ns)(v.doc,ef(D),pe);var H=_.style.cssText,G=h.wrapper.style.cssText,ne=h.wrapper.offsetParent.getBoundingClientRect();h.wrapper.style.cssText="position: static",_.style.cssText=`position: absolute; width: 30px; height: 30px;
      top: `+(u.clientY-ne.top-5)+"px; left: "+(u.clientX-ne.left-5)+`px;
      z-index: 1000; background: `+(s?"rgba(255, 255, 255, .05)":"transparent")+`;
      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);`;var fe;l&&(fe=_.ownerDocument.defaultView.scrollY),g.input.focus(),l&&_.ownerDocument.defaultView.scrollTo(null,fe),g.input.reset(),v.somethingSelected()||(_.value=h.prevInput=" "),h.contextMenuPending=ye,g.selForContextMenu=v.doc.sel,clearTimeout(g.detectingSelectAll);function Se(){if(_.selectionStart!=null){var Ze=v.somethingSelected(),lt="\u200B"+(Ze?_.value:"");_.value="\u21DA",_.value=lt,h.prevInput=Ze?"":"\u200B",_.selectionStart=1,_.selectionEnd=lt.length,g.selForContextMenu=v.doc.sel}}function ye(){if(h.contextMenuPending==ye&&(h.contextMenuPending=!1,h.wrapper.style.cssText=G,_.style.cssText=H,s&&a<9&&g.scrollbars.setScrollTop(g.scroller.scrollTop=N),_.selectionStart!=null)){(!s||s&&a<9)&&Se();var Ze=0,lt=function(){g.selForContextMenu==v.doc.sel&&_.selectionStart==0&&_.selectionEnd>0&&h.prevInput=="\u200B"?xo(v,TH)(v):Ze++<10?g.detectingSelectAll=setTimeout(lt,500):(g.selForContextMenu=null,g.input.reset())};g.detectingSelectAll=setTimeout(lt,200)}}if(s&&a>=9&&Se(),k){Sl(u);var je=function(){B(window,"mouseup",je),setTimeout(ye,20)};Le(window,"mouseup",je)}else setTimeout(ye,50)},Hi.prototype.readOnlyChanged=function(u){u||this.reset(),this.textarea.disabled=u=="nocursor",this.textarea.readOnly=!!u},Hi.prototype.setUneditable=function(){},Hi.prototype.needsContentAttribute=!1;function Hpe(u,h){if(h=h?he(h):{},h.value=u.value,!h.tabindex&&u.tabIndex&&(h.tabindex=u.tabIndex),!h.placeholder&&u.placeholder&&(h.placeholder=u.placeholder),h.autofocus==null){var v=L(u.ownerDocument);h.autofocus=v==u||u.getAttribute("autofocus")!=null&&v==document.body}function g(){u.value=z.getValue()}var _;if(u.form&&(Le(u.form,"submit",g),!h.leaveSubmitMethodAlone)){var D=u.form;_=D.submit;try{var N=D.submit=function(){g(),D.submit=_,D.submit(),D.submit=N}}catch{}}h.finishInit=function(H){H.save=g,H.getTextArea=function(){return u},H.toTextArea=function(){H.toTextArea=isNaN,g(),u.parentNode.removeChild(H.getWrapperElement()),u.style.display="",u.form&&(B(u.form,"submit",g),!h.leaveSubmitMethodAlone&&typeof u.form.submit=="function"&&(u.form.submit=_))}},u.style.display="none";var z=pi(function(H){return u.parentNode.insertBefore(H,u.nextSibling)},h);return z}function Upe(u){u.off=B,u.on=Le,u.wheelEventPixels=Xme,u.Doc=Zs,u.splitLines=F0,u.countColumn=ke,u.findColumn=Ie,u.isWordChar=yt,u.Pass=le,u.signal=J,u.Line=Tp,u.changeEnd=tf,u.scrollbarModel=oH,u.Pos=nt,u.cmpPos=fr,u.modes=P0,u.mimeModes=Kd,u.resolveMode=Ap,u.getMode=L0,u.modeExtensions=Xd,u.extendMode=VA,u.copyState=Hu,u.startState=$x,u.innerMode=B0,u.commands=cb,u.keyMap=Ku,u.keyName=WH,u.isModifierKey=UH,u.lookupKey=Hp,u.normalizeKeyMap=bpe,u.StringStream=Ri,u.SharedTextMarker=sb,u.TextMarker=nf,u.LineWidget=ob,u.e_preventDefault=Lr,u.e_stopPropagation=ys,u.e_stop=Sl,u.addClass=Z,u.contains=P,u.rmClass=O,u.keyNames=of}Fpe(pi),Bpe(pi);var qpe="iter insert remove copy getEditor constructor".split(" ");for(var Sw in Zs.prototype)Zs.prototype.hasOwnProperty(Sw)&&ee(qpe,Sw)<0&&(pi.prototype[Sw]=function(u){return function(){return u.apply(this.doc,arguments)}}(Zs.prototype[Sw]));return Ht(Zs),pi.inputStyles={textarea:Hi,contenteditable:Nn},pi.defineMode=function(u){!pi.defaults.mode&&u!="null"&&(pi.defaults.mode=u),LA.apply(this,arguments)},pi.defineMIME=BA,pi.defineMode("null",function(){return{token:function(u){return u.skipToEnd()}}}),pi.defineMIME("text/plain","null"),pi.defineExtension=function(u,h){pi.prototype[u]=h},pi.defineDocExtension=function(u,h){Zs.prototype[u]=h},pi.fromTextArea=Hpe,Upe(pi),pi.version="6.65.7",pi})});var jhe=xa((zhe,TA)=>{"use strict";(function(r,t){typeof define=="function"&&define.amd?define([],t):typeof TA=="object"&&TA.exports?TA.exports=t():r.pureknob=t()})(typeof self<"u"?self:zhe,function(){function r(){this.createKnob=function(t,e){let n=e.toString(),i=t.toString(),o=t<e?t:e,s=document.createElement("canvas"),a=document.createElement("div");a.style.display="inline-block",a.style.height=n+"px",a.style.position="relative",a.style.textAlign="center",a.style.width=i+"px",a.appendChild(s);let l={_canvas:s,_div:a,_height:e,_listeners:[],_mousebutton:!1,_previousVal:0,_timeout:null,_timeoutDoubleTap:null,_touchCount:0,_width:t,_notifyUpdate:function(){let T=this._properties.val,k=this._listeners,I=k.length;for(let O=0;O<I;O++){let R=k[O];R!==null&&R(this,T)}},_properties:{angleEnd:2*Math.PI,angleOffset:-.5*Math.PI,angleStart:0,colorBG:"#181818",colorFG:"#ff8800",colorLabel:"#ffffff",fnStringToValue:function(w){return parseInt(w)},fnValueToString:function(w){return w.toString()},label:null,needle:!1,readonly:!1,textScale:1,trackWidth:.4,valMin:0,valMax:100,val:0,unitValue:""},abort:function(){let w=this._previousVal,T=this._properties;T.val=w,this.redraw()},addListener:function(w){this._listeners.push(w)},commit:function(){let T=this._properties.val;this._previousVal=T,this.redraw(),this._notifyUpdate()},getProperty:function(w){return this._properties[w]},getValue:function(){return this._properties.val},node:function(){return this._div},redraw:function(){this.resize();let w=this._properties,T=w.needle,k=w.angleStart,I=w.angleOffset,O=w.angleEnd,R=k+I,j=O+I,q=w.label,X=w.val,Y=w.fnValueToString,P=Y(X),L=w.valMin,Z=w.valMax,ce=(X-L)/(Z-L)*(O-k),me=R+ce,se=w.colorBG,Q=w.colorFG,he=w.colorText,ke=w.trackWidth,be=this._height,ee=this._width,ae=ee<be?ee:be,le=.5*ee,pe=.5*be,ve=.4*ae,Ee=Math.round(ke*ve),Ve=this._canvas.getContext("2d");!w.fontSizeAuto&&w.fontSize>0&&(fontSizeString=w.fontSize.toString()),Ve.clearRect(0,0,ee,be),Ve.beginPath(),Ve.arc(le,pe,ve,R,j),Ve.lineCap="round",Ve.lineWidth=Ee,Ve.strokeStyle=se,Ve.stroke(),Ve.beginPath(),T?Ve.arc(le,pe,ve,me-.1,me+.1):Ve.arc(le,pe,ve,R,me),Ve.lineCap="round",Ve.lineWidth=Ee,Ve.strokeStyle=Q,Ve.stroke(),Ve.beginPath(),Ve.strokeStyle="red",Ve.arc(le,pe,ve,me,me),Ve.stroke(),Ve.beginPath(),Ve.strokeStyle="white",Ve.lineWidth=Ee-5,Ve.arc(le,pe,ve,me,me),Ve.stroke(),Ve.beginPath(),Ve.fillStyle=he;let te=ve*1,re=ve*.5,De=c(P,te,re,Ve),Ae=0;if(w.unitValue){let qe=Ve.measureText(P),Ge=De*.4;Ve.font=`${Ge}px sans-serif`,Ve.textAlign="left",Ve.textBaseline="bottom",Ae=Ve.measureText(w.unitValue).width,Ve.fillText(w.unitValue,le+qe.width/2,pe)}if(Ve.font=De+"px sans-serif",Ve.textAlign="center",Ve.textBaseline="middle",Ve.fillText(P,le,pe),q!==null){let qe=c(q,te,re,Ve);qe=Math.min(qe,De*.28),Ve.font=qe+"px sans-serif",Ve.textAlign="center",Ve.textBaseline="middle";let Ge=-qe*3.5;Ve.fillText(q,le,pe+Ge)}},resize:function(){let w=this._canvas,T=w.getContext("2d"),k=window.devicePixelRatio;w.style.height=this._height+"px",w.style.width=this._width+"px",w.height=Math.floor(this._height*k),w.width=Math.floor(this._width*k),T.scale(k,k)},setProperty:function(w,T){this._properties[w]=T,this.redraw()},setValue:function(w){this.setValueFloating(w),this.commit()},setValueFloating:function(w){let T=this._properties,k=T.valMin,I=T.valMax;w<k?w=k:w>I&&(w=I),w=Math.round(w),this.setProperty("val",w)}},c=function(w,T,k,I){let O=k;I.font=`${O}px sans-serif`;let R=I.measureText(w);for(;(R.width>T||O>k)&&O>0;)O--,I.font=`${O}px sans-serif`,R=I.measureText(w);return O},d=function(w,T){let k=w.target,I=k.scrollWidth,O=k.scrollHeight,R=.5*I,j=.5*O,q=w.offsetX,X=w.offsetY,Y=q-R,P=X-j,L=T.angleStart,U=T.angleEnd-L,ce=Math.atan2(Y,-P)-L,me=2*Math.PI;ce<0&&(U>=me?ce+=me:ce=0);let se=T.valMin,Q=T.valMax,he=ce/U*(Q-se)+se;return he<se?he=se:he>Q&&(he=Q),he},f=function(w,T){let k=w.target,I=k.getBoundingClientRect(),O=I.left,R=I.top,j=k.scrollWidth,q=k.scrollHeight,X=.5*j,Y=.5*q,P=w.targetTouches,L=null;P.length>0&&(L=P.item(0));let Z=0,U=0;L!==null&&(Z=L.clientX-O,U=L.clientY-R);let ce=Z-X,me=U-Y,se=T.angleStart,he=T.angleEnd-se,ke=2*Math.PI,be=Math.atan2(ce,-me)-se;be<0&&(he>=ke?be+=ke:be=0);let ee=T.valMin,ae=T.valMax,le=be/he*(ae-ee)+ee;return le<ee?le=ee:le>ae&&(le=ae),le},m=function(w){if(w.buttons===1){let k=l._properties;if(!k.readonly){w.preventDefault();let O=d(w,k);l.setValueFloating(O)}l._mousebutton=!0}},p=function(w){if(l._mousebutton){let k=l._properties;if(!k.readonly){w.preventDefault();let O=d(w,k);l.setValueFloating(O)}}},b=function(w){if(l._mousebutton){let k=l._properties;if(!k.readonly){w.preventDefault();let O=d(w,k);l.setValue(O)}}l._mousebutton=!1},y=function(w){l._mousebutton&&(l.abort(),l._mousebutton=!1)},C=function(w){let k=l._properties.readonly};var S=function(w){if(l._mousebutton){let k=l._properties;if(!k.readonly&&w.targetTouches.length===1){w.preventDefault();let q=f(w,k);l.setValueFloating(q)}}};let A=function(w){l._mousebutton&&(l._properties.readonly||w.targetTouches.length===0&&(w.preventDefault(),l._mousebutton=!1,l.commit())),l._mousebutton=!1},x=function(w){l.redraw()},M=function(w){if(!l.getProperty("readonly")){w.preventDefault();let k=w.deltaY,I=k>0?1:k<0?-1:0,O=l.getValue();O+=I,l.setValueFloating(O);let R=function(){l.commit()},j=l._timeout;window.clearTimeout(j),j=window.setTimeout(R,250),l._timeout=j}},E=function(){let w=window.devicePixelRatio;l.redraw();let k="(resolution:"+w.toString()+"dppx)",I={once:!0};window.matchMedia(k).addEventListener("change",E,I)};return s.addEventListener("mousedown",m),s.addEventListener("mouseleave",y),s.addEventListener("mousemove",p),s.addEventListener("mouseup",b),s.addEventListener("resize",x),s.addEventListener("touchstart",C),s.addEventListener("touchmove",S),s.addEventListener("touchend",A),s.addEventListener("wheel",M),E(),l}}return new r})});function BT(r,t){return Object.is(r,t)}var Do=null,mb=!1,VT=1,os=Symbol("SIGNAL");function Kr(r){let t=Do;return Do=r,t}function fU(){return Do}function Wpe(){return mb}var $h={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function gb(r){if(mb)throw new Error("");if(Do===null)return;Do.consumerOnSignalRead(r);let t=Do.nextProducerIndex++;if(Mw(Do),t<Do.producerNode.length&&Do.producerNode[t]!==r&&pb(Do)){let e=Do.producerNode[t];Ew(e,Do.producerIndexOfThis[t])}Do.producerNode[t]!==r&&(Do.producerNode[t]=r,Do.producerIndexOfThis[t]=pb(Do)?gU(r,Do,t):0),Do.producerLastReadVersion[t]=r.version}function $pe(){VT++}function zT(r){if(!(pb(r)&&!r.dirty)&&!(!r.dirty&&r.lastCleanEpoch===VT)){if(!r.producerMustRecompute(r)&&!bb(r)){PT(r);return}r.producerRecomputeValue(r),PT(r)}}function hU(r){if(r.liveConsumerNode===void 0)return;let t=mb;mb=!0;try{for(let e of r.liveConsumerNode)e.dirty||pU(e)}finally{mb=t}}function mU(){return Do?.consumerAllowSignalWrites!==!1}function pU(r){r.dirty=!0,hU(r),r.consumerMarkedDirty?.(r)}function PT(r){r.dirty=!1,r.lastCleanEpoch=VT}function Yp(r){return r&&(r.nextProducerIndex=0),Kr(r)}function vb(r,t){if(Kr(t),!(!r||r.producerNode===void 0||r.producerIndexOfThis===void 0||r.producerLastReadVersion===void 0)){if(pb(r))for(let e=r.nextProducerIndex;e<r.producerNode.length;e++)Ew(r.producerNode[e],r.producerIndexOfThis[e]);for(;r.producerNode.length>r.nextProducerIndex;)r.producerNode.pop(),r.producerLastReadVersion.pop(),r.producerIndexOfThis.pop()}}function bb(r){Mw(r);for(let t=0;t<r.producerNode.length;t++){let e=r.producerNode[t],n=r.producerLastReadVersion[t];if(n!==e.version||(zT(e),n!==e.version))return!0}return!1}function Kp(r){if(Mw(r),pb(r))for(let t=0;t<r.producerNode.length;t++)Ew(r.producerNode[t],r.producerIndexOfThis[t]);r.producerNode.length=r.producerLastReadVersion.length=r.producerIndexOfThis.length=0,r.liveConsumerNode&&(r.liveConsumerNode.length=r.liveConsumerIndexOfThis.length=0)}function gU(r,t,e){if(vU(r),r.liveConsumerNode.length===0&&bU(r))for(let n=0;n<r.producerNode.length;n++)r.producerIndexOfThis[n]=gU(r.producerNode[n],r,n);return r.liveConsumerIndexOfThis.push(e),r.liveConsumerNode.push(t)-1}function Ew(r,t){if(vU(r),r.liveConsumerNode.length===1&&bU(r))for(let n=0;n<r.producerNode.length;n++)Ew(r.producerNode[n],r.producerIndexOfThis[n]);let e=r.liveConsumerNode.length-1;if(r.liveConsumerNode[t]=r.liveConsumerNode[e],r.liveConsumerIndexOfThis[t]=r.liveConsumerIndexOfThis[e],r.liveConsumerNode.length--,r.liveConsumerIndexOfThis.length--,t<r.liveConsumerNode.length){let n=r.liveConsumerIndexOfThis[t],i=r.liveConsumerNode[t];Mw(i),i.producerIndexOfThis[n]=t}}function pb(r){return r.consumerIsAlwaysLive||(r?.liveConsumerNode?.length??0)>0}function Mw(r){r.producerNode??=[],r.producerIndexOfThis??=[],r.producerLastReadVersion??=[]}function vU(r){r.liveConsumerNode??=[],r.liveConsumerIndexOfThis??=[]}function bU(r){return r.producerNode!==void 0}function jT(r){let t=Object.create(Gpe);t.computation=r;let e=()=>{if(zT(t),gb(t),t.value===Dw)throw t.error;return t.value};return e[os]=t,e}var FT=Symbol("UNSET"),RT=Symbol("COMPUTING"),Dw=Symbol("ERRORED"),Gpe=pr(Ue({},$h),{value:FT,dirty:!0,error:null,equal:BT,producerMustRecompute(r){return r.value===FT||r.value===RT},producerRecomputeValue(r){if(r.value===RT)throw new Error("Detected cycle in computations.");let t=r.value;r.value=RT;let e=Yp(r),n;try{n=r.computation()}catch(i){n=Dw,r.error=i}finally{vb(r,e)}if(t!==FT&&t!==Dw&&n!==Dw&&r.equal(t,n)){r.value=t;return}r.value=n,r.version++}});function Ype(){throw new Error}var yU=Ype;function _U(){yU()}function xU(r){yU=r}var Kpe=null;function wU(r){let t=Object.create(HT);t.value=r;let e=()=>(gb(t),t.value);return e[os]=t,e}function yb(r,t){mU()||_U(),r.equal(r.value,t)||(r.value=t,Xpe(r))}function CU(r,t){mU()||_U(),yb(r,t(r.value))}var HT=pr(Ue({},$h),{equal:BT,value:void 0});function Xpe(r){r.version++,$pe(),hU(r),Kpe?.()}function SU(r,t,e){let n=Object.create(Zpe);e&&(n.consumerAllowSignalWrites=!0),n.fn=r,n.schedule=t;let i=l=>{n.cleanupFn=l};function o(l){return l.fn===null&&l.schedule===null}function s(l){o(l)||(Kp(l),l.cleanupFn(),l.fn=null,l.schedule=null,l.cleanupFn=LT)}let a=()=>{if(n.fn===null)return;if(Wpe())throw new Error("Schedulers cannot synchronously execute watches while scheduling.");if(n.dirty=!1,n.hasRun&&!bb(n))return;n.hasRun=!0;let l=Yp(n);try{n.cleanupFn(),n.cleanupFn=LT,n.fn(i)}finally{vb(n,l)}};return n.ref={notify:()=>pU(n),run:a,cleanup:()=>n.cleanupFn(),destroy:()=>s(n),[os]:n},n.ref}var LT=()=>{},Zpe=pr(Ue({},$h),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:r=>{r.schedule!==null&&r.schedule(r.ref)},hasRun:!1,cleanupFn:LT});function or(r){return typeof r=="function"}function Xp(r){let e=r(n=>{Error.call(n),n.stack=new Error().stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}var Aw=Xp(r=>function(e){r(this),this.message=e?`${e.length} errors occurred during unsubscription:
${e.map((n,i)=>`${i+1}) ${n.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=e});function Gh(r,t){if(r){let e=r.indexOf(t);0<=e&&r.splice(e,1)}}var yr=class r{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;let{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(let o of e)o.remove(this);else e.remove(this);let{initialTeardown:n}=this;if(or(n))try{n()}catch(o){t=o instanceof Aw?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{DU(o)}catch(s){t=t??[],s instanceof Aw?t=[...t,...s.errors]:t.push(s)}}if(t)throw new Aw(t)}}add(t){var e;if(t&&t!==this)if(this.closed)DU(t);else{if(t instanceof r){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(e=this._finalizers)!==null&&e!==void 0?e:[]).push(t)}}_hasParent(t){let{_parentage:e}=this;return e===t||Array.isArray(e)&&e.includes(t)}_addParent(t){let{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t}_removeParent(t){let{_parentage:e}=this;e===t?this._parentage=null:Array.isArray(e)&&Gh(e,t)}remove(t){let{_finalizers:e}=this;e&&Gh(e,t),t instanceof r&&t._removeParent(this)}};yr.EMPTY=(()=>{let r=new yr;return r.closed=!0,r})();var UT=yr.EMPTY;function Tw(r){return r instanceof yr||r&&"closed"in r&&or(r.remove)&&or(r.add)&&or(r.unsubscribe)}function DU(r){or(r)?r():r.unsubscribe()}var ac={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Zp={setTimeout(r,t,...e){let{delegate:n}=Zp;return n?.setTimeout?n.setTimeout(r,t,...e):setTimeout(r,t,...e)},clearTimeout(r){let{delegate:t}=Zp;return(t?.clearTimeout||clearTimeout)(r)},delegate:void 0};function Iw(r){Zp.setTimeout(()=>{let{onUnhandledError:t}=ac;if(t)t(r);else throw r})}function Qu(){}var EU=qT("C",void 0,void 0);function MU(r){return qT("E",void 0,r)}function AU(r){return qT("N",r,void 0)}function qT(r,t,e){return{kind:r,value:t,error:e}}var Yh=null;function Qp(r){if(ac.useDeprecatedSynchronousErrorHandling){let t=!Yh;if(t&&(Yh={errorThrown:!1,error:null}),r(),t){let{errorThrown:e,error:n}=Yh;if(Yh=null,e)throw n}}else r()}function TU(r){ac.useDeprecatedSynchronousErrorHandling&&Yh&&(Yh.errorThrown=!0,Yh.error=r)}var Kh=class extends yr{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,Tw(t)&&t.add(this)):this.destination=ege}static create(t,e,n){return new Ju(t,e,n)}next(t){this.isStopped?$T(AU(t),this):this._next(t)}error(t){this.isStopped?$T(MU(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?$T(EU,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},Qpe=Function.prototype.bind;function WT(r,t){return Qpe.call(r,t)}var GT=class{constructor(t){this.partialObserver=t}next(t){let{partialObserver:e}=this;if(e.next)try{e.next(t)}catch(n){kw(n)}}error(t){let{partialObserver:e}=this;if(e.error)try{e.error(t)}catch(n){kw(n)}else kw(t)}complete(){let{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(e){kw(e)}}},Ju=class extends Kh{constructor(t,e,n){super();let i;if(or(t)||!t)i={next:t??void 0,error:e??void 0,complete:n??void 0};else{let o;this&&ac.useDeprecatedNextContext?(o=Object.create(t),o.unsubscribe=()=>this.unsubscribe(),i={next:t.next&&WT(t.next,o),error:t.error&&WT(t.error,o),complete:t.complete&&WT(t.complete,o)}):i=t}this.destination=new GT(i)}};function kw(r){ac.useDeprecatedSynchronousErrorHandling?TU(r):Iw(r)}function Jpe(r){throw r}function $T(r,t){let{onStoppedNotification:e}=ac;e&&Zp.setTimeout(()=>e(r,t))}var ege={closed:!0,next:Qu,error:Jpe,complete:Qu};var Jp=typeof Symbol=="function"&&Symbol.observable||"@@observable";function ta(r){return r}function YT(...r){return KT(r)}function KT(r){return r.length===0?ta:r.length===1?r[0]:function(e){return r.reduce((n,i)=>i(n),e)}}var Jt=(()=>{class r{constructor(e){e&&(this._subscribe=e)}lift(e){let n=new r;return n.source=this,n.operator=e,n}subscribe(e,n,i){let o=rge(e)?e:new Ju(e,n,i);return Qp(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(e){try{return this._subscribe(e)}catch(n){e.error(n)}}forEach(e,n){return n=IU(n),new n((i,o)=>{let s=new Ju({next:a=>{try{e(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(e){var n;return(n=this.source)===null||n===void 0?void 0:n.subscribe(e)}[Jp](){return this}pipe(...e){return KT(e)(this)}toPromise(e){return e=IU(e),new e((n,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>n(o))})}}return r.create=t=>new r(t),r})();function IU(r){var t;return(t=r??ac.Promise)!==null&&t!==void 0?t:Promise}function tge(r){return r&&or(r.next)&&or(r.error)&&or(r.complete)}function rge(r){return r&&r instanceof Kh||tge(r)&&Tw(r)}function XT(r){return or(r?.lift)}function _r(r){return t=>{if(XT(t))return t.lift(function(e){try{return r(e,this)}catch(n){this.error(n)}});throw new TypeError("Unable to lift unknown Observable type")}}function wr(r,t,e,n,i){return new ZT(r,t,e,n,i)}var ZT=class extends Kh{constructor(t,e,n,i,o,s){super(t),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=e?function(a){try{e(a)}catch(l){t.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){t.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=n?function(){try{n()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:e}=this;super.unsubscribe(),!e&&((t=this.onFinalize)===null||t===void 0||t.call(this))}}};function eg(){return _r((r,t)=>{let e=null;r._refCount++;let n=wr(t,void 0,void 0,void 0,()=>{if(!r||r._refCount<=0||0<--r._refCount){e=null;return}let i=r._connection,o=e;e=null,i&&(!o||i===o)&&i.unsubscribe(),t.unsubscribe()});r.subscribe(n),n.closed||(e=r.connect())})}var ed=class extends Jt{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,XT(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){let t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new yr;let e=this.getSubject();t.add(this.source.subscribe(wr(e,void 0,()=>{this._teardown(),e.complete()},n=>{this._teardown(),e.error(n)},()=>this._teardown()))),t.closed&&(this._connection=null,t=yr.EMPTY)}return t}refCount(){return eg()(this)}};var kU=Xp(r=>function(){r(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ke=(()=>{class r extends Jt{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){let n=new Nw(this,this);return n.operator=e,n}_throwIfClosed(){if(this.closed)throw new kU}next(e){Qp(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let n of this.currentObservers)n.next(e)}})}error(e){Qp(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;let{observers:n}=this;for(;n.length;)n.shift().error(e)}})}complete(){Qp(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return((e=this.observers)===null||e===void 0?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){let{hasError:n,isStopped:i,observers:o}=this;return n||i?UT:(this.currentObservers=null,o.push(e),new yr(()=>{this.currentObservers=null,Gh(o,e)}))}_checkFinalizedStatuses(e){let{hasError:n,thrownError:i,isStopped:o}=this;n?e.error(i):o&&e.complete()}asObservable(){let e=new Jt;return e.source=this,e}}return r.create=(t,e)=>new Nw(t,e),r})(),Nw=class extends Ke{constructor(t,e){super(),this.destination=t,this.source=e}next(t){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.next)===null||n===void 0||n.call(e,t)}error(t){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.error)===null||n===void 0||n.call(e,t)}complete(){var t,e;(e=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||e===void 0||e.call(t)}_subscribe(t){var e,n;return(n=(e=this.source)===null||e===void 0?void 0:e.subscribe(t))!==null&&n!==void 0?n:UT}};var co=class extends Ke{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){let e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){let{hasError:t,thrownError:e,_value:n}=this;if(t)throw e;return this._throwIfClosed(),n}next(t){super.next(this._value=t)}};var _b={now(){return(_b.delegate||Date).now()},delegate:void 0};var ss=class extends Ke{constructor(t=1/0,e=1/0,n=_b){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=n,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){let{isStopped:e,_buffer:n,_infiniteTimeWindow:i,_timestampProvider:o,_windowTime:s}=this;e||(n.push(t),!i&&n.push(o.now()+s)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();let e=this._innerSubscribe(t),{_infiniteTimeWindow:n,_buffer:i}=this,o=i.slice();for(let s=0;s<o.length&&!t.closed;s+=n?1:2)t.next(o[s]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){let{_bufferSize:t,_timestampProvider:e,_buffer:n,_infiniteTimeWindow:i}=this,o=(i?1:2)*t;if(t<1/0&&o<n.length&&n.splice(0,n.length-o),!i){let s=e.now(),a=0;for(let l=1;l<n.length&&n[l]<=s;l+=2)a=l;a&&n.splice(0,a+1)}}};var Ow=class extends yr{constructor(t,e){super()}schedule(t,e=0){return this}};var xb={setInterval(r,t,...e){let{delegate:n}=xb;return n?.setInterval?n.setInterval(r,t,...e):setInterval(r,t,...e)},clearInterval(r){let{delegate:t}=xb;return(t?.clearInterval||clearInterval)(r)},delegate:void 0};var tg=class extends Ow{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){var n;if(this.closed)return this;this.state=t;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,e)),this.pending=!0,this.delay=e,this.id=(n=this.id)!==null&&n!==void 0?n:this.requestAsyncId(o,this.id,e),this}requestAsyncId(t,e,n=0){return xb.setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(n!=null&&this.delay===n&&this.pending===!1)return e;e!=null&&xb.clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let n=this._execute(t,e);if(n)return n;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n=!1,i;try{this.work(t)}catch(o){n=!0,i=o||new Error("Scheduled action threw falsy error")}if(n)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:t,scheduler:e}=this,{actions:n}=e;this.work=this.state=this.scheduler=null,this.pending=!1,Gh(n,this),t!=null&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null,super.unsubscribe()}}};var nge=1,QT,JT={};function NU(r){return r in JT?(delete JT[r],!0):!1}var OU={setImmediate(r){let t=nge++;return JT[t]=!0,QT||(QT=Promise.resolve()),QT.then(()=>NU(t)&&r()),t},clearImmediate(r){NU(r)}};var{setImmediate:ige,clearImmediate:oge}=OU,wb={setImmediate(...r){let{delegate:t}=wb;return(t?.setImmediate||ige)(...r)},clearImmediate(r){let{delegate:t}=wb;return(t?.clearImmediate||oge)(r)},delegate:void 0};var Fw=class extends tg{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return n!==null&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t._scheduled||(t._scheduled=wb.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,n=0){var i;if(n!=null?n>0:this.delay>0)return super.recycleAsyncId(t,e,n);let{actions:o}=t;e!=null&&((i=o[o.length-1])===null||i===void 0?void 0:i.id)!==e&&(wb.clearImmediate(e),t._scheduled===e&&(t._scheduled=void 0))}};var rg=class r{constructor(t,e=r.now){this.schedulerActionCtor=t,this.now=e}schedule(t,e=0,n){return new this.schedulerActionCtor(this,t).schedule(n,e)}};rg.now=_b.now;var ng=class extends rg{constructor(t,e=rg.now){super(t,e),this.actions=[],this._active=!1}flush(t){let{actions:e}=this;if(this._active){e.push(t);return}let n;this._active=!0;do if(n=t.execute(t.state,t.delay))break;while(t=e.shift());if(this._active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}};var Rw=class extends ng{flush(t){this._active=!0;let e=this._scheduled;this._scheduled=void 0;let{actions:n}=this,i;t=t||n.shift();do if(i=t.execute(t.state,t.delay))break;while((t=n[0])&&t.id===e&&n.shift());if(this._active=!1,i){for(;(t=n[0])&&t.id===e&&n.shift();)t.unsubscribe();throw i}}};var Xh=new Rw(Fw);var Zh=new ng(tg),FU=Zh;var Qi=new Jt(r=>r.complete());function Pw(r){return r&&or(r.schedule)}function eI(r){return r[r.length-1]}function Lw(r){return or(eI(r))?r.pop():void 0}function qc(r){return Pw(eI(r))?r.pop():void 0}function RU(r,t){return typeof eI(r)=="number"?r.pop():t}function LU(r,t,e,n){function i(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function a(d){try{c(n.next(d))}catch(f){s(f)}}function l(d){try{c(n.throw(d))}catch(f){s(f)}}function c(d){d.done?o(d.value):i(d.value).then(a,l)}c((n=n.apply(r,t||[])).next())})}function PU(r){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&r[t],n=0;if(e)return e.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Qh(r){return this instanceof Qh?(this.v=r,this):new Qh(r)}function BU(r,t,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=e.apply(r,t||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(p){return function(b){return Promise.resolve(b).then(p,f)}}function a(p,b){n[p]&&(i[p]=function(y){return new Promise(function(C,S){o.push([p,y,C,S])>1||l(p,y)})},b&&(i[p]=b(i[p])))}function l(p,b){try{c(n[p](b))}catch(y){m(o[0][3],y)}}function c(p){p.value instanceof Qh?Promise.resolve(p.value.v).then(d,f):m(o[0][2],p)}function d(p){l("next",p)}function f(p){l("throw",p)}function m(p,b){p(b),o.shift(),o.length&&l(o[0][0],o[0][1])}}function VU(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=r[Symbol.asyncIterator],e;return t?t.call(r):(r=typeof PU=="function"?PU(r):r[Symbol.iterator](),e={},n("next"),n("throw"),n("return"),e[Symbol.asyncIterator]=function(){return this},e);function n(o){e[o]=r[o]&&function(s){return new Promise(function(a,l){s=r[o](s),i(a,l,s.done,s.value)})}}function i(o,s,a,l){Promise.resolve(l).then(function(c){o({value:c,done:a})},s)}}var ig=r=>r&&typeof r.length=="number"&&typeof r!="function";function Bw(r){return or(r?.then)}function Vw(r){return or(r[Jp])}function zw(r){return Symbol.asyncIterator&&or(r?.[Symbol.asyncIterator])}function jw(r){return new TypeError(`You provided ${r!==null&&typeof r=="object"?"an invalid object":`'${r}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function sge(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Hw=sge();function Uw(r){return or(r?.[Hw])}function qw(r){return BU(this,arguments,function*(){let e=r.getReader();try{for(;;){let{value:n,done:i}=yield Qh(e.read());if(i)return yield Qh(void 0);yield yield Qh(n)}}finally{e.releaseLock()}})}function Ww(r){return or(r?.getReader)}function pn(r){if(r instanceof Jt)return r;if(r!=null){if(Vw(r))return age(r);if(ig(r))return lge(r);if(Bw(r))return cge(r);if(zw(r))return zU(r);if(Uw(r))return uge(r);if(Ww(r))return dge(r)}throw jw(r)}function age(r){return new Jt(t=>{let e=r[Jp]();if(or(e.subscribe))return e.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function lge(r){return new Jt(t=>{for(let e=0;e<r.length&&!t.closed;e++)t.next(r[e]);t.complete()})}function cge(r){return new Jt(t=>{r.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,Iw)})}function uge(r){return new Jt(t=>{for(let e of r)if(t.next(e),t.closed)return;t.complete()})}function zU(r){return new Jt(t=>{fge(r,t).catch(e=>t.error(e))})}function dge(r){return zU(qw(r))}function fge(r,t){var e,n,i,o;return LU(this,void 0,void 0,function*(){try{for(e=VU(r);n=yield e.next(),!n.done;){let s=n.value;if(t.next(s),t.closed)return}}catch(s){i={error:s}}finally{try{n&&!n.done&&(o=e.return)&&(yield o.call(e))}finally{if(i)throw i.error}}t.complete()})}function wa(r,t,e,n=0,i=!1){let o=t.schedule(function(){e(),i?r.add(this.schedule(null,n)):this.unsubscribe()},n);if(r.add(o),!i)return o}function $w(r,t=0){return _r((e,n)=>{e.subscribe(wr(n,i=>wa(n,r,()=>n.next(i),t),()=>wa(n,r,()=>n.complete(),t),i=>wa(n,r,()=>n.error(i),t)))})}function Gw(r,t=0){return _r((e,n)=>{n.add(r.schedule(()=>e.subscribe(n),t))})}function jU(r,t){return pn(r).pipe(Gw(t),$w(t))}function HU(r,t){return pn(r).pipe(Gw(t),$w(t))}function UU(r,t){return new Jt(e=>{let n=0;return t.schedule(function(){n===r.length?e.complete():(e.next(r[n++]),e.closed||this.schedule())})})}function qU(r,t){return new Jt(e=>{let n;return wa(e,t,()=>{n=r[Hw](),wa(e,t,()=>{let i,o;try{({value:i,done:o}=n.next())}catch(s){e.error(s);return}o?e.complete():e.next(i)},0,!0)}),()=>or(n?.return)&&n.return()})}function Yw(r,t){if(!r)throw new Error("Iterable cannot be null");return new Jt(e=>{wa(e,t,()=>{let n=r[Symbol.asyncIterator]();wa(e,t,()=>{n.next().then(i=>{i.done?e.complete():e.next(i.value)})},0,!0)})})}function WU(r,t){return Yw(qw(r),t)}function $U(r,t){if(r!=null){if(Vw(r))return jU(r,t);if(ig(r))return UU(r,t);if(Bw(r))return HU(r,t);if(zw(r))return Yw(r,t);if(Uw(r))return qU(r,t);if(Ww(r))return WU(r,t)}throw jw(r)}function On(r,t){return t?$U(r,t):pn(r)}function tt(...r){let t=qc(r);return On(r,t)}function zo(r,t){let e=or(r)?r:()=>r,n=i=>i.error(e());return new Jt(t?i=>t.schedule(n,0,i):n)}function og(r){return!!r&&(r instanceof Jt||or(r.lift)&&or(r.subscribe))}var td=Xp(r=>function(){r(this),this.name="EmptyError",this.message="no elements in sequence"});function GU(r){return r instanceof Date&&!isNaN(r)}function at(r,t){return _r((e,n)=>{let i=0;e.subscribe(wr(n,o=>{n.next(r.call(t,o,i++))}))})}var{isArray:hge}=Array;function mge(r,t){return hge(t)?r(...t):r(t)}function sg(r){return at(t=>mge(r,t))}var{isArray:pge}=Array,{getPrototypeOf:gge,prototype:vge,keys:bge}=Object;function Kw(r){if(r.length===1){let t=r[0];if(pge(t))return{args:t,keys:null};if(yge(t)){let e=bge(t);return{args:e.map(n=>t[n]),keys:e}}}return{args:r,keys:null}}function yge(r){return r&&typeof r=="object"&&gge(r)===vge}function Xw(r,t){return r.reduce((e,n,i)=>(e[n]=t[i],e),{})}function Jh(...r){let t=qc(r),e=Lw(r),{args:n,keys:i}=Kw(r);if(n.length===0)return On([],t);let o=new Jt(_ge(n,t,i?s=>Xw(i,s):ta));return e?o.pipe(sg(e)):o}function _ge(r,t,e=ta){return n=>{YU(t,()=>{let{length:i}=r,o=new Array(i),s=i,a=i;for(let l=0;l<i;l++)YU(t,()=>{let c=On(r[l],t),d=!1;c.subscribe(wr(n,f=>{o[l]=f,d||(d=!0,a--),a||n.next(e(o.slice()))},()=>{--s||n.complete()}))},n)},n)}}function YU(r,t,e){r?wa(e,r,t):t()}function KU(r,t,e,n,i,o,s,a){let l=[],c=0,d=0,f=!1,m=()=>{f&&!l.length&&!c&&t.complete()},p=y=>c<n?b(y):l.push(y),b=y=>{o&&t.next(y),c++;let C=!1;pn(e(y,d++)).subscribe(wr(t,S=>{i?.(S),o?p(S):t.next(S)},()=>{C=!0},void 0,()=>{if(C)try{for(c--;l.length&&c<n;){let S=l.shift();s?wa(t,s,()=>b(S)):b(S)}m()}catch(S){t.error(S)}}))};return r.subscribe(wr(t,p,()=>{f=!0,m()})),()=>{a?.()}}function Ci(r,t,e=1/0){return or(t)?Ci((n,i)=>at((o,s)=>t(n,o,i,s))(pn(r(n,i))),e):(typeof t=="number"&&(e=t),_r((n,i)=>KU(n,i,r,e)))}function Wc(r=1/0){return Ci(ta,r)}function XU(){return Wc(1)}function El(...r){return XU()(On(r,qc(r)))}function ra(r){return new Jt(t=>{pn(r()).subscribe(t)})}function $c(...r){let t=Lw(r),{args:e,keys:n}=Kw(r),i=new Jt(o=>{let{length:s}=e;if(!s){o.complete();return}let a=new Array(s),l=s,c=s;for(let d=0;d<s;d++){let f=!1;pn(e[d]).subscribe(wr(o,m=>{f||(f=!0,c--),a[d]=m},()=>l--,void 0,()=>{(!l||!f)&&(c||o.next(n?Xw(n,a):a),o.complete())}))}});return t?i.pipe(sg(t)):i}var xge=["addListener","removeListener"],wge=["addEventListener","removeEventListener"],Cge=["on","off"];function Ca(r,t,e,n){if(or(e)&&(n=e,e=void 0),n)return Ca(r,t,e).pipe(sg(n));let[i,o]=Ege(r)?wge.map(s=>a=>r[s](t,a,e)):Sge(r)?xge.map(ZU(r,t)):Dge(r)?Cge.map(ZU(r,t)):[];if(!i&&ig(r))return Ci(s=>Ca(s,t,e))(pn(r));if(!i)throw new TypeError("Invalid event target");return new Jt(s=>{let a=(...l)=>s.next(1<l.length?l:l[0]);return i(a),()=>o(a)})}function ZU(r,t){return e=>n=>r[e](t,n)}function Sge(r){return or(r.addListener)&&or(r.removeListener)}function Dge(r){return or(r.on)&&or(r.off)}function Ege(r){return or(r.addEventListener)&&or(r.removeEventListener)}function Zw(r,t,e){return ra(()=>r()?t:e)}function rd(r=0,t,e=FU){let n=-1;return t!=null&&(Pw(t)?e=t:n=t),new Jt(i=>{let o=GU(r)?+r-e.now():r;o<0&&(o=0);let s=0;return e.schedule(function(){i.closed||(i.next(s++),0<=n?this.schedule(void 0,n):i.complete())},o)})}function Si(...r){let t=qc(r),e=RU(r,1/0),n=r;return n.length?n.length===1?pn(n[0]):Wc(e)(On(n,t)):Qi}var em=new Jt(Qu);function sr(r,t){return _r((e,n)=>{let i=0;e.subscribe(wr(n,o=>r.call(t,o,i++)&&n.next(o)))})}function QU(r){return _r((t,e)=>{let n=!1,i=null,o=null,s=!1,a=()=>{if(o?.unsubscribe(),o=null,n){n=!1;let c=i;i=null,e.next(c)}s&&e.complete()},l=()=>{o=null,s&&e.complete()};t.subscribe(wr(e,c=>{n=!0,i=c,o||pn(r(c)).subscribe(o=wr(e,a,l))},()=>{s=!0,(!n||!o||o.closed)&&e.complete()}))})}function Qw(r,t=Zh){return QU(()=>rd(r,t))}function Ml(r){return _r((t,e)=>{let n=null,i=!1,o;n=t.subscribe(wr(e,void 0,void 0,s=>{o=pn(r(s,Ml(r)(t))),n?(n.unsubscribe(),n=null,o.subscribe(e)):i=!0})),i&&(n.unsubscribe(),n=null,o.subscribe(e))})}function JU(r,t,e,n,i){return(o,s)=>{let a=e,l=t,c=0;o.subscribe(wr(s,d=>{let f=c++;l=a?r(l,d,f):(a=!0,d),n&&s.next(l)},i&&(()=>{a&&s.next(l),s.complete()})))}}function lc(r,t){return or(t)?Ci(r,t,1):Ci(r,1)}function e6(r){return new Jt(t=>r.subscribe(t))}var Mge={connector:()=>new Ke};function Jw(r,t=Mge){let{connector:e}=t;return _r((n,i)=>{let o=e();pn(r(e6(o))).subscribe(i),i.add(n.subscribe(o))})}function xn(r,t=Zh){return _r((e,n)=>{let i=null,o=null,s=null,a=()=>{if(i){i.unsubscribe(),i=null;let c=o;o=null,n.next(c)}};function l(){let c=s+r,d=t.now();if(d<c){i=this.schedule(void 0,c-d),n.add(i);return}a()}e.subscribe(wr(n,c=>{o=c,s=t.now(),i||(i=t.schedule(l,r),n.add(i))},()=>{a(),n.complete()},void 0,()=>{o=i=null}))})}function af(r){return _r((t,e)=>{let n=!1;t.subscribe(wr(e,i=>{n=!0,e.next(i)},()=>{n||e.next(r),e.complete()}))})}function on(r){return r<=0?()=>Qi:_r((t,e)=>{let n=0;t.subscribe(wr(e,i=>{++n<=r&&(e.next(i),r<=n&&e.complete())}))})}function t6(){return _r((r,t)=>{r.subscribe(wr(t,Qu))})}function Cb(r){return at(()=>r)}function tI(r,t){return t?e=>El(t.pipe(on(1),t6()),e.pipe(tI(r))):Ci((e,n)=>pn(r(e,n)).pipe(on(1),Cb(e)))}function nd(r,t=Zh){let e=rd(r,t);return tI(()=>e)}function ag(r,t=ta){return r=r??Age,_r((e,n)=>{let i,o=!0;e.subscribe(wr(n,s=>{let a=t(s);(o||!r(i,a))&&(o=!1,i=a,n.next(s))}))})}function Age(r,t){return r===t}function eC(r=Tge){return _r((t,e)=>{let n=!1;t.subscribe(wr(e,i=>{n=!0,e.next(i)},()=>n?e.complete():e.error(r())))})}function Tge(){return new td}function Sa(r){return _r((t,e)=>{try{t.subscribe(e)}finally{e.add(r)}})}function Gc(r,t){let e=arguments.length>=2;return n=>n.pipe(r?sr((i,o)=>r(i,o,n)):ta,on(1),e?af(t):eC(()=>new td))}function lg(r){return r<=0?()=>Qi:_r((t,e)=>{let n=[];t.subscribe(wr(e,i=>{n.push(i),r<n.length&&n.shift()},()=>{for(let i of n)e.next(i);e.complete()},void 0,()=>{n=null}))})}function rI(r,t){let e=arguments.length>=2;return n=>n.pipe(r?sr((i,o)=>r(i,o,n)):ta,lg(1),e?af(t):eC(()=>new td))}function r6(r,t){let e=or(r)?r:()=>r;return or(t)?Jw(t,{connector:e}):n=>new ed(n,e)}function tC(){return _r((r,t)=>{let e,n=!1;r.subscribe(wr(t,i=>{let o=e;e=i,n&&t.next([o,i]),n=!0}))})}function nI(r){return r?t=>Jw(r)(t):t=>r6(new Ke)(t)}function iI(r,t){return _r(JU(r,t,arguments.length>=2,!0))}function tm(r={}){let{connector:t=()=>new Ke,resetOnError:e=!0,resetOnComplete:n=!0,resetOnRefCountZero:i=!0}=r;return o=>{let s,a,l,c=0,d=!1,f=!1,m=()=>{a?.unsubscribe(),a=void 0},p=()=>{m(),s=l=void 0,d=f=!1},b=()=>{let y=s;p(),y?.unsubscribe()};return _r((y,C)=>{c++,!f&&!d&&m();let S=l=l??t();C.add(()=>{c--,c===0&&!f&&!d&&(a=oI(b,i))}),S.subscribe(C),!s&&c>0&&(s=new Ju({next:A=>S.next(A),error:A=>{f=!0,m(),a=oI(p,e,A),S.error(A)},complete:()=>{d=!0,m(),a=oI(p,n),S.complete()}}),pn(y).subscribe(s))})(o)}}function oI(r,t,...e){if(t===!0){r();return}if(t===!1)return;let n=new Ju({next:()=>{n.unsubscribe(),r()}});return pn(t(...e)).subscribe(n)}function rC(r,t,e){let n,i=!1;return r&&typeof r=="object"?{bufferSize:n=1/0,windowTime:t=1/0,refCount:i=!1,scheduler:e}=r:n=r??1/0,tm({connector:()=>new ss(n,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function rm(r){return sr((t,e)=>r<=e)}function si(...r){let t=qc(r);return _r((e,n)=>{(t?El(r,e,t):El(r,e)).subscribe(n)})}function Wr(r,t){return _r((e,n)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&n.complete();e.subscribe(wr(n,l=>{i?.unsubscribe();let c=0,d=o++;pn(r(l,d)).subscribe(i=wr(n,f=>n.next(t?t(l,f,d,c++):f),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Vt(r){return _r((t,e)=>{pn(r).subscribe(wr(e,()=>e.complete(),Qu)),!e.closed&&t.subscribe(e)})}function sI(r,t=!1){return _r((e,n)=>{let i=0;e.subscribe(wr(n,o=>{let s=r(o,i++);(s||t)&&n.next(o),!s&&n.complete()}))})}function Fr(r,t,e){let n=or(r)||t||e?{next:r,error:t,complete:e}:r;return n?_r((i,o)=>{var s;(s=n.subscribe)===null||s===void 0||s.call(n);let a=!0;i.subscribe(wr(o,l=>{var c;(c=n.next)===null||c===void 0||c.call(n,l),o.next(l)},()=>{var l;a=!1,(l=n.complete)===null||l===void 0||l.call(n),o.complete()},l=>{var c;a=!1,(c=n.error)===null||c===void 0||c.call(n,l),o.error(l)},()=>{var l,c;a&&((l=n.unsubscribe)===null||l===void 0||l.call(n)),(c=n.finalize)===null||c===void 0||c.call(n)}))}):ta}var Z6="https://g.co/ng/security#xss",it=class extends Error{code;constructor(t,e){super(GC(t,e)),this.code=t}};function GC(r,t){return`${`NG0${Math.abs(r)}`}${t?": "+t:""}`}var YC=Symbol("InputSignalNode#UNSET"),Q6=pr(Ue({},HT),{transformFn:void 0,applyValueToInputSignal(r,t){yb(r,t)}});function J6(r,t){let e=Object.create(Q6);e.value=r,e.transformFn=t?.transform;function n(){if(gb(e),e.value===YC)throw new it(-950,!1);return e.value}return n[os]=e,n}function Rb(r){return{toString:r}.toString()}var nC="__parameters__";function Ige(r){return function(...e){if(r){let n=r(...e);for(let i in n)this[i]=n[i]}}}function eq(r,t,e){return Rb(()=>{let n=Ige(t);function i(...o){if(this instanceof i)return n.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(l,c,d){let f=l.hasOwnProperty(nC)?l[nC]:Object.defineProperty(l,nC,{value:[]})[nC];for(;f.length<=d;)f.push(null);return(f[d]=f[d]||[]).push(s),l}}return e&&(i.prototype=Object.create(e.prototype)),i.prototype.ngMetadataName=r,i.annotationCls=i,i})}var id=globalThis;function Gn(r){for(let t in r)if(r[t]===Gn)return t;throw Error("Could not find renamed property on target object.")}function kge(r,t){for(let e in t)t.hasOwnProperty(e)&&!r.hasOwnProperty(e)&&(r[e]=t[e])}function ia(r){if(typeof r=="string")return r;if(Array.isArray(r))return"["+r.map(ia).join(", ")+"]";if(r==null)return""+r;if(r.overriddenName)return`${r.overriddenName}`;if(r.name)return`${r.name}`;let t=r.toString();if(t==null)return""+t;let e=t.indexOf(`
`);return e===-1?t:t.substring(0,e)}function _I(r,t){return r==null||r===""?t===null?"":t:t==null||t===""?r:r+" "+t}var Nge=Gn({__forward_ref__:Gn});function Hr(r){return r.__forward_ref__=Hr,r.toString=function(){return ia(this())},r}function as(r){return tq(r)?r():r}function tq(r){return typeof r=="function"&&r.hasOwnProperty(Nge)&&r.__forward_ref__===Hr}function Fe(r){return{token:r.token,providedIn:r.providedIn||null,factory:r.factory,value:void 0}}function kt(r){return{providers:r.providers||[],imports:r.imports||[]}}function KC(r){return n6(r,nq)||n6(r,iq)}function rq(r){return KC(r)!==null}function n6(r,t){return r.hasOwnProperty(t)?r[t]:null}function Oge(r){let t=r&&(r[nq]||r[iq]);return t||null}function i6(r){return r&&(r.hasOwnProperty(o6)||r.hasOwnProperty(Fge))?r[o6]:null}var nq=Gn({\u0275prov:Gn}),o6=Gn({\u0275inj:Gn}),iq=Gn({ngInjectableDef:Gn}),Fge=Gn({ngInjectorDef:Gn}),He=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(t,e){this._desc=t,this.\u0275prov=void 0,typeof e=="number"?this.__NG_ELEMENT_ID__=e:e!==void 0&&(this.\u0275prov=Fe({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function oq(r){return r&&!!r.\u0275providers}var Rge=Gn({\u0275cmp:Gn}),Pge=Gn({\u0275dir:Gn}),Lge=Gn({\u0275pipe:Gn}),Bge=Gn({\u0275mod:Gn}),vC=Gn({\u0275fac:Gn}),Eb=Gn({__NG_ELEMENT_ID__:Gn}),s6=Gn({__NG_ENV_ID__:Gn});function pg(r){return typeof r=="string"?r:r==null?"":String(r)}function Vge(r){return typeof r=="function"?r.name||r.toString():typeof r=="object"&&r!=null&&typeof r.type=="function"?r.type.name||r.type.toString():pg(r)}function zge(r,t){let e=t?`. Dependency path: ${t.join(" > ")} > ${r}`:"";throw new it(-200,r)}function Ok(r,t){throw new it(-201,!1)}var Xr=function(r){return r[r.Default=0]="Default",r[r.Host=1]="Host",r[r.Self=2]="Self",r[r.SkipSelf=4]="SkipSelf",r[r.Optional=8]="Optional",r}(Xr||{}),xI;function sq(){return xI}function Da(r){let t=xI;return xI=r,t}function aq(r,t,e){let n=KC(r);if(n&&n.providedIn=="root")return n.value===void 0?n.value=n.factory():n.value;if(e&Xr.Optional)return null;if(t!==void 0)return t;Ok(r,"Injector")}var jge={},Mb=jge,wI="__NG_DI_FLAG__",bC="ngTempTokenPath",Hge="ngTokenPath",Uge=/\n/gm,qge="\u0275",a6="__source",hg;function Wge(){return hg}function lf(r){let t=hg;return hg=r,t}function $ge(r,t=Xr.Default){if(hg===void 0)throw new it(-203,!1);return hg===null?aq(r,void 0,t):hg.get(r,t&Xr.Optional?null:void 0,t)}function Tt(r,t=Xr.Default){return(sq()||$ge)(as(r),t)}function V(r,t=Xr.Default){return Tt(r,XC(t))}function XC(r){return typeof r>"u"||typeof r=="number"?r:0|(r.optional&&8)|(r.host&&1)|(r.self&&2)|(r.skipSelf&&4)}function CI(r){let t=[];for(let e=0;e<r.length;e++){let n=as(r[e]);if(Array.isArray(n)){if(n.length===0)throw new it(900,!1);let i,o=Xr.Default;for(let s=0;s<n.length;s++){let a=n[s],l=Gge(a);typeof l=="number"?l===-1?i=a.token:o|=l:i=a}t.push(Tt(i,o))}else t.push(Tt(n))}return t}function lq(r,t){return r[wI]=t,r.prototype[wI]=t,r}function Gge(r){return r[wI]}function Yge(r,t,e,n){let i=r[bC];throw t[a6]&&i.unshift(t[a6]),r.message=Kge(`
`+r.message,i,e,n),r[Hge]=i,r[bC]=null,r}function Kge(r,t,e,n=null){r=r&&r.charAt(0)===`
`&&r.charAt(1)==qge?r.slice(2):r;let i=ia(t);if(Array.isArray(t))i=t.map(ia).join(" -> ");else if(typeof t=="object"){let o=[];for(let s in t)if(t.hasOwnProperty(s)){let a=t[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):ia(a)))}i=`{${o.join(", ")}}`}return`${e}${n?"("+n+")":""}[${i}]: ${r.replace(Uge,`
  `)}`}var dd=lq(eq("Optional"),8);var vm=lq(eq("SkipSelf"),4);function om(r,t){let e=r.hasOwnProperty(vC);return e?r[vC]:null}function Xge(r,t,e){if(r.length!==t.length)return!1;for(let n=0;n<r.length;n++){let i=r[n],o=t[n];if(e&&(i=e(i),o=e(o)),o!==i)return!1}return!0}function Zge(r){return r.flat(Number.POSITIVE_INFINITY)}function Fk(r,t){r.forEach(e=>Array.isArray(e)?Fk(e,t):t(e))}function cq(r,t,e){t>=r.length?r.push(e):r.splice(t,0,e)}function yC(r,t){return t>=r.length-1?r.pop():r.splice(t,1)[0]}function Qge(r,t){let e=[];for(let n=0;n<r;n++)e.push(t);return e}function Jge(r,t,e,n){let i=r.length;if(i==t)r.push(e,n);else if(i===1)r.push(n,r[0]),r[0]=e;else{for(i--,r.push(r[i-1],r[i]);i>t;){let o=i-2;r[i]=r[o],i--}r[t]=e,r[t+1]=n}}function ZC(r,t,e){let n=Pb(r,t);return n>=0?r[n|1]=e:(n=~n,Jge(r,n,t,e)),n}function aI(r,t){let e=Pb(r,t);if(e>=0)return r[e|1]}function Pb(r,t){return eve(r,t,1)}function eve(r,t,e){let n=0,i=r.length>>e;for(;i!==n;){let o=n+(i-n>>1),s=r[o<<e];if(t===s)return o<<e;s>t?i=o:n=o+1}return~(i<<e)}var od={},na=[],gg=new He(""),uq=new He("",-1),dq=new He(""),_C=class{get(t,e=Mb){if(e===Mb){let n=new Error(`NullInjectorError: No provider for ${ia(t)}!`);throw n.name="NullInjectorError",n}return e}};function fq(r,t){let e=r[Bge]||null;if(!e&&t===!0)throw new Error(`Type ${ia(r)} does not have '\u0275mod' property.`);return e}function sd(r){return r[Rge]||null}function Rk(r){return r[Pge]||null}function hq(r){return r[Lge]||null}function mq(r){let t=sd(r)||Rk(r)||hq(r);return t!==null?t.standalone:!1}function Jc(r){return{\u0275providers:r}}function Pk(...r){return{\u0275providers:pq(!0,r),\u0275fromNgModule:!0}}function pq(r,...t){let e=[],n=new Set,i,o=s=>{e.push(s)};return Fk(t,s=>{let a=s;SI(a,o,[],n)&&(i||=[],i.push(a))}),i!==void 0&&gq(i,o),e}function gq(r,t){for(let e=0;e<r.length;e++){let{ngModule:n,providers:i}=r[e];Lk(i,o=>{t(o,n)})}}function SI(r,t,e,n){if(r=as(r),!r)return!1;let i=null,o=i6(r),s=!o&&sd(r);if(!o&&!s){let l=r.ngModule;if(o=i6(l),o)i=l;else return!1}else{if(s&&!s.standalone)return!1;i=r}let a=n.has(i);if(s){if(a)return!1;if(n.add(i),s.dependencies){let l=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let c of l)SI(c,t,e,n)}}else if(o){if(o.imports!=null&&!a){n.add(i);let c;try{Fk(o.imports,d=>{SI(d,t,e,n)&&(c||=[],c.push(d))})}finally{}c!==void 0&&gq(c,t)}if(!a){let c=om(i)||(()=>new i);t({provide:i,useFactory:c,deps:na},i),t({provide:dq,useValue:i,multi:!0},i),t({provide:gg,useValue:()=>Tt(i),multi:!0},i)}let l=o.providers;if(l!=null&&!a){let c=r;Lk(l,d=>{t(d,c)})}}else return!1;return i!==r&&r.providers!==void 0}function Lk(r,t){for(let e of r)oq(e)&&(e=e.\u0275providers),Array.isArray(e)?Lk(e,t):t(e)}var tve=Gn({provide:String,useValue:Gn});function vq(r){return r!==null&&typeof r=="object"&&tve in r}function rve(r){return!!(r&&r.useExisting)}function nve(r){return!!(r&&r.useFactory)}function vg(r){return typeof r=="function"}function ive(r){return!!r.useClass}var QC=new He(""),uC={},ove={},lI;function JC(){return lI===void 0&&(lI=new _C),lI}var Eo=class{},Ab=class extends Eo{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(t,e,n,i){super(),this.parent=e,this.source=n,this.scopes=i,EI(t,s=>this.processProvider(s)),this.records.set(uq,cg(void 0,this)),i.has("environment")&&this.records.set(Eo,cg(void 0,this));let o=this.records.get(QC);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(dq,na,Xr.Self))}destroy(){Sb(this),this._destroyed=!0;let t=Kr(null);try{for(let n of this._ngOnDestroyHooks)n.ngOnDestroy();let e=this._onDestroyHooks;this._onDestroyHooks=[];for(let n of e)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Kr(t)}}onDestroy(t){return Sb(this),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){Sb(this);let e=lf(this),n=Da(void 0),i;try{return t()}finally{lf(e),Da(n)}}get(t,e=Mb,n=Xr.Default){if(Sb(this),t.hasOwnProperty(s6))return t[s6](this);n=XC(n);let i,o=lf(this),s=Da(void 0);try{if(!(n&Xr.SkipSelf)){let l=this.records.get(t);if(l===void 0){let c=uve(t)&&KC(t);c&&this.injectableDefInScope(c)?l=cg(DI(t),uC):l=null,this.records.set(t,l)}if(l!=null)return this.hydrate(t,l)}let a=n&Xr.Self?JC():this.parent;return e=n&Xr.Optional&&e===Mb?null:e,a.get(t,e)}catch(a){if(a.name==="NullInjectorError"){if((a[bC]=a[bC]||[]).unshift(ia(t)),o)throw a;return Yge(a,t,"R3InjectorError",this.source)}else throw a}finally{Da(s),lf(o)}}resolveInjectorInitializers(){let t=Kr(null),e=lf(this),n=Da(void 0),i;try{let o=this.get(gg,na,Xr.Self);for(let s of o)s()}finally{lf(e),Da(n),Kr(t)}}toString(){let t=[],e=this.records;for(let n of e.keys())t.push(ia(n));return`R3Injector[${t.join(", ")}]`}processProvider(t){t=as(t);let e=vg(t)?t:as(t&&t.provide),n=ave(t);if(!vg(t)&&t.multi===!0){let i=this.records.get(e);i||(i=cg(void 0,uC,!0),i.factory=()=>CI(i.multi),this.records.set(e,i)),e=t,i.multi.push(t)}this.records.set(e,n)}hydrate(t,e){let n=Kr(null);try{return e.value===uC&&(e.value=ove,e.value=e.factory()),typeof e.value=="object"&&e.value&&cve(e.value)&&this._ngOnDestroyHooks.add(e.value),e.value}finally{Kr(n)}}injectableDefInScope(t){if(!t.providedIn)return!1;let e=as(t.providedIn);return typeof e=="string"?e==="any"||this.scopes.has(e):this.injectorDefTypes.has(e)}removeOnDestroy(t){let e=this._onDestroyHooks.indexOf(t);e!==-1&&this._onDestroyHooks.splice(e,1)}};function DI(r){let t=KC(r),e=t!==null?t.factory:om(r);if(e!==null)return e;if(r instanceof He)throw new it(204,!1);if(r instanceof Function)return sve(r);throw new it(204,!1)}function sve(r){if(r.length>0)throw new it(204,!1);let e=Oge(r);return e!==null?()=>e.factory(r):()=>new r}function ave(r){if(vq(r))return cg(void 0,r.useValue);{let t=bq(r);return cg(t,uC)}}function bq(r,t,e){let n;if(vg(r)){let i=as(r);return om(i)||DI(i)}else if(vq(r))n=()=>as(r.useValue);else if(nve(r))n=()=>r.useFactory(...CI(r.deps||[]));else if(rve(r))n=()=>Tt(as(r.useExisting));else{let i=as(r&&(r.useClass||r.provide));if(lve(r))n=()=>new i(...CI(r.deps));else return om(i)||DI(i)}return n}function Sb(r){if(r.destroyed)throw new it(205,!1)}function cg(r,t,e=!1){return{factory:r,value:t,multi:e?[]:void 0}}function lve(r){return!!r.deps}function cve(r){return r!==null&&typeof r=="object"&&typeof r.ngOnDestroy=="function"}function uve(r){return typeof r=="function"||typeof r=="object"&&r instanceof He}function EI(r,t){for(let e of r)Array.isArray(e)?EI(e,t):e&&oq(e)?EI(e.\u0275providers,t):t(e)}function Ma(r,t){r instanceof Ab&&Sb(r);let e,n=lf(r),i=Da(void 0);try{return t()}finally{lf(n),Da(i)}}function yq(){return sq()!==void 0||Wge()!=null}function Sg(r){if(!yq())throw new it(-203,!1)}function dve(r){return typeof r=="function"}var eu=0,kr=1,gr=2,Ss=3,dc=4,Aa=5,bg=6,xC=7,ws=8,yg=9,ad=10,Di=11,Tb=12,l6=13,Dg=14,Ga=15,sm=16,ug=17,ld=18,e1=19,_q=20,cf=21,dC=22,am=23,$a=24,uo=25,Bk=1;var lm=7,wC=8,_g=9,Cs=10,CC=function(r){return r[r.None=0]="None",r[r.HasTransplantedViews=2]="HasTransplantedViews",r}(CC||{});function uf(r){return Array.isArray(r)&&typeof r[Bk]=="object"}function fd(r){return Array.isArray(r)&&r[Bk]===!0}function Vk(r){return(r.flags&4)!==0}function t1(r){return r.componentOffset>-1}function r1(r){return(r.flags&1)===1}function cd(r){return!!r.template}function MI(r){return(r[gr]&512)!==0}var AI=class{previousValue;currentValue;firstChange;constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}};function xq(r,t,e,n){t!==null?t.applyValueToInputSignal(t,n):r[e]=n}var cr=(()=>{let r=()=>wq;return r.ngInherit=!0,r})();function wq(r){return r.type.prototype.ngOnChanges&&(r.setInput=hve),fve}function fve(){let r=Sq(this),t=r?.current;if(t){let e=r.previous;if(e===od)r.previous=t;else for(let n in t)e[n]=t[n];r.current=null,this.ngOnChanges(t)}}function hve(r,t,e,n,i){let o=this.declaredInputs[n],s=Sq(r)||mve(r,{previous:od,current:null}),a=s.current||(s.current={}),l=s.previous,c=l[o];a[o]=new AI(c&&c.currentValue,e,l===od),xq(r,t,i,e)}var Cq="__ngSimpleChanges__";function Sq(r){return r[Cq]||null}function mve(r,t){return r[Cq]=t}var c6=null;var Yc=function(r,t,e){c6?.(r,t,e)},Dq="svg",pve="math";function Xc(r){for(;Array.isArray(r);)r=r[eu];return r}function gve(r){for(;Array.isArray(r);){if(typeof r[Bk]=="object")return r;r=r[eu]}return null}function Eq(r,t){return Xc(t[r])}function Tl(r,t){return Xc(t[r.index])}function zk(r,t){return r.data[t]}function n1(r,t){return r[t]}function gf(r,t){let e=t[r];return uf(e)?e:e[eu]}function vve(r){return(r[gr]&4)===4}function jk(r){return(r[gr]&128)===128}function bve(r){return fd(r[Ss])}function df(r,t){return t==null?null:r[t]}function Mq(r){r[ug]=0}function Hk(r){r[gr]&1024||(r[gr]|=1024,jk(r)&&Lb(r))}function yve(r,t){for(;r>0;)t=t[Dg],r--;return t}function i1(r){return!!(r[gr]&9216||r[$a]?.dirty)}function TI(r){r[ad].changeDetectionScheduler?.notify(9),r[gr]&64&&(r[gr]|=1024),i1(r)&&Lb(r)}function Lb(r){r[ad].changeDetectionScheduler?.notify(0);let t=cm(r);for(;t!==null&&!(t[gr]&8192||(t[gr]|=8192,!jk(t)));)t=cm(t)}function Aq(r,t){if((r[gr]&256)===256)throw new it(911,!1);r[cf]===null&&(r[cf]=[]),r[cf].push(t)}function _ve(r,t){if(r[cf]===null)return;let e=r[cf].indexOf(t);e!==-1&&r[cf].splice(e,1)}function cm(r){let t=r[Ss];return fd(t)?t[Ss]:t}var jr={lFrame:Pq(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var II=!1;function xve(){return jr.lFrame.elementDepthCount}function wve(){jr.lFrame.elementDepthCount++}function Cve(){jr.lFrame.elementDepthCount--}function Tq(){return jr.bindingsEnabled}function Iq(){return jr.skipHydrationRootTNode!==null}function Sve(r){return jr.skipHydrationRootTNode===r}function Dve(){jr.skipHydrationRootTNode=null}function ar(){return jr.lFrame.lView}function Yn(){return jr.lFrame.tView}function xe(r){return jr.lFrame.contextLView=r,r[ws]}function we(r){return jr.lFrame.contextLView=null,r}function Mo(){let r=kq();for(;r!==null&&r.type===64;)r=r.parent;return r}function kq(){return jr.lFrame.currentTNode}function Eve(){let r=jr.lFrame,t=r.currentTNode;return r.isParent?t:t.parent}function vf(r,t){let e=jr.lFrame;e.currentTNode=r,e.isParent=t}function Uk(){return jr.lFrame.isParent}function qk(){jr.lFrame.isParent=!1}function Nq(){return jr.lFrame.contextLView}function Oq(){return II}function SC(r){let t=II;return II=r,t}function Eg(){let r=jr.lFrame,t=r.bindingRootIndex;return t===-1&&(t=r.bindingRootIndex=r.tView.bindingStartIndex),t}function Mve(){return jr.lFrame.bindingIndex}function Ave(r){return jr.lFrame.bindingIndex=r}function bf(){return jr.lFrame.bindingIndex++}function Wk(r){let t=jr.lFrame,e=t.bindingIndex;return t.bindingIndex=t.bindingIndex+r,e}function Tve(){return jr.lFrame.inI18n}function Ive(r,t){let e=jr.lFrame;e.bindingIndex=e.bindingRootIndex=r,kI(t)}function kve(){return jr.lFrame.currentDirectiveIndex}function kI(r){jr.lFrame.currentDirectiveIndex=r}function $k(r){let t=jr.lFrame.currentDirectiveIndex;return t===-1?null:r[t]}function Gk(){return jr.lFrame.currentQueryIndex}function o1(r){jr.lFrame.currentQueryIndex=r}function Nve(r){let t=r[kr];return t.type===2?t.declTNode:t.type===1?r[Aa]:null}function Fq(r,t,e){if(e&Xr.SkipSelf){let i=t,o=r;for(;i=i.parent,i===null&&!(e&Xr.Host);)if(i=Nve(o),i===null||(o=o[Dg],i.type&10))break;if(i===null)return!1;t=i,r=o}let n=jr.lFrame=Rq();return n.currentTNode=t,n.lView=r,!0}function Yk(r){let t=Rq(),e=r[kr];jr.lFrame=t,t.currentTNode=e.firstChild,t.lView=r,t.tView=e,t.contextLView=r,t.bindingIndex=e.bindingStartIndex,t.inI18n=!1}function Rq(){let r=jr.lFrame,t=r===null?null:r.child;return t===null?Pq(r):t}function Pq(r){let t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:r,child:null,inI18n:!1};return r!==null&&(r.child=t),t}function Lq(){let r=jr.lFrame;return jr.lFrame=r.parent,r.currentTNode=null,r.lView=null,r}var Bq=Lq;function Kk(){let r=Lq();r.isParent=!0,r.tView=null,r.selectedIndex=-1,r.contextLView=null,r.elementDepthCount=0,r.currentDirectiveIndex=-1,r.currentNamespace=null,r.bindingRootIndex=-1,r.bindingIndex=-1,r.currentQueryIndex=0}function Ove(r){return(jr.lFrame.contextLView=yve(r,jr.lFrame.contextLView))[ws]}function tu(){return jr.lFrame.selectedIndex}function um(r){jr.lFrame.selectedIndex=r}function Bb(){let r=jr.lFrame;return zk(r.tView,r.selectedIndex)}function ru(){jr.lFrame.currentNamespace=Dq}function Vq(){Fve()}function Fve(){jr.lFrame.currentNamespace=null}function Rve(){return jr.lFrame.currentNamespace}var zq=!0;function s1(){return zq}function a1(r){zq=r}function Pve(r,t,e){let{ngOnChanges:n,ngOnInit:i,ngDoCheck:o}=t.type.prototype;if(n){let s=wq(t);(e.preOrderHooks??=[]).push(r,s),(e.preOrderCheckHooks??=[]).push(r,s)}i&&(e.preOrderHooks??=[]).push(0-r,i),o&&((e.preOrderHooks??=[]).push(r,o),(e.preOrderCheckHooks??=[]).push(r,o))}function l1(r,t){for(let e=t.directiveStart,n=t.directiveEnd;e<n;e++){let o=r.data[e].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:d}=o;s&&(r.contentHooks??=[]).push(-e,s),a&&((r.contentHooks??=[]).push(e,a),(r.contentCheckHooks??=[]).push(e,a)),l&&(r.viewHooks??=[]).push(-e,l),c&&((r.viewHooks??=[]).push(e,c),(r.viewCheckHooks??=[]).push(e,c)),d!=null&&(r.destroyHooks??=[]).push(e,d)}}function fC(r,t,e){jq(r,t,3,e)}function hC(r,t,e,n){(r[gr]&3)===e&&jq(r,t,e,n)}function cI(r,t){let e=r[gr];(e&3)===t&&(e&=16383,e+=1,r[gr]=e)}function jq(r,t,e,n){let i=n!==void 0?r[ug]&65535:0,o=n??-1,s=t.length-1,a=0;for(let l=i;l<s;l++)if(typeof t[l+1]=="number"){if(a=t[l],n!=null&&a>=n)break}else t[l]<0&&(r[ug]+=65536),(a<o||o==-1)&&(Lve(r,e,t,l),r[ug]=(r[ug]&4294901760)+l+2),l++}function u6(r,t){Yc(4,r,t);let e=Kr(null);try{t.call(r)}finally{Kr(e),Yc(5,r,t)}}function Lve(r,t,e,n){let i=e[n]<0,o=e[n+1],s=i?-e[n]:e[n],a=r[s];i?r[gr]>>14<r[ug]>>16&&(r[gr]&3)===t&&(r[gr]+=16384,u6(a,o)):u6(a,o)}var mg=-1,dm=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(t,e,n){this.factory=t,this.canSeeViewProviders=e,this.injectImpl=n}};function Bve(r){return r instanceof dm}function Vve(r){return(r.flags&8)!==0}function zve(r){return(r.flags&16)!==0}function NI(r,t,e){let n=0;for(;n<e.length;){let i=e[n];if(typeof i=="number"){if(i!==0)break;n++;let o=e[n++],s=e[n++],a=e[n++];r.setAttribute(t,s,a,o)}else{let o=i,s=e[++n];jve(o)?r.setProperty(t,o,s):r.setAttribute(t,o,s),n++}}return n}function Hq(r){return r===3||r===4||r===6}function jve(r){return r.charCodeAt(0)===64}function Ib(r,t){if(!(t===null||t.length===0))if(r===null||r.length===0)r=t.slice();else{let e=-1;for(let n=0;n<t.length;n++){let i=t[n];typeof i=="number"?e=i:e===0||(e===-1||e===2?d6(r,e,i,null,t[++n]):d6(r,e,i,null,null))}}return r}function d6(r,t,e,n,i){let o=0,s=r.length;if(t===-1)s=-1;else for(;o<r.length;){let a=r[o++];if(typeof a=="number"){if(a===t){s=-1;break}else if(a>t){s=o-1;break}}}for(;o<r.length;){let a=r[o];if(typeof a=="number")break;if(a===e){if(n===null){i!==null&&(r[o+1]=i);return}else if(n===r[o+1]){r[o+2]=i;return}}o++,n!==null&&o++,i!==null&&o++}s!==-1&&(r.splice(s,0,t),o=s+1),r.splice(o++,0,e),n!==null&&r.splice(o++,0,n),i!==null&&r.splice(o++,0,i)}var uI={},OI=class{injector;parentInjector;constructor(t,e){this.injector=t,this.parentInjector=e}get(t,e,n){n=XC(n);let i=this.injector.get(t,uI,n);return i!==uI||e===uI?i:this.parentInjector.get(t,e,n)}};function Uq(r){return r!==mg}function DC(r){return r&32767}function Hve(r){return r>>16}function EC(r,t){let e=Hve(r),n=t;for(;e>0;)n=n[Dg],e--;return n}var FI=!0;function MC(r){let t=FI;return FI=r,t}var Uve=256,qq=Uve-1,Wq=5,qve=0,Kc={};function Wve(r,t,e){let n;typeof e=="string"?n=e.charCodeAt(0)||0:e.hasOwnProperty(Eb)&&(n=e[Eb]),n==null&&(n=e[Eb]=qve++);let i=n&qq,o=1<<i;t.data[r+(i>>Wq)]|=o}function AC(r,t){let e=$q(r,t);if(e!==-1)return e;let n=t[kr];n.firstCreatePass&&(r.injectorIndex=t.length,dI(n.data,r),dI(t,null),dI(n.blueprint,null));let i=Xk(r,t),o=r.injectorIndex;if(Uq(i)){let s=DC(i),a=EC(i,t),l=a[kr].data;for(let c=0;c<8;c++)t[o+c]=a[s+c]|l[s+c]}return t[o+8]=i,o}function dI(r,t){r.push(0,0,0,0,0,0,0,0,t)}function $q(r,t){return r.injectorIndex===-1||r.parent&&r.parent.injectorIndex===r.injectorIndex||t[r.injectorIndex+8]===null?-1:r.injectorIndex}function Xk(r,t){if(r.parent&&r.parent.injectorIndex!==-1)return r.parent.injectorIndex;let e=0,n=null,i=t;for(;i!==null;){if(n=Zq(i),n===null)return mg;if(e++,i=i[Dg],n.injectorIndex!==-1)return n.injectorIndex|e<<16}return mg}function RI(r,t,e){Wve(r,t,e)}function $ve(r,t){if(t==="class")return r.classes;if(t==="style")return r.styles;let e=r.attrs;if(e){let n=e.length,i=0;for(;i<n;){let o=e[i];if(Hq(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<n&&typeof e[i]=="string";)i++;else{if(o===t)return e[i+1];i=i+2}}}return null}function Gq(r,t,e){if(e&Xr.Optional||r!==void 0)return r;Ok(t,"NodeInjector")}function Yq(r,t,e,n){if(e&Xr.Optional&&n===void 0&&(n=null),!(e&(Xr.Self|Xr.Host))){let i=r[yg],o=Da(void 0);try{return i?i.get(t,n,e&Xr.Optional):aq(t,n,e&Xr.Optional)}finally{Da(o)}}return Gq(n,t,e)}function Kq(r,t,e,n=Xr.Default,i){if(r!==null){if(t[gr]&2048&&!(n&Xr.Self)){let s=Xve(r,t,e,n,Kc);if(s!==Kc)return s}let o=Xq(r,t,e,n,Kc);if(o!==Kc)return o}return Yq(t,e,n,i)}function Xq(r,t,e,n,i){let o=Yve(e);if(typeof o=="function"){if(!Fq(t,r,n))return n&Xr.Host?Gq(i,e,n):Yq(t,e,n,i);try{let s;if(s=o(n),s==null&&!(n&Xr.Optional))Ok(e);else return s}finally{Bq()}}else if(typeof o=="number"){let s=null,a=$q(r,t),l=mg,c=n&Xr.Host?t[Ga][Aa]:null;for((a===-1||n&Xr.SkipSelf)&&(l=a===-1?Xk(r,t):t[a+8],l===mg||!h6(n,!1)?a=-1:(s=t[kr],a=DC(l),t=EC(l,t)));a!==-1;){let d=t[kr];if(f6(o,a,d.data)){let f=Gve(a,t,e,s,n,c);if(f!==Kc)return f}l=t[a+8],l!==mg&&h6(n,t[kr].data[a+8]===c)&&f6(o,a,t)?(s=d,a=DC(l),t=EC(l,t)):a=-1}}return i}function Gve(r,t,e,n,i,o){let s=t[kr],a=s.data[r+8],l=n==null?t1(a)&&FI:n!=s&&(a.type&3)!==0,c=i&Xr.Host&&o===a,d=mC(a,s,e,l,c);return d!==null?fm(t,s,d,a):Kc}function mC(r,t,e,n,i){let o=r.providerIndexes,s=t.data,a=o&1048575,l=r.directiveStart,c=r.directiveEnd,d=o>>20,f=n?a:a+d,m=i?a+d:c;for(let p=f;p<m;p++){let b=s[p];if(p<l&&e===b||p>=l&&b.type===e)return p}if(i){let p=s[l];if(p&&cd(p)&&p.type===e)return l}return null}function fm(r,t,e,n){let i=r[e],o=t.data;if(Bve(i)){let s=i;s.resolving&&zge(Vge(o[e]));let a=MC(s.canSeeViewProviders);s.resolving=!0;let l,c=s.injectImpl?Da(s.injectImpl):null,d=Fq(r,n,Xr.Default);try{i=r[e]=s.factory(void 0,o,r,n),t.firstCreatePass&&e>=n.directiveStart&&Pve(e,o[e],t)}finally{c!==null&&Da(c),MC(a),s.resolving=!1,Bq()}}return i}function Yve(r){if(typeof r=="string")return r.charCodeAt(0)||0;let t=r.hasOwnProperty(Eb)?r[Eb]:void 0;return typeof t=="number"?t>=0?t&qq:Kve:t}function f6(r,t,e){let n=1<<r;return!!(e[t+(r>>Wq)]&n)}function h6(r,t){return!(r&Xr.Self)&&!(r&Xr.Host&&t)}var im=class{_tNode;_lView;constructor(t,e){this._tNode=t,this._lView=e}get(t,e,n){return Kq(this._tNode,this._lView,t,XC(n),e)}};function Kve(){return new im(Mo(),ar())}function Kn(r){return Rb(()=>{let t=r.prototype.constructor,e=t[vC]||PI(t),n=Object.prototype,i=Object.getPrototypeOf(r.prototype).constructor;for(;i&&i!==n;){let o=i[vC]||PI(i);if(o&&o!==e)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function PI(r){return tq(r)?()=>{let t=PI(as(r));return t&&t()}:om(r)}function Xve(r,t,e,n,i){let o=r,s=t;for(;o!==null&&s!==null&&s[gr]&2048&&!(s[gr]&512);){let a=Xq(o,s,e,n|Xr.Self,Kc);if(a!==Kc)return a;let l=o.parent;if(!l){let c=s[_q];if(c){let d=c.get(e,Kc,n);if(d!==Kc)return d}l=Zq(s),s=s[Dg]}o=l}return i}function Zq(r){let t=r[kr],e=t.type;return e===2?t.declTNode:e===1?r[Aa]:null}function c1(r){return $ve(Mo(),r)}function m6(r,t=null,e=null,n){let i=Qq(r,t,e,n);return i.resolveInjectorInitializers(),i}function Qq(r,t=null,e=null,n,i=new Set){let o=[e||na,Pk(r)];return n=n||(typeof r=="object"?void 0:ia(r)),new Ab(o,t||JC(),n||null,i)}var lr=class r{static THROW_IF_NOT_FOUND=Mb;static NULL=new _C;static create(t,e){if(Array.isArray(t))return m6({name:""},e,t,"");{let n=t.name??"";return m6({name:n},t.parent,t.providers,n)}}static \u0275prov=Fe({token:r,providedIn:"any",factory:()=>Tt(uq)});static __NG_ELEMENT_ID__=-1};var Ya=class{attributeName;constructor(t){this.attributeName=t}__NG_ELEMENT_ID__=()=>c1(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}},Zve=new He("");Zve.__NG_ELEMENT_ID__=r=>{let t=Mo();if(t===null)throw new it(204,!1);if(t.type&2)return t.value;if(r&Xr.Optional)return null;throw new it(204,!1)};var Jq=!1,Il=(()=>{class r{static __NG_ELEMENT_ID__=Qve;static __NG_ENV_ID__=e=>e}return r})(),TC=class extends Il{_lView;constructor(t){super(),this._lView=t}onDestroy(t){return Aq(this._lView,t),()=>_ve(this._lView,t)}};function Qve(){return new TC(ar())}var hm=class{},Zk=new He("",{providedIn:"root",factory:()=>!1});var e9=new He(""),t9=new He(""),hd=(()=>{class r{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new co(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let e=this.taskId++;return this.pendingTasks.add(e),e}has(e){return this.pendingTasks.has(e)}remove(e){this.pendingTasks.delete(e),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=Fe({token:r,providedIn:"root",factory:()=>new r})}return r})();var LI=class extends Ke{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(t=!1){super(),this.__isAsync=t,yq()&&(this.destroyRef=V(Il,{optional:!0})??void 0,this.pendingTasks=V(hd,{optional:!0})??void 0)}emit(t){let e=Kr(null);try{super.next(t)}finally{Kr(e)}}subscribe(t,e,n){let i=t,o=e||(()=>null),s=n;if(t&&typeof t=="object"){let l=t;i=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return t instanceof yr&&t.add(a),a}wrapInTimeout(t){return e=>{let n=this.pendingTasks?.add();setTimeout(()=>{t(e),n!==void 0&&this.pendingTasks?.remove(n)})}}},ct=LI;function kb(...r){}function r9(r){let t,e;function n(){r=kb;try{e!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(e),t!==void 0&&clearTimeout(t)}catch{}}return t=setTimeout(()=>{r(),n()}),typeof requestAnimationFrame=="function"&&(e=requestAnimationFrame(()=>{r(),n()})),()=>n()}function p6(r){return queueMicrotask(()=>r()),()=>{r=kb}}var Qk="isAngularZone",IC=Qk+"_ID",Jve=0,xt=class r{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new ct(!1);onMicrotaskEmpty=new ct(!1);onStable=new ct(!1);onError=new ct(!1);constructor(t){let{enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=Jq}=t;if(typeof Zone>"u")throw new it(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&n,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,r0e(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Qk)===!0}static assertInAngularZone(){if(!r.isInAngularZone())throw new it(909,!1)}static assertNotInAngularZone(){if(r.isInAngularZone())throw new it(909,!1)}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,t,e0e,kb,kb);try{return o.runTask(s,e,n)}finally{o.cancelTask(s)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}},e0e={};function Jk(r){if(r._nesting==0&&!r.hasPendingMicrotasks&&!r.isStable)try{r._nesting++,r.onMicrotaskEmpty.emit(null)}finally{if(r._nesting--,!r.hasPendingMicrotasks)try{r.runOutsideAngular(()=>r.onStable.emit(null))}finally{r.isStable=!0}}}function t0e(r){if(r.isCheckStableRunning||r.callbackScheduled)return;r.callbackScheduled=!0;function t(){r9(()=>{r.callbackScheduled=!1,BI(r),r.isCheckStableRunning=!0,Jk(r),r.isCheckStableRunning=!1})}r.scheduleInRootZone?Zone.root.run(()=>{t()}):r._outer.run(()=>{t()}),BI(r)}function r0e(r){let t=()=>{t0e(r)},e=Jve++;r._inner=r._inner.fork({name:"angular",properties:{[Qk]:!0,[IC]:e,[IC+e]:!0},onInvokeTask:(n,i,o,s,a,l)=>{if(n0e(l))return n.invokeTask(o,s,a,l);try{return g6(r),n.invokeTask(o,s,a,l)}finally{(r.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||r.shouldCoalesceRunChangeDetection)&&t(),v6(r)}},onInvoke:(n,i,o,s,a,l,c)=>{try{return g6(r),n.invoke(o,s,a,l,c)}finally{r.shouldCoalesceRunChangeDetection&&!r.callbackScheduled&&!i0e(l)&&t(),v6(r)}},onHasTask:(n,i,o,s)=>{n.hasTask(o,s),i===o&&(s.change=="microTask"?(r._hasPendingMicrotasks=s.microTask,BI(r),Jk(r)):s.change=="macroTask"&&(r.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,i,o,s)=>(n.handleError(o,s),r.runOutsideAngular(()=>r.onError.emit(s)),!1)})}function BI(r){r._hasPendingMicrotasks||(r.shouldCoalesceEventChangeDetection||r.shouldCoalesceRunChangeDetection)&&r.callbackScheduled===!0?r.hasPendingMicrotasks=!0:r.hasPendingMicrotasks=!1}function g6(r){r._nesting++,r.isStable&&(r.isStable=!1,r.onUnstable.emit(null))}function v6(r){r._nesting--,Jk(r)}var VI=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new ct;onMicrotaskEmpty=new ct;onStable=new ct;onError=new ct;run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,i){return t.apply(e,n)}};function n0e(r){return n9(r,"__ignore_ng_zone__")}function i0e(r){return n9(r,"__scheduler_tick__")}function n9(r,t){return!Array.isArray(r)||r.length!==1?!1:r[0]?.data?.[t]===!0}var oa=class{_console=console;handleError(t){this._console.error("ERROR",t)}},o0e=new He("",{providedIn:"root",factory:()=>{let r=V(xt),t=V(oa);return e=>r.runOutsideAngular(()=>t.handleError(e))}}),kC=class{destroyed=!1;listeners=null;errorHandler=V(oa,{optional:!0});destroyRef=V(Il);constructor(){this.destroyRef.onDestroy(()=>{this.destroyed=!0,this.listeners=null})}subscribe(t){if(this.destroyed)throw new it(953,!1);return(this.listeners??=[]).push(t),{unsubscribe:()=>{let e=this.listeners?.indexOf(t);e!==void 0&&e!==-1&&this.listeners?.splice(e,1)}}}emit(t){if(this.destroyed)throw new it(953,!1);if(this.listeners===null)return;let e=Kr(null);try{for(let n of this.listeners)try{n(t)}catch(i){this.errorHandler?.handleError(i)}}finally{Kr(e)}}};function Mg(r){return new kC}function b6(r,t){return J6(r,t)}function s0e(r){return J6(YC,r)}var Ne=(b6.required=s0e,b6);function a0e(){return Ag(Mo(),ar())}function Ag(r,t){return new ut(Tl(r,t))}var ut=(()=>{class r{nativeElement;constructor(e){this.nativeElement=e}static __NG_ELEMENT_ID__=a0e}return r})();function i9(r){return r instanceof ut?r.nativeElement:r}function l0e(){return this._results[Symbol.iterator]()}var Al=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new Ke}constructor(t=!1){this._emitDistinctChangesOnly=t}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){this.dirty=!1;let n=Zge(t);(this._changesDetected=!Xge(this._results,n,e))&&(this._results=n,this.length=n.length,this.last=n[this.length-1],this.first=n[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(t){this._onDirty=t}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=l0e};function o9(r){return(r.flags&128)===128}var s9=function(r){return r[r.OnPush=0]="OnPush",r[r.Default=1]="Default",r}(s9||{}),a9=new Map,c0e=0;function u0e(){return c0e++}function d0e(r){a9.set(r[e1],r)}function zI(r){a9.delete(r[e1])}var y6="__ngContext__";function ff(r,t){uf(t)?(r[y6]=t[e1],d0e(t)):r[y6]=t}function l9(r){return u9(r[Tb])}function c9(r){return u9(r[dc])}function u9(r){for(;r!==null&&!fd(r);)r=r[dc];return r}var jI;function d9(r){jI=r}function f0e(){if(jI!==void 0)return jI;if(typeof document<"u")return document;throw new it(210,!1)}var Tg=new He("",{providedIn:"root",factory:()=>h0e}),h0e="ng",eN=new He(""),jo=new He("",{providedIn:"platform",factory:()=>"unknown"});var Xn=new He(""),Vb=new He("",{providedIn:"root",factory:()=>f0e().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var m0e="h",p0e="b";var f9=!1,g0e=new He("",{providedIn:"root",factory:()=>f9});var _6=new Set;function Ta(r){_6.has(r)||(_6.add(r),performance?.mark?.("mark_feature_usage",{detail:{feature:r}}))}var dg=function(r){return r[r.EarlyRead=0]="EarlyRead",r[r.Write=1]="Write",r[r.MixedReadWrite=2]="MixedReadWrite",r[r.Read=3]="Read",r}(dg||{}),h9=(()=>{class r{impl=null;execute(){this.impl?.execute()}static \u0275prov=Fe({token:r,providedIn:"root",factory:()=>new r})}return r})(),v0e=[dg.EarlyRead,dg.Write,dg.MixedReadWrite,dg.Read],b0e=(()=>{class r{ngZone=V(xt);scheduler=V(hm);errorHandler=V(oa,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;execute(){this.executing=!0;for(let e of v0e)for(let n of this.sequences)if(!(n.erroredOrDestroyed||!n.hooks[e]))try{n.pipelinedValue=this.ngZone.runOutsideAngular(()=>n.hooks[e](n.pipelinedValue))}catch(i){n.erroredOrDestroyed=!0,this.errorHandler?.handleError(i)}this.executing=!1;for(let e of this.sequences)e.afterRun(),e.once&&(this.sequences.delete(e),e.destroy());for(let e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(8),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(7))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}static \u0275prov=Fe({token:r,providedIn:"root",factory:()=>new r})}return r})(),HI=class{impl;hooks;once;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(t,e,n,i){this.impl=t,this.hooks=e,this.once=n,this.unregisterOnDestroy=i?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.()}};function zb(r,t){!t?.injector&&Sg(zb);let e=t?.injector??V(lr);return Ta("NgAfterRender"),m9(r,e,t,!1)}function Ho(r,t){!t?.injector&&Sg(Ho);let e=t?.injector??V(lr);return Ta("NgAfterNextRender"),m9(r,e,t,!0)}function y0e(r,t){if(r instanceof Function){let e=[void 0,void 0,void 0,void 0];return e[t]=r,e}else return[r.earlyRead,r.write,r.mixedReadWrite,r.read]}function m9(r,t,e,n){let i=t.get(h9);i.impl??=t.get(b0e);let o=e?.phase??dg.MixedReadWrite,s=e?.manualCleanup!==!0?t.get(Il):null,a=new HI(i.impl,y0e(r,o),n,s);return i.impl.register(a),a}var _0e=()=>null;function tN(r,t,e=!1){return _0e(r,t,e)}var Zc=function(r){return r[r.Emulated=0]="Emulated",r[r.None=2]="None",r[r.ShadowDom=3]="ShadowDom",r}(Zc||{}),iC;function x0e(){if(iC===void 0&&(iC=null,id.trustedTypes))try{iC=id.trustedTypes.createPolicy("angular",{createHTML:r=>r,createScript:r=>r,createScriptURL:r=>r})}catch{}return iC}function u1(r){return x0e()?.createHTML(r)||r}var oC;function w0e(){if(oC===void 0&&(oC=null,id.trustedTypes))try{oC=id.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:r=>r,createScript:r=>r,createScriptURL:r=>r})}catch{}return oC}function x6(r){return w0e()?.createScriptURL(r)||r}var ud=class{changingThisBreaksApplicationSecurity;constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Z6})`}},UI=class extends ud{getTypeName(){return"HTML"}},qI=class extends ud{getTypeName(){return"Style"}},WI=class extends ud{getTypeName(){return"Script"}},$I=class extends ud{getTypeName(){return"URL"}},GI=class extends ud{getTypeName(){return"ResourceURL"}};function hc(r){return r instanceof ud?r.changingThisBreaksApplicationSecurity:r}function yf(r,t){let e=C0e(r);if(e!=null&&e!==t){if(e==="ResourceURL"&&t==="URL")return!0;throw new Error(`Required a safe ${t}, got a ${e} (see ${Z6})`)}return e===t}function C0e(r){return r instanceof ud&&r.getTypeName()||null}function p9(r){return new UI(r)}function g9(r){return new qI(r)}function v9(r){return new WI(r)}function b9(r){return new $I(r)}function y9(r){return new GI(r)}function S0e(r){let t=new KI(r);return D0e()?new YI(t):t}var YI=class{inertDocumentHelper;constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{let e=new window.DOMParser().parseFromString(u1(t),"text/html").body;return e===null?this.inertDocumentHelper.getInertBodyElement(t):(e.firstChild?.remove(),e)}catch{return null}}},KI=class{defaultDoc;inertDocument;constructor(t){this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(t){let e=this.inertDocument.createElement("template");return e.innerHTML=u1(t),e}};function D0e(){try{return!!new window.DOMParser().parseFromString(u1(""),"text/html")}catch{return!1}}var E0e=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function d1(r){return r=String(r),r.match(E0e)?r:"unsafe:"+r}function md(r){let t={};for(let e of r.split(","))t[e]=!0;return t}function jb(...r){let t={};for(let e of r)for(let n in e)e.hasOwnProperty(n)&&(t[n]=!0);return t}var _9=md("area,br,col,hr,img,wbr"),x9=md("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),w9=md("rp,rt"),M0e=jb(w9,x9),A0e=jb(x9,md("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),T0e=jb(w9,md("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),w6=jb(_9,A0e,T0e,M0e),C9=md("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),I0e=md("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),k0e=md("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),N0e=jb(C9,I0e,k0e),O0e=md("script,style,template"),XI=class{sanitizedSomething=!1;buf=[];sanitizeChildren(t){let e=t.firstChild,n=!0,i=[];for(;e;){if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild){i.push(e),e=P0e(e);continue}for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let o=R0e(e);if(o){e=o;break}e=i.pop()}}return this.buf.join("")}startElement(t){let e=C6(t).toLowerCase();if(!w6.hasOwnProperty(e))return this.sanitizedSomething=!0,!O0e.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);let n=t.attributes;for(let i=0;i<n.length;i++){let o=n.item(i),s=o.name,a=s.toLowerCase();if(!N0e.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=o.value;C9[a]&&(l=d1(l)),this.buf.push(" ",s,'="',S6(l),'"')}return this.buf.push(">"),!0}endElement(t){let e=C6(t).toLowerCase();w6.hasOwnProperty(e)&&!_9.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(S6(t))}};function F0e(r,t){return(r.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function R0e(r){let t=r.nextSibling;if(t&&r!==t.previousSibling)throw S9(t);return t}function P0e(r){let t=r.firstChild;if(t&&F0e(r,t))throw S9(t);return t}function C6(r){let t=r.nodeName;return typeof t=="string"?t:"FORM"}function S9(r){return new Error(`Failed to sanitize html because the element is clobbered: ${r.outerHTML}`)}var L0e=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,B0e=/([^\#-~ |!])/g;function S6(r){return r.replace(/&/g,"&amp;").replace(L0e,function(t){let e=t.charCodeAt(0),n=t.charCodeAt(1);return"&#"+((e-55296)*1024+(n-56320)+65536)+";"}).replace(B0e,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var sC;function D9(r,t){let e=null;try{sC=sC||S0e(r);let n=t?String(t):"";e=sC.getInertBodyElement(n);let i=5,o=n;do{if(i===0)throw new Error("Failed to sanitize html because the input is unstable");i--,n=o,o=e.innerHTML,e=sC.getInertBodyElement(n)}while(n!==o);let a=new XI().sanitizeChildren(D6(e)||e);return u1(a)}finally{if(e){let n=D6(e)||e;for(;n.firstChild;)n.firstChild.remove()}}}function D6(r){return"content"in r&&V0e(r)?r.content:null}function V0e(r){return r.nodeType===Node.ELEMENT_NODE&&r.nodeName==="TEMPLATE"}var Ds=function(r){return r[r.NONE=0]="NONE",r[r.HTML=1]="HTML",r[r.STYLE=2]="STYLE",r[r.SCRIPT=3]="SCRIPT",r[r.URL=4]="URL",r[r.RESOURCE_URL=5]="RESOURCE_URL",r}(Ds||{});function bm(r){let t=M9();return t?t.sanitize(Ds.URL,r)||"":yf(r,"URL")?hc(r):d1(pg(r))}function z0e(r){let t=M9();if(t)return x6(t.sanitize(Ds.RESOURCE_URL,r)||"");if(yf(r,"ResourceURL"))return x6(hc(r));throw new it(904,!1)}function j0e(r,t){return t==="src"&&(r==="embed"||r==="frame"||r==="iframe"||r==="media"||r==="script")||t==="href"&&(r==="base"||r==="link")?z0e:bm}function E9(r,t,e){return j0e(t,e)(r)}function M9(){let r=ar();return r&&r[ad].sanitizer}var H0e=/^>|^->|<!--|-->|--!>|<!-$/g,U0e=/(<|>)/g,q0e="\u200B$1\u200B";function W0e(r){return r.replace(H0e,t=>t.replace(U0e,q0e))}function rN(r){return r.ownerDocument}function A9(r){return r instanceof Function?r():r}var hf=function(r){return r[r.None=0]="None",r[r.SignalBased=1]="SignalBased",r[r.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",r}(hf||{}),Qc=function(r){return r[r.Important=1]="Important",r[r.DashCase=2]="DashCase",r}(Qc||{}),$0e;function nN(r,t){return $0e(r,t)}function fg(r,t,e,n,i){if(n!=null){let o,s=!1;fd(n)?o=n:uf(n)&&(s=!0,n=n[eu]);let a=Xc(n);r===0&&e!==null?i==null?O9(t,e,a):NC(t,e,a,i||null,!0):r===1&&e!==null?NC(t,e,a,i||null,!0):r===2?sbe(t,a,s):r===3&&t.destroyNode(a),o!=null&&lbe(t,r,o,e,i)}}function G0e(r,t){return r.createText(t)}function Y0e(r,t,e){r.setValue(t,e)}function K0e(r,t){return r.createComment(W0e(t))}function T9(r,t,e){return r.createElement(t,e)}function X0e(r,t){I9(r,t),t[eu]=null,t[Aa]=null}function Z0e(r,t,e,n,i,o){n[eu]=i,n[Aa]=t,m1(r,n,e,1,i,o)}function I9(r,t){t[ad].changeDetectionScheduler?.notify(10),m1(r,t,t[Di],2,null,null)}function Q0e(r){let t=r[Tb];if(!t)return fI(r[kr],r);for(;t;){let e=null;if(uf(t))e=t[Tb];else{let n=t[Cs];n&&(e=n)}if(!e){for(;t&&!t[dc]&&t!==r;)uf(t)&&fI(t[kr],t),t=t[Ss];t===null&&(t=r),uf(t)&&fI(t[kr],t),e=t&&t[dc]}t=e}}function J0e(r,t,e,n){let i=Cs+n,o=e.length;n>0&&(e[i-1][dc]=t),n<o-Cs?(t[dc]=e[i],cq(e,Cs+n,t)):(e.push(t),t[dc]=null),t[Ss]=e;let s=t[sm];s!==null&&e!==s&&k9(s,t);let a=t[ld];a!==null&&a.insertView(r),TI(t),t[gr]|=128}function k9(r,t){let e=r[_g],n=t[Ss];if(uf(n))r[gr]|=CC.HasTransplantedViews;else{let i=n[Ss][Ga];t[Ga]!==i&&(r[gr]|=CC.HasTransplantedViews)}e===null?r[_g]=[t]:e.push(t)}function iN(r,t){let e=r[_g],n=e.indexOf(t);e.splice(n,1)}function Nb(r,t){if(r.length<=Cs)return;let e=Cs+t,n=r[e];if(n){let i=n[sm];i!==null&&i!==r&&iN(i,n),t>0&&(r[e-1][dc]=n[dc]);let o=yC(r,Cs+t);X0e(n[kr],n);let s=o[ld];s!==null&&s.detachView(o[kr]),n[Ss]=null,n[dc]=null,n[gr]&=-129}return n}function f1(r,t){if(!(t[gr]&256)){let e=t[Di];e.destroyNode&&m1(r,t,e,3,null,null),Q0e(t)}}function fI(r,t){if(t[gr]&256)return;let e=Kr(null);try{t[gr]&=-129,t[gr]|=256,t[$a]&&Kp(t[$a]),tbe(r,t),ebe(r,t),t[kr].type===1&&t[Di].destroy();let n=t[sm];if(n!==null&&fd(t[Ss])){n!==t[Ss]&&iN(n,t);let i=t[ld];i!==null&&i.detachView(r)}zI(t)}finally{Kr(e)}}function ebe(r,t){let e=r.cleanup,n=t[xC];if(e!==null)for(let s=0;s<e.length-1;s+=2)if(typeof e[s]=="string"){let a=e[s+3];a>=0?n[a]():n[-a].unsubscribe(),s+=2}else{let a=n[e[s+1]];e[s].call(a)}n!==null&&(t[xC]=null);let i=t[cf];if(i!==null){t[cf]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=t[am];if(o!==null){t[am]=null;for(let s of o)s.destroy()}}function tbe(r,t){let e;if(r!=null&&(e=r.destroyHooks)!=null)for(let n=0;n<e.length;n+=2){let i=t[e[n]];if(!(i instanceof dm)){let o=e[n+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],l=o[s+1];Yc(4,a,l);try{l.call(a)}finally{Yc(5,a,l)}}else{Yc(4,i,o);try{o.call(i)}finally{Yc(5,i,o)}}}}}function N9(r,t,e){return rbe(r,t.parent,e)}function rbe(r,t,e){let n=t;for(;n!==null&&n.type&168;)t=n,n=t.parent;if(n===null)return e[eu];{let{componentOffset:i}=n;if(i>-1){let{encapsulation:o}=r.data[n.directiveStart+i];if(o===Zc.None||o===Zc.Emulated)return null}return Tl(n,e)}}function NC(r,t,e,n,i){r.insertBefore(t,e,n,i)}function O9(r,t,e){r.appendChild(t,e)}function E6(r,t,e,n,i){n!==null?NC(r,t,e,n,i):O9(r,t,e)}function F9(r,t){return r.parentNode(t)}function nbe(r,t){return r.nextSibling(t)}function R9(r,t,e){return obe(r,t,e)}function ibe(r,t,e){return r.type&40?Tl(r,e):null}var obe=ibe,M6;function h1(r,t,e,n){let i=N9(r,n,t),o=t[Di],s=n.parent||t[Aa],a=R9(s,n,t);if(i!=null)if(Array.isArray(e))for(let l=0;l<e.length;l++)E6(o,i,e[l],a,!1);else E6(o,i,e,a,!1);M6!==void 0&&M6(o,n,t,e,i)}function Db(r,t){if(t!==null){let e=t.type;if(e&3)return Tl(t,r);if(e&4)return ZI(-1,r[t.index]);if(e&8){let n=t.child;if(n!==null)return Db(r,n);{let i=r[t.index];return fd(i)?ZI(-1,i):Xc(i)}}else{if(e&128)return Db(r,t.next);if(e&32)return nN(t,r)()||Xc(r[t.index]);{let n=P9(r,t);if(n!==null){if(Array.isArray(n))return n[0];let i=cm(r[Ga]);return Db(i,n)}else return Db(r,t.next)}}}return null}function P9(r,t){if(t!==null){let n=r[Ga][Aa],i=t.projection;return n.projection[i]}return null}function ZI(r,t){let e=Cs+r+1;if(e<t.length){let n=t[e],i=n[kr].firstChild;if(i!==null)return Db(n,i)}return t[lm]}function sbe(r,t,e){r.removeChild(null,t,e)}function oN(r,t,e,n,i,o,s){for(;e!=null;){if(e.type===128){e=e.next;continue}let a=n[e.index],l=e.type;if(s&&t===0&&(a&&ff(Xc(a),n),e.flags|=2),(e.flags&32)!==32)if(l&8)oN(r,t,e.child,n,i,o,!1),fg(t,r,i,a,o);else if(l&32){let c=nN(e,n),d;for(;d=c();)fg(t,r,i,d,o);fg(t,r,i,a,o)}else l&16?L9(r,t,n,e,i,o):fg(t,r,i,a,o);e=s?e.projectionNext:e.next}}function m1(r,t,e,n,i,o){oN(e,n,r.firstChild,t,i,o,!1)}function abe(r,t,e){let n=t[Di],i=N9(r,e,t),o=e.parent||t[Aa],s=R9(o,e,t);L9(n,0,t,e,i,s)}function L9(r,t,e,n,i,o){let s=e[Ga],l=s[Aa].projection[n.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++){let d=l[c];fg(t,r,i,d,o)}else{let c=l,d=s[Ss];o9(n)&&(c.flags|=128),oN(r,t,c,d,i,o,!0)}}function lbe(r,t,e,n,i){let o=e[lm],s=Xc(e);o!==s&&fg(t,r,n,o,i);for(let a=Cs;a<e.length;a++){let l=e[a];m1(l[kr],l,r,t,n,o)}}function cbe(r,t,e,n,i){if(t)i?r.addClass(e,n):r.removeClass(e,n);else{let o=n.indexOf("-")===-1?void 0:Qc.DashCase;i==null?r.removeStyle(e,n,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Qc.Important),r.setStyle(e,n,i,o))}}function ube(r,t,e){r.setAttribute(t,"style",e)}function B9(r,t,e){e===""?r.removeAttribute(t,"class"):r.setAttribute(t,"class",e)}function V9(r,t,e){let{mergedAttrs:n,classes:i,styles:o}=e;n!==null&&NI(r,t,n),i!==null&&B9(r,t,i),o!==null&&ube(r,t,o)}function dbe(r,t,e){let n=r.length;for(;;){let i=r.indexOf(t,e);if(i===-1)return i;if(i===0||r.charCodeAt(i-1)<=32){let o=t.length;if(i+o===n||r.charCodeAt(i+o)<=32)return i}e=i+1}}var z9="ng-template";function fbe(r,t,e,n){let i=0;if(n){for(;i<t.length&&typeof t[i]=="string";i+=2)if(t[i]==="class"&&dbe(t[i+1].toLowerCase(),e,0)!==-1)return!0}else if(sN(r))return!1;if(i=t.indexOf(1,i),i>-1){let o;for(;++i<t.length&&typeof(o=t[i])=="string";)if(o.toLowerCase()===e)return!0}return!1}function sN(r){return r.type===4&&r.value!==z9}function hbe(r,t,e){let n=r.type===4&&!e?z9:r.value;return t===n}function mbe(r,t,e){let n=4,i=r.attrs,o=i!==null?vbe(i):0,s=!1;for(let a=0;a<t.length;a++){let l=t[a];if(typeof l=="number"){if(!s&&!cc(n)&&!cc(l))return!1;if(s&&cc(l))continue;s=!1,n=l|n&1;continue}if(!s)if(n&4){if(n=2|n&1,l!==""&&!hbe(r,l,e)||l===""&&t.length===1){if(cc(n))return!1;s=!0}}else if(n&8){if(i===null||!fbe(r,i,l,e)){if(cc(n))return!1;s=!0}}else{let c=t[++a],d=pbe(l,i,sN(r),e);if(d===-1){if(cc(n))return!1;s=!0;continue}if(c!==""){let f;if(d>o?f="":f=i[d+1].toLowerCase(),n&2&&c!==f){if(cc(n))return!1;s=!0}}}}return cc(n)||s}function cc(r){return(r&1)===0}function pbe(r,t,e,n){if(t===null)return-1;let i=0;if(n||!e){let o=!1;for(;i<t.length;){let s=t[i];if(s===r)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=t[++i];for(;typeof a=="string";)a=t[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return bbe(t,r)}function j9(r,t,e=!1){for(let n=0;n<t.length;n++)if(mbe(r,t[n],e))return!0;return!1}function gbe(r){let t=r.attrs;if(t!=null){let e=t.indexOf(5);if(!(e&1))return t[e+1]}return null}function vbe(r){for(let t=0;t<r.length;t++){let e=r[t];if(Hq(e))return t}return r.length}function bbe(r,t){let e=r.indexOf(4);if(e>-1)for(e++;e<r.length;){let n=r[e];if(typeof n=="number")return-1;if(n===t)return e;e++}return-1}function ybe(r,t){e:for(let e=0;e<t.length;e++){let n=t[e];if(r.length===n.length){for(let i=0;i<r.length;i++)if(r[i]!==n[i])continue e;return!0}}return!1}function A6(r,t){return r?":not("+t.trim()+")":t}function _be(r){let t=r[0],e=1,n=2,i="",o=!1;for(;e<r.length;){let s=r[e];if(typeof s=="string")if(n&2){let a=r[++e];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else n&8?i+="."+s:n&4&&(i+=" "+s);else i!==""&&!cc(s)&&(t+=A6(o,i),i=""),n=s,o=o||!cc(n);e++}return i!==""&&(t+=A6(o,i)),t}function xbe(r){return r.map(_be).join(",")}function wbe(r){let t=[],e=[],n=1,i=2;for(;n<r.length;){let o=r[n];if(typeof o=="string")i===2?o!==""&&t.push(o,r[++n]):i===8&&e.push(o);else{if(!cc(i))break;i=o}n++}return{attrs:t,classes:e}}var Ka={};function K(r=1){H9(Yn(),ar(),tu()+r,!1)}function H9(r,t,e,n){if(!n)if((t[gr]&3)===3){let o=r.preOrderCheckHooks;o!==null&&fC(t,o,e)}else{let o=r.preOrderHooks;o!==null&&hC(t,o,0,e)}um(e)}function ze(r,t=Xr.Default){let e=ar();if(e===null)return Tt(r,t);let n=Mo();return Kq(n,e,as(r),t)}function U9(){let r="invalid";throw new Error(r)}function q9(r,t,e,n,i,o){let s=Kr(null);try{let a=null;i&hf.SignalBased&&(a=t[n][os]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),i&hf.HasDecoratorInputTransform&&(o=r.inputTransforms[n].call(t,o)),r.setInput!==null?r.setInput(t,a,o,e,n):xq(t,a,n,o)}finally{Kr(s)}}function Cbe(r,t){let e=r.hostBindingOpCodes;if(e!==null)try{for(let n=0;n<e.length;n++){let i=e[n];if(i<0)um(~i);else{let o=i,s=e[++n],a=e[++n];Ive(s,o);let l=t[o];a(2,l)}}}finally{um(-1)}}function p1(r,t,e,n,i,o,s,a,l,c,d){let f=t.blueprint.slice();return f[eu]=i,f[gr]=n|4|128|8|64|1024,(c!==null||r&&r[gr]&2048)&&(f[gr]|=2048),Mq(f),f[Ss]=f[Dg]=r,f[ws]=e,f[ad]=s||r&&r[ad],f[Di]=a||r&&r[Di],f[yg]=l||r&&r[yg]||null,f[Aa]=o,f[e1]=u0e(),f[bg]=d,f[_q]=c,f[Ga]=t.type==2?r[Ga]:f,f}function ym(r,t,e,n,i){let o=r.data[t];if(o===null)o=Sbe(r,t,e,n,i),Tve()&&(o.flags|=32);else if(o.type&64){o.type=e,o.value=n,o.attrs=i;let s=Eve();o.injectorIndex=s===null?-1:s.injectorIndex}return vf(o,!0),o}function Sbe(r,t,e,n,i){let o=kq(),s=Uk(),a=s?o:o&&o.parent,l=r.data[t]=Ibe(r,a,e,t,n,i);return r.firstChild===null&&(r.firstChild=l),o!==null&&(s?o.child==null&&l.parent!==null&&(o.child=l):o.next===null&&(o.next=l,l.prev=o)),l}function W9(r,t,e,n){if(e===0)return-1;let i=t.length;for(let o=0;o<e;o++)t.push(n),r.blueprint.push(n),r.data.push(null);return i}function $9(r,t,e,n,i){let o=tu(),s=n&2;try{um(-1),s&&t.length>uo&&H9(r,t,uo,!1),Yc(s?2:0,i),e(n,i)}finally{um(o),Yc(s?3:1,i)}}function aN(r,t,e){if(Vk(t)){let n=Kr(null);try{let i=t.directiveStart,o=t.directiveEnd;for(let s=i;s<o;s++){let a=r.data[s];if(a.contentQueries){let l=e[s];a.contentQueries(1,l,s)}}}finally{Kr(n)}}}function lN(r,t,e){Tq()&&(Pbe(r,t,e,Tl(e,t)),(e.flags&64)===64&&K9(r,t,e))}function cN(r,t,e=Tl){let n=t.localNames;if(n!==null){let i=t.index+1;for(let o=0;o<n.length;o+=2){let s=n[o+1],a=s===-1?e(t,r):r[s];r[i++]=a}}}function G9(r){let t=r.tView;return t===null||t.incompleteFirstPass?r.tView=uN(1,null,r.template,r.decls,r.vars,r.directiveDefs,r.pipeDefs,r.viewQuery,r.schemas,r.consts,r.id):t}function uN(r,t,e,n,i,o,s,a,l,c,d){let f=uo+n,m=f+i,p=Dbe(f,m),b=typeof c=="function"?c():c;return p[kr]={type:r,blueprint:p,template:e,queries:null,viewQuery:a,declTNode:t,data:p.slice().fill(null,f),bindingStartIndex:f,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:l,consts:b,incompleteFirstPass:!1,ssrId:d}}function Dbe(r,t){let e=[];for(let n=0;n<t;n++)e.push(n<r?null:Ka);return e}function Ebe(r,t,e,n){let o=n.get(g0e,f9)||e===Zc.ShadowDom,s=r.selectRootElement(t,o);return Mbe(s),s}function Mbe(r){Abe(r)}var Abe=()=>null;function Tbe(r,t,e,n){let i=J9(t);i.push(e),r.firstCreatePass&&eW(r).push(n,i.length-1)}function Ibe(r,t,e,n,i,o){let s=t?t.injectorIndex:-1,a=0;return Iq()&&(a|=128),{type:e,index:n,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function T6(r,t,e,n,i){for(let o in t){if(!t.hasOwnProperty(o))continue;let s=t[o];if(s===void 0)continue;n??={};let a,l=hf.None;Array.isArray(s)?(a=s[0],l=s[1]):a=s;let c=o;if(i!==null){if(!i.hasOwnProperty(o))continue;c=i[o]}r===0?I6(n,e,c,a,l):I6(n,e,c,a)}return n}function I6(r,t,e,n,i){let o;r.hasOwnProperty(e)?(o=r[e]).push(t,n):o=r[e]=[t,n],i!==void 0&&o.push(i)}function kbe(r,t,e){let n=t.directiveStart,i=t.directiveEnd,o=r.data,s=t.attrs,a=[],l=null,c=null;for(let d=n;d<i;d++){let f=o[d],m=e?e.get(f):null,p=m?m.inputs:null,b=m?m.outputs:null;l=T6(0,f.inputs,d,l,p),c=T6(1,f.outputs,d,c,b);let y=l!==null&&s!==null&&!sN(t)?Gbe(l,d,s):null;a.push(y)}l!==null&&(l.hasOwnProperty("class")&&(t.flags|=8),l.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=a,t.inputs=l,t.outputs=c}function Nbe(r){return r==="class"?"className":r==="for"?"htmlFor":r==="formaction"?"formAction":r==="innerHtml"?"innerHTML":r==="readonly"?"readOnly":r==="tabindex"?"tabIndex":r}function g1(r,t,e,n,i,o,s,a){let l=Tl(t,e),c=t.inputs,d;!a&&c!=null&&(d=c[n])?(fN(r,e,d,n,i),t1(t)&&Obe(e,t.index)):t.type&3?(n=Nbe(n),i=s!=null?s(i,t.value||"",n):i,o.setProperty(l,n,i)):t.type&12}function Obe(r,t){let e=gf(t,r);e[gr]&16||(e[gr]|=64)}function dN(r,t,e,n){if(Tq()){let i=n===null?null:{"":-1},o=Bbe(r,e),s,a;o===null?s=a=null:[s,a]=o,s!==null&&Y9(r,t,e,s,i,a),i&&Vbe(e,n,i)}e.mergedAttrs=Ib(e.mergedAttrs,e.attrs)}function Y9(r,t,e,n,i,o){for(let c=0;c<n.length;c++)RI(AC(e,t),r,n[c].type);jbe(e,r.data.length,n.length);for(let c=0;c<n.length;c++){let d=n[c];d.providersResolver&&d.providersResolver(d)}let s=!1,a=!1,l=W9(r,t,n.length,null);for(let c=0;c<n.length;c++){let d=n[c];e.mergedAttrs=Ib(e.mergedAttrs,d.hostAttrs),Hbe(r,e,t,l,d),zbe(l,d,i),d.contentQueries!==null&&(e.flags|=4),(d.hostBindings!==null||d.hostAttrs!==null||d.hostVars!==0)&&(e.flags|=64);let f=d.type.prototype;!s&&(f.ngOnChanges||f.ngOnInit||f.ngDoCheck)&&((r.preOrderHooks??=[]).push(e.index),s=!0),!a&&(f.ngOnChanges||f.ngDoCheck)&&((r.preOrderCheckHooks??=[]).push(e.index),a=!0),l++}kbe(r,e,o)}function Fbe(r,t,e,n,i){let o=i.hostBindings;if(o){let s=r.hostBindingOpCodes;s===null&&(s=r.hostBindingOpCodes=[]);let a=~t.index;Rbe(s)!=a&&s.push(a),s.push(e,n,o)}}function Rbe(r){let t=r.length;for(;t>0;){let e=r[--t];if(typeof e=="number"&&e<0)return e}return 0}function Pbe(r,t,e,n){let i=e.directiveStart,o=e.directiveEnd;t1(e)&&Ube(t,e,r.data[i+e.componentOffset]),r.firstCreatePass||AC(e,t),ff(n,t);let s=e.initialInputs;for(let a=i;a<o;a++){let l=r.data[a],c=fm(t,r,a,e);if(ff(c,t),s!==null&&$be(t,a-i,c,l,e,s),cd(l)){let d=gf(e.index,t);d[ws]=fm(t,r,a,e)}}}function K9(r,t,e){let n=e.directiveStart,i=e.directiveEnd,o=e.index,s=kve();try{um(o);for(let a=n;a<i;a++){let l=r.data[a],c=t[a];kI(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&Lbe(l,c)}}finally{um(-1),kI(s)}}function Lbe(r,t){r.hostBindings!==null&&r.hostBindings(1,t)}function Bbe(r,t){let e=r.directiveRegistry,n=null,i=null;if(e)for(let o=0;o<e.length;o++){let s=e[o];if(j9(t,s.selectors,!1))if(n||(n=[]),cd(s))if(s.findHostDirectiveDefs!==null){let a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),n.unshift(...a,s);let l=a.length;QI(r,t,l)}else n.unshift(s),QI(r,t,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,n,i),n.push(s)}return n===null?null:[n,i]}function QI(r,t,e){t.componentOffset=e,(r.components??=[]).push(t.index)}function Vbe(r,t,e){if(t){let n=r.localNames=[];for(let i=0;i<t.length;i+=2){let o=e[t[i+1]];if(o==null)throw new it(-301,!1);n.push(t[i],o)}}}function zbe(r,t,e){if(e){if(t.exportAs)for(let n=0;n<t.exportAs.length;n++)e[t.exportAs[n]]=r;cd(t)&&(e[""]=r)}}function jbe(r,t,e){r.flags|=1,r.directiveStart=t,r.directiveEnd=t+e,r.providerIndexes=t}function Hbe(r,t,e,n,i){r.data[n]=i;let o=i.factory||(i.factory=om(i.type,!0)),s=new dm(o,cd(i),ze);r.blueprint[n]=s,e[n]=s,Fbe(r,t,n,W9(r,e,i.hostVars,Ka),i)}function X9(r){let t=16;return r.signals?t=4096:r.onPush&&(t=64),t}function Ube(r,t,e){let n=Tl(t,r),i=G9(e),o=r[ad].rendererFactory,s=v1(r,p1(r,i,null,X9(e),n,t,null,o.createRenderer(n,e),null,null,null));r[t.index]=s}function qbe(r,t,e,n,i,o){let s=Tl(r,t);Wbe(t[Di],s,o,r.value,e,n,i)}function Wbe(r,t,e,n,i,o,s){if(o==null)r.removeAttribute(t,i,e);else{let a=s==null?pg(o):s(o,n||"",i);r.setAttribute(t,i,a,e)}}function $be(r,t,e,n,i,o){let s=o[t];if(s!==null)for(let a=0;a<s.length;){let l=s[a++],c=s[a++],d=s[a++],f=s[a++];q9(n,e,l,c,d,f)}}function Gbe(r,t,e){let n=null,i=0;for(;i<e.length;){let o=e[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(r.hasOwnProperty(o)){n===null&&(n=[]);let s=r[o];for(let a=0;a<s.length;a+=3)if(s[a]===t){n.push(o,s[a+1],s[a+2],e[i+1]);break}}i+=2}return n}function Z9(r,t,e,n){return[r,!0,0,t,null,n,null,e,null,null]}function Q9(r,t){let e=r.contentQueries;if(e!==null){let n=Kr(null);try{for(let i=0;i<e.length;i+=2){let o=e[i],s=e[i+1];if(s!==-1){let a=r.data[s];o1(o),a.contentQueries(2,t[s],s)}}}finally{Kr(n)}}}function v1(r,t){return r[Tb]?r[l6][dc]=t:r[Tb]=t,r[l6]=t,t}function JI(r,t,e){o1(0);let n=Kr(null);try{t(r,e)}finally{Kr(n)}}function J9(r){return r[xC]??=[]}function eW(r){return r.cleanup??=[]}function tW(r,t,e){return(r===null||cd(r))&&(e=gve(e[t.index])),e[Di]}function rW(r,t){let e=r[yg],n=e?e.get(oa,null):null;n&&n.handleError(t)}function fN(r,t,e,n,i){for(let o=0;o<e.length;){let s=e[o++],a=e[o++],l=e[o++],c=t[s],d=r.data[s];q9(d,c,n,a,l,i)}}function nW(r,t,e){let n=Eq(t,r);Y0e(r[Di],n,e)}function Ybe(r,t){let e=gf(t,r),n=e[kr];Kbe(n,e);let i=e[eu];i!==null&&e[bg]===null&&(e[bg]=tN(i,e[yg])),hN(n,e,e[ws])}function Kbe(r,t){for(let e=t.length;e<r.blueprint.length;e++)t.push(r.blueprint[e])}function hN(r,t,e){Yk(t);try{let n=r.viewQuery;n!==null&&JI(1,n,e);let i=r.template;i!==null&&$9(r,t,i,1,e),r.firstCreatePass&&(r.firstCreatePass=!1),t[ld]?.finishViewCreation(r),r.staticContentQueries&&Q9(r,t),r.staticViewQueries&&JI(2,r.viewQuery,e);let o=r.components;o!==null&&Xbe(t,o)}catch(n){throw r.firstCreatePass&&(r.incompleteFirstPass=!0,r.firstCreatePass=!1),n}finally{t[gr]&=-5,Kk()}}function Xbe(r,t){for(let e=0;e<t.length;e++)Ybe(r,t[e])}function Hb(r,t,e,n){let i=Kr(null);try{let o=t.tView,a=r[gr]&4096?4096:16,l=p1(r,o,e,a,null,t,null,null,n?.injector??null,n?.embeddedViewInjector??null,n?.dehydratedView??null),c=r[t.index];l[sm]=c;let d=r[ld];return d!==null&&(l[ld]=d.createEmbeddedView(o)),hN(o,l,e),l}finally{Kr(i)}}function iW(r,t){let e=Cs+t;if(e<r.length)return r[e]}function xg(r,t){return!t||t.firstChild===null||o9(r)}function Ub(r,t,e,n=!0){let i=t[kr];if(J0e(i,t,r,e),n){let s=ZI(e,r),a=t[Di],l=F9(a,r[lm]);l!==null&&Z0e(i,r[Aa],a,t,l,s)}let o=t[bg];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function oW(r,t){let e=Nb(r,t);return e!==void 0&&f1(e[kr],e),e}function OC(r,t,e,n,i=!1){for(;e!==null;){if(e.type===128){e=i?e.projectionNext:e.next;continue}let o=t[e.index];o!==null&&n.push(Xc(o)),fd(o)&&Zbe(o,n);let s=e.type;if(s&8)OC(r,t,e.child,n);else if(s&32){let a=nN(e,t),l;for(;l=a();)n.push(l)}else if(s&16){let a=P9(t,e);if(Array.isArray(a))n.push(...a);else{let l=cm(t[Ga]);OC(l[kr],l,a,n,!0)}}e=i?e.projectionNext:e.next}return n}function Zbe(r,t){for(let e=Cs;e<r.length;e++){let n=r[e],i=n[kr].firstChild;i!==null&&OC(n[kr],n,i,t)}r[lm]!==r[eu]&&t.push(r[lm])}var sW=[];function Qbe(r){return r[$a]??Jbe(r)}function Jbe(r){let t=sW.pop()??Object.create(tye);return t.lView=r,t}function eye(r){r.lView[$a]!==r&&(r.lView=null,sW.push(r))}var tye=pr(Ue({},$h),{consumerIsAlwaysLive:!0,consumerMarkedDirty:r=>{Lb(r.lView)},consumerOnSignalRead(){this.lView[$a]=this}});function rye(r){let t=r[$a]??Object.create(nye);return t.lView=r,t}var nye=pr(Ue({},$h),{consumerIsAlwaysLive:!0,consumerMarkedDirty:r=>{let t=cm(r.lView);for(;t&&!aW(t[kr]);)t=cm(t);t&&Hk(t)},consumerOnSignalRead(){this.lView[$a]=this}});function aW(r){return r.type!==2}function lW(r){if(r[am]===null)return;let t=!0;for(;t;){let e=!1;for(let n of r[am])n.dirty&&(e=!0,n.zone===null||Zone.current===n.zone?n.run():n.zone.run(()=>n.run()));t=e&&!!(r[gr]&8192)}}var iye=100;function cW(r,t=!0,e=0){let i=r[ad].rendererFactory,o=!1;o||i.begin?.();try{oye(r,e)}catch(s){throw t&&rW(r,s),s}finally{o||i.end?.()}}function oye(r,t){let e=Oq();try{SC(!0),ek(r,t);let n=0;for(;i1(r);){if(n===iye)throw new it(103,!1);n++,ek(r,1)}}finally{SC(e)}}function sye(r,t,e,n){let i=t[gr];if((i&256)===256)return;let o=!1,s=!1;Yk(t);let a=!0,l=null,c=null;o||(aW(r)?(c=Qbe(t),l=Yp(c)):fU()===null?(a=!1,c=rye(t),l=Yp(c)):t[$a]&&(Kp(t[$a]),t[$a]=null));try{Mq(t),Ave(r.bindingStartIndex),e!==null&&$9(r,t,e,2,n);let d=(i&3)===3;if(!o)if(d){let p=r.preOrderCheckHooks;p!==null&&fC(t,p,null)}else{let p=r.preOrderHooks;p!==null&&hC(t,p,0,null),cI(t,0)}if(s||aye(t),lW(t),uW(t,0),r.contentQueries!==null&&Q9(r,t),!o)if(d){let p=r.contentCheckHooks;p!==null&&fC(t,p)}else{let p=r.contentHooks;p!==null&&hC(t,p,1),cI(t,1)}Cbe(r,t);let f=r.components;f!==null&&fW(t,f,0);let m=r.viewQuery;if(m!==null&&JI(2,m,n),!o)if(d){let p=r.viewCheckHooks;p!==null&&fC(t,p)}else{let p=r.viewHooks;p!==null&&hC(t,p,2),cI(t,2)}if(r.firstUpdatePass===!0&&(r.firstUpdatePass=!1),t[dC]){for(let p of t[dC])p();t[dC]=null}o||(t[gr]&=-73)}catch(d){throw o||Lb(t),d}finally{c!==null&&(vb(c,l),a&&eye(c)),Kk()}}function uW(r,t){for(let e=l9(r);e!==null;e=c9(e))for(let n=Cs;n<e.length;n++){let i=e[n];dW(i,t)}}function aye(r){for(let t=l9(r);t!==null;t=c9(t)){if(!(t[gr]&CC.HasTransplantedViews))continue;let e=t[_g];for(let n=0;n<e.length;n++){let i=e[n];Hk(i)}}}function lye(r,t,e){let n=gf(t,r);dW(n,e)}function dW(r,t){jk(r)&&ek(r,t)}function ek(r,t){let n=r[kr],i=r[gr],o=r[$a],s=!!(t===0&&i&16);if(s||=!!(i&64&&t===0),s||=!!(i&1024),s||=!!(o?.dirty&&bb(o)),s||=!1,o&&(o.dirty=!1),r[gr]&=-9217,s)sye(n,r,n.template,r[ws]);else if(i&8192){lW(r),uW(r,1);let a=n.components;a!==null&&fW(r,a,1)}}function fW(r,t,e){for(let n=0;n<t.length;n++)lye(r,t[n],e)}function mN(r,t){let e=Oq()?64:1088;for(r[ad].changeDetectionScheduler?.notify(t);r;){r[gr]|=e;let n=cm(r);if(MI(r)&&!n)return r;r=n}return null}var mm=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let t=this._lView,e=t[kr];return OC(e,t,e.firstChild,[])}constructor(t,e,n=!0){this._lView=t,this._cdRefInjectingView=e,this.notifyErrorHandler=n}get context(){return this._lView[ws]}get dirty(){return!!(this._lView[gr]&9280)||!!this._lView[$a]?.dirty}set context(t){this._lView[ws]=t}get destroyed(){return(this._lView[gr]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let t=this._lView[Ss];if(fd(t)){let e=t[wC],n=e?e.indexOf(this):-1;n>-1&&(Nb(t,n),yC(e,n))}this._attachedToViewContainer=!1}f1(this._lView[kr],this._lView)}onDestroy(t){Aq(this._lView,t)}markForCheck(){mN(this._cdRefInjectingView||this._lView,4)}markForRefresh(){Hk(this._cdRefInjectingView||this._lView)}detach(){this._lView[gr]&=-129}reattach(){TI(this._lView),this._lView[gr]|=128}detectChanges(){this._lView[gr]|=1024,cW(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new it(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let t=MI(this._lView),e=this._lView[sm];e!==null&&!t&&iN(e,this._lView),I9(this._lView[kr],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new it(902,!1);this._appRef=t;let e=MI(this._lView),n=this._lView[sm];n!==null&&!e&&k9(n,this._lView),TI(this._lView)}},Ui=(()=>{class r{static __NG_ELEMENT_ID__=dye}return r})(),cye=Ui,uye=class extends cye{_declarationLView;_declarationTContainer;elementRef;constructor(t,e,n){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=n}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,e){return this.createEmbeddedViewImpl(t,e)}createEmbeddedViewImpl(t,e,n){let i=Hb(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:e,dehydratedView:n});return new mm(i)}};function dye(){return b1(Mo(),ar())}function b1(r,t){return r.type&4?new uye(t,r,Ag(r,t)):null}var tk=class{resolveComponentFactory(t){throw Error(`No component factory found for ${ia(t)}.`)}},mf=class{static NULL=new tk},fc=class{},Ob=class{},rk=class{},FC=class{},pf=class{},gi=(()=>{class r{destroyNode=null;static __NG_ELEMENT_ID__=()=>fye()}return r})();function fye(){let r=ar(),t=Mo(),e=gf(t.index,r);return(uf(e)?e:r)[Di]}var hye=(()=>{class r{static \u0275prov=Fe({token:r,providedIn:"root",factory:()=>null})}return r})();function RC(r,t,e){let n=e?r.styles:null,i=e?r.classes:null,o=0;if(t!==null)for(let s=0;s<t.length;s++){let a=t[s];if(typeof a=="number")o=a;else if(o==1)i=_I(i,a);else if(o==2){let l=a,c=t[++s];n=_I(n,l+": "+c+";")}}e?r.styles=n:r.stylesWithoutHost=n,e?r.classes=i:r.classesWithoutHost=i}var PC=class extends mf{ngModule;constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){let e=sd(t);return new pm(e,this.ngModule)}};function k6(r,t){let e=[];for(let n in r){if(!r.hasOwnProperty(n))continue;let i=r[n];if(i===void 0)continue;let o=Array.isArray(i),s=o?i[0]:i,a=o?i[1]:hf.None;t?e.push({propName:s,templateName:n,isSignal:(a&hf.SignalBased)!==0}):e.push({propName:s,templateName:n})}return e}function mye(r){let t=r.toLowerCase();return t==="svg"?Dq:t==="math"?pve:null}var pm=class extends FC{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;get inputs(){let t=this.componentDef,e=t.inputTransforms,n=k6(t.inputs,!0);if(e!==null)for(let i of n)e.hasOwnProperty(i.propName)&&(i.transform=e[i.propName]);return n}get outputs(){return k6(this.componentDef.outputs,!1)}constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=xbe(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}create(t,e,n,i){let o=Kr(null);try{i=i||this.ngModule;let s=i instanceof Eo?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new OI(t,s):t,l=a.get(pf,null);if(l===null)throw new it(407,!1);let c=a.get(hye,null),d=a.get(hm,null),f={rendererFactory:l,sanitizer:c,changeDetectionScheduler:d},m=l.createRenderer(null,this.componentDef),p=this.componentDef.selectors[0][0]||"div",b=n?Ebe(m,n,this.componentDef.encapsulation,a):T9(m,p,mye(p)),y=512;this.componentDef.signals?y|=4096:this.componentDef.onPush||(y|=16);let C=null;b!==null&&(C=tN(b,a,!0));let S=uN(0,null,null,1,0,null,null,null,null,null,null),A=p1(null,S,null,y,null,null,f,m,a,null,C);Yk(A);let x,M,E=null;try{let w=this.componentDef,T,k=null;w.findHostDirectiveDefs?(T=[],k=new Map,w.findHostDirectiveDefs(w,T,k),T.push(w)):T=[w];let I=pye(A,b);E=gye(I,b,w,T,A,f,m),M=zk(S,uo),b&&yye(m,w,b,n),e!==void 0&&_ye(M,this.ngContentSelectors,e),x=bye(E,w,T,k,A,[xye]),hN(S,A,null)}catch(w){throw E!==null&&zI(E),zI(A),w}finally{Kk()}return new nk(this.componentType,x,Ag(M,A),A,M)}finally{Kr(o)}}},nk=class extends rk{location;_rootLView;_tNode;instance;hostView;changeDetectorRef;componentType;previousInputValues=null;constructor(t,e,n,i,o){super(),this.location=n,this._rootLView=i,this._tNode=o,this.instance=e,this.hostView=this.changeDetectorRef=new mm(i,void 0,!1),this.componentType=t}setInput(t,e){let n=this._tNode.inputs,i;if(n!==null&&(i=n[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),e))return;let o=this._rootLView;fN(o[kr],o,i,t,e),this.previousInputValues.set(t,e);let s=gf(this._tNode.index,o);mN(s,1)}}get injector(){return new im(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}};function pye(r,t){let e=r[kr],n=uo;return r[n]=t,ym(e,n,2,"#host",null)}function gye(r,t,e,n,i,o,s){let a=i[kr];vye(n,r,t,s);let l=null;t!==null&&(l=tN(t,i[yg]));let c=o.rendererFactory.createRenderer(t,e),d=p1(i,G9(e),null,X9(e),i[r.index],r,o,c,null,null,l);return a.firstCreatePass&&QI(a,r,n.length-1),v1(i,d),i[r.index]=d}function vye(r,t,e,n){for(let i of r)t.mergedAttrs=Ib(t.mergedAttrs,i.hostAttrs);t.mergedAttrs!==null&&(RC(t,t.mergedAttrs,!0),e!==null&&V9(n,e,t))}function bye(r,t,e,n,i,o){let s=Mo(),a=i[kr],l=Tl(s,i);Y9(a,i,s,e,null,n);for(let d=0;d<e.length;d++){let f=s.directiveStart+d,m=fm(i,a,f,s);ff(m,i)}K9(a,i,s),l&&ff(l,i);let c=fm(i,a,s.directiveStart+s.componentOffset,s);if(r[ws]=i[ws]=c,o!==null)for(let d of o)d(c,t);return aN(a,s,i),c}function yye(r,t,e,n){if(n)NI(r,e,["ng-version","19.0.0"]);else{let{attrs:i,classes:o}=wbe(t.selectors[0]);i&&NI(r,e,i),o&&o.length>0&&B9(r,e,o.join(" "))}}function _ye(r,t,e){let n=r.projection=[];for(let i=0;i<t.length;i++){let o=e[i];n.push(o!=null&&o.length?Array.from(o):null)}}function xye(){let r=Mo();l1(ar()[kr],r)}function pN(r,t){return new LC(r,t??null,[])}var LC=class extends fc{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new PC(this);constructor(t,e,n,i=!0){super(),this.ngModuleType=t,this._parent=e;let o=fq(t);this._bootstrapComponents=A9(o.bootstrap),this._r3Injector=Qq(t,e,[{provide:fc,useValue:this},{provide:mf,useValue:this.componentFactoryResolver},...n],ia(t),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}},ik=class extends Ob{moduleType;constructor(t){super(),this.moduleType=t}create(t){return new LC(this.moduleType,t,[])}};var BC=class extends fc{injector;componentFactoryResolver=new PC(this);instance=null;constructor(t){super();let e=new Ab([...t.providers,{provide:fc,useValue:this},{provide:mf,useValue:this.componentFactoryResolver}],t.parent||JC(),t.debugName,new Set(["environment"]));this.injector=e,t.runEnvironmentInitializers&&e.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}};function y1(r,t,e=null){return new BC({providers:r,parent:t,debugName:e,runEnvironmentInitializers:!0}).injector}var wye=(()=>{class r{_injector;cachedInjectors=new Map;constructor(e){this._injector=e}getOrCreateStandaloneInjector(e){if(!e.standalone)return null;if(!this.cachedInjectors.has(e)){let n=pq(!1,e.type),i=n.length>0?y1([n],this._injector,`Standalone[${e.type.name}]`):null;this.cachedInjectors.set(e,i)}return this.cachedInjectors.get(e)}ngOnDestroy(){try{for(let e of this.cachedInjectors.values())e!==null&&e.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=Fe({token:r,providedIn:"environment",factory:()=>new r(Tt(Eo))})}return r})();function Be(r){return Rb(()=>{let t=hW(r),e=pr(Ue({},t),{decls:r.decls,vars:r.vars,template:r.template,consts:r.consts||null,ngContentSelectors:r.ngContentSelectors,onPush:r.changeDetection===s9.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&r.dependencies||null,getStandaloneInjector:t.standalone?i=>i.get(wye).getOrCreateStandaloneInjector(e):null,getExternalStyles:null,signals:r.signals??!1,data:r.data||{},encapsulation:r.encapsulation||Zc.Emulated,styles:r.styles||na,_:null,schemas:r.schemas||null,tView:null,id:""});t.standalone&&Ta("NgStandalone"),mW(e);let n=r.dependencies;return e.directiveDefs=O6(n,!1),e.pipeDefs=O6(n,!0),e.id=Dye(e),e})}function Cye(r){return sd(r)||Rk(r)}function Sye(r){return r!==null}function Nt(r){return Rb(()=>({type:r.type,bootstrap:r.bootstrap||na,declarations:r.declarations||na,imports:r.imports||na,exports:r.exports||na,transitiveCompileScopes:null,schemas:r.schemas||null,id:r.id||null}))}function N6(r,t){if(r==null)return od;let e={};for(let n in r)if(r.hasOwnProperty(n)){let i=r[n],o,s,a=hf.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),t?(e[o]=a!==hf.None?[n,a]:n,t[o]=s):e[o]=n}return e}function ft(r){return Rb(()=>{let t=hW(r);return mW(t),t})}function gN(r){return{type:r.type,name:r.name,factory:null,pure:r.pure!==!1,standalone:r.standalone??!0,onDestroy:r.type.prototype.ngOnDestroy||null}}function hW(r){let t={};return{type:r.type,providersResolver:null,factory:null,hostBindings:r.hostBindings||null,hostVars:r.hostVars||0,hostAttrs:r.hostAttrs||null,contentQueries:r.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:r.inputs||od,exportAs:r.exportAs||null,standalone:r.standalone??!0,signals:r.signals===!0,selectors:r.selectors||na,viewQuery:r.viewQuery||null,features:r.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:N6(r.inputs,t),outputs:N6(r.outputs),debugInfo:null}}function mW(r){r.features?.forEach(t=>t(r))}function O6(r,t){if(!r)return null;let e=t?hq:Cye;return()=>(typeof r=="function"?r():r).map(n=>e(n)).filter(Sye)}function Dye(r){let t=0,e=[r.selectors,r.ngContentSelectors,r.hostVars,r.hostAttrs,r.consts,r.vars,r.decls,r.encapsulation,r.standalone,r.signals,r.exportAs,JSON.stringify(r.inputs),JSON.stringify(r.outputs),Object.getOwnPropertyNames(r.type.prototype),!!r.contentQueries,!!r.viewQuery].join("|");for(let i of e)t=Math.imul(31,t)+i.charCodeAt(0)<<0;return t+=2147483648,"c"+t}var _1=(()=>{class r{log(e){console.log(e)}warn(e){console.warn(e)}static \u0275fac=function(n){return new(n||r)};static \u0275prov=Fe({token:r,factory:r.\u0275fac,providedIn:"platform"})}return r})();function _f(r){return typeof r=="function"&&r[os]!==void 0}var pW=new He("");function xf(r){return!!r&&typeof r.then=="function"}function vN(r){return!!r&&typeof r.subscribe=="function"}var pd=new He("");function gW(r){return Jc([{provide:pd,multi:!0,useValue:r}])}var vW=(()=>{class r{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((e,n)=>{this.resolve=e,this.reject=n});appInits=V(pd,{optional:!0})??[];injector=V(lr);constructor(){}runInitializers(){if(this.initialized)return;let e=[];for(let i of this.appInits){let o=Ma(this.injector,i);if(xf(o))e.push(o);else if(vN(o)){let s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});e.push(s)}}let n=()=>{this.done=!0,this.resolve()};Promise.all(e).then(()=>{n()}).catch(i=>{this.reject(i)}),e.length===0&&n(),this.initialized=!0}static \u0275fac=function(n){return new(n||r)};static \u0275prov=Fe({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),bW=(()=>{class r{static \u0275prov=Fe({token:r,providedIn:"root",factory:()=>new VC})}return r})(),VC=class{queuedEffectCount=0;queues=new Map;schedule(t){this.enqueue(t)}enqueue(t){let e=t.zone;this.queues.has(e)||this.queues.set(e,new Set);let n=this.queues.get(e);n.has(t)||(this.queuedEffectCount++,n.add(t))}flush(){for(;this.queuedEffectCount>0;)for(let[t,e]of this.queues)t===null?this.flushQueue(e):t.run(()=>this.flushQueue(e))}flushQueue(t){for(let e of t)t.delete(e),this.queuedEffectCount--,e.run()}},qb=new He("");function Eye(){xU(()=>{throw new it(600,!1)})}function Mye(r){return r.isBoundToModule}var Aye=10;function Tye(r,t,e){try{let n=e();return xf(n)?n.catch(i=>{throw t.runOutsideAngular(()=>r.handleError(i)),i}):n}catch(n){throw t.runOutsideAngular(()=>r.handleError(n)),n}}var Uo=(()=>{class r{_bootstrapListeners=[];_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=V(o0e);afterRenderManager=V(h9);zonelessEnabled=V(Zk);rootEffectScheduler=V(bW);dirtyFlags=0;deferredDirtyFlags=0;externalTestViews=new Set;afterTick=new Ke;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=V(hd).hasPendingTasks.pipe(at(e=>!e));whenStable(){let e;return new Promise(n=>{e=this.isStable.subscribe({next:i=>{i&&n()}})}).finally(()=>{e.unsubscribe()})}_injector=V(Eo);get injector(){return this._injector}bootstrap(e,n){let i=e instanceof FC;if(!this._injector.get(vW).done){let m=!i&&mq(e),p=!1;throw new it(405,p)}let s;i?s=e:s=this._injector.get(mf).resolveComponentFactory(e),this.componentTypes.push(s.componentType);let a=Mye(s)?void 0:this._injector.get(fc),l=n||s.selector,c=s.create(lr.NULL,[],l,a),d=c.location.nativeElement,f=c.injector.get(pW,null);return f?.registerApplication(d),c.onDestroy(()=>{this.detachView(c.hostView),pC(this.components,c),f?.unregisterApplication(d)}),this._loadComponent(c),c}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new it(101,!1);let e=Kr(null);try{this._runningTick=!0,this.synchronize()}catch(n){this.internalErrorHandler(n)}finally{this._runningTick=!1,Kr(e),this.afterTick.next()}}synchronize(){let e=null;this._injector.destroyed||(e=this._injector.get(pf,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let n=0;for(;this.dirtyFlags!==0&&n++<Aye;)this.synchronizeOnce(e)}synchronizeOnce(e){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let n=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i,notifyErrorHandler:o}of this.allViews)Iye(i,o,n,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else e?.begin?.(),e?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:e})=>i1(e))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(e){let n=e;this._views.push(n),n.attachToAppRef(this)}detachView(e){let n=e;pC(this._views,n),n.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e);let n=this._injector.get(qb,[]);[...this._bootstrapListeners,...n].forEach(i=>i(e))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(e=>e()),this._views.slice().forEach(e=>e.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(e){return this._destroyListeners.push(e),()=>pC(this._destroyListeners,e)}destroy(){if(this._destroyed)throw new it(406,!1);let e=this._injector;e.destroy&&!e.destroyed&&e.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static \u0275fac=function(n){return new(n||r)};static \u0275prov=Fe({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function pC(r,t){let e=r.indexOf(t);e>-1&&r.splice(e,1)}function Iye(r,t,e,n){if(!e&&!i1(r))return;cW(r,t,e&&!n?0:1)}var rGe=new RegExp(`^(\\d+)*(${p0e}|${m0e})*(.*)`);var kye=()=>null;function wg(r,t){return kye(r,t)}var Zn=(()=>{class r{static __NG_ELEMENT_ID__=Nye}return r})();function Nye(){let r=Mo();return _W(r,ar())}var Oye=Zn,yW=class extends Oye{_lContainer;_hostTNode;_hostLView;constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=n}get element(){return Ag(this._hostTNode,this._hostLView)}get injector(){return new im(this._hostTNode,this._hostLView)}get parentInjector(){let t=Xk(this._hostTNode,this._hostLView);if(Uq(t)){let e=EC(t,this._hostLView),n=DC(t),i=e[kr].data[n+8];return new im(i,e)}else return new im(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){let e=F6(this._lContainer);return e!==null&&e[t]||null}get length(){return this._lContainer.length-Cs}createEmbeddedView(t,e,n){let i,o;typeof n=="number"?i=n:n!=null&&(i=n.index,o=n.injector);let s=wg(this._lContainer,t.ssrId),a=t.createEmbeddedViewImpl(e||{},o,s);return this.insertImpl(a,i,xg(this._hostTNode,s)),a}createComponent(t,e,n,i,o){let s=t&&!dve(t),a;if(s)a=e;else{let b=e||{};a=b.index,n=b.injector,i=b.projectableNodes,o=b.environmentInjector||b.ngModuleRef}let l=s?t:new pm(sd(t)),c=n||this.parentInjector;if(!o&&l.ngModule==null){let y=(s?c:this.parentInjector).get(Eo,null);y&&(o=y)}let d=sd(l.componentType??{}),f=wg(this._lContainer,d?.id??null),m=f?.firstChild??null,p=l.create(c,i,m,o);return this.insertImpl(p.hostView,a,xg(this._hostTNode,f)),p}insert(t,e){return this.insertImpl(t,e,!0)}insertImpl(t,e,n){let i=t._lView;if(bve(i)){let a=this.indexOf(t);if(a!==-1)this.detach(a);else{let l=i[Ss],c=new yW(l,l[Aa],l[Ss]);c.detach(c.indexOf(t))}}let o=this._adjustIndex(e),s=this._lContainer;return Ub(s,i,o,n),t.attachToViewContainerRef(),cq(hI(s),o,t),t}move(t,e){return this.insert(t,e)}indexOf(t){let e=F6(this._lContainer);return e!==null?e.indexOf(t):-1}remove(t){let e=this._adjustIndex(t,-1),n=Nb(this._lContainer,e);n&&(yC(hI(this._lContainer),e),f1(n[kr],n))}detach(t){let e=this._adjustIndex(t,-1),n=Nb(this._lContainer,e);return n&&yC(hI(this._lContainer),e)!=null?new mm(n):null}_adjustIndex(t,e=0){return t??this.length+e}};function F6(r){return r[wC]}function hI(r){return r[wC]||(r[wC]=[])}function _W(r,t){let e,n=t[r.index];return fd(n)?e=n:(e=Z9(n,t,null,r),t[r.index]=e,v1(t,e)),Rye(e,t,r,n),new yW(e,r,t)}function Fye(r,t){let e=r[Di],n=e.createComment(""),i=Tl(t,r),o=F9(e,i);return NC(e,o,n,nbe(e,i),!1),n}var Rye=Bye,Pye=()=>!1;function Lye(r,t,e){return Pye(r,t,e)}function Bye(r,t,e,n){if(r[lm])return;let i;e.type&8?i=Xc(n):i=Fye(t,e),r[lm]=i}var ok=class r{queryList;matches=null;constructor(t){this.queryList=t}clone(){return new r(this.queryList)}setDirty(){this.queryList.setDirty()}},sk=class r{queries;constructor(t=[]){this.queries=t}createEmbeddedView(t){let e=t.queries;if(e!==null){let n=t.contentQueries!==null?t.contentQueries[0]:e.length,i=[];for(let o=0;o<n;o++){let s=e.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new r(i)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}finishViewCreation(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)yN(t,e).matches!==null&&this.queries[e].setDirty()}},zC=class{flags;read;predicate;constructor(t,e,n=null){this.flags=e,this.read=n,typeof t=="string"?this.predicate=Uye(t):this.predicate=t}},ak=class r{queries;constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){let i=e!==null?e.length:0,o=this.getByIndex(n).embeddedTView(t,i);o&&(o.indexInDeclarationView=n,e!==null?e.push(o):e=[o])}return e!==null?new r(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}},lk=class r{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(t,e=-1){this.metadata=t,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new r(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let e=this._declarationNodeIndex,n=t.parent;for(;n!==null&&n.type&8&&n.index!==e;)n=n.parent;return e===(n!==null?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){let n=this.metadata.predicate;if(Array.isArray(n))for(let i=0;i<n.length;i++){let o=n[i];this.matchTNodeWithReadOption(t,e,Vye(e,o)),this.matchTNodeWithReadOption(t,e,mC(e,t,o,!1,!1))}else n===Ui?e.type&4&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,mC(e,t,n,!1,!1))}matchTNodeWithReadOption(t,e,n){if(n!==null){let i=this.metadata.read;if(i!==null)if(i===ut||i===Zn||i===Ui&&e.type&4)this.addMatch(e.index,-2);else{let o=mC(e,t,i,!1,!1);o!==null&&this.addMatch(e.index,o)}else this.addMatch(e.index,n)}}addMatch(t,e){this.matches===null?this.matches=[t,e]:this.matches.push(t,e)}};function Vye(r,t){let e=r.localNames;if(e!==null){for(let n=0;n<e.length;n+=2)if(e[n]===t)return e[n+1]}return null}function zye(r,t){return r.type&11?Ag(r,t):r.type&4?b1(r,t):null}function jye(r,t,e,n){return e===-1?zye(t,r):e===-2?Hye(r,t,n):fm(r,r[kr],e,t)}function Hye(r,t,e){if(e===ut)return Ag(t,r);if(e===Ui)return b1(t,r);if(e===Zn)return _W(t,r)}function xW(r,t,e,n){let i=t[ld].queries[n];if(i.matches===null){let o=r.data,s=e.matches,a=[];for(let l=0;s!==null&&l<s.length;l+=2){let c=s[l];if(c<0)a.push(null);else{let d=o[c];a.push(jye(t,d,s[l+1],e.metadata.read))}}i.matches=a}return i.matches}function ck(r,t,e,n){let i=r.queries.getByIndex(e),o=i.matches;if(o!==null){let s=xW(r,t,i,e);for(let a=0;a<o.length;a+=2){let l=o[a];if(l>0)n.push(s[a/2]);else{let c=o[a+1],d=t[-l];for(let f=Cs;f<d.length;f++){let m=d[f];m[sm]===m[Ss]&&ck(m[kr],m,c,n)}if(d[_g]!==null){let f=d[_g];for(let m=0;m<f.length;m++){let p=f[m];ck(p[kr],p,c,n)}}}}}return n}function bN(r,t){return r[ld].queries[t].queryList}function wW(r,t,e){let n=new Al((e&4)===4);return Tbe(r,t,n,n.destroy),(t[ld]??=new sk).queries.push(new ok(n))-1}function CW(r,t,e){let n=Yn();return n.firstCreatePass&&(DW(n,new zC(r,t,e),-1),(t&2)===2&&(n.staticViewQueries=!0)),wW(n,ar(),t)}function SW(r,t,e,n){let i=Yn();if(i.firstCreatePass){let o=Mo();DW(i,new zC(t,e,n),o.index),qye(i,r),(e&2)===2&&(i.staticContentQueries=!0)}return wW(i,ar(),e)}function Uye(r){return r.split(",").map(t=>t.trim())}function DW(r,t,e){r.queries===null&&(r.queries=new ak),r.queries.track(new lk(t,e))}function qye(r,t){let e=r.contentQueries||(r.contentQueries=[]),n=e.length?e[e.length-1]:-1;t!==n&&e.push(r.queries.length-1,t)}function yN(r,t){return r.queries.getByIndex(t)}function EW(r,t){let e=r[kr],n=yN(e,t);return n.crossesNgTemplate?ck(e,r,t,[]):xW(e,r,n,t)}function vi(r,t){Ta("NgSignals");let e=wU(r),n=e[os];return t?.equal&&(n.equal=t.equal),e.set=i=>yb(n,i),e.update=i=>CU(n,i),e.asReadonly=MW.bind(e),e}function MW(){let r=this[os];if(r.readonlyFn===void 0){let t=()=>this();t[os]=r,r.readonlyFn=t}return r.readonlyFn}function AW(r){return _f(r)&&typeof r.set=="function"}function TW(r,t,e){let n,i=jT(()=>{n._dirtyCounter();let o=Wye(n,r);if(t&&o===void 0)throw new it(-951,!1);return o});return n=i[os],n._dirtyCounter=vi(0),n._flatValue=void 0,i}function IW(r){return TW(!0,!1,r)}function kW(r){return TW(!0,!0,r)}function NW(r,t){let e=r[os];e._lView=ar(),e._queryIndex=t,e._queryList=bN(e._lView,t),e._queryList.onDirty(()=>e._dirtyCounter.update(n=>n+1))}function Wye(r,t){let e=r._lView,n=r._queryIndex;if(e===void 0||n===void 0||e[gr]&4)return t?void 0:na;let i=bN(e,n),o=EW(e,n);return i.reset(o,i9),t?i.first:i._changesDetected||r._flatValue===void 0?r._flatValue=i.toArray():r._flatValue}function R6(r,t){return IW(t)}function $ye(r,t){return kW(t)}var Ei=(R6.required=$ye,R6);function P6(r,t){return IW(t)}function Gye(r,t){return kW(t)}var _m=(P6.required=Gye,P6);function OW(r,t){let e=Object.create(Q6),n=new kC;e.value=r;function i(){return gb(e),L6(e.value),e.value}return i[os]=e,i.asReadonly=MW.bind(i),i.set=o=>{e.equal(e.value,o)||(yb(e,o),n.emit(o))},i.update=o=>{L6(e.value),i.set(o(e.value))},i.subscribe=n.subscribe.bind(n),i.destroyRef=n.destroyRef,i}function L6(r){if(r===YC)throw new it(952,!1)}function B6(r,t){return OW(r,t)}function Yye(r){return OW(YC,r)}var qo=(B6.required=Yye,B6);function Kye(r){return Object.getPrototypeOf(r.prototype).constructor}function er(r){let t=Kye(r.type),e=!0,n=[r];for(;t;){let i;if(cd(r))i=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new it(903,!1);i=t.\u0275dir}if(i){if(e){n.push(i);let s=r;s.inputs=aC(r.inputs),s.inputTransforms=aC(r.inputTransforms),s.declaredInputs=aC(r.declaredInputs),s.outputs=aC(r.outputs);let a=i.hostBindings;a&&e_e(r,a);let l=i.viewQuery,c=i.contentQueries;if(l&&Qye(r,l),c&&Jye(r,c),Xye(r,i),kge(r.outputs,i.outputs),cd(i)&&i.data.animation){let d=r.data;d.animation=(d.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(r),a===er&&(e=!1)}}t=Object.getPrototypeOf(t)}Zye(n)}function Xye(r,t){for(let e in t.inputs){if(!t.inputs.hasOwnProperty(e)||r.inputs.hasOwnProperty(e))continue;let n=t.inputs[e];if(n!==void 0&&(r.inputs[e]=n,r.declaredInputs[e]=t.declaredInputs[e],t.inputTransforms!==null)){let i=Array.isArray(n)?n[0]:n;if(!t.inputTransforms.hasOwnProperty(i))continue;r.inputTransforms??={},r.inputTransforms[i]=t.inputTransforms[i]}}}function Zye(r){let t=0,e=null;for(let n=r.length-1;n>=0;n--){let i=r[n];i.hostVars=t+=i.hostVars,i.hostAttrs=Ib(i.hostAttrs,e=Ib(e,i.hostAttrs))}}function aC(r){return r===od?{}:r===na?[]:r}function Qye(r,t){let e=r.viewQuery;e?r.viewQuery=(n,i)=>{t(n,i),e(n,i)}:r.viewQuery=t}function Jye(r,t){let e=r.contentQueries;e?r.contentQueries=(n,i,o)=>{t(n,i,o),e(n,i,o)}:r.contentQueries=t}function e_e(r,t){let e=r.hostBindings;e?r.hostBindings=(n,i)=>{t(n,i),e(n,i)}:r.hostBindings=t}function FW(r){let t=e=>{let n=Array.isArray(r);e.hostDirectives===null?(e.findHostDirectiveDefs=RW,e.hostDirectives=n?r.map(uk):[r]):n?e.hostDirectives.unshift(...r.map(uk)):e.hostDirectives.unshift(r)};return t.ngInherit=!0,t}function RW(r,t,e){if(r.hostDirectives!==null)for(let n of r.hostDirectives)if(typeof n=="function"){let i=n();for(let o of i)V6(uk(o),t,e)}else V6(n,t,e)}function V6(r,t,e){let n=Rk(r.directive);t_e(n.declaredInputs,r.inputs),RW(n,t,e),e.set(n,r),t.push(n)}function uk(r){return typeof r=="function"?{directive:as(r),inputs:od,outputs:od}:{directive:as(r.directive),inputs:z6(r.inputs),outputs:z6(r.outputs)}}function z6(r){if(r===void 0||r.length===0)return od;let t={};for(let e=0;e<r.length;e+=2)t[r[e]]=r[e+1];return t}function t_e(r,t){for(let e in t)if(t.hasOwnProperty(e)){let n=t[e],i=r[e];r[n]=i}}function Ur(r){let t=r.inputConfig,e={};for(let n in t)if(t.hasOwnProperty(n)){let i=t[n];Array.isArray(i)&&i[3]&&(e[n]=i[3])}r.inputTransforms=e}function PW(r){return _N(r)?Array.isArray(r)||!(r instanceof Map)&&Symbol.iterator in r:!1}function r_e(r,t){if(Array.isArray(r))for(let e=0;e<r.length;e++)t(r[e]);else{let e=r[Symbol.iterator](),n;for(;!(n=e.next()).done;)t(n.value)}}function _N(r){return r!==null&&(typeof r=="function"||typeof r=="object")}function x1(r,t,e){return r[t]=e}function n_e(r,t){return r[t]}function Ea(r,t,e){let n=r[t];return Object.is(n,e)?!1:(r[t]=e,!0)}function xN(r,t,e,n){let i=Ea(r,t,e);return Ea(r,t+1,n)||i}function i_e(r,t,e,n,i){let o=xN(r,t,e,n);return Ea(r,t+2,i)||o}function o_e(r){return(r.flags&32)===32}function s_e(r,t,e,n,i,o,s,a,l){let c=t.consts,d=ym(t,r,4,s||null,a||null);dN(t,e,d,df(c,l)),l1(t,d);let f=d.tView=uN(2,d,n,i,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,c,null);return t.queries!==null&&(t.queries.template(t,d),f.queries=t.queries.embeddedTView(d)),d}function jC(r,t,e,n,i,o,s,a,l,c){let d=e+uo,f=t.firstCreatePass?s_e(d,t,r,n,i,o,s,a,l):t.data[d];vf(f,!1);let m=a_e(t,r,f,e);s1()&&h1(t,r,m,f),ff(m,r);let p=Z9(m,r,m,f);return r[d]=p,v1(r,p),Lye(p,f,r),r1(f)&&lN(t,r,f),l!=null&&cN(r,f,c),f}function Oe(r,t,e,n,i,o,s,a){let l=ar(),c=Yn(),d=df(c.consts,o);return jC(l,c,r,t,e,n,i,d,s,a),Oe}var a_e=l_e;function l_e(r,t,e,n){return a1(!0),t[Di].createComment("")}function rr(r,t,e,n){let i=ar(),o=bf();if(Ea(i,o,t)){let s=Yn(),a=Bb();qbe(a,i,r,t,e,n)}return rr}function LW(r,t,e,n){return Ea(r,bf(),e)?t+pg(e)+n:Ka}function c_e(r,t,e,n,i,o){let s=Mve(),a=xN(r,s,e,i);return Wk(2),a?t+pg(e)+n+pg(i)+o:Ka}function lC(r,t){return r<<17|t<<2}function gm(r){return r>>17&32767}function u_e(r){return(r&2)==2}function d_e(r,t){return r&131071|t<<17}function dk(r){return r|2}function Cg(r){return(r&131068)>>2}function mI(r,t){return r&-131069|t<<2}function f_e(r){return(r&1)===1}function fk(r){return r|1}function h_e(r,t,e,n,i,o){let s=o?t.classBindings:t.styleBindings,a=gm(s),l=Cg(s);r[n]=e;let c=!1,d;if(Array.isArray(e)){let f=e;d=f[1],(d===null||Pb(f,d)>0)&&(c=!0)}else d=e;if(i)if(l!==0){let m=gm(r[a+1]);r[n+1]=lC(m,a),m!==0&&(r[m+1]=mI(r[m+1],n)),r[a+1]=d_e(r[a+1],n)}else r[n+1]=lC(a,0),a!==0&&(r[a+1]=mI(r[a+1],n)),a=n;else r[n+1]=lC(l,0),a===0?a=n:r[l+1]=mI(r[l+1],n),l=n;c&&(r[n+1]=dk(r[n+1])),j6(r,d,n,!0),j6(r,d,n,!1),m_e(t,d,r,n,o),s=lC(a,l),o?t.classBindings=s:t.styleBindings=s}function m_e(r,t,e,n,i){let o=i?r.residualClasses:r.residualStyles;o!=null&&typeof t=="string"&&Pb(o,t)>=0&&(e[n+1]=fk(e[n+1]))}function j6(r,t,e,n){let i=r[e+1],o=t===null,s=n?gm(i):Cg(i),a=!1;for(;s!==0&&(a===!1||o);){let l=r[s],c=r[s+1];p_e(l,t)&&(a=!0,r[s+1]=n?fk(c):dk(c)),s=n?gm(c):Cg(c)}a&&(r[e+1]=n?dk(i):fk(i))}function p_e(r,t){return r===null||t==null||(Array.isArray(r)?r[1]:r)===t?!0:Array.isArray(r)&&typeof t=="string"?Pb(r,t)>=0:!1}var uc={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function g_e(r){return r.substring(uc.key,uc.keyEnd)}function v_e(r){return b_e(r),BW(r,VW(r,0,uc.textEnd))}function BW(r,t){let e=uc.textEnd;return e===t?-1:(t=uc.keyEnd=y_e(r,uc.key=t,e),VW(r,t,e))}function b_e(r){uc.key=0,uc.keyEnd=0,uc.value=0,uc.valueEnd=0,uc.textEnd=r.length}function VW(r,t,e){for(;t<e&&r.charCodeAt(t)<=32;)t++;return t}function y_e(r,t,e){for(;t<e&&r.charCodeAt(t)>32;)t++;return t}function oe(r,t,e){let n=ar(),i=bf();if(Ea(n,i,t)){let o=Yn(),s=Bb();g1(o,s,n,r,t,n[Di],e,!1)}return oe}function hk(r,t,e,n,i){let o=t.inputs,s=i?"class":"style";fN(r,e,o[s],s,n)}function hn(r,t,e){return jW(r,t,e,!1),hn}function Wt(r,t){return jW(r,t,null,!0),Wt}function Li(r){HW(D_e,zW,r,!0)}function zW(r,t){for(let e=v_e(t);e>=0;e=BW(t,e))ZC(r,g_e(t),!0)}function jW(r,t,e,n){let i=ar(),o=Yn(),s=Wk(2);if(o.firstUpdatePass&&qW(o,r,s,n),t!==Ka&&Ea(i,s,t)){let a=o.data[tu()];WW(o,a,i,i[Di],r,i[s+1]=M_e(t,e),n,s)}}function HW(r,t,e,n){let i=Yn(),o=Wk(2);i.firstUpdatePass&&qW(i,null,o,n);let s=ar();if(e!==Ka&&Ea(s,o,e)){let a=i.data[tu()];if($W(a,n)&&!UW(i,o)){let l=n?a.classesWithoutHost:a.stylesWithoutHost;l!==null&&(e=_I(l,e||"")),hk(i,a,s,e,n)}else E_e(i,a,s,s[Di],s[o+1],s[o+1]=S_e(r,t,e),n,o)}}function UW(r,t){return t>=r.expandoStartIndex}function qW(r,t,e,n){let i=r.data;if(i[e+1]===null){let o=i[tu()],s=UW(r,e);$W(o,n)&&t===null&&!s&&(t=!1),t=__e(i,o,t,n),h_e(i,o,t,e,s,n)}}function __e(r,t,e,n){let i=$k(r),o=n?t.residualClasses:t.residualStyles;if(i===null)(n?t.classBindings:t.styleBindings)===0&&(e=pI(null,r,t,e,n),e=Fb(e,t.attrs,n),o=null);else{let s=t.directiveStylingLast;if(s===-1||r[s]!==i)if(e=pI(i,r,t,e,n),o===null){let l=x_e(r,t,n);l!==void 0&&Array.isArray(l)&&(l=pI(null,r,t,l[1],n),l=Fb(l,t.attrs,n),w_e(r,t,n,l))}else o=C_e(r,t,n)}return o!==void 0&&(n?t.residualClasses=o:t.residualStyles=o),e}function x_e(r,t,e){let n=e?t.classBindings:t.styleBindings;if(Cg(n)!==0)return r[gm(n)]}function w_e(r,t,e,n){let i=e?t.classBindings:t.styleBindings;r[gm(i)]=n}function C_e(r,t,e){let n,i=t.directiveEnd;for(let o=1+t.directiveStylingLast;o<i;o++){let s=r[o].hostAttrs;n=Fb(n,s,e)}return Fb(n,t.attrs,e)}function pI(r,t,e,n,i){let o=null,s=e.directiveEnd,a=e.directiveStylingLast;for(a===-1?a=e.directiveStart:a++;a<s&&(o=t[a],n=Fb(n,o.hostAttrs,i),o!==r);)a++;return r!==null&&(e.directiveStylingLast=a),n}function Fb(r,t,e){let n=e?1:2,i=-1;if(t!==null)for(let o=0;o<t.length;o++){let s=t[o];typeof s=="number"?i=s:i===n&&(Array.isArray(r)||(r=r===void 0?[]:["",r]),ZC(r,s,e?!0:t[++o]))}return r===void 0?null:r}function S_e(r,t,e){if(e==null||e==="")return na;let n=[],i=hc(e);if(Array.isArray(i))for(let o=0;o<i.length;o++)r(n,i[o],!0);else if(typeof i=="object")for(let o in i)i.hasOwnProperty(o)&&r(n,o,i[o]);else typeof i=="string"&&t(n,i);return n}function D_e(r,t,e){let n=String(t);n!==""&&!n.includes(" ")&&ZC(r,n,e)}function E_e(r,t,e,n,i,o,s,a){i===Ka&&(i=na);let l=0,c=0,d=0<i.length?i[0]:null,f=0<o.length?o[0]:null;for(;d!==null||f!==null;){let m=l<i.length?i[l+1]:void 0,p=c<o.length?o[c+1]:void 0,b=null,y;d===f?(l+=2,c+=2,m!==p&&(b=f,y=p)):f===null||d!==null&&d<f?(l+=2,b=d):(c+=2,b=f,y=p),b!==null&&WW(r,t,e,n,b,y,s,a),d=l<i.length?i[l]:null,f=c<o.length?o[c]:null}}function WW(r,t,e,n,i,o,s,a){if(!(t.type&3))return;let l=r.data,c=l[a+1],d=f_e(c)?H6(l,t,e,i,Cg(c),s):void 0;if(!HC(d)){HC(o)||u_e(c)&&(o=H6(l,null,e,i,a,s));let f=Eq(tu(),e);cbe(n,s,f,i,o)}}function H6(r,t,e,n,i,o){let s=t===null,a;for(;i>0;){let l=r[i],c=Array.isArray(l),d=c?l[1]:l,f=d===null,m=e[i+1];m===Ka&&(m=f?na:void 0);let p=f?aI(m,n):d===n?m:void 0;if(c&&!HC(p)&&(p=aI(l,n)),HC(p)&&(a=p,s))return a;let b=r[i+1];i=s?gm(b):Cg(b)}if(t!==null){let l=o?t.residualClasses:t.residualStyles;l!=null&&(a=aI(l,n))}return a}function HC(r){return r!==void 0}function M_e(r,t){return r==null||r===""||(typeof t=="string"?r=r+t:typeof r=="object"&&(r=ia(hc(r)))),r}function $W(r,t){return(r.flags&(t?8:16))!==0}function w1(r,t,e){let n=ar(),i=LW(n,r,t,e);HW(ZC,zW,i,!0)}var mk=class{destroy(t){}updateValue(t,e){}swap(t,e){let n=Math.min(t,e),i=Math.max(t,e),o=this.detach(i);if(i-n>1){let s=this.detach(n);this.attach(n,o),this.attach(i,s)}else this.attach(n,o)}move(t,e){this.attach(e,this.detach(t))}};function gI(r,t,e,n,i){return r===e&&Object.is(t,n)?1:Object.is(i(r,t),i(e,n))?-1:0}function A_e(r,t,e){let n,i,o=0,s=r.length-1,a=void 0;if(Array.isArray(t)){let l=t.length-1;for(;o<=s&&o<=l;){let c=r.at(o),d=t[o],f=gI(o,c,o,d,e);if(f!==0){f<0&&r.updateValue(o,d),o++;continue}let m=r.at(s),p=t[l],b=gI(s,m,l,p,e);if(b!==0){b<0&&r.updateValue(s,p),s--,l--;continue}let y=e(o,c),C=e(s,m),S=e(o,d);if(Object.is(S,C)){let A=e(l,p);Object.is(A,y)?(r.swap(o,s),r.updateValue(s,p),l--,s--):r.move(s,o),r.updateValue(o,d),o++;continue}if(n??=new UC,i??=q6(r,o,s,e),pk(r,n,o,S))r.updateValue(o,d),o++,s++;else if(i.has(S))n.set(y,r.detach(o)),s--;else{let A=r.create(o,t[o]);r.attach(o,A),o++,s++}}for(;o<=l;)U6(r,n,e,o,t[o]),o++}else if(t!=null){let l=t[Symbol.iterator](),c=l.next();for(;!c.done&&o<=s;){let d=r.at(o),f=c.value,m=gI(o,d,o,f,e);if(m!==0)m<0&&r.updateValue(o,f),o++,c=l.next();else{n??=new UC,i??=q6(r,o,s,e);let p=e(o,f);if(pk(r,n,o,p))r.updateValue(o,f),o++,s++,c=l.next();else if(!i.has(p))r.attach(o,r.create(o,f)),o++,s++,c=l.next();else{let b=e(o,d);n.set(b,r.detach(o)),s--}}}for(;!c.done;)U6(r,n,e,r.length,c.value),c=l.next()}for(;o<=s;)r.destroy(r.detach(s--));n?.forEach(l=>{r.destroy(l)})}function pk(r,t,e,n){return t!==void 0&&t.has(n)?(r.attach(e,t.get(n)),t.delete(n),!0):!1}function U6(r,t,e,n,i){if(pk(r,t,n,e(n,i)))r.updateValue(n,i);else{let o=r.create(n,i);r.attach(n,o)}}function q6(r,t,e,n){let i=new Set;for(let o=t;o<=e;o++)i.add(n(o,r.at(o)));return i}var UC=class{kvMap=new Map;_vMap=void 0;has(t){return this.kvMap.has(t)}delete(t){if(!this.has(t))return!1;let e=this.kvMap.get(t);return this._vMap!==void 0&&this._vMap.has(e)?(this.kvMap.set(t,this._vMap.get(e)),this._vMap.delete(e)):this.kvMap.delete(t),!0}get(t){return this.kvMap.get(t)}set(t,e){if(this.kvMap.has(t)){let n=this.kvMap.get(t);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(n);)n=i.get(n);i.set(n,e)}else this.kvMap.set(t,e)}forEach(t){for(let[e,n]of this.kvMap)if(t(n,e),this._vMap!==void 0){let i=this._vMap;for(;i.has(n);)n=i.get(n),t(n,e)}}};function Pe(r,t){Ta("NgControlFlow");let e=ar(),n=bf(),i=e[n]!==Ka?e[n]:-1,o=i!==-1?qC(e,uo+i):void 0,s=0;if(Ea(e,n,r)){let a=Kr(null);try{if(o!==void 0&&oW(o,s),r!==-1){let l=uo+r,c=qC(e,l),d=yk(e[kr],l),f=wg(c,d.tView.ssrId),m=Hb(e,d,t,{dehydratedView:f});Ub(c,m,s,xg(d,f))}}finally{Kr(a)}}else if(o!==void 0){let a=iW(o,s);a!==void 0&&(a[ws]=t)}}var gk=class{lContainer;$implicit;$index;constructor(t,e,n){this.lContainer=t,this.$implicit=e,this.$index=n}get $count(){return this.lContainer.length-Cs}};function Mi(r){return r}function sa(r,t){return t}var vk=class{hasEmptyBlock;trackByFn;liveCollection;constructor(t,e,n){this.hasEmptyBlock=t,this.trackByFn=e,this.liveCollection=n}};function ur(r,t,e,n,i,o,s,a,l,c,d,f,m){Ta("NgControlFlow");let p=ar(),b=Yn(),y=l!==void 0,C=ar(),S=a?s.bind(C[Ga][ws]):s,A=new vk(y,S);C[uo+r]=A,jC(p,b,r+1,t,e,n,i,df(b.consts,o)),y&&jC(p,b,r+2,l,c,d,f,df(b.consts,m))}var bk=class extends mk{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(t,e,n){super(),this.lContainer=t,this.hostLView=e,this.templateTNode=n}get length(){return this.lContainer.length-Cs}at(t){return this.getLView(t)[ws].$implicit}attach(t,e){let n=e[bg];this.needsIndexUpdate||=t!==this.length,Ub(this.lContainer,e,t,xg(this.templateTNode,n))}detach(t){return this.needsIndexUpdate||=t!==this.length-1,T_e(this.lContainer,t)}create(t,e){let n=wg(this.lContainer,this.templateTNode.tView.ssrId),i=Hb(this.hostLView,this.templateTNode,new gk(this.lContainer,e,t),{dehydratedView:n});return this.operationsCounter?.recordCreate(),i}destroy(t){f1(t[kr],t),this.operationsCounter?.recordDestroy()}updateValue(t,e){this.getLView(t)[ws].$implicit=e}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let t=0;t<this.length;t++)this.getLView(t)[ws].$index=t}getLView(t){return I_e(this.lContainer,t)}};function dr(r){let t=Kr(null),e=tu();try{let n=ar(),i=n[kr],o=n[e],s=e+1,a=qC(n,s);if(o.liveCollection===void 0){let c=yk(i,s);o.liveCollection=new bk(a,n,c)}else o.liveCollection.reset();let l=o.liveCollection;if(A_e(l,r,o.trackByFn),l.updateIndexes(),o.hasEmptyBlock){let c=bf(),d=l.length===0;if(Ea(n,c,d)){let f=e+2,m=qC(n,f);if(d){let p=yk(i,f),b=wg(m,p.tView.ssrId),y=Hb(n,p,void 0,{dehydratedView:b});Ub(m,y,0,xg(p,b))}else oW(m,0)}}}finally{Kr(t)}}function qC(r,t){return r[t]}function T_e(r,t){return Nb(r,t)}function I_e(r,t){return iW(r,t)}function yk(r,t){return zk(r,t)}function k_e(r,t,e,n,i,o){let s=t.consts,a=df(s,i),l=ym(t,r,2,n,a);return dN(t,e,l,df(s,o)),l.attrs!==null&&RC(l,l.attrs,!1),l.mergedAttrs!==null&&RC(l,l.mergedAttrs,!0),t.queries!==null&&t.queries.elementStart(t,l),l}function W(r,t,e,n){let i=ar(),o=Yn(),s=uo+r,a=i[Di],l=o.firstCreatePass?k_e(s,o,i,t,e,n):o.data[s],c=N_e(o,i,l,a,t,r);i[s]=c;let d=r1(l);return vf(l,!0),V9(a,c,l),!o_e(l)&&s1()&&h1(o,i,c,l),xve()===0&&ff(c,i),wve(),d&&(lN(o,i,l),aN(o,l,i)),n!==null&&cN(i,l),W}function $(){let r=Mo();Uk()?qk():(r=r.parent,vf(r,!1));let t=r;Sve(t)&&Dve(),Cve();let e=Yn();return e.firstCreatePass&&(l1(e,r),Vk(r)&&e.queries.elementEnd(r)),t.classesWithoutHost!=null&&Vve(t)&&hk(e,t,ar(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&zve(t)&&hk(e,t,ar(),t.stylesWithoutHost,!1),$}function Te(r,t,e,n){return W(r,t,e,n),$(),Te}var N_e=(r,t,e,n,i,o)=>(a1(!0),T9(n,i,Rve()));function O_e(r,t,e,n,i){let o=t.consts,s=df(o,n),a=ym(t,r,8,"ng-container",s);s!==null&&RC(a,s,!0);let l=df(o,i);return dN(t,e,a,l),t.queries!==null&&t.queries.elementStart(t,a),a}function wf(r,t,e){let n=ar(),i=Yn(),o=r+uo,s=i.firstCreatePass?O_e(o,i,n,t,e):i.data[o];vf(s,!0);let a=F_e(i,n,s,r);return n[o]=a,s1()&&h1(i,n,a,s),ff(a,n),r1(s)&&(lN(i,n,s),aN(i,s,n)),e!=null&&cN(n,s),wf}function Cf(){let r=Mo(),t=Yn();return Uk()?qk():(r=r.parent,vf(r,!1)),t.firstCreatePass&&(l1(t,r),Vk(r)&&t.queries.elementEnd(r)),Cf}function Xa(r,t,e){return wf(r,t,e),Cf(),Xa}var F_e=(r,t,e,n)=>(a1(!0),K0e(t[Di],""));function ot(){return ar()}function Za(r,t,e){let n=ar(),i=bf();if(Ea(n,i,t)){let o=Yn(),s=Bb();g1(o,s,n,r,t,n[Di],e,!0)}return Za}function R_e(r,t,e){let n=ar(),i=bf();if(Ea(n,i,t)){let o=Yn(),s=Bb(),a=$k(o.data),l=tW(a,s,n);g1(o,s,n,r,t,l,e,!0)}return R_e}var nm=void 0;function P_e(r){let t=r,e=Math.floor(Math.abs(r)),n=r.toString().replace(/^[^.]*\.?/,"").length;return e===1&&n===0?1:5}var L_e=["en",[["a","p"],["AM","PM"],nm],[["AM","PM"],nm,nm],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],nm,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],nm,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",nm,"{1} 'at' {0}",nm],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",P_e],vI={};function kl(r){let t=B_e(r),e=W6(t);if(e)return e;let n=t.split("-")[0];if(e=W6(n),e)return e;if(n==="en")return L_e;throw new it(701,!1)}function W6(r){return r in vI||(vI[r]=id.ng&&id.ng.common&&id.ng.common.locales&&id.ng.common.locales[r]),vI[r]}var Ji=function(r){return r[r.LocaleId=0]="LocaleId",r[r.DayPeriodsFormat=1]="DayPeriodsFormat",r[r.DayPeriodsStandalone=2]="DayPeriodsStandalone",r[r.DaysFormat=3]="DaysFormat",r[r.DaysStandalone=4]="DaysStandalone",r[r.MonthsFormat=5]="MonthsFormat",r[r.MonthsStandalone=6]="MonthsStandalone",r[r.Eras=7]="Eras",r[r.FirstDayOfWeek=8]="FirstDayOfWeek",r[r.WeekendRange=9]="WeekendRange",r[r.DateFormat=10]="DateFormat",r[r.TimeFormat=11]="TimeFormat",r[r.DateTimeFormat=12]="DateTimeFormat",r[r.NumberSymbols=13]="NumberSymbols",r[r.NumberFormats=14]="NumberFormats",r[r.CurrencyCode=15]="CurrencyCode",r[r.CurrencySymbol=16]="CurrencySymbol",r[r.CurrencyName=17]="CurrencyName",r[r.Currencies=18]="Currencies",r[r.Directionality=19]="Directionality",r[r.PluralCase=20]="PluralCase",r[r.ExtraData=21]="ExtraData",r}(Ji||{});function B_e(r){return r.toLowerCase().replace(/_/g,"-")}var WC="en-US";var V_e=WC;function z_e(r){typeof r=="string"&&(V_e=r.toLowerCase().replace(/_/g,"-"))}var j_e=(r,t,e)=>{};function Me(r,t,e,n){let i=ar(),o=Yn(),s=Mo();return wN(o,i,i[Di],s,r,t,n),Me}function H_e(r,t){let e=Mo(),n=ar(),i=Yn(),o=$k(i.data),s=tW(o,e,n);return wN(i,n,s,e,r,t),H_e}function U_e(r,t,e,n){let i=r.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===e&&i[o+1]===n){let a=t[xC],l=i[o+2];return a.length>l?a[l]:null}typeof s=="string"&&(o+=2)}return null}function wN(r,t,e,n,i,o,s){let a=r1(n),c=r.firstCreatePass&&eW(r),d=t[ws],f=J9(t),m=!0;if(n.type&3||s){let y=Tl(n,t),C=s?s(y):y,S=f.length,A=s?M=>s(Xc(M[n.index])):n.index,x=null;if(!s&&a&&(x=U_e(r,t,i,n.index)),x!==null){let M=x.__ngLastListenerFn__||x;M.__ngNextListenerFn__=o,x.__ngLastListenerFn__=o,m=!1}else{o=G6(n,t,d,o),j_e(y,i,o);let M=e.listen(C,i,o);f.push(o,M),c&&c.push(i,A,S,S+1)}}else o=G6(n,t,d,o);let p=n.outputs,b;if(m&&p!==null&&(b=p[i])){let y=b.length;if(y)for(let C=0;C<y;C+=2){let S=b[C],A=b[C+1],E=t[S][A].subscribe(o),w=f.length;f.push(o,E),c&&c.push(i,n.index,w,-(w+1))}}}function $6(r,t,e,n){let i=Kr(null);try{return Yc(6,t,e),e(n)!==!1}catch(o){return rW(r,o),!1}finally{Yc(7,t,e),Kr(i)}}function G6(r,t,e,n){return function i(o){if(o===Function)return n;let s=r.componentOffset>-1?gf(r.index,t):t;mN(s,5);let a=$6(t,e,n,o),l=i.__ngNextListenerFn__;for(;l;)a=$6(t,e,l,o)&&a,l=l.__ngNextListenerFn__;return a}}function ie(r=1){return Ove(r)}function q_e(r,t){let e=null,n=gbe(r);for(let i=0;i<t.length;i++){let o=t[i];if(o==="*"){e=i;continue}if(n===null?j9(r,o,!0):ybe(n,o))return i}return e}function un(r){let t=ar()[Ga][Aa];if(!t.projection){let e=r?r.length:1,n=t.projection=Qge(e,null),i=n.slice(),o=t.child;for(;o!==null;){if(o.type!==128){let s=r?q_e(o,r):0;s!==null&&(i[s]?i[s].projectionNext=o:n[s]=o,i[s]=o)}o=o.next}}}function hr(r,t=0,e,n,i,o){let s=ar(),a=Yn(),l=n?r+1:null;l!==null&&jC(s,a,l,n,i,o,null,e);let c=ym(a,uo+r,16,null,e||null);c.projection===null&&(c.projection=t),qk();let f=!s[bg]||Iq();s[Ga][Aa].projection[c.projection]===null&&l!==null?W_e(s,a,l):f&&(c.flags&32)!==32&&abe(a,s,c)}function W_e(r,t,e){let n=uo+e,i=t.data[n],o=r[n],s=wg(o,i.tView.ssrId),a=Hb(r,i,void 0,{dehydratedView:s});Ub(o,a,0,xg(i,s))}function Qn(r,t,e,n){SW(r,t,e,n)}function Cr(r,t,e){CW(r,t,e)}function Ft(r){let t=ar(),e=Yn(),n=Gk();o1(n+1);let i=yN(e,n);if(r.dirty&&vve(t)===((i.metadata.flags&2)===2)){if(i.matches===null)r.reset([]);else{let o=EW(t,n);r.reset(o,i9),r.notifyOnChanges()}return!0}return!1}function Rt(){return bN(ar(),Gk())}function xm(r,t,e,n,i){NW(t,SW(r,e,n,i))}function Ai(r,t,e,n){NW(r,CW(t,e,n))}function ai(r=1){o1(Gk()+r)}function CN(r,t,e,n){e>=r.data.length&&(r.data[e]=null,r.blueprint[e]=null),t[e]=n}function Ao(r){let t=Nq();return n1(t,uo+r)}function ge(r,t=""){let e=ar(),n=Yn(),i=r+uo,o=n.firstCreatePass?ym(n,i,1,t,null):n.data[i],s=$_e(n,e,o,t,r);e[i]=s,s1()&&h1(n,e,s,o),vf(o,!1)}var $_e=(r,t,e,n,i)=>(a1(!0),G0e(t[Di],n));function zt(r){return sn("",r,""),zt}function sn(r,t,e){let n=ar(),i=LW(n,r,t,e);return i!==Ka&&nW(n,tu(),i),sn}function SN(r,t,e,n,i){let o=ar(),s=c_e(o,r,t,e,n,i);return s!==Ka&&nW(o,tu(),s),SN}function wn(r,t,e){AW(t)&&(t=t());let n=ar(),i=bf();if(Ea(n,i,t)){let o=Yn(),s=Bb();g1(o,s,n,r,t,n[Di],e,!1)}return wn}function Mn(r,t){let e=AW(r);return e&&r.set(t),e}function Cn(r,t){let e=ar(),n=Yn(),i=Mo();return wN(n,e,e[Di],i,r,t),Cn}var GW={};function G_e(r){let t=Yn(),e=ar(),n=r+uo,i=ym(t,n,128,null,null);return vf(i,!1),CN(t,e,n,GW),G_e}function iGe(r){Ta("NgLet");let t=Yn(),e=ar(),n=tu();return CN(t,e,n,r),r}function oGe(r){let t=Nq(),e=n1(t,uo+r);if(e===GW)throw new it(314,!1);return e}function Y_e(r,t,e){let n=Yn();if(n.firstCreatePass){let i=cd(r);_k(e,n.data,n.blueprint,i,!0),_k(t,n.data,n.blueprint,i,!1)}}function _k(r,t,e,n,i){if(r=as(r),Array.isArray(r))for(let o=0;o<r.length;o++)_k(r[o],t,e,n,i);else{let o=Yn(),s=ar(),a=Mo(),l=vg(r)?r:as(r.provide),c=bq(r),d=a.providerIndexes&1048575,f=a.directiveStart,m=a.providerIndexes>>20;if(vg(r)||!r.multi){let p=new dm(c,i,ze),b=yI(l,t,i?d:d+m,f);b===-1?(RI(AC(a,s),o,l),bI(o,r,t.length),t.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),e.push(p),s.push(p)):(e[b]=p,s[b]=p)}else{let p=yI(l,t,d+m,f),b=yI(l,t,d,d+m),y=p>=0&&e[p],C=b>=0&&e[b];if(i&&!C||!i&&!y){RI(AC(a,s),o,l);let S=Z_e(i?X_e:K_e,e.length,i,n,c);!i&&C&&(e[b].providerFactory=S),bI(o,r,t.length,0),t.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),e.push(S),s.push(S)}else{let S=YW(e[i?b:p],c,!i&&n);bI(o,r,p>-1?p:b,S)}!i&&n&&C&&e[b].componentProviders++}}}function bI(r,t,e,n){let i=vg(t),o=ive(t);if(i||o){let l=(o?as(t.useClass):t).prototype.ngOnDestroy;if(l){let c=r.destroyHooks||(r.destroyHooks=[]);if(!i&&t.multi){let d=c.indexOf(e);d===-1?c.push(e,[n,l]):c[d+1].push(n,l)}else c.push(e,l)}}}function YW(r,t,e){return e&&r.componentProviders++,r.multi.push(t)-1}function yI(r,t,e,n){for(let i=e;i<n;i++)if(t[i]===r)return i;return-1}function K_e(r,t,e,n){return xk(this.multi,[])}function X_e(r,t,e,n){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=fm(e,e[kr],this.providerFactory.index,n);o=a.slice(0,s),xk(i,o);for(let l=s;l<a.length;l++)o.push(a[l])}else o=[],xk(i,o);return o}function xk(r,t){for(let e=0;e<r.length;e++){let n=r[e];t.push(n())}return t}function Z_e(r,t,e,n,i){let o=new dm(r,e,ze);return o.multi=[],o.index=t,o.componentProviders=0,YW(o,i,n&&!e),o}function Lt(r,t=[]){return e=>{e.providersResolver=(n,i)=>Y_e(n,i?i(r):r,t)}}function Ig(r,t,e){let n=Eg()+r,i=ar();return i[n]===Ka?x1(i,n,e?t.call(e):t()):n_e(i,n)}function Un(r,t,e,n){return KW(ar(),Eg(),r,t,e,n)}function C1(r,t,e,n,i){return XW(ar(),Eg(),r,t,e,n,i)}function wm(r,t,e,n,i,o){return Q_e(ar(),Eg(),r,t,e,n,i,o)}function DN(r,t){let e=r[t];return e===Ka?void 0:e}function KW(r,t,e,n,i,o){let s=t+e;return Ea(r,s,i)?x1(r,s+1,o?n.call(o,i):n(i)):DN(r,s+1)}function XW(r,t,e,n,i,o,s){let a=t+e;return xN(r,a,i,o)?x1(r,a+2,s?n.call(s,i,o):n(i,o)):DN(r,a+2)}function Q_e(r,t,e,n,i,o,s,a){let l=t+e;return i_e(r,l,i,o,s)?x1(r,l+3,a?n.call(a,i,o,s):n(i,o,s)):DN(r,l+3)}function S1(r,t){let e=Yn(),n,i=r+uo;e.firstCreatePass?(n=J_e(t,e.pipeRegistry),e.data[i]=n,n.onDestroy&&(e.destroyHooks??=[]).push(i,n.onDestroy)):n=e.data[i];let o=n.factory||(n.factory=om(n.type,!0)),s,a=Da(ze);try{let l=MC(!1),c=o();return MC(l),CN(e,ar(),i,c),c}finally{Da(a)}}function J_e(r,t){if(t)for(let e=t.length-1;e>=0;e--){let n=t[e];if(r===n.name)return n}}function sGe(r,t,e){let n=r+uo,i=ar(),o=n1(i,n);return ZW(i,n)?KW(i,Eg(),t,o.transform,e,o):o.transform(e)}function D1(r,t,e,n){let i=r+uo,o=ar(),s=n1(o,i);return ZW(o,i)?XW(o,Eg(),t,s.transform,e,n,s):s.transform(e,n)}function ZW(r,t){return r[kr].data[t].pure}function mc(r,t){return b1(r,t)}var wk=class{ngModuleFactory;componentFactories;constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}},E1=(()=>{class r{compileModuleSync(e){return new ik(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){let n=this.compileModuleSync(e),i=fq(e),o=A9(i.declarations).reduce((s,a)=>{let l=sd(a);return l&&s.push(new pm(l)),s},[]);return new wk(n,o)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}static \u0275fac=function(n){return new(n||r)};static \u0275prov=Fe({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();var exe=(()=>{class r{zone=V(xt);changeDetectionScheduler=V(hm);applicationRef=V(Uo);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(n){return new(n||r)};static \u0275prov=Fe({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function txe({ngZoneFactory:r,ignoreChangesOutsideZone:t,scheduleInRootZone:e}){return r??=()=>new xt(pr(Ue({},rxe()),{scheduleInRootZone:e})),[{provide:xt,useFactory:r},{provide:gg,multi:!0,useFactory:()=>{let n=V(exe,{optional:!0});return()=>n.initialize()}},{provide:gg,multi:!0,useFactory:()=>{let n=V(nxe);return()=>{n.initialize()}}},t===!0?{provide:e9,useValue:!0}:[],{provide:t9,useValue:e??Jq}]}function rxe(r){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:r?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:r?.runCoalescing??!1}}var nxe=(()=>{class r{subscription=new yr;initialized=!1;zone=V(xt);pendingTasks=V(hd);initialize(){if(this.initialized)return;this.initialized=!0;let e=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(e=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{xt.assertNotInAngularZone(),queueMicrotask(()=>{e!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(e),e=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{xt.assertInAngularZone(),e??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(n){return new(n||r)};static \u0275prov=Fe({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();var ixe=(()=>{class r{appRef=V(Uo);taskService=V(hd);ngZone=V(xt);zonelessEnabled=V(Zk);disableScheduling=V(e9,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new yr;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(IC):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(V(t9,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof VI||!this.zoneIsDefined)}notify(e){if(!this.zonelessEnabled&&e===5)return;let n=!1;switch(e){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 8:{this.appRef.deferredDirtyFlags|=8;break}case 6:{this.appRef.dirtyFlags|=2,n=!0;break}case 13:{this.appRef.dirtyFlags|=16,n=!0;break}case 14:{this.appRef.dirtyFlags|=2,n=!0;break}case 12:{n=!0;break}case 10:case 9:case 7:case 11:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick(n))return;let i=this.useMicrotaskScheduler?p6:r9;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(e){return!(this.disableScheduling&&!e||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(IC+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let e=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(n){throw this.taskService.remove(e),n}finally{this.cleanup()}this.useMicrotaskScheduler=!0,p6(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(e)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let e=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(e)}}static \u0275fac=function(n){return new(n||r)};static \u0275prov=Fe({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function oxe(){return typeof $localize<"u"&&$localize.locale||WC}var Wb=new He("",{providedIn:"root",factory:()=>V(Wb,Xr.Optional|Xr.SkipSelf)||oxe()});var Ck=new He("");function cC(r){return!r.moduleRef}function sxe(r){let t=cC(r)?r.r3Injector:r.moduleRef.injector,e=t.get(xt);return e.run(()=>{cC(r)?r.r3Injector.resolveInjectorInitializers():r.moduleRef.resolveInjectorInitializers();let n=t.get(oa,null),i;if(e.runOutsideAngular(()=>{i=e.onError.subscribe({next:o=>{n.handleError(o)}})}),cC(r)){let o=()=>t.destroy(),s=r.platformInjector.get(Ck);s.add(o),t.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>r.moduleRef.destroy(),s=r.platformInjector.get(Ck);s.add(o),r.moduleRef.onDestroy(()=>{pC(r.allPlatformModules,r.moduleRef),i.unsubscribe(),s.delete(o)})}return Tye(n,e,()=>{let o=t.get(vW);return o.runInitializers(),o.donePromise.then(()=>{let s=t.get(Wb,WC);if(z_e(s||WC),cC(r)){let a=t.get(Uo);return r.rootComponent!==void 0&&a.bootstrap(r.rootComponent),a}else return axe(r.moduleRef,r.allPlatformModules),r.moduleRef})})})}function axe(r,t){let e=r.injector.get(Uo);if(r._bootstrapComponents.length>0)r._bootstrapComponents.forEach(n=>e.bootstrap(n));else if(r.instance.ngDoBootstrap)r.instance.ngDoBootstrap(e);else throw new it(-403,!1);t.push(r)}var gC=null;function lxe(r=[],t){return lr.create({name:t,providers:[{provide:QC,useValue:"platform"},{provide:Ck,useValue:new Set([()=>gC=null])},...r]})}function cxe(r=[]){if(gC)return gC;let t=lxe(r);return gC=t,Eye(),uxe(t),t}function uxe(r){let t=r.get(eN,null);Ma(r,()=>{t?.forEach(e=>e())})}var qt=(()=>{class r{static __NG_ELEMENT_ID__=dxe}return r})();function dxe(r){return fxe(Mo(),ar(),(r&16)===16)}function fxe(r,t,e){if(t1(r)&&!e){let n=gf(r.index,t);return new mm(n,n)}else if(r.type&175){let n=t[Ga];return new mm(n,t)}return null}var Sk=class{constructor(){}supports(t){return PW(t)}create(t){return new Dk(t)}},hxe=(r,t)=>t,Dk=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(t){this._trackByFn=t||hxe}forEachItem(t){let e;for(e=this._itHead;e!==null;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,i=0,o=null;for(;e||n;){let s=!n||e&&e.currentIndex<Y6(n,i,o)?e:n,a=Y6(s,i,o),l=s.currentIndex;if(s===n)i--,n=n._nextRemoved;else if(e=e._next,s.previousIndex==null)i++;else{o||(o=[]);let c=a-i,d=l-i;if(c!=d){for(let m=0;m<c;m++){let p=m<o.length?o[m]:o[m]=0,b=p+m;d<=b&&b<c&&(o[m]=p+1)}let f=s.previousIndex;o[f]=d-c}}a!==l&&t(s,a,l)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;e!==null;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;e!==null;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;e!==null;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;e!==null;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;e!==null;e=e._nextIdentityChange)t(e)}diff(t){if(t==null&&(t=[]),!PW(t))throw new it(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._itHead,n=!1,i,o,s;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)o=t[a],s=this._trackByFn(a,o),e===null||!Object.is(e.trackById,s)?(e=this._mismatch(e,o,s,a),n=!0):(n&&(e=this._verifyReinsertion(e,o,s,a)),Object.is(e.item,o)||this._addIdentityChange(e,o)),e=e._next}else i=0,r_e(t,a=>{s=this._trackByFn(i,a),e===null||!Object.is(e.trackById,s)?(e=this._mismatch(e,a,s,i),n=!0):(n&&(e=this._verifyReinsertion(e,a,s,i)),Object.is(e.item,a)||this._addIdentityChange(e,a)),e=e._next,i++}),this.length=i;return this._truncate(e),this.collection=t,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;t!==null;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;t!==null;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;t!==null;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,i){let o;return t===null?o=this._itTail:(o=t._prev,this._remove(t)),t=this._unlinkedRecords===null?null:this._unlinkedRecords.get(n,null),t!==null?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,o,i)):(t=this._linkedRecords===null?null:this._linkedRecords.get(n,i),t!==null?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,o,i)):t=this._addAfter(new Ek(e,n),o,i)),t}_verifyReinsertion(t,e,n,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(n,null);return o!==null?t=this._reinsertAfter(o,t._prev,i):t.currentIndex!=i&&(t.currentIndex=i,this._addToMoves(t,i)),t}_truncate(t){for(;t!==null;){let e=t._next;this._addToRemovals(this._unlink(t)),t=e}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(t);let i=t._prevRemoved,o=t._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail===null?this._additionsTail=this._additionsHead=t:this._additionsTail=this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){let i=e===null?this._itHead:e._next;return t._next=i,t._prev=e,i===null?this._itTail=t:i._prev=t,e===null?this._itHead=t:e._next=t,this._linkedRecords===null&&(this._linkedRecords=new $C),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){this._linkedRecords!==null&&this._linkedRecords.remove(t);let e=t._prev,n=t._next;return e===null?this._itHead=n:e._next=n,n===null?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail===null?this._movesTail=this._movesHead=t:this._movesTail=this._movesTail._nextMoved=t),t}_addToRemovals(t){return this._unlinkedRecords===null&&(this._unlinkedRecords=new $C),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=t:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=t,t}},Ek=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(t,e){this.item=t,this.trackById=e}},Mk=class{_head=null;_tail=null;add(t){this._head===null?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;n!==null;n=n._nextDup)if((e===null||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){let e=t._prevDup,n=t._nextDup;return e===null?this._head=n:e._nextDup=n,n===null?this._tail=e:n._prevDup=e,this._head===null}},$C=class{map=new Map;put(t){let e=t.trackById,n=this.map.get(e);n||(n=new Mk,this.map.set(e,n)),n.add(t)}get(t,e){let n=t,i=this.map.get(n);return i?i.get(t,e):null}remove(t){let e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function Y6(r,t,e){let n=r.previousIndex;if(n===null)return n;let i=0;return e&&n<e.length&&(i=e[n]),n+t+i}var Ak=class{constructor(){}supports(t){return t instanceof Map||_N(t)}create(){return new Tk}},Tk=class{_records=new Map;_mapHead=null;_appendAfter=null;_previousMapHead=null;_changesHead=null;_changesTail=null;_additionsHead=null;_additionsTail=null;_removalsHead=null;_removalsTail=null;get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(t){let e;for(e=this._mapHead;e!==null;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;e!==null;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;e!==null;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;e!==null;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;e!==null;e=e._nextRemoved)t(e)}diff(t){if(!t)t=new Map;else if(!(t instanceof Map||_N(t)))throw new it(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(n,i)=>{if(e&&e.key===i)this._maybeAddToChanges(e,n),this._appendAfter=e,e=e._next;else{let o=this._getOrCreateRecordForKey(i,n);e=this._insertBeforeOrAppend(e,o)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let n=e;n!==null;n=n._nextRemoved)n===this._mapHead&&(this._mapHead=null),this._records.delete(n.key),n._nextRemoved=n._next,n.previousValue=n.currentValue,n.currentValue=null,n._prev=null,n._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){let n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){let i=this._records.get(t);this._maybeAddToChanges(i,e);let o=i._prev,s=i._next;return o&&(o._next=s),s&&(s._prev=o),i._next=null,i._prev=null,i}let n=new Ik(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;t!==null;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;t!==null;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;t!=null;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){this._additionsHead===null?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){this._changesHead===null?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}},Ik=class{key;previousValue=null;currentValue=null;_nextPrevious=null;_next=null;_prev=null;_nextAdded=null;_nextRemoved=null;_nextChanged=null;constructor(t){this.key=t}};function K6(){return new M1([new Sk])}var M1=(()=>{class r{factories;static \u0275prov=Fe({token:r,providedIn:"root",factory:K6});constructor(e){this.factories=e}static create(e,n){if(n!=null){let i=n.factories.slice();e=e.concat(i)}return new r(e)}static extend(e){return{provide:r,useFactory:n=>r.create(e,n||K6()),deps:[[r,new vm,new dd]]}}find(e){let n=this.factories.find(i=>i.supports(e));if(n!=null)return n;throw new it(901,!1)}}return r})();function X6(){return new $b([new Ak])}var $b=(()=>{class r{static \u0275prov=Fe({token:r,providedIn:"root",factory:X6});factories;constructor(e){this.factories=e}static create(e,n){if(n){let i=n.factories.slice();e=e.concat(i)}return new r(e)}static extend(e){return{provide:r,useFactory:n=>r.create(e,n||X6()),deps:[[r,new vm,new dd]]}}find(e){let n=this.factories.find(i=>i.supports(e));if(n)return n;throw new it(901,!1)}}return r})();function QW(r){try{let{rootComponent:t,appProviders:e,platformProviders:n}=r,i=cxe(n),o=[txe({}),{provide:hm,useExisting:ixe},...e||[]],s=new BC({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return sxe({r3Injector:s.injector,platformInjector:i,rootComponent:t})}catch(t){return Promise.reject(t)}}function Mt(r){return typeof r=="boolean"?r:r!=null&&r!=="false"}function qi(r,t=NaN){return!isNaN(parseFloat(r))&&!isNaN(Number(r))?Number(r):t}function To(r,t){Ta("NgSignals");let e=jT(r);return t?.equal&&(e[os].equal=t.equal),e}function aa(r){let t=Kr(null);try{return r()}finally{Kr(t)}}var JW=(()=>{class r{view;node;constructor(e,n){this.view=e,this.node=n}static __NG_ELEMENT_ID__=mxe}return r})();function mxe(){return new JW(ar(),Mo())}var pxe=!1,gxe=(()=>{class r extends VC{pendingTasks=V(hd);taskId=null;schedule(e){super.schedule(e),this.taskId===null&&(this.taskId=this.pendingTasks.add(),queueMicrotask(()=>this.flush()))}flush(){try{super.flush()}finally{this.taskId!==null&&(this.pendingTasks.remove(this.taskId),this.taskId=null)}}static \u0275prov=Fe({token:r,providedIn:"root",factory:()=>new r})}return r})(),kk=class{scheduler;effectFn;zone;injector;unregisterOnDestroy;watcher;constructor(t,e,n,i,o,s){this.scheduler=t,this.effectFn=e,this.zone=n,this.injector=o,this.watcher=SU(a=>this.runEffect(a),()=>this.schedule(),s),this.unregisterOnDestroy=i?.onDestroy(()=>this.destroy())}runEffect(t){try{this.effectFn(t)}catch(e){this.injector.get(oa,null,{optional:!0})?.handleError(e)}}run(){this.watcher.run()}schedule(){this.scheduler.schedule(this)}destroy(){this.watcher.destroy(),this.unregisterOnDestroy?.()}};function vxe(){}function e7(r,t){Ta("NgSignals"),!t?.injector&&Sg(vxe);let e=t?.injector??V(lr),n=t?.manualCleanup!==!0?e.get(Il):null,i=new kk(e.get(gxe),r,typeof Zone>"u"?null:Zone.current,n,e,t?.allowSignalWrites??!1),o=e.get(qt,null,{optional:!0});return!o||!(o._lView[gr]&8)?i.watcher.notify():(o._lView[dC]??=[]).push(i.watcher.notify),i}var bxe=pxe;var Nk=class{[os];constructor(t){this[os]=t}destroy(){this[os].destroy()}};function Io(r,t){if(bxe)return e7(r,t);Ta("NgSignals"),!t?.injector&&Sg(Io);let e=t?.injector??V(lr),n=t?.manualCleanup!==!0?e.get(Il):null,i,o=e.get(JW,null,{optional:!0}),s=e.get(hm);return o!==null&&!t?.forceRoot?(i=xxe(o.view,s,r),n instanceof TC&&n._lView===o.view&&(n=null)):i=wxe(r,e.get(bW),s),i.injector=e,n!==null&&(i.onDestroyFn=n.onDestroy(()=>i.destroy())),new Nk(i)}var t7=pr(Ue({},$h),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!0,dirty:!0,hasRun:!1,cleanupFns:void 0,zone:null,onDestroyFn:kb,run(){if(this.dirty=!1,this.hasRun&&!bb(this))return;this.hasRun=!0;let r=n=>(this.cleanupFns??=[]).push(n),t=Yp(this),e=SC(!1);try{this.maybeCleanup(),this.fn(r)}finally{SC(e),vb(this,t)}},maybeCleanup(){if(this.cleanupFns?.length)try{for(;this.cleanupFns.length;)this.cleanupFns.pop()()}finally{this.cleanupFns=[]}}}),yxe=pr(Ue({},t7),{consumerMarkedDirty(){this.scheduler.schedule(this),this.notifier.notify(13)},destroy(){Kp(this),this.onDestroyFn(),this.maybeCleanup()}}),_xe=pr(Ue({},t7),{consumerMarkedDirty(){this.view[gr]|=8192,Lb(this.view),this.notifier.notify(14)},destroy(){Kp(this),this.onDestroyFn(),this.maybeCleanup(),this.view[am]?.delete(this)}});function xxe(r,t,e){let n=Object.create(_xe);return n.view=r,n.zone=typeof Zone<"u"?Zone.current:null,n.notifier=t,n.fn=e,r[am]??=new Set,r[am].add(n),n.consumerMarkedDirty(n),n}function wxe(r,t,e){let n=Object.create(yxe);return n.fn=r,n.scheduler=t,n.notifier=e,n.zone=typeof Zone<"u"?Zone.current:null,n.scheduler.schedule(n),n.notifier.notify(13),n}function A1(r,t){let e=sd(r),n=t.elementInjector||JC();return new pm(e).create(n,t.projectableNodes,t.hostElement,t.environmentInjector)}function r7(r){let t=sd(r);if(!t)return null;let e=new pm(t);return{get selector(){return e.selector},get type(){return e.componentType},get inputs(){return e.inputs},get outputs(){return e.outputs},get ngContentSelectors(){return e.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}var c7=null;function yd(){return c7}function u7(r){c7??=r}var L1=class{};var Xt=new He(""),PN=(()=>{class r{historyGo(e){throw new Error("")}static \u0275fac=function(n){return new(n||r)};static \u0275prov=Fe({token:r,factory:()=>V(Sxe),providedIn:"platform"})}return r})(),d7=new He(""),Sxe=(()=>{class r extends PN{_location;_history;_doc=V(Xt);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return yd().getBaseHref(this._doc)}onPopState(e){let n=yd().getGlobalEventTarget(this._doc,"window");return n.addEventListener("popstate",e,!1),()=>n.removeEventListener("popstate",e)}onHashChange(e){let n=yd().getGlobalEventTarget(this._doc,"window");return n.addEventListener("hashchange",e,!1),()=>n.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,n,i){this._history.pushState(e,n,i)}replaceState(e,n,i){this._history.replaceState(e,n,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}static \u0275fac=function(n){return new(n||r)};static \u0275prov=Fe({token:r,factory:()=>new r,providedIn:"platform"})}return r})();function LN(r,t){if(r.length==0)return t;if(t.length==0)return r;let e=0;return r.endsWith("/")&&e++,t.startsWith("/")&&e++,e==2?r+t.substring(1):e==1?r+t:r+"/"+t}function n7(r){let t=r.match(/#|\?|$/),e=t&&t.index||r.length,n=e-(r[e-1]==="/"?1:0);return r.slice(0,n)+r.slice(e)}function vd(r){return r&&r[0]!=="?"?"?"+r:r}var gc=(()=>{class r{historyGo(e){throw new Error("")}static \u0275fac=function(n){return new(n||r)};static \u0275prov=Fe({token:r,factory:()=>V(BN),providedIn:"root"})}return r})(),f7=new He(""),BN=(()=>{class r extends gc{_platformLocation;_baseHref;_removeListenerFns=[];constructor(e,n){super(),this._platformLocation=e,this._baseHref=n??this._platformLocation.getBaseHrefFromDOM()??V(Xt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return LN(this._baseHref,e)}path(e=!1){let n=this._platformLocation.pathname+vd(this._platformLocation.search),i=this._platformLocation.hash;return i&&e?`${n}${i}`:n}pushState(e,n,i,o){let s=this.prepareExternalUrl(i+vd(o));this._platformLocation.pushState(e,n,s)}replaceState(e,n,i,o){let s=this.prepareExternalUrl(i+vd(o));this._platformLocation.replaceState(e,n,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static \u0275fac=function(n){return new(n||r)(Tt(PN),Tt(f7,8))};static \u0275prov=Fe({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),z1=(()=>{class r extends gc{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(e,n){super(),this._platformLocation=e,n!=null&&(this._baseHref=n)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let n=this._platformLocation.hash??"#";return n.length>0?n.substring(1):n}prepareExternalUrl(e){let n=LN(this._baseHref,e);return n.length>0?"#"+n:n}pushState(e,n,i,o){let s=this.prepareExternalUrl(i+vd(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.pushState(e,n,s)}replaceState(e,n,i,o){let s=this.prepareExternalUrl(i+vd(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(e,n,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static \u0275fac=function(n){return new(n||r)(Tt(PN),Tt(f7,8))};static \u0275prov=Fe({token:r,factory:r.\u0275fac})}return r})(),Df=(()=>{class r{_subject=new Ke;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(e){this._locationStrategy=e;let n=this._locationStrategy.getBaseHref();this._basePath=Mxe(n7(i7(n))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,n=""){return this.path()==this.normalize(e+vd(n))}normalize(e){return r.stripTrailingSlash(Exe(this._basePath,i7(e)))}prepareExternalUrl(e){return e&&e[0]!=="/"&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,n="",i=null){this._locationStrategy.pushState(i,"",e,n),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+vd(n)),i)}replaceState(e,n="",i=null){this._locationStrategy.replaceState(i,"",e,n),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+vd(n)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription??=this.subscribe(n=>{this._notifyUrlChangeListeners(n.url,n.state)}),()=>{let n=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(n,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",n){this._urlChangeListeners.forEach(i=>i(e,n))}subscribe(e,n,i){return this._subject.subscribe({next:e,error:n??void 0,complete:i??void 0})}static normalizeQueryParams=vd;static joinWithSlash=LN;static stripTrailingSlash=n7;static \u0275fac=function(n){return new(n||r)(Tt(gc))};static \u0275prov=Fe({token:r,factory:()=>Dxe(),providedIn:"root"})}return r})();function Dxe(){return new Df(Tt(gc))}function Exe(r,t){if(!r||!t.startsWith(r))return t;let e=t.substring(r.length);return e===""||["/",";","?","#"].includes(e[0])?e:t}function i7(r){return r.replace(/\/index.html$/,"")}function Mxe(r){if(new RegExp("^(https?:)?//").test(r)){let[,e]=r.split(/\/\/[^\/]+/);return e}return r}var la=function(r){return r[r.Format=0]="Format",r[r.Standalone=1]="Standalone",r}(la||{}),Jn=function(r){return r[r.Narrow=0]="Narrow",r[r.Abbreviated=1]="Abbreviated",r[r.Wide=2]="Wide",r[r.Short=3]="Short",r}(Jn||{}),Qa=function(r){return r[r.Short=0]="Short",r[r.Medium=1]="Medium",r[r.Long=2]="Long",r[r.Full=3]="Full",r}(Qa||{}),Sf={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function Axe(r){return kl(r)[Ji.LocaleId]}function Txe(r,t,e){let n=kl(r),i=[n[Ji.DayPeriodsFormat],n[Ji.DayPeriodsStandalone]],o=Nl(i,t);return Nl(o,e)}function Ixe(r,t,e){let n=kl(r),i=[n[Ji.DaysFormat],n[Ji.DaysStandalone]],o=Nl(i,t);return Nl(o,e)}function kxe(r,t,e){let n=kl(r),i=[n[Ji.MonthsFormat],n[Ji.MonthsStandalone]],o=Nl(i,t);return Nl(o,e)}function Nxe(r,t){let n=kl(r)[Ji.Eras];return Nl(n,t)}function T1(r,t){let e=kl(r);return Nl(e[Ji.DateFormat],t)}function I1(r,t){let e=kl(r);return Nl(e[Ji.TimeFormat],t)}function k1(r,t){let n=kl(r)[Ji.DateTimeFormat];return Nl(n,t)}function j1(r,t){let e=kl(r),n=e[Ji.NumberSymbols][t];if(typeof n>"u"){if(t===Sf.CurrencyDecimal)return e[Ji.NumberSymbols][Sf.Decimal];if(t===Sf.CurrencyGroup)return e[Ji.NumberSymbols][Sf.Group]}return n}function h7(r){if(!r[Ji.ExtraData])throw new Error(`Missing extra locale data for the locale "${r[Ji.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Oxe(r){let t=kl(r);return h7(t),(t[Ji.ExtraData][2]||[]).map(n=>typeof n=="string"?EN(n):[EN(n[0]),EN(n[1])])}function Fxe(r,t,e){let n=kl(r);h7(n);let i=[n[Ji.ExtraData][0],n[Ji.ExtraData][1]],o=Nl(i,t)||[];return Nl(o,e)||[]}function Nl(r,t){for(let e=t;e>-1;e--)if(typeof r[e]<"u")return r[e];throw new Error("Locale data API: locale data undefined")}function EN(r){let[t,e]=r.split(":");return{hours:+t,minutes:+e}}var Rxe=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,N1={},Pxe=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,bd=function(r){return r[r.Short=0]="Short",r[r.ShortGMT=1]="ShortGMT",r[r.Long=2]="Long",r[r.Extended=3]="Extended",r}(bd||{}),Tn=function(r){return r[r.FullYear=0]="FullYear",r[r.Month=1]="Month",r[r.Date=2]="Date",r[r.Hours=3]="Hours",r[r.Minutes=4]="Minutes",r[r.Seconds=5]="Seconds",r[r.FractionalSeconds=6]="FractionalSeconds",r[r.Day=7]="Day",r}(Tn||{}),An=function(r){return r[r.DayPeriods=0]="DayPeriods",r[r.Days=1]="Days",r[r.Months=2]="Months",r[r.Eras=3]="Eras",r}(An||{});function Lxe(r,t,e,n){let i=$xe(r);t=gd(e,t)||t;let s=[],a;for(;t;)if(a=Pxe.exec(t),a){s=s.concat(a.slice(1));let d=s.pop();if(!d)break;t=d}else{s.push(t);break}let l=i.getTimezoneOffset();n&&(l=p7(n,l),i=Wxe(i,n,!0));let c="";return s.forEach(d=>{let f=Uxe(d);c+=f?f(i,e,l):d==="''"?"'":d.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}function B1(r,t,e){let n=new Date(0);return n.setFullYear(r,t,e),n.setHours(0,0,0),n}function gd(r,t){let e=Axe(r);if(N1[e]??={},N1[e][t])return N1[e][t];let n="";switch(t){case"shortDate":n=T1(r,Qa.Short);break;case"mediumDate":n=T1(r,Qa.Medium);break;case"longDate":n=T1(r,Qa.Long);break;case"fullDate":n=T1(r,Qa.Full);break;case"shortTime":n=I1(r,Qa.Short);break;case"mediumTime":n=I1(r,Qa.Medium);break;case"longTime":n=I1(r,Qa.Long);break;case"fullTime":n=I1(r,Qa.Full);break;case"short":let i=gd(r,"shortTime"),o=gd(r,"shortDate");n=O1(k1(r,Qa.Short),[i,o]);break;case"medium":let s=gd(r,"mediumTime"),a=gd(r,"mediumDate");n=O1(k1(r,Qa.Medium),[s,a]);break;case"long":let l=gd(r,"longTime"),c=gd(r,"longDate");n=O1(k1(r,Qa.Long),[l,c]);break;case"full":let d=gd(r,"fullTime"),f=gd(r,"fullDate");n=O1(k1(r,Qa.Full),[d,f]);break}return n&&(N1[e][t]=n),n}function O1(r,t){return t&&(r=r.replace(/\{([^}]+)}/g,function(e,n){return t!=null&&n in t?t[n]:e})),r}function pc(r,t,e="-",n,i){let o="";(r<0||i&&r<=0)&&(i?r=-r+1:(r=-r,o=e));let s=String(r);for(;s.length<t;)s="0"+s;return n&&(s=s.slice(s.length-t)),o+s}function Bxe(r,t){return pc(r,3).substring(0,t)}function fo(r,t,e=0,n=!1,i=!1){return function(o,s){let a=Vxe(r,o);if((e>0||a>-e)&&(a+=e),r===Tn.Hours)a===0&&e===-12&&(a=12);else if(r===Tn.FractionalSeconds)return Bxe(a,t);let l=j1(s,Sf.MinusSign);return pc(a,t,l,n,i)}}function Vxe(r,t){switch(r){case Tn.FullYear:return t.getFullYear();case Tn.Month:return t.getMonth();case Tn.Date:return t.getDate();case Tn.Hours:return t.getHours();case Tn.Minutes:return t.getMinutes();case Tn.Seconds:return t.getSeconds();case Tn.FractionalSeconds:return t.getMilliseconds();case Tn.Day:return t.getDay();default:throw new Error(`Unknown DateType value "${r}".`)}}function li(r,t,e=la.Format,n=!1){return function(i,o){return zxe(i,o,r,t,e,n)}}function zxe(r,t,e,n,i,o){switch(e){case An.Months:return kxe(t,i,n)[r.getMonth()];case An.Days:return Ixe(t,i,n)[r.getDay()];case An.DayPeriods:let s=r.getHours(),a=r.getMinutes();if(o){let c=Oxe(t),d=Fxe(t,i,n),f=c.findIndex(m=>{if(Array.isArray(m)){let[p,b]=m,y=s>=p.hours&&a>=p.minutes,C=s<b.hours||s===b.hours&&a<b.minutes;if(p.hours<b.hours){if(y&&C)return!0}else if(y||C)return!0}else if(m.hours===s&&m.minutes===a)return!0;return!1});if(f!==-1)return d[f]}return Txe(t,i,n)[s<12?0:1];case An.Eras:return Nxe(t,n)[r.getFullYear()<=0?0:1];default:let l=e;throw new Error(`unexpected translation type ${l}`)}}function F1(r){return function(t,e,n){let i=-1*n,o=j1(e,Sf.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(r){case bd.Short:return(i>=0?"+":"")+pc(s,2,o)+pc(Math.abs(i%60),2,o);case bd.ShortGMT:return"GMT"+(i>=0?"+":"")+pc(s,1,o);case bd.Long:return"GMT"+(i>=0?"+":"")+pc(s,2,o)+":"+pc(Math.abs(i%60),2,o);case bd.Extended:return n===0?"Z":(i>=0?"+":"")+pc(s,2,o)+":"+pc(Math.abs(i%60),2,o);default:throw new Error(`Unknown zone width "${r}"`)}}}var jxe=0,P1=4;function Hxe(r){let t=B1(r,jxe,1).getDay();return B1(r,0,1+(t<=P1?P1:P1+7)-t)}function m7(r){let t=r.getDay(),e=t===0?-3:P1-t;return B1(r.getFullYear(),r.getMonth(),r.getDate()+e)}function MN(r,t=!1){return function(e,n){let i;if(t){let o=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,s=e.getDate();i=1+Math.floor((s+o)/7)}else{let o=m7(e),s=Hxe(o.getFullYear()),a=o.getTime()-s.getTime();i=1+Math.round(a/6048e5)}return pc(i,r,j1(n,Sf.MinusSign))}}function R1(r,t=!1){return function(e,n){let o=m7(e).getFullYear();return pc(o,r,j1(n,Sf.MinusSign),t)}}var AN={};function Uxe(r){if(AN[r])return AN[r];let t;switch(r){case"G":case"GG":case"GGG":t=li(An.Eras,Jn.Abbreviated);break;case"GGGG":t=li(An.Eras,Jn.Wide);break;case"GGGGG":t=li(An.Eras,Jn.Narrow);break;case"y":t=fo(Tn.FullYear,1,0,!1,!0);break;case"yy":t=fo(Tn.FullYear,2,0,!0,!0);break;case"yyy":t=fo(Tn.FullYear,3,0,!1,!0);break;case"yyyy":t=fo(Tn.FullYear,4,0,!1,!0);break;case"Y":t=R1(1);break;case"YY":t=R1(2,!0);break;case"YYY":t=R1(3);break;case"YYYY":t=R1(4);break;case"M":case"L":t=fo(Tn.Month,1,1);break;case"MM":case"LL":t=fo(Tn.Month,2,1);break;case"MMM":t=li(An.Months,Jn.Abbreviated);break;case"MMMM":t=li(An.Months,Jn.Wide);break;case"MMMMM":t=li(An.Months,Jn.Narrow);break;case"LLL":t=li(An.Months,Jn.Abbreviated,la.Standalone);break;case"LLLL":t=li(An.Months,Jn.Wide,la.Standalone);break;case"LLLLL":t=li(An.Months,Jn.Narrow,la.Standalone);break;case"w":t=MN(1);break;case"ww":t=MN(2);break;case"W":t=MN(1,!0);break;case"d":t=fo(Tn.Date,1);break;case"dd":t=fo(Tn.Date,2);break;case"c":case"cc":t=fo(Tn.Day,1);break;case"ccc":t=li(An.Days,Jn.Abbreviated,la.Standalone);break;case"cccc":t=li(An.Days,Jn.Wide,la.Standalone);break;case"ccccc":t=li(An.Days,Jn.Narrow,la.Standalone);break;case"cccccc":t=li(An.Days,Jn.Short,la.Standalone);break;case"E":case"EE":case"EEE":t=li(An.Days,Jn.Abbreviated);break;case"EEEE":t=li(An.Days,Jn.Wide);break;case"EEEEE":t=li(An.Days,Jn.Narrow);break;case"EEEEEE":t=li(An.Days,Jn.Short);break;case"a":case"aa":case"aaa":t=li(An.DayPeriods,Jn.Abbreviated);break;case"aaaa":t=li(An.DayPeriods,Jn.Wide);break;case"aaaaa":t=li(An.DayPeriods,Jn.Narrow);break;case"b":case"bb":case"bbb":t=li(An.DayPeriods,Jn.Abbreviated,la.Standalone,!0);break;case"bbbb":t=li(An.DayPeriods,Jn.Wide,la.Standalone,!0);break;case"bbbbb":t=li(An.DayPeriods,Jn.Narrow,la.Standalone,!0);break;case"B":case"BB":case"BBB":t=li(An.DayPeriods,Jn.Abbreviated,la.Format,!0);break;case"BBBB":t=li(An.DayPeriods,Jn.Wide,la.Format,!0);break;case"BBBBB":t=li(An.DayPeriods,Jn.Narrow,la.Format,!0);break;case"h":t=fo(Tn.Hours,1,-12);break;case"hh":t=fo(Tn.Hours,2,-12);break;case"H":t=fo(Tn.Hours,1);break;case"HH":t=fo(Tn.Hours,2);break;case"m":t=fo(Tn.Minutes,1);break;case"mm":t=fo(Tn.Minutes,2);break;case"s":t=fo(Tn.Seconds,1);break;case"ss":t=fo(Tn.Seconds,2);break;case"S":t=fo(Tn.FractionalSeconds,1);break;case"SS":t=fo(Tn.FractionalSeconds,2);break;case"SSS":t=fo(Tn.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=F1(bd.Short);break;case"ZZZZZ":t=F1(bd.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=F1(bd.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=F1(bd.Long);break;default:return null}return AN[r]=t,t}function p7(r,t){r=r.replace(/:/g,"");let e=Date.parse("Jan 01, 1970 00:00:00 "+r)/6e4;return isNaN(e)?t:e}function qxe(r,t){return r=new Date(r.getTime()),r.setMinutes(r.getMinutes()+t),r}function Wxe(r,t,e){let n=e?-1:1,i=r.getTimezoneOffset(),o=p7(t,i);return qxe(r,n*(o-i))}function $xe(r){if(o7(r))return r;if(typeof r=="number"&&!isNaN(r))return new Date(r);if(typeof r=="string"){if(r=r.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(r)){let[i,o=1,s=1]=r.split("-").map(a=>+a);return B1(i,o-1,s)}let e=parseFloat(r);if(!isNaN(r-e))return new Date(e);let n;if(n=r.match(Rxe))return Gxe(n)}let t=new Date(r);if(!o7(t))throw new Error(`Unable to convert "${r}" into a date`);return t}function Gxe(r){let t=new Date(0),e=0,n=0,i=r[8]?t.setUTCFullYear:t.setFullYear,o=r[8]?t.setUTCHours:t.setHours;r[9]&&(e=Number(r[9]+r[10]),n=Number(r[9]+r[11])),i.call(t,Number(r[1]),Number(r[2])-1,Number(r[3]));let s=Number(r[4]||0)-e,a=Number(r[5]||0)-n,l=Number(r[6]||0),c=Math.floor(parseFloat("0."+(r[7]||0))*1e3);return o.call(t,s,a,l,c),t}function o7(r){return r instanceof Date&&!isNaN(r.valueOf())}function H1(r,t){t=encodeURIComponent(t);for(let e of r.split(";")){let n=e.indexOf("="),[i,o]=n==-1?[e,""]:[e.slice(0,n),e.slice(n+1)];if(i.trim()===t)return decodeURIComponent(o)}return null}var TN=/\s+/,s7=[],ho=(()=>{class r{_ngEl;_renderer;initialClasses=s7;rawClass;stateMap=new Map;constructor(e,n){this._ngEl=e,this._renderer=n}set klass(e){this.initialClasses=e!=null?e.trim().split(TN):s7}set ngClass(e){this.rawClass=typeof e=="string"?e.trim().split(TN):e}ngDoCheck(){for(let n of this.initialClasses)this._updateState(n,!0);let e=this.rawClass;if(Array.isArray(e)||e instanceof Set)for(let n of e)this._updateState(n,!0);else if(e!=null)for(let n of Object.keys(e))this._updateState(n,!!e[n]);this._applyStateDiff()}_updateState(e,n){let i=this.stateMap.get(e);i!==void 0?(i.enabled!==n&&(i.changed=!0,i.enabled=n),i.touched=!0):this.stateMap.set(e,{enabled:n,changed:!0,touched:!0})}_applyStateDiff(){for(let e of this.stateMap){let n=e[0],i=e[1];i.changed?(this._toggleClass(n,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(n,!1),this.stateMap.delete(n)),i.touched=!1}}_toggleClass(e,n){e=e.trim(),e.length>0&&e.split(TN).forEach(i=>{n?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static \u0275fac=function(n){return new(n||r)(ze(ut),ze(gi))};static \u0275dir=ft({type:r,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return r})();var IN=class{$implicit;ngForOf;index;count;constructor(t,e,n,i){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},g7=(()=>{class r{_viewContainer;_template;_differs;set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(e,n,i){this._viewContainer=e,this._template=n,this._differs=i}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let e=this._ngForOf;if(!this._differ&&e)if(0)try{}catch{}else this._differ=this._differs.find(e).create(this.ngForTrackBy)}if(this._differ){let e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){let n=this._viewContainer;e.forEachOperation((i,o,s)=>{if(i.previousIndex==null)n.createEmbeddedView(this._template,new IN(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)n.remove(o===null?void 0:o);else if(o!==null){let a=n.get(o);n.move(a,s),a7(a,i)}});for(let i=0,o=n.length;i<o;i++){let a=n.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}e.forEachIdentityChange(i=>{let o=n.get(i.currentIndex);a7(o,i)})}static ngTemplateContextGuard(e,n){return!0}static \u0275fac=function(n){return new(n||r)(ze(Zn),ze(Ui),ze(M1))};static \u0275dir=ft({type:r,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return r})();function a7(r,t){r.context.$implicit=t.item}var v7=(()=>{class r{_viewContainer;_context=new kN;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(e,n){this._viewContainer=e,this._thenTemplateRef=n}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){l7("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){l7("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(e,n){return!0}static \u0275fac=function(n){return new(n||r)(ze(Zn),ze(Ui))};static \u0275dir=ft({type:r,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return r})(),kN=class{$implicit=null;ngIf=null};function l7(r,t){if(!!!(!t||t.createEmbeddedView))throw new Error(`${r} must be a TemplateRef, but received '${ia(t)}'.`)}var Ng=(()=>{class r{_ngEl;_differs;_renderer;_ngStyle=null;_differ=null;constructor(e,n,i){this._ngEl=e,this._differs=n,this._renderer=i}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){let e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,n){let[i,o]=e.split("."),s=i.indexOf("-")===-1?void 0:Qc.DashCase;n!=null?this._renderer.setStyle(this._ngEl.nativeElement,i,o?`${n}${o}`:n,s):this._renderer.removeStyle(this._ngEl.nativeElement,i,s)}_applyChanges(e){e.forEachRemovedItem(n=>this._setStyle(n.key,null)),e.forEachAddedItem(n=>this._setStyle(n.key,n.currentValue)),e.forEachChangedItem(n=>this._setStyle(n.key,n.currentValue))}static \u0275fac=function(n){return new(n||r)(ze(ut),ze($b),ze(gi))};static \u0275dir=ft({type:r,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}})}return r})(),nu=(()=>{class r{_viewContainerRef;_viewRef=null;ngTemplateOutletContext=null;ngTemplateOutlet=null;ngTemplateOutletInjector=null;constructor(e){this._viewContainerRef=e}ngOnChanges(e){if(this._shouldRecreateView(e)){let n=this._viewContainerRef;if(this._viewRef&&n.remove(n.indexOf(this._viewRef)),!this.ngTemplateOutlet){this._viewRef=null;return}let i=this._createContextForwardProxy();this._viewRef=n.createEmbeddedView(this.ngTemplateOutlet,i,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(e){return!!e.ngTemplateOutlet||!!e.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(e,n,i)=>this.ngTemplateOutletContext?Reflect.set(this.ngTemplateOutletContext,n,i):!1,get:(e,n,i)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,n,i)}})}static \u0275fac=function(n){return new(n||r)(ze(Zn))};static \u0275dir=ft({type:r,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},features:[cr]})}return r})();function b7(r,t){return new it(2100,!1)}var NN=class{createSubscription(t,e){return aa(()=>t.subscribe({next:e,error:n=>{throw n}}))}dispose(t){aa(()=>t.unsubscribe())}},ON=class{createSubscription(t,e){return t.then(e,n=>{throw n})}dispose(t){}},Yxe=new ON,Kxe=new NN,EGe=(()=>{class r{_ref;_latestValue=null;markForCheckOnValueUpdate=!0;_subscription=null;_obj=null;_strategy=null;constructor(e){this._ref=e}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(e){if(!this._obj){if(e)try{this.markForCheckOnValueUpdate=!1,this._subscribe(e)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,n=>this._updateLatestValue(e,n))}_selectStrategy(e){if(xf(e))return Yxe;if(vN(e))return Kxe;throw b7(r,e)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,n){e===this._obj&&(this._latestValue=n,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static \u0275fac=function(n){return new(n||r)(ze(qt,16))};static \u0275pipe=gN({name:"async",type:r,pure:!1})}return r})();var Xxe="mediumDate",Zxe=new He(""),Qxe=new He(""),U1=(()=>{class r{locale;defaultTimezone;defaultOptions;constructor(e,n,i){this.locale=e,this.defaultTimezone=n,this.defaultOptions=i}transform(e,n,i,o){if(e==null||e===""||e!==e)return null;try{let s=n??this.defaultOptions?.dateFormat??Xxe,a=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return Lxe(e,s,o||this.locale,a)}catch(s){throw b7(r,s.message)}}static \u0275fac=function(n){return new(n||r)(ze(Wb,16),ze(Zxe,24),ze(Qxe,24))};static \u0275pipe=gN({name:"date",type:r,pure:!0})}return r})();var eo=(()=>{class r{static \u0275fac=function(n){return new(n||r)};static \u0275mod=Nt({type:r});static \u0275inj=kt({})}return r})(),VN="browser",Jxe="server";function iu(r){return r===VN}function q1(r){return r===Jxe}var y7=(()=>{class r{static \u0275prov=Fe({token:r,providedIn:"root",factory:()=>iu(V(jo))?new FN(V(Xt),window):new RN})}return r})(),FN=class{document;window;offset=()=>[0,0];constructor(t,e){this.document=t,this.window=e}setOffset(t){Array.isArray(t)?this.offset=()=>t:this.offset=t}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(t){this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){let e=ewe(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){this.window.history.scrollRestoration=t}scrollToElement(t){let e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,i=e.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(n-o[0],i-o[1])}};function ewe(r,t){let e=r.getElementById(t)||r.getElementsByName(t)[0];if(e)return e;if(typeof r.createTreeWalker=="function"&&r.body&&typeof r.body.attachShadow=="function"){let n=r.createTreeWalker(r.body,NodeFilter.SHOW_ELEMENT),i=n.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(t)||o.querySelector(`[name="${t}"]`);if(s)return s}i=n.nextNode()}}return null}var RN=class{setOffset(t){}getScrollPosition(){return[0,0]}scrollToPosition(t){}scrollToAnchor(t){}setHistoryScrollRestoration(t){}},kg=class{};var Yb=class{},Kb=class{},_d=class r{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(t){t?typeof t=="string"?this.lazyInit=()=>{this.headers=new Map,t.split(`
`).forEach(e=>{let n=e.indexOf(":");if(n>0){let i=e.slice(0,n),o=e.slice(n+1).trim();this.addHeaderEntry(i,o)}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((e,n)=>{this.addHeaderEntry(n,e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([e,n])=>{this.setHeaderEntries(e,n)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();let e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof r?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){let e=new r;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof r?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){let e=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if(typeof n=="string"&&(n=[n]),n.length===0)return;this.maybeSetNormalizedName(t.name,e);let i=(t.op==="a"?this.headers.get(e):void 0)||[];i.push(...n),this.headers.set(e,i);break;case"d":let o=t.value;if(!o)this.headers.delete(e),this.normalizedNames.delete(e);else{let s=this.headers.get(e);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,s)}break}}addHeaderEntry(t,e){let n=t.toLowerCase();this.maybeSetNormalizedName(t,n),this.headers.has(n)?this.headers.get(n).push(e):this.headers.set(n,[e])}setHeaderEntries(t,e){let n=(Array.isArray(e)?e:[e]).map(o=>o.toString()),i=t.toLowerCase();this.headers.set(i,n),this.maybeSetNormalizedName(t,i)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}};var jN=class{encodeKey(t){return _7(t)}encodeValue(t){return _7(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}};function twe(r,t){let e=new Map;return r.length>0&&r.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[t.decodeKey(i),""]:[t.decodeKey(i.slice(0,o)),t.decodeValue(i.slice(o+1))],l=e.get(s)||[];l.push(a),e.set(s,l)}),e}var rwe=/%(\d[a-f0-9])/gi,nwe={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function _7(r){return encodeURIComponent(r).replace(rwe,(t,e)=>nwe[e]??t)}function W1(r){return`${r}`}var Mf=class r{map;encoder;updates=null;cloneFrom=null;constructor(t={}){if(this.encoder=t.encoder||new jN,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=twe(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{let n=t.fromObject[e],i=Array.isArray(n)?n.map(W1):[W1(n)];this.map.set(e,i)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();let e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){let e=[];return Object.keys(t).forEach(n=>{let i=t[n];Array.isArray(i)?i.forEach(o=>{e.push({param:n,value:o,op:"a"})}):e.push({param:n,value:i,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{let e=this.encoder.encodeKey(t);return this.map.get(t).map(n=>e+"="+this.encoder.encodeValue(n)).join("&")}).filter(t=>t!=="").join("&")}clone(t){let e=new r({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":let e=(t.op==="a"?this.map.get(t.param):void 0)||[];e.push(W1(t.value)),this.map.set(t.param,e);break;case"d":if(t.value!==void 0){let n=this.map.get(t.param)||[],i=n.indexOf(W1(t.value));i!==-1&&n.splice(i,1),n.length>0?this.map.set(t.param,n):this.map.delete(t.param)}else{this.map.delete(t.param);break}}}),this.cloneFrom=this.updates=null)}};var HN=class{map=new Map;set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}};function iwe(r){switch(r){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function x7(r){return typeof ArrayBuffer<"u"&&r instanceof ArrayBuffer}function w7(r){return typeof Blob<"u"&&r instanceof Blob}function C7(r){return typeof FormData<"u"&&r instanceof FormData}function owe(r){return typeof URLSearchParams<"u"&&r instanceof URLSearchParams}var Gb=class r{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;responseType="json";method;params;urlWithParams;transferCache;constructor(t,e,n,i){this.url=e,this.method=t.toUpperCase();let o;if(iwe(this.method)||i?(this.body=n!==void 0?n:null,o=i):o=n,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new _d,this.context??=new HN,!this.params)this.params=new Mf,this.urlWithParams=e;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=e;else{let a=e.indexOf("?"),l=a===-1?"?":a<e.length-1?"&":"";this.urlWithParams=e+l+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||x7(this.body)||w7(this.body)||C7(this.body)||owe(this.body)?this.body:this.body instanceof Mf?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||C7(this.body)?null:w7(this.body)?this.body.type||null:x7(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof Mf?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(t={}){let e=t.method||this.method,n=t.url||this.url,i=t.responseType||this.responseType,o=t.transferCache??this.transferCache,s=t.body!==void 0?t.body:this.body,a=t.withCredentials??this.withCredentials,l=t.reportProgress??this.reportProgress,c=t.headers||this.headers,d=t.params||this.params,f=t.context??this.context;return t.setHeaders!==void 0&&(c=Object.keys(t.setHeaders).reduce((m,p)=>m.set(p,t.setHeaders[p]),c)),t.setParams&&(d=Object.keys(t.setParams).reduce((m,p)=>m.set(p,t.setParams[p]),d)),new r(e,n,s,{params:d,headers:c,context:f,reportProgress:l,responseType:i,withCredentials:a,transferCache:o})}},Af=function(r){return r[r.Sent=0]="Sent",r[r.UploadProgress=1]="UploadProgress",r[r.ResponseHeader=2]="ResponseHeader",r[r.DownloadProgress=3]="DownloadProgress",r[r.Response=4]="Response",r[r.User=5]="User",r}(Af||{}),Xb=class{headers;status;statusText;url;ok;type;constructor(t,e=200,n="OK"){this.headers=t.headers||new _d,this.status=t.status!==void 0?t.status:e,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}},$1=class r extends Xb{constructor(t={}){super(t)}type=Af.ResponseHeader;clone(t={}){return new r({headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},Zb=class r extends Xb{body;constructor(t={}){super(t),this.body=t.body!==void 0?t.body:null}type=Af.Response;clone(t={}){return new r({body:t.body!==void 0?t.body:this.body,headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},Ef=class extends Xb{name="HttpErrorResponse";message;error;ok=!1;constructor(t){super(t,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${t.url||"(unknown url)"}`:this.message=`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}},M7=200,swe=204;function zN(r,t){return{body:t,headers:r.headers,context:r.context,observe:r.observe,params:r.params,reportProgress:r.reportProgress,responseType:r.responseType,withCredentials:r.withCredentials,transferCache:r.transferCache}}var bc=(()=>{class r{handler;constructor(e){this.handler=e}request(e,n,i={}){let o;if(e instanceof Gb)o=e;else{let l;i.headers instanceof _d?l=i.headers:l=new _d(i.headers);let c;i.params&&(i.params instanceof Mf?c=i.params:c=new Mf({fromObject:i.params})),o=new Gb(e,n,i.body!==void 0?i.body:null,{headers:l,context:i.context,params:c,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}let s=tt(o).pipe(lc(l=>this.handler.handle(l)));if(e instanceof Gb||i.observe==="events")return s;let a=s.pipe(sr(l=>l instanceof Zb));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(at(l=>{if(l.body!==null&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return a.pipe(at(l=>{if(l.body!==null&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return a.pipe(at(l=>{if(l.body!==null&&typeof l.body!="string")throw new Error("Response is not a string.");return l.body}));case"json":default:return a.pipe(at(l=>l.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(e,n={}){return this.request("DELETE",e,n)}get(e,n={}){return this.request("GET",e,n)}head(e,n={}){return this.request("HEAD",e,n)}jsonp(e,n){return this.request("JSONP",e,{params:new Mf().append(n,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,n={}){return this.request("OPTIONS",e,n)}patch(e,n,i={}){return this.request("PATCH",e,zN(i,n))}post(e,n,i={}){return this.request("POST",e,zN(i,n))}put(e,n,i={}){return this.request("PUT",e,zN(i,n))}static \u0275fac=function(n){return new(n||r)(Tt(Yb))};static \u0275prov=Fe({token:r,factory:r.\u0275fac})}return r})(),awe=/^\)\]\}',?\n/,lwe="X-Request-URL";function S7(r){if(r.url)return r.url;let t=lwe.toLocaleLowerCase();return r.headers.get(t)}var UN=(()=>{class r{fetchImpl=V(qN,{optional:!0})?.fetch??((...e)=>globalThis.fetch(...e));ngZone=V(xt);handle(e){return new Jt(n=>{let i=new AbortController;return this.doRequest(e,i.signal,n).then(WN,o=>n.error(new Ef({error:o}))),()=>i.abort()})}doRequest(e,n,i){return Zu(this,null,function*(){let o=this.createRequestInit(e),s;try{let p=this.ngZone.runOutsideAngular(()=>this.fetchImpl(e.urlWithParams,Ue({signal:n},o)));cwe(p),i.next({type:Af.Sent}),s=yield p}catch(p){i.error(new Ef({error:p,status:p.status??0,statusText:p.statusText,url:e.urlWithParams,headers:p.headers}));return}let a=new _d(s.headers),l=s.statusText,c=S7(s)??e.urlWithParams,d=s.status,f=null;if(e.reportProgress&&i.next(new $1({headers:a,status:d,statusText:l,url:c})),s.body){let p=s.headers.get("content-length"),b=[],y=s.body.getReader(),C=0,S,A,x=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>Zu(this,null,function*(){for(;;){let{done:E,value:w}=yield y.read();if(E)break;if(b.push(w),C+=w.length,e.reportProgress){A=e.responseType==="text"?(A??"")+(S??=new TextDecoder).decode(w,{stream:!0}):void 0;let T=()=>i.next({type:Af.DownloadProgress,total:p?+p:void 0,loaded:C,partialText:A});x?x.run(T):T()}}}));let M=this.concatChunks(b,C);try{let E=s.headers.get("Content-Type")??"";f=this.parseBody(e,M,E)}catch(E){i.error(new Ef({error:E,headers:new _d(s.headers),status:s.status,statusText:s.statusText,url:S7(s)??e.urlWithParams}));return}}d===0&&(d=f?M7:0),d>=200&&d<300?(i.next(new Zb({body:f,headers:a,status:d,statusText:l,url:c})),i.complete()):i.error(new Ef({error:f,headers:a,status:d,statusText:l,url:c}))})}parseBody(e,n,i){switch(e.responseType){case"json":let o=new TextDecoder().decode(n).replace(awe,"");return o===""?null:JSON.parse(o);case"text":return new TextDecoder().decode(n);case"blob":return new Blob([n],{type:i});case"arraybuffer":return n.buffer}}createRequestInit(e){let n={},i=e.withCredentials?"include":void 0;if(e.headers.forEach((o,s)=>n[o]=s.join(",")),e.headers.has("Accept")||(n.Accept="application/json, text/plain, */*"),!e.headers.has("Content-Type")){let o=e.detectContentTypeHeader();o!==null&&(n["Content-Type"]=o)}return{body:e.serializeBody(),method:e.method,headers:n,credentials:i}}concatChunks(e,n){let i=new Uint8Array(n),o=0;for(let s of e)i.set(s,o),o+=s.length;return i}static \u0275fac=function(n){return new(n||r)};static \u0275prov=Fe({token:r,factory:r.\u0275fac})}return r})(),qN=class{};function WN(){}function cwe(r){r.then(WN,WN)}function uwe(r,t){return t(r)}function dwe(r,t,e){return(n,i)=>Ma(e,()=>t(n,o=>r(o,i)))}var A7=new He(""),T7=new He(""),fwe=new He(""),hwe=new He("",{providedIn:"root",factory:()=>!0});var D7=(()=>{class r extends Yb{backend;injector;chain=null;pendingTasks=V(hd);contributeToStability=V(hwe);constructor(e,n){super(),this.backend=e,this.injector=n}handle(e){if(this.chain===null){let n=Array.from(new Set([...this.injector.get(T7),...this.injector.get(fwe,[])]));this.chain=n.reduceRight((i,o)=>dwe(i,o,this.injector),uwe)}if(this.contributeToStability){let n=this.pendingTasks.add();return this.chain(e,i=>this.backend.handle(i)).pipe(Sa(()=>this.pendingTasks.remove(n)))}else return this.chain(e,n=>this.backend.handle(n))}static \u0275fac=function(n){return new(n||r)(Tt(Kb),Tt(Eo))};static \u0275prov=Fe({token:r,factory:r.\u0275fac})}return r})();var mwe=/^\)\]\}',?\n/;function pwe(r){return"responseURL"in r&&r.responseURL?r.responseURL:/^X-Request-URL:/m.test(r.getAllResponseHeaders())?r.getResponseHeader("X-Request-URL"):null}var E7=(()=>{class r{xhrFactory;constructor(e){this.xhrFactory=e}handle(e){if(e.method==="JSONP")throw new it(-2800,!1);let n=this.xhrFactory;return(n.\u0275loadImpl?On(n.\u0275loadImpl()):tt(null)).pipe(Wr(()=>new Jt(o=>{let s=n.build();if(s.open(e.method,e.urlWithParams),e.withCredentials&&(s.withCredentials=!0),e.headers.forEach((y,C)=>s.setRequestHeader(y,C.join(","))),e.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){let y=e.detectContentTypeHeader();y!==null&&s.setRequestHeader("Content-Type",y)}if(e.responseType){let y=e.responseType.toLowerCase();s.responseType=y!=="json"?y:"text"}let a=e.serializeBody(),l=null,c=()=>{if(l!==null)return l;let y=s.statusText||"OK",C=new _d(s.getAllResponseHeaders()),S=pwe(s)||e.url;return l=new $1({headers:C,status:s.status,statusText:y,url:S}),l},d=()=>{let{headers:y,status:C,statusText:S,url:A}=c(),x=null;C!==swe&&(x=typeof s.response>"u"?s.responseText:s.response),C===0&&(C=x?M7:0);let M=C>=200&&C<300;if(e.responseType==="json"&&typeof x=="string"){let E=x;x=x.replace(mwe,"");try{x=x!==""?JSON.parse(x):null}catch(w){x=E,M&&(M=!1,x={error:w,text:x})}}M?(o.next(new Zb({body:x,headers:y,status:C,statusText:S,url:A||void 0})),o.complete()):o.error(new Ef({error:x,headers:y,status:C,statusText:S,url:A||void 0}))},f=y=>{let{url:C}=c(),S=new Ef({error:y,status:s.status||0,statusText:s.statusText||"Unknown Error",url:C||void 0});o.error(S)},m=!1,p=y=>{m||(o.next(c()),m=!0);let C={type:Af.DownloadProgress,loaded:y.loaded};y.lengthComputable&&(C.total=y.total),e.responseType==="text"&&s.responseText&&(C.partialText=s.responseText),o.next(C)},b=y=>{let C={type:Af.UploadProgress,loaded:y.loaded};y.lengthComputable&&(C.total=y.total),o.next(C)};return s.addEventListener("load",d),s.addEventListener("error",f),s.addEventListener("timeout",f),s.addEventListener("abort",f),e.reportProgress&&(s.addEventListener("progress",p),a!==null&&s.upload&&s.upload.addEventListener("progress",b)),s.send(a),o.next({type:Af.Sent}),()=>{s.removeEventListener("error",f),s.removeEventListener("abort",f),s.removeEventListener("load",d),s.removeEventListener("timeout",f),e.reportProgress&&(s.removeEventListener("progress",p),a!==null&&s.upload&&s.upload.removeEventListener("progress",b)),s.readyState!==s.DONE&&s.abort()}})))}static \u0275fac=function(n){return new(n||r)(Tt(kg))};static \u0275prov=Fe({token:r,factory:r.\u0275fac})}return r})(),I7=new He(""),gwe="XSRF-TOKEN",vwe=new He("",{providedIn:"root",factory:()=>gwe}),bwe="X-XSRF-TOKEN",ywe=new He("",{providedIn:"root",factory:()=>bwe}),G1=class{},_we=(()=>{class r{doc;platform;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(e,n,i){this.doc=e,this.platform=n,this.cookieName=i}getToken(){if(this.platform==="server")return null;let e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=H1(e,this.cookieName),this.lastCookieString=e),this.lastToken}static \u0275fac=function(n){return new(n||r)(Tt(Xt),Tt(jo),Tt(vwe))};static \u0275prov=Fe({token:r,factory:r.\u0275fac})}return r})();function xwe(r,t){let e=r.url.toLowerCase();if(!V(I7)||r.method==="GET"||r.method==="HEAD"||e.startsWith("http://")||e.startsWith("https://"))return t(r);let n=V(G1).getToken(),i=V(ywe);return n!=null&&!r.headers.has(i)&&(r=r.clone({headers:r.headers.set(i,n)})),t(r)}var k7=function(r){return r[r.Interceptors=0]="Interceptors",r[r.LegacyInterceptors=1]="LegacyInterceptors",r[r.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",r[r.NoXsrfProtection=3]="NoXsrfProtection",r[r.JsonpSupport=4]="JsonpSupport",r[r.RequestsMadeViaParent=5]="RequestsMadeViaParent",r[r.Fetch=6]="Fetch",r}(k7||{});function wwe(r,t){return{\u0275kind:r,\u0275providers:t}}function N7(...r){let t=[bc,E7,D7,{provide:Yb,useExisting:D7},{provide:Kb,useFactory:()=>V(UN,{optional:!0})??V(E7)},{provide:T7,useValue:xwe,multi:!0},{provide:I7,useValue:!0},{provide:G1,useClass:_we}];for(let e of r)t.push(...e.\u0275providers);return Jc(t)}function O7(){return wwe(k7.Fetch,[UN,{provide:Kb,useExisting:UN}])}var YN=class extends L1{supportsDOMEvents=!0},KN=class r extends YN{static makeCurrent(){u7(new r)}onAndCancel(t,e,n){return t.addEventListener(e,n),()=>{t.removeEventListener(e,n)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.remove()}createElement(t,e){return e=e||this.getDefaultDocument(),e.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return e==="window"?window:e==="document"?t:e==="body"?t.body:null}getBaseHref(t){let e=Cwe();return e==null?null:Swe(e)}resetBaseElement(){Qb=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return H1(document.cookie,t)}},Qb=null;function Cwe(){return Qb=Qb||document.querySelector("base"),Qb?Qb.getAttribute("href"):null}function Swe(r){return new URL(r,document.baseURI).pathname}var Dwe=(()=>{class r{build(){return new XMLHttpRequest}static \u0275fac=function(n){return new(n||r)};static \u0275prov=Fe({token:r,factory:r.\u0275fac})}return r})(),XN=new He(""),B7=(()=>{class r{_zone;_plugins;_eventNameToPlugin=new Map;constructor(e,n){this._zone=n,e.forEach(i=>{i.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,n,i){return this._findPluginFor(n).addEventListener(e,n,i)}getZone(){return this._zone}_findPluginFor(e){let n=this._eventNameToPlugin.get(e);if(n)return n;if(n=this._plugins.find(o=>o.supports(e)),!n)throw new it(5101,!1);return this._eventNameToPlugin.set(e,n),n}static \u0275fac=function(n){return new(n||r)(Tt(XN),Tt(xt))};static \u0275prov=Fe({token:r,factory:r.\u0275fac})}return r})(),Y1=class{_doc;constructor(t){this._doc=t}manager},ZN="ng-app-id";function F7(r){for(let t of r)t.remove()}function R7(r,t){let e=t.createElement("style");return e.textContent=r,e}function Ewe(r,t,e){let n=r.head?.querySelectorAll(`style[${ZN}="${t}"]`);if(n)for(let i of n)i.textContent&&(i.removeAttribute(ZN),e.set(i.textContent,{usage:0,elements:[i]}))}function QN(r,t){let e=t.createElement("link");return e.setAttribute("rel","stylesheet"),e.setAttribute("href",r),e}var V7=(()=>{class r{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(e,n,i,o={}){this.doc=e,this.appId=n,this.nonce=i,this.isServer=q1(o),Ewe(e,n,this.inline),this.hosts.add(e.head)}addStyles(e,n){for(let i of e)this.addUsage(i,this.inline,R7);n?.forEach(i=>this.addUsage(i,this.external,QN))}removeStyles(e,n){for(let i of e)this.removeUsage(i,this.inline);n?.forEach(i=>this.removeUsage(i,this.external))}addUsage(e,n,i){let o=n.get(e);o?o.usage++:n.set(e,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(e,this.doc)))})}removeUsage(e,n){let i=n.get(e);i&&(i.usage--,i.usage<=0&&(F7(i.elements),n.delete(e)))}ngOnDestroy(){for(let[,{elements:e}]of[...this.inline,...this.external])F7(e);this.hosts.clear()}addHost(e){this.hosts.add(e);for(let[n,{elements:i}]of this.inline)i.push(this.addElement(e,R7(n,this.doc)));for(let[n,{elements:i}]of this.external)i.push(this.addElement(e,QN(n,this.doc)))}removeHost(e){this.hosts.delete(e)}addElement(e,n){return this.nonce&&n.setAttribute("nonce",this.nonce),this.isServer&&n.setAttribute(ZN,this.appId),e.appendChild(n)}static \u0275fac=function(n){return new(n||r)(Tt(Xt),Tt(Tg),Tt(Vb,8),Tt(jo))};static \u0275prov=Fe({token:r,factory:r.\u0275fac})}return r})(),GN={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},eO=/%COMP%/g,z7="%COMP%",Mwe=`_nghost-${z7}`,Awe=`_ngcontent-${z7}`,Twe=!0,Iwe=new He("",{providedIn:"root",factory:()=>Twe});function kwe(r){return Awe.replace(eO,r)}function Nwe(r){return Mwe.replace(eO,r)}function j7(r,t){return t.map(e=>e.replace(eO,r))}var K1=(()=>{class r{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(e,n,i,o,s,a,l,c=null){this.eventManager=e,this.sharedStylesHost=n,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=l,this.nonce=c,this.platformIsServer=q1(a),this.defaultRenderer=new Jb(e,s,l,this.platformIsServer)}createRenderer(e,n){if(!e||!n)return this.defaultRenderer;this.platformIsServer&&n.encapsulation===Zc.ShadowDom&&(n=pr(Ue({},n),{encapsulation:Zc.Emulated}));let i=this.getOrCreateRenderer(e,n);return i instanceof X1?i.applyToHost(e):i instanceof ey&&i.applyStyles(),i}getOrCreateRenderer(e,n){let i=this.rendererByCompId,o=i.get(n.id);if(!o){let s=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,f=this.platformIsServer;switch(n.encapsulation){case Zc.Emulated:o=new X1(l,c,n,this.appId,d,s,a,f);break;case Zc.ShadowDom:return new JN(l,c,e,n,s,a,this.nonce,f);default:o=new ey(l,c,n,d,s,a,f);break}i.set(n.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static \u0275fac=function(n){return new(n||r)(Tt(B7),Tt(V7),Tt(Tg),Tt(Iwe),Tt(Xt),Tt(jo),Tt(xt),Tt(Vb))};static \u0275prov=Fe({token:r,factory:r.\u0275fac})}return r})(),Jb=class{eventManager;doc;ngZone;platformIsServer;data=Object.create(null);throwOnSyntheticProps=!0;constructor(t,e,n,i){this.eventManager=t,this.doc=e,this.ngZone=n,this.platformIsServer=i}destroy(){}destroyNode=null;createElement(t,e){return e?this.doc.createElementNS(GN[e]||e,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,e){(P7(t)?t.content:t).appendChild(e)}insertBefore(t,e,n){t&&(P7(t)?t.content:t).insertBefore(e,n)}removeChild(t,e){e.remove()}selectRootElement(t,e){let n=typeof t=="string"?this.doc.querySelector(t):t;if(!n)throw new it(-5104,!1);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,i){if(i){e=i+":"+e;let o=GN[i];o?t.setAttributeNS(o,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){let i=GN[n];i?t.removeAttributeNS(i,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,i){i&(Qc.DashCase|Qc.Important)?t.style.setProperty(e,n,i&Qc.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&Qc.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t!=null&&(t[e]=n)}setValue(t,e){t.nodeValue=e}listen(t,e,n){if(typeof t=="string"&&(t=yd().getGlobalEventTarget(this.doc,t),!t))throw new Error(`Unsupported event target ${t} for event ${e}`);return this.eventManager.addEventListener(t,e,this.decoratePreventDefault(n))}decoratePreventDefault(t){return e=>{if(e==="__ngUnwrap__")return t;(this.platformIsServer?this.ngZone.runGuarded(()=>t(e)):t(e))===!1&&e.preventDefault()}}};function P7(r){return r.tagName==="TEMPLATE"&&r.content!==void 0}var JN=class extends Jb{sharedStylesHost;hostEl;shadowRoot;constructor(t,e,n,i,o,s,a,l){super(t,o,s,l),this.sharedStylesHost=e,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let c=j7(i.id,i.styles);for(let f of c){let m=document.createElement("style");a&&m.setAttribute("nonce",a),m.textContent=f,this.shadowRoot.appendChild(m)}let d=i.getExternalStyles?.();if(d)for(let f of d){let m=QN(f,o);a&&m.setAttribute("nonce",a),this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(null,e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},ey=class extends Jb{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(t,e,n,i,o,s,a,l){super(t,o,s,a),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=i,this.styles=l?j7(l,n.styles):n.styles,this.styleUrls=n.getExternalStyles?.(l)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},X1=class extends ey{contentAttr;hostAttr;constructor(t,e,n,i,o,s,a,l){let c=i+"-"+n.id;super(t,e,n,o,s,a,l,c),this.contentAttr=kwe(c),this.hostAttr=Nwe(c)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,e){let n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}},Owe=(()=>{class r extends Y1{constructor(e){super(e)}supports(e){return!0}addEventListener(e,n,i){return e.addEventListener(n,i,!1),()=>this.removeEventListener(e,n,i)}removeEventListener(e,n,i){return e.removeEventListener(n,i)}static \u0275fac=function(n){return new(n||r)(Tt(Xt))};static \u0275prov=Fe({token:r,factory:r.\u0275fac})}return r})(),L7=["alt","control","meta","shift"],Fwe={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Rwe={alt:r=>r.altKey,control:r=>r.ctrlKey,meta:r=>r.metaKey,shift:r=>r.shiftKey},Pwe=(()=>{class r extends Y1{constructor(e){super(e)}supports(e){return r.parseEventName(e)!=null}addEventListener(e,n,i){let o=r.parseEventName(n),s=r.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>yd().onAndCancel(e,o.domEventName,s))}static parseEventName(e){let n=e.toLowerCase().split("."),i=n.shift();if(n.length===0||!(i==="keydown"||i==="keyup"))return null;let o=r._normalizeKey(n.pop()),s="",a=n.indexOf("code");if(a>-1&&(n.splice(a,1),s="code."),L7.forEach(c=>{let d=n.indexOf(c);d>-1&&(n.splice(d,1),s+=c+".")}),s+=o,n.length!=0||o.length===0)return null;let l={};return l.domEventName=i,l.fullKey=s,l}static matchEventFullKeyCode(e,n){let i=Fwe[e.key]||e.key,o="";return n.indexOf("code.")>-1&&(i=e.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),L7.forEach(s=>{if(s!==i){let a=Rwe[s];a(e)&&(o+=s+".")}}),o+=i,o===n)}static eventCallback(e,n,i){return o=>{r.matchEventFullKeyCode(o,e)&&i.runGuarded(()=>n(o))}}static _normalizeKey(e){return e==="esc"?"escape":e}static \u0275fac=function(n){return new(n||r)(Tt(Xt))};static \u0275prov=Fe({token:r,factory:r.\u0275fac})}return r})();function iYe(r,t){return QW(Ue({rootComponent:r},Lwe(t)))}function Lwe(r){return{appProviders:[...Hwe,...r?.providers??[]],platformProviders:jwe}}function Bwe(){KN.makeCurrent()}function Vwe(){return new oa}function zwe(){return d9(document),document}var jwe=[{provide:jo,useValue:VN},{provide:eN,useValue:Bwe,multi:!0},{provide:Xt,useFactory:zwe,deps:[]}];var Hwe=[{provide:QC,useValue:"root"},{provide:oa,useFactory:Vwe,deps:[]},{provide:XN,useClass:Owe,multi:!0,deps:[Xt,xt,jo]},{provide:XN,useClass:Pwe,multi:!0,deps:[Xt]},K1,V7,B7,{provide:pf,useExisting:K1},{provide:kg,useClass:Dwe,deps:[]},[]];var H7=(()=>{class r{_doc;constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static \u0275fac=function(n){return new(n||r)(Tt(Xt))};static \u0275prov=Fe({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();var tO=(()=>{class r{static \u0275fac=function(n){return new(n||r)};static \u0275prov=Fe({token:r,factory:function(n){let i=null;return n?i=new(n||r):i=Tt(Uwe),i},providedIn:"root"})}return r})(),Uwe=(()=>{class r extends tO{_doc;constructor(e){super(),this._doc=e}sanitize(e,n){if(n==null)return null;switch(e){case Ds.NONE:return n;case Ds.HTML:return yf(n,"HTML")?hc(n):D9(this._doc,String(n)).toString();case Ds.STYLE:return yf(n,"Style")?hc(n):n;case Ds.SCRIPT:if(yf(n,"Script"))return hc(n);throw new it(5200,!1);case Ds.URL:return yf(n,"URL")?hc(n):d1(String(n));case Ds.RESOURCE_URL:if(yf(n,"ResourceURL"))return hc(n);throw new it(5201,!1);default:throw new it(5202,!1)}}bypassSecurityTrustHtml(e){return p9(e)}bypassSecurityTrustStyle(e){return g9(e)}bypassSecurityTrustScript(e){return v9(e)}bypassSecurityTrustUrl(e){return b9(e)}bypassSecurityTrustResourceUrl(e){return y9(e)}static \u0275fac=function(n){return new(n||r)(Tt(Xt))};static \u0275prov=Fe({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();var nO;try{nO=typeof Intl<"u"&&Intl.v8BreakIterator}catch{nO=!1}var tn=(()=>{class r{_platformId=V(jo);isBrowser=this._platformId?iu(this._platformId):typeof document=="object"&&!!document;EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent);TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent);BLINK=this.isBrowser&&!!(window.chrome||nO)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT;WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT;IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window);FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent);ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT;SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT;constructor(){}static \u0275fac=function(n){return new(n||r)};static \u0275prov=Fe({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();var Og,q7=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function iO(){if(Og)return Og;if(typeof document!="object"||!document)return Og=new Set(q7),Og;let r=document.createElement("input");return Og=new Set(q7.filter(t=>(r.setAttribute("type",t),r.type===t))),Og}var ty;function qwe(){if(ty==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>ty=!0}))}finally{ty=ty||!1}return ty}function Ia(r){return qwe()?r:!!r.capture}var yc=function(r){return r[r.NORMAL=0]="NORMAL",r[r.NEGATED=1]="NEGATED",r[r.INVERTED=2]="INVERTED",r}(yc||{}),Z1,Cm;function Q1(){if(Cm==null){if(typeof document!="object"||!document||typeof Element!="function"||!Element)return Cm=!1,Cm;if("scrollBehavior"in document.documentElement.style)Cm=!0;else{let r=Element.prototype.scrollTo;r?Cm=!/\{\s*\[native code\]\s*\}/.test(r.toString()):Cm=!1}}return Cm}function Fg(){if(typeof document!="object"||!document)return yc.NORMAL;if(Z1==null){let r=document.createElement("div"),t=r.style;r.dir="rtl",t.width="1px",t.overflow="auto",t.visibility="hidden",t.pointerEvents="none",t.position="absolute";let e=document.createElement("div"),n=e.style;n.width="2px",n.height="1px",r.appendChild(e),document.body.appendChild(r),Z1=yc.NORMAL,r.scrollLeft===0&&(r.scrollLeft=1,Z1=r.scrollLeft===0?yc.NEGATED:yc.INVERTED),r.remove()}return Z1}var rO;function Wwe(){if(rO==null){let r=typeof document<"u"?document.head:null;rO=!!(r&&(r.createShadowRoot||r.attachShadow))}return rO}function W7(r){if(Wwe()){let t=r.getRootNode?r.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}function ry(){let r=typeof document<"u"&&document?document.activeElement:null;for(;r&&r.shadowRoot;){let t=r.shadowRoot.activeElement;if(t===r)break;r=t}return r}function Ja(r){return r.composedPath?r.composedPath()[0]:r.target}function oO(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}var J1=new WeakMap,Ti=(()=>{class r{_appRef;_injector=V(lr);_environmentInjector=V(Eo);load(e){let n=this._appRef=this._appRef||this._injector.get(Uo),i=J1.get(n);i||(i={loaders:new Set,refs:[]},J1.set(n,i),n.onDestroy(()=>{J1.get(n)?.refs.forEach(o=>o.destroy()),J1.delete(n)})),i.loaders.has(e)||(i.loaders.add(e),i.refs.push(A1(e,{environmentInjector:this._environmentInjector})))}static \u0275fac=function(n){return new(n||r)};static \u0275prov=Fe({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),ny=(()=>{class r{static \u0275fac=function(n){return new(n||r)};static \u0275cmp=Be({type:r,selectors:[["ng-component"]],exportAs:["cdkVisuallyHidden"],decls:0,vars:0,template:function(n,i){},styles:[".cdk-visually-hidden{border:0;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px;white-space:nowrap;outline:0;-webkit-appearance:none;-moz-appearance:none;left:0}[dir=rtl] .cdk-visually-hidden{left:auto;right:0}"],encapsulation:2,changeDetection:0})}return r})();function to(r,...t){return t.length?t.some(e=>r[e]):r.altKey||r.shiftKey||r.ctrlKey||r.metaKey}function Es(r){return r!=null&&`${r}`!="false"}function ou(r,t=0){return $we(r)?Number(r):arguments.length===2?t:0}function $we(r){return!isNaN(parseFloat(r))&&!isNaN(Number(r))}function Rg(r){return Array.isArray(r)?r:[r]}function ro(r){return r==null?"":typeof r=="string"?r:`${r}px`}function ka(r){return r instanceof ut?r.nativeElement:r}function Gwe(r){if(r.type==="characterData"&&r.target instanceof Comment)return!0;if(r.type==="childList"){for(let t=0;t<r.addedNodes.length;t++)if(!(r.addedNodes[t]instanceof Comment))return!1;for(let t=0;t<r.removedNodes.length;t++)if(!(r.removedNodes[t]instanceof Comment))return!1;return!0}return!1}var $7=(()=>{class r{create(e){return typeof MutationObserver>"u"?null:new MutationObserver(e)}static \u0275fac=function(n){return new(n||r)};static \u0275prov=Fe({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),G7=(()=>{class r{_mutationObserverFactory=V($7);_observedElements=new Map;_ngZone=V(xt);constructor(){}ngOnDestroy(){this._observedElements.forEach((e,n)=>this._cleanupObserver(n))}observe(e){let n=ka(e);return new Jt(i=>{let s=this._observeElement(n).pipe(at(a=>a.filter(l=>!Gwe(l))),sr(a=>!!a.length)).subscribe(a=>{this._ngZone.run(()=>{i.next(a)})});return()=>{s.unsubscribe(),this._unobserveElement(n)}})}_observeElement(e){return this._ngZone.runOutsideAngular(()=>{if(this._observedElements.has(e))this._observedElements.get(e).count++;else{let n=new Ke,i=this._mutationObserverFactory.create(o=>n.next(o));i&&i.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:i,stream:n,count:1})}return this._observedElements.get(e).stream})}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}_cleanupObserver(e){if(this._observedElements.has(e)){let{observer:n,stream:i}=this._observedElements.get(e);n&&n.disconnect(),i.complete(),this._observedElements.delete(e)}}static \u0275fac=function(n){return new(n||r)};static \u0275prov=Fe({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),Y7=(()=>{class r{_contentObserver=V(G7);_elementRef=V(ut);event=new ct;get disabled(){return this._disabled}set disabled(e){this._disabled=e,this._disabled?this._unsubscribe():this._subscribe()}_disabled=!1;get debounce(){return this._debounce}set debounce(e){this._debounce=ou(e),this._subscribe()}_debounce;_currentSubscription=null;constructor(){}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();let e=this._contentObserver.observe(this._elementRef);this._currentSubscription=(this.debounce?e.pipe(xn(this.debounce)):e).subscribe(this.event)}_unsubscribe(){this._currentSubscription?.unsubscribe()}static \u0275fac=function(n){return new(n||r)};static \u0275dir=ft({type:r,selectors:[["","cdkObserveContent",""]],inputs:{disabled:[2,"cdkObserveContentDisabled","disabled",Mt],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"],features:[Ur]})}return r})(),eS=(()=>{class r{static \u0275fac=function(n){return new(n||r)};static \u0275mod=Nt({type:r});static \u0275inj=kt({providers:[$7]})}return r})();var K7=new Set,Sm,Ywe=(()=>{class r{_platform=V(tn);_nonce=V(Vb,{optional:!0});_matchMedia;constructor(){this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):Xwe}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&Kwe(e,this._nonce),this._matchMedia(e)}static \u0275fac=function(n){return new(n||r)};static \u0275prov=Fe({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function Kwe(r,t){if(!K7.has(r))try{Sm||(Sm=document.createElement("style"),t&&Sm.setAttribute("nonce",t),Sm.setAttribute("type","text/css"),document.head.appendChild(Sm)),Sm.sheet&&(Sm.sheet.insertRule(`@media ${r} {body{ }}`,0),K7.add(r))}catch(e){console.error(e)}}function Xwe(r){return{matches:r==="all"||r==="",media:r,addListener:()=>{},removeListener:()=>{}}}var Z7=(()=>{class r{_mediaMatcher=V(Ywe);_zone=V(xt);_queries=new Map;_destroySubject=new Ke;constructor(){}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return X7(Rg(e)).some(i=>this._registerQuery(i).mql.matches)}observe(e){let i=X7(Rg(e)).map(s=>this._registerQuery(s).observable),o=Jh(i);return o=El(o.pipe(on(1)),o.pipe(rm(1),xn(0))),o.pipe(at(s=>{let a={matches:!1,breakpoints:{}};return s.forEach(({matches:l,query:c})=>{a.matches=a.matches||l,a.breakpoints[c]=l}),a}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);let n=this._mediaMatcher.matchMedia(e),o={observable:new Jt(s=>{let a=l=>this._zone.run(()=>s.next(l));return n.addListener(a),()=>{n.removeListener(a)}}).pipe(si(n),at(({matches:s})=>({query:e,matches:s})),Vt(this._destroySubject)),mql:n};return this._queries.set(e,o),o}static \u0275fac=function(n){return new(n||r)};static \u0275prov=Fe({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function X7(r){return r.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}var r$=" ";function hO(r,t,e){let n=iS(r,t);e=e.trim(),!n.some(i=>i.trim()===e)&&(n.push(e),r.setAttribute(t,n.join(r$)))}function aS(r,t,e){let n=iS(r,t);e=e.trim();let i=n.filter(o=>o!==e);i.length?r.setAttribute(t,i.join(r$)):r.removeAttribute(t)}function iS(r,t){return r.getAttribute(t)?.match(/\S+/g)??[]}var n$="cdk-describedby-message",tS="cdk-describedby-host",cO=0,i$=(()=>{class r{_platform=V(tn);_document=V(Xt);_messageRegistry=new Map;_messagesContainer=null;_id=`${cO++}`;constructor(){V(Ti).load(ny),this._id=V(Tg)+"-"+cO++}describe(e,n,i){if(!this._canBeDescribed(e,n))return;let o=sO(n,i);typeof n!="string"?(Q7(n,this._id),this._messageRegistry.set(o,{messageElement:n,referenceCount:0})):this._messageRegistry.has(o)||this._createMessageElement(n,i),this._isElementDescribedByMessage(e,o)||this._addMessageReference(e,o)}removeDescription(e,n,i){if(!n||!this._isElementNode(e))return;let o=sO(n,i);if(this._isElementDescribedByMessage(e,o)&&this._removeMessageReference(e,o),typeof n=="string"){let s=this._messageRegistry.get(o);s&&s.referenceCount===0&&this._deleteMessageElement(o)}this._messagesContainer?.childNodes.length===0&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){let e=this._document.querySelectorAll(`[${tS}="${this._id}"]`);for(let n=0;n<e.length;n++)this._removeCdkDescribedByReferenceIds(e[n]),e[n].removeAttribute(tS);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(e,n){let i=this._document.createElement("div");Q7(i,this._id),i.textContent=e,n&&i.setAttribute("role",n),this._createMessagesContainer(),this._messagesContainer.appendChild(i),this._messageRegistry.set(sO(e,n),{messageElement:i,referenceCount:0})}_deleteMessageElement(e){this._messageRegistry.get(e)?.messageElement?.remove(),this._messageRegistry.delete(e)}_createMessagesContainer(){if(this._messagesContainer)return;let e="cdk-describedby-message-container",n=this._document.querySelectorAll(`.${e}[platform="server"]`);for(let o=0;o<n.length;o++)n[o].remove();let i=this._document.createElement("div");i.style.visibility="hidden",i.classList.add(e),i.classList.add("cdk-visually-hidden"),this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._messagesContainer=i}_removeCdkDescribedByReferenceIds(e){let n=iS(e,"aria-describedby").filter(i=>i.indexOf(n$)!=0);e.setAttribute("aria-describedby",n.join(" "))}_addMessageReference(e,n){let i=this._messageRegistry.get(n);hO(e,"aria-describedby",i.messageElement.id),e.setAttribute(tS,this._id),i.referenceCount++}_removeMessageReference(e,n){let i=this._messageRegistry.get(n);i.referenceCount--,aS(e,"aria-describedby",i.messageElement.id),e.removeAttribute(tS)}_isElementDescribedByMessage(e,n){let i=iS(e,"aria-describedby"),o=this._messageRegistry.get(n),s=o&&o.messageElement.id;return!!s&&i.indexOf(s)!=-1}_canBeDescribed(e,n){if(!this._isElementNode(e))return!1;if(n&&typeof n=="object")return!0;let i=n==null?"":`${n}`.trim(),o=e.getAttribute("aria-label");return i?!o||o.trim()!==i:!1}_isElementNode(e){return e.nodeType===this._document.ELEMENT_NODE}static \u0275fac=function(n){return new(n||r)};static \u0275prov=Fe({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function sO(r,t){return typeof r=="string"?`${t||""}/${r}`:r}function Q7(r,t){r.id||(r.id=`${n$}-${t}-${cO++}`)}var uCe=200,uO=class{_letterKeyStream=new Ke;_items=[];_selectedItemIndex=-1;_pressedLetters=[];_skipPredicateFn;_selectedItem=new Ke;selectedItem=this._selectedItem;constructor(t,e){let n=typeof e?.debounceInterval=="number"?e.debounceInterval:uCe;e?.skipPredicate&&(this._skipPredicateFn=e.skipPredicate),this.setItems(t),this._setupKeyHandler(n)}destroy(){this._pressedLetters=[],this._letterKeyStream.complete(),this._selectedItem.complete()}setCurrentSelectedItemIndex(t){this._selectedItemIndex=t}setItems(t){this._items=t}handleKey(t){let e=t.keyCode;t.key&&t.key.length===1?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))}isTyping(){return this._pressedLetters.length>0}reset(){this._pressedLetters=[]}_setupKeyHandler(t){this._letterKeyStream.pipe(Fr(e=>this._pressedLetters.push(e)),xn(t),sr(()=>this._pressedLetters.length>0),at(()=>this._pressedLetters.join("").toLocaleUpperCase())).subscribe(e=>{for(let n=1;n<this._items.length+1;n++){let i=(this._selectedItemIndex+n)%this._items.length,o=this._items[i];if(!this._skipPredicateFn?.(o)&&o.getLabel?.().toLocaleUpperCase().trim().indexOf(e)===0){this._selectedItem.next(o);break}}this._pressedLetters=[]})}},oS=class{_items;_activeItemIndex=-1;_activeItem=vi(null);_wrap=!1;_typeaheadSubscription=yr.EMPTY;_itemChangesSubscription;_vertical=!0;_horizontal;_allowedModifierKeys=[];_homeAndEnd=!1;_pageUpAndDown={enabled:!1,delta:10};_effectRef;_typeahead;_skipPredicateFn=t=>t.disabled;constructor(t,e){this._items=t,t instanceof Al?this._itemChangesSubscription=t.changes.subscribe(n=>this._itemsChanged(n.toArray())):_f(t)&&(this._effectRef=Io(()=>this._itemsChanged(t()),{injector:e}))}tabOut=new Ke;change=new Ke;skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){this._typeaheadSubscription.unsubscribe();let e=this._getItemsArray();return this._typeahead=new uO(e,{debounceInterval:typeof t=="number"?t:void 0,skipPredicate:n=>this._skipPredicateFn(n)}),this._typeaheadSubscription=this._typeahead.selectedItem.subscribe(n=>{this.setActiveItem(n)}),this}cancelTypeahead(){return this._typeahead?.reset(),this}withHomeAndEnd(t=!0){return this._homeAndEnd=t,this}withPageUpDown(t=!0,e=10){return this._pageUpAndDown={enabled:t,delta:e},this}setActiveItem(t){let e=this._activeItem();this.updateActiveItem(t),this._activeItem()!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){let e=t.keyCode,i=["altKey","ctrlKey","metaKey","shiftKey"].every(o=>!t[o]||this._allowedModifierKeys.indexOf(o)>-1);switch(e){case 9:this.tabOut.next();return;case 40:if(this._vertical&&i){this.setNextItemActive();break}else return;case 38:if(this._vertical&&i){this.setPreviousItemActive();break}else return;case 39:if(this._horizontal&&i){this._horizontal==="rtl"?this.setPreviousItemActive():this.setNextItemActive();break}else return;case 37:if(this._horizontal&&i){this._horizontal==="rtl"?this.setNextItemActive():this.setPreviousItemActive();break}else return;case 36:if(this._homeAndEnd&&i){this.setFirstItemActive();break}else return;case 35:if(this._homeAndEnd&&i){this.setLastItemActive();break}else return;case 33:if(this._pageUpAndDown.enabled&&i){let o=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(o>0?o:0,1);break}else return;case 34:if(this._pageUpAndDown.enabled&&i){let o=this._activeItemIndex+this._pageUpAndDown.delta,s=this._getItemsArray().length;this._setActiveItemByIndex(o<s?o:s-1,-1);break}else return;default:(i||to(t,"shiftKey"))&&this._typeahead?.handleKey(t);return}this._typeahead?.reset(),t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem()}isTyping(){return!!this._typeahead&&this._typeahead.isTyping()}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._getItemsArray().length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){let e=this._getItemsArray(),n=typeof t=="number"?t:e.indexOf(t),i=e[n];this._activeItem.set(i??null),this._activeItemIndex=n,this._typeahead?.setCurrentSelectedItemIndex(n)}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._effectRef?.destroy(),this._typeahead?.destroy(),this.tabOut.complete(),this.change.complete()}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){let e=this._getItemsArray();for(let n=1;n<=e.length;n++){let i=(this._activeItemIndex+t*n+e.length)%e.length,o=e[i];if(!this._skipPredicateFn(o)){this.setActiveItem(i);return}}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){let n=this._getItemsArray();if(n[t]){for(;this._skipPredicateFn(n[t]);)if(t+=e,!n[t])return;this.setActiveItem(t)}}_getItemsArray(){return _f(this._items)?this._items():this._items instanceof Al?this._items.toArray():this._items}_itemsChanged(t){this._typeahead?.setItems(t);let e=this._activeItem();if(e){let n=t.indexOf(e);n>-1&&n!==this._activeItemIndex&&(this._activeItemIndex=n,this._typeahead?.setCurrentSelectedItemIndex(n))}}},sS=class extends oS{setActiveItem(t){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(t),this.activeItem&&this.activeItem.setActiveStyles()}},Tf=class extends oS{_origin="program";setFocusOrigin(t){return this._origin=t,this}setActiveItem(t){super.setActiveItem(t),this.activeItem&&this.activeItem.focus(this._origin)}};var mO=(()=>{class r{_platform=V(tn);constructor(){}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return fCe(e)&&getComputedStyle(e).visibility==="visible"}isTabbable(e){if(!this._platform.isBrowser)return!1;let n=dCe(_Ce(e));if(n&&(J7(n)===-1||!this.isVisible(n)))return!1;let i=e.nodeName.toLowerCase(),o=J7(e);return e.hasAttribute("contenteditable")?o!==-1:i==="iframe"||i==="object"||this._platform.WEBKIT&&this._platform.IOS&&!bCe(e)?!1:i==="audio"?e.hasAttribute("controls")?o!==-1:!1:i==="video"?o===-1?!1:o!==null?!0:this._platform.FIREFOX||e.hasAttribute("controls"):e.tabIndex>=0}isFocusable(e,n){return yCe(e)&&!this.isDisabled(e)&&(n?.ignoreVisibility||this.isVisible(e))}static \u0275fac=function(n){return new(n||r)};static \u0275prov=Fe({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function dCe(r){try{return r.frameElement}catch{return null}}function fCe(r){return!!(r.offsetWidth||r.offsetHeight||typeof r.getClientRects=="function"&&r.getClientRects().length)}function hCe(r){let t=r.nodeName.toLowerCase();return t==="input"||t==="select"||t==="button"||t==="textarea"}function mCe(r){return gCe(r)&&r.type=="hidden"}function pCe(r){return vCe(r)&&r.hasAttribute("href")}function gCe(r){return r.nodeName.toLowerCase()=="input"}function vCe(r){return r.nodeName.toLowerCase()=="a"}function o$(r){if(!r.hasAttribute("tabindex")||r.tabIndex===void 0)return!1;let t=r.getAttribute("tabindex");return!!(t&&!isNaN(parseInt(t,10)))}function J7(r){if(!o$(r))return null;let t=parseInt(r.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}function bCe(r){let t=r.nodeName.toLowerCase(),e=t==="input"&&r.type;return e==="text"||e==="password"||t==="select"||t==="textarea"}function yCe(r){return mCe(r)?!1:hCe(r)||pCe(r)||r.hasAttribute("contenteditable")||o$(r)}function _Ce(r){return r.ownerDocument&&r.ownerDocument.defaultView||window}var dO=class{_element;_checker;_ngZone;_document;_injector;_startAnchor;_endAnchor;_hasAttached=!1;startAnchorListener=()=>this.focusLastTabbableElement();endAnchorListener=()=>this.focusFirstTabbableElement();get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_enabled=!0;constructor(t,e,n,i,o=!1,s){this._element=t,this._checker=e,this._ngZone=n,this._document=i,this._injector=s,o||this.attachAnchors()}destroy(){let t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.remove()),e&&(e.removeEventListener("focus",this.endAnchorListener),e.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return this._hasAttached?!0:(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){let e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);return t=="start"?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){let e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(!this._checker.isFocusable(e)){let n=this._getFirstTabbableElement(e);return n?.focus(t),!!n}return e.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){let e=this._getRegionBoundary("start");return e&&e.focus(t),!!e}focusLastTabbableElement(t){let e=this._getRegionBoundary("end");return e&&e.focus(t),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children;for(let n=0;n<e.length;n++){let i=e[n].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[n]):null;if(i)return i}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children;for(let n=e.length-1;n>=0;n--){let i=e[n].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[n]):null;if(i)return i}return null}_createAnchor(){let t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._injector?Ho(t,{injector:this._injector}):setTimeout(t)}},s$=(()=>{class r{_checker=V(mO);_ngZone=V(xt);_document=V(Xt);_injector=V(lr);constructor(){V(Ti).load(ny)}create(e,n=!1){return new dO(e,this._checker,this._ngZone,this._document,n,this._injector)}static \u0275fac=function(n){return new(n||r)};static \u0275prov=Fe({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function iy(r){return r.buttons===0||r.detail===0}function oy(r){let t=r.touches&&r.touches[0]||r.changedTouches&&r.changedTouches[0];return!!t&&t.identifier===-1&&(t.radiusX==null||t.radiusX===1)&&(t.radiusY==null||t.radiusY===1)}var xCe=new He("cdk-input-modality-detector-options"),wCe={ignoreKeys:[18,17,224,91,16]},a$=650,Pg=Ia({passive:!0,capture:!0}),CCe=(()=>{class r{_platform=V(tn);modalityDetected;modalityChanged;get mostRecentModality(){return this._modality.value}_mostRecentTarget=null;_modality=new co(null);_options;_lastTouchMs=0;_onKeydown=e=>{this._options?.ignoreKeys?.some(n=>n===e.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Ja(e))};_onMousedown=e=>{Date.now()-this._lastTouchMs<a$||(this._modality.next(iy(e)?"keyboard":"mouse"),this._mostRecentTarget=Ja(e))};_onTouchstart=e=>{if(oy(e)){this._modality.next("keyboard");return}this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Ja(e)};constructor(){let e=V(xt),n=V(Xt),i=V(xCe,{optional:!0});this._options=Ue(Ue({},wCe),i),this.modalityDetected=this._modality.pipe(rm(1)),this.modalityChanged=this.modalityDetected.pipe(ag()),this._platform.isBrowser&&e.runOutsideAngular(()=>{n.addEventListener("keydown",this._onKeydown,Pg),n.addEventListener("mousedown",this._onMousedown,Pg),n.addEventListener("touchstart",this._onTouchstart,Pg)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Pg),document.removeEventListener("mousedown",this._onMousedown,Pg),document.removeEventListener("touchstart",this._onTouchstart,Pg))}static \u0275fac=function(n){return new(n||r)};static \u0275prov=Fe({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),SCe=new He("liveAnnouncerElement",{providedIn:"root",factory:DCe});function DCe(){return null}var ECe=new He("LIVE_ANNOUNCER_DEFAULT_OPTIONS"),MCe=0,l$=(()=>{class r{_ngZone=V(xt);_defaultOptions=V(ECe,{optional:!0});_liveElement;_document=V(Xt);_previousTimeout;_currentPromise;_currentResolve;constructor(){let e=V(SCe,{optional:!0});this._liveElement=e||this._createLiveElement()}announce(e,...n){let i=this._defaultOptions,o,s;return n.length===1&&typeof n[0]=="number"?s=n[0]:[o,s]=n,this.clear(),clearTimeout(this._previousTimeout),o||(o=i&&i.politeness?i.politeness:"polite"),s==null&&i&&(s=i.duration),this._liveElement.setAttribute("aria-live",o),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(a=>this._currentResolve=a)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=e,typeof s=="number"&&(this._previousTimeout=setTimeout(()=>this.clear(),s)),this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){let e="cdk-live-announcer-element",n=this._document.getElementsByClassName(e),i=this._document.createElement("div");for(let o=0;o<n.length;o++)n[o].remove();return i.classList.add(e),i.classList.add("cdk-visually-hidden"),i.setAttribute("aria-atomic","true"),i.setAttribute("aria-live","polite"),i.id=`cdk-live-announcer-${MCe++}`,this._document.body.appendChild(i),i}_exposeAnnouncerToModals(e){let n=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let i=0;i<n.length;i++){let o=n[i],s=o.getAttribute("aria-owns");s?s.indexOf(e)===-1&&o.setAttribute("aria-owns",s+" "+e):o.setAttribute("aria-owns",e)}}static \u0275fac=function(n){return new(n||r)};static \u0275prov=Fe({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();var nS=function(r){return r[r.IMMEDIATE=0]="IMMEDIATE",r[r.EVENTUAL=1]="EVENTUAL",r}(nS||{}),ACe=new He("cdk-focus-monitor-default-options"),rS=Ia({passive:!0,capture:!0}),el=(()=>{class r{_ngZone=V(xt);_platform=V(tn);_inputModalityDetector=V(CCe);_origin=null;_lastFocusOrigin;_windowFocused=!1;_windowFocusTimeoutId;_originTimeoutId;_originFromTouchInteraction=!1;_elementInfo=new Map;_monitoredElementCount=0;_rootNodeFocusListenerCount=new Map;_detectionMode;_windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)};_document=V(Xt,{optional:!0});_stopInputModalityDetector=new Ke;constructor(){let e=V(ACe,{optional:!0});this._detectionMode=e?.detectionMode||nS.IMMEDIATE}_rootNodeFocusAndBlurListener=e=>{let n=Ja(e);for(let i=n;i;i=i.parentElement)e.type==="focus"?this._onFocus(e,i):this._onBlur(e,i)};monitor(e,n=!1){let i=ka(e);if(!this._platform.isBrowser||i.nodeType!==1)return tt();let o=W7(i)||this._getDocument(),s=this._elementInfo.get(i);if(s)return n&&(s.checkChildren=!0),s.subject;let a={checkChildren:n,subject:new Ke,rootNode:o};return this._elementInfo.set(i,a),this._registerGlobalListeners(a),a.subject}stopMonitoring(e){let n=ka(e),i=this._elementInfo.get(n);i&&(i.subject.complete(),this._setClasses(n),this._elementInfo.delete(n),this._removeGlobalListeners(i))}focusVia(e,n,i){let o=ka(e),s=this._getDocument().activeElement;o===s?this._getClosestElementsInfo(o).forEach(([a,l])=>this._originChanged(a,n,l)):(this._setOrigin(n),typeof o.focus=="function"&&o.focus(i))}ngOnDestroy(){this._elementInfo.forEach((e,n)=>this.stopMonitoring(n))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:e&&this._isLastInteractionFromInputLabel(e)?"mouse":"program"}_shouldBeAttributedToTouch(e){return this._detectionMode===nS.EVENTUAL||!!e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(e,n){e.classList.toggle("cdk-focused",!!n),e.classList.toggle("cdk-touch-focused",n==="touch"),e.classList.toggle("cdk-keyboard-focused",n==="keyboard"),e.classList.toggle("cdk-mouse-focused",n==="mouse"),e.classList.toggle("cdk-program-focused",n==="program")}_setOrigin(e,n=!1){this._ngZone.runOutsideAngular(()=>{if(this._origin=e,this._originFromTouchInteraction=e==="touch"&&n,this._detectionMode===nS.IMMEDIATE){clearTimeout(this._originTimeoutId);let i=this._originFromTouchInteraction?a$:1;this._originTimeoutId=setTimeout(()=>this._origin=null,i)}})}_onFocus(e,n){let i=this._elementInfo.get(n),o=Ja(e);!i||!i.checkChildren&&n!==o||this._originChanged(n,this._getFocusOrigin(o),i)}_onBlur(e,n){let i=this._elementInfo.get(n);!i||i.checkChildren&&e.relatedTarget instanceof Node&&n.contains(e.relatedTarget)||(this._setClasses(n),this._emitOrigin(i,null))}_emitOrigin(e,n){e.subject.observers.length&&this._ngZone.run(()=>e.subject.next(n))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;let n=e.rootNode,i=this._rootNodeFocusListenerCount.get(n)||0;i||this._ngZone.runOutsideAngular(()=>{n.addEventListener("focus",this._rootNodeFocusAndBlurListener,rS),n.addEventListener("blur",this._rootNodeFocusAndBlurListener,rS)}),this._rootNodeFocusListenerCount.set(n,i+1),++this._monitoredElementCount===1&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Vt(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(e){let n=e.rootNode;if(this._rootNodeFocusListenerCount.has(n)){let i=this._rootNodeFocusListenerCount.get(n);i>1?this._rootNodeFocusListenerCount.set(n,i-1):(n.removeEventListener("focus",this._rootNodeFocusAndBlurListener,rS),n.removeEventListener("blur",this._rootNodeFocusAndBlurListener,rS),this._rootNodeFocusListenerCount.delete(n))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,n,i){this._setClasses(e,n),this._emitOrigin(i,n),this._lastFocusOrigin=n}_getClosestElementsInfo(e){let n=[];return this._elementInfo.forEach((i,o)=>{(o===e||i.checkChildren&&o.contains(e))&&n.push([o,i])}),n}_isLastInteractionFromInputLabel(e){let{_mostRecentTarget:n,mostRecentModality:i}=this._inputModalityDetector;if(i!=="mouse"||!n||n===e||e.nodeName!=="INPUT"&&e.nodeName!=="TEXTAREA"||e.disabled)return!1;let o=e.labels;if(o){for(let s=0;s<o.length;s++)if(o[s].contains(n))return!0}return!1}static \u0275fac=function(n){return new(n||r)};static \u0275prov=Fe({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),c$=(()=>{class r{_elementRef=V(ut);_focusMonitor=V(el);_monitorSubscription;_focusOrigin=null;cdkFocusChange=new ct;constructor(){}get focusOrigin(){return this._focusOrigin}ngAfterViewInit(){let e=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(e,e.nodeType===1&&e.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(n=>{this._focusOrigin=n,this.cdkFocusChange.emit(n)})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}static \u0275fac=function(n){return new(n||r)};static \u0275dir=ft({type:r,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"},exportAs:["cdkMonitorFocus"]})}return r})(),Dm=function(r){return r[r.NONE=0]="NONE",r[r.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",r[r.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",r}(Dm||{}),e$="cdk-high-contrast-black-on-white",t$="cdk-high-contrast-white-on-black",aO="cdk-high-contrast-active",pO=(()=>{class r{_platform=V(tn);_hasCheckedHighContrastMode;_document=V(Xt);_breakpointSubscription;constructor(){this._breakpointSubscription=V(Z7).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return Dm.NONE;let e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);let n=this._document.defaultView||window,i=n&&n.getComputedStyle?n.getComputedStyle(e):null,o=(i&&i.backgroundColor||"").replace(/ /g,"");switch(e.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return Dm.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return Dm.BLACK_ON_WHITE}return Dm.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){let e=this._document.body.classList;e.remove(aO,e$,t$),this._hasCheckedHighContrastMode=!0;let n=this.getHighContrastMode();n===Dm.BLACK_ON_WHITE?e.add(aO,e$):n===Dm.WHITE_ON_BLACK&&e.add(aO,t$)}}static \u0275fac=function(n){return new(n||r)};static \u0275prov=Fe({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),lS=(()=>{class r{constructor(){V(pO)._applyBodyHighContrastModeCssClasses()}static \u0275fac=function(n){return new(n||r)};static \u0275mod=Nt({type:r});static \u0275inj=kt({imports:[eS]})}return r})(),lO={},qn=(()=>{class r{_appId=V(Tg);getId(e){return this._appId!=="ng"&&(e+=this._appId),lO.hasOwnProperty(e)||(lO[e]=0),`${e}${lO[e]++}`}static \u0275fac=function(n){return new(n||r)};static \u0275prov=Fe({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();var TCe=new He("cdk-dir-doc",{providedIn:"root",factory:ICe});function ICe(){return V(Xt)}var kCe=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function NCe(r){let t=r?.toLowerCase()||"";return t==="auto"&&typeof navigator<"u"&&navigator?.language?kCe.test(navigator.language)?"rtl":"ltr":t==="rtl"?"rtl":"ltr"}var no=(()=>{class r{value="ltr";change=new ct;constructor(){let e=V(TCe,{optional:!0});if(e){let n=e.body?e.body.dir:null,i=e.documentElement?e.documentElement.dir:null;this.value=NCe(n||i||"ltr")}}ngOnDestroy(){this.change.complete()}static \u0275fac=function(n){return new(n||r)};static \u0275prov=Fe({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();var If=(()=>{class r{static \u0275fac=function(n){return new(n||r)};static \u0275mod=Nt({type:r});static \u0275inj=kt({})}return r})();var OCe=["text"],FCe=[[["mat-icon"]],"*"],RCe=["mat-icon","*"];function PCe(r,t){if(r&1&&Te(0,"mat-pseudo-checkbox",1),r&2){let e=ie();oe("disabled",e.disabled)("state",e.selected?"checked":"unchecked")}}function LCe(r,t){if(r&1&&Te(0,"mat-pseudo-checkbox",3),r&2){let e=ie();oe("disabled",e.disabled)}}function BCe(r,t){if(r&1&&(W(0,"span",4),ge(1),$()),r&2){let e=ie();K(),sn("(",e.group.label,")")}}var VCe=["mat-internal-form-field",""],zCe=["*"];var $r=(()=>{class r{constructor(){V(pO)._applyBodyHighContrastModeCssClasses()}static \u0275fac=function(n){return new(n||r)};static \u0275mod=Nt({type:r});static \u0275inj=kt({imports:[If,If]})}return r})(),jg=class{_defaultMatcher;ngControl;_parentFormGroup;_parentForm;_stateChanges;errorState=!1;matcher;constructor(t,e,n,i,o){this._defaultMatcher=t,this.ngControl=e,this._parentFormGroup=n,this._parentForm=i,this._stateChanges=o}updateErrorState(){let t=this.errorState,e=this._parentFormGroup||this._parentForm,n=this.matcher||this._defaultMatcher,i=this.ngControl?this.ngControl.control:null,o=n?.isErrorState(i,e)??!1;o!==t&&(this.errorState=o,this._stateChanges.next())}};var fS=(()=>{class r{isErrorState(e,n){return!!(e&&e.invalid&&(e.touched||n&&n.submitted))}static \u0275fac=function(n){return new(n||r)};static \u0275prov=Fe({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),tl=(()=>{class r{static \u0275fac=function(n){return new(n||r)};static \u0275cmp=Be({type:r,selectors:[["structural-styles"]],decls:0,vars:0,template:function(n,i){},styles:['.mat-focus-indicator{position:relative}.mat-focus-indicator::before{top:0;left:0;right:0;bottom:0;position:absolute;box-sizing:border-box;pointer-events:none;display:var(--mat-focus-indicator-display, none);border-width:var(--mat-focus-indicator-border-width, 3px);border-style:var(--mat-focus-indicator-border-style, solid);border-color:var(--mat-focus-indicator-border-color, transparent);border-radius:var(--mat-focus-indicator-border-radius, 4px)}.mat-focus-indicator:focus::before{content:""}@media(forced-colors: active){html{--mat-focus-indicator-display: block}}'],encapsulation:2,changeDetection:0})}return r})();var ca=function(r){return r[r.FADING_IN=0]="FADING_IN",r[r.VISIBLE=1]="VISIBLE",r[r.FADING_OUT=2]="FADING_OUT",r[r.HIDDEN=3]="HIDDEN",r}(ca||{}),bO=class{_renderer;element;config;_animationForciblyDisabledThroughCss;state=ca.HIDDEN;constructor(t,e,n,i=!1){this._renderer=t,this.element=e,this.config=n,this._animationForciblyDisabledThroughCss=i}fadeOut(){this._renderer.fadeOutRipple(this)}},u$=Ia({passive:!0,capture:!0}),yO=class{_events=new Map;addHandler(t,e,n,i){let o=this._events.get(e);if(o){let s=o.get(n);s?s.add(i):o.set(n,new Set([i]))}else this._events.set(e,new Map([[n,new Set([i])]])),t.runOutsideAngular(()=>{document.addEventListener(e,this._delegateEventHandler,u$)})}removeHandler(t,e,n){let i=this._events.get(t);if(!i)return;let o=i.get(e);o&&(o.delete(n),o.size===0&&i.delete(e),i.size===0&&(this._events.delete(t),document.removeEventListener(t,this._delegateEventHandler,u$)))}_delegateEventHandler=t=>{let e=Ja(t);e&&this._events.get(t.type)?.forEach((n,i)=>{(i===e||i.contains(e))&&n.forEach(o=>o.handleEvent(t))})}},uS={enterDuration:225,exitDuration:150},jCe=800,d$=Ia({passive:!0,capture:!0}),f$=["mousedown","touchstart"],h$=["mouseup","mouseleave","touchend","touchcancel"],HCe=(()=>{class r{static \u0275fac=function(n){return new(n||r)};static \u0275cmp=Be({type:r,selectors:[["ng-component"]],hostAttrs:["mat-ripple-style-loader",""],decls:0,vars:0,template:function(n,i){},styles:[".mat-ripple{overflow:hidden;position:relative}.mat-ripple:not(:empty){transform:translateZ(0)}.mat-ripple.mat-ripple-unbounded{overflow:visible}.mat-ripple-element{position:absolute;border-radius:50%;pointer-events:none;transition:opacity,transform 0ms cubic-bezier(0, 0, 0.2, 1);transform:scale3d(0, 0, 0);background-color:var(--mat-ripple-color, color-mix(in srgb, var(--mat-sys-on-surface) 10%, transparent))}@media(forced-colors: active){.mat-ripple-element{display:none}}.cdk-drag-preview .mat-ripple-element,.cdk-drag-placeholder .mat-ripple-element{display:none}"],encapsulation:2,changeDetection:0})}return r})(),dS=class r{_target;_ngZone;_platform;_containerElement;_triggerElement;_isPointerDown=!1;_activeRipples=new Map;_mostRecentTransientRipple;_lastTouchStartEvent;_pointerUpEventsRegistered=!1;_containerRect;static _eventManager=new yO;constructor(t,e,n,i,o){this._target=t,this._ngZone=e,this._platform=i,i.isBrowser&&(this._containerElement=ka(n)),o&&o.get(Ti).load(HCe)}fadeInRipple(t,e,n={}){let i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o=Ue(Ue({},uS),n.animation);n.centered&&(t=i.left+i.width/2,e=i.top+i.height/2);let s=n.radius||UCe(t,e,i),a=t-i.left,l=e-i.top,c=o.enterDuration,d=document.createElement("div");d.classList.add("mat-ripple-element"),d.style.left=`${a-s}px`,d.style.top=`${l-s}px`,d.style.height=`${s*2}px`,d.style.width=`${s*2}px`,n.color!=null&&(d.style.backgroundColor=n.color),d.style.transitionDuration=`${c}ms`,this._containerElement.appendChild(d);let f=window.getComputedStyle(d),m=f.transitionProperty,p=f.transitionDuration,b=m==="none"||p==="0s"||p==="0s, 0s"||i.width===0&&i.height===0,y=new bO(this,d,n,b);d.style.transform="scale3d(1, 1, 1)",y.state=ca.FADING_IN,n.persistent||(this._mostRecentTransientRipple=y);let C=null;return!b&&(c||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{let S=()=>{C&&(C.fallbackTimer=null),clearTimeout(x),this._finishRippleTransition(y)},A=()=>this._destroyRipple(y),x=setTimeout(A,c+100);d.addEventListener("transitionend",S),d.addEventListener("transitioncancel",A),C={onTransitionEnd:S,onTransitionCancel:A,fallbackTimer:x}}),this._activeRipples.set(y,C),(b||!c)&&this._finishRippleTransition(y),y}fadeOutRipple(t){if(t.state===ca.FADING_OUT||t.state===ca.HIDDEN)return;let e=t.element,n=Ue(Ue({},uS),t.config.animation);e.style.transitionDuration=`${n.exitDuration}ms`,e.style.opacity="0",t.state=ca.FADING_OUT,(t._animationForciblyDisabledThroughCss||!n.exitDuration)&&this._finishRippleTransition(t)}fadeOutAll(){this._getActiveRipples().forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){let e=ka(t);!this._platform.isBrowser||!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,f$.forEach(n=>{r._eventManager.addHandler(this._ngZone,n,e,this)}))}handleEvent(t){t.type==="mousedown"?this._onMousedown(t):t.type==="touchstart"?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{h$.forEach(e=>{this._triggerElement.addEventListener(e,this,d$)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(t){t.state===ca.FADING_IN?this._startFadeOutTransition(t):t.state===ca.FADING_OUT&&this._destroyRipple(t)}_startFadeOutTransition(t){let e=t===this._mostRecentTransientRipple,{persistent:n}=t.config;t.state=ca.VISIBLE,!n&&(!e||!this._isPointerDown)&&t.fadeOut()}_destroyRipple(t){let e=this._activeRipples.get(t)??null;this._activeRipples.delete(t),this._activeRipples.size||(this._containerRect=null),t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),t.state=ca.HIDDEN,e!==null&&(t.element.removeEventListener("transitionend",e.onTransitionEnd),t.element.removeEventListener("transitioncancel",e.onTransitionCancel),e.fallbackTimer!==null&&clearTimeout(e.fallbackTimer)),t.element.remove()}_onMousedown(t){let e=iy(t),n=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+jCe;!this._target.rippleDisabled&&!e&&!n&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!oy(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;let e=t.changedTouches;if(e)for(let n=0;n<e.length;n++)this.fadeInRipple(e[n].clientX,e[n].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(t=>{let e=t.state===ca.VISIBLE||t.config.terminateOnPointerUp&&t.state===ca.FADING_IN;!t.config.persistent&&e&&t.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){let t=this._triggerElement;t&&(f$.forEach(e=>r._eventManager.removeHandler(e,t,this)),this._pointerUpEventsRegistered&&(h$.forEach(e=>t.removeEventListener(e,this,d$)),this._pointerUpEventsRegistered=!1))}};function UCe(r,t,e){let n=Math.max(Math.abs(r-e.left),Math.abs(r-e.right)),i=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(n*n+i*i)}var sy=new He("mat-ripple-global-options"),_c=(()=>{class r{_elementRef=V(ut);_animationMode=V(Xn,{optional:!0});color;unbounded;centered;radius=0;animation;get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}_disabled=!1;get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}_trigger;_rippleRenderer;_globalOptions;_isInitialized=!1;constructor(){let e=V(xt),n=V(tn),i=V(sy,{optional:!0}),o=V(lr);this._globalOptions=i||{},this._rippleRenderer=new dS(this,e,this._elementRef,n,o)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Ue(Ue(Ue({},this._globalOptions.animation),this._animationMode==="NoopAnimations"?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,n=0,i){return typeof e=="number"?this._rippleRenderer.fadeInRipple(e,n,Ue(Ue({},this.rippleConfig),i)):this._rippleRenderer.fadeInRipple(0,0,Ue(Ue({},this.rippleConfig),e))}static \u0275fac=function(n){return new(n||r)};static \u0275dir=ft({type:r,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(n,i){n&2&&Wt("mat-ripple-unbounded",i.unbounded)},inputs:{color:[0,"matRippleColor","color"],unbounded:[0,"matRippleUnbounded","unbounded"],centered:[0,"matRippleCentered","centered"],radius:[0,"matRippleRadius","radius"],animation:[0,"matRippleAnimation","animation"],disabled:[0,"matRippleDisabled","disabled"],trigger:[0,"matRippleTrigger","trigger"]},exportAs:["matRipple"]})}return r})(),Em=(()=>{class r{static \u0275fac=function(n){return new(n||r)};static \u0275mod=Nt({type:r});static \u0275inj=kt({imports:[$r,$r]})}return r})(),qCe=(()=>{class r{_animationMode=V(Xn,{optional:!0});state="unchecked";disabled=!1;appearance="full";constructor(){}static \u0275fac=function(n){return new(n||r)};static \u0275cmp=Be({type:r,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:12,hostBindings:function(n,i){n&2&&Wt("mat-pseudo-checkbox-indeterminate",i.state==="indeterminate")("mat-pseudo-checkbox-checked",i.state==="checked")("mat-pseudo-checkbox-disabled",i.disabled)("mat-pseudo-checkbox-minimal",i.appearance==="minimal")("mat-pseudo-checkbox-full",i.appearance==="full")("_mat-animation-noopable",i._animationMode==="NoopAnimations")},inputs:{state:"state",disabled:"disabled",appearance:"appearance"},decls:0,vars:0,template:function(n,i){},styles:['.mat-pseudo-checkbox{border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{left:1px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{left:1px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-minimal-pseudo-checkbox-selected-checkmark-color, var(--mat-sys-primary))}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-minimal-pseudo-checkbox-disabled-selected-checkmark-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-pseudo-checkbox-full{border-color:var(--mat-full-pseudo-checkbox-unselected-icon-color, var(--mat-sys-on-surface-variant));border-width:2px;border-style:solid}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-disabled{border-color:var(--mat-full-pseudo-checkbox-disabled-unselected-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate{background-color:var(--mat-full-pseudo-checkbox-selected-icon-color, var(--mat-sys-primary));border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-full-pseudo-checkbox-selected-checkmark-color, var(--mat-sys-on-primary))}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled{background-color:var(--mat-full-pseudo-checkbox-disabled-selected-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-full-pseudo-checkbox-disabled-selected-checkmark-color, var(--mat-sys-surface))}.mat-pseudo-checkbox{width:18px;height:18px}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after{width:14px;height:6px;transform-origin:center;top:-4.2426406871px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{top:8px;width:16px}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after{width:10px;height:4px;transform-origin:center;top:-2.8284271247px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{top:6px;width:12px}'],encapsulation:2,changeDetection:0})}return r})(),WCe=(()=>{class r{static \u0275fac=function(n){return new(n||r)};static \u0275mod=Nt({type:r});static \u0275inj=kt({imports:[$r]})}return r})(),xO=new He("MAT_OPTION_PARENT_COMPONENT"),wO=new He("MatOptgroup");var _O=class{source;isUserInput;constructor(t,e=!1){this.source=t,this.isUserInput=e}},Wo=(()=>{class r{_element=V(ut);_changeDetectorRef=V(qt);_parent=V(xO,{optional:!0});group=V(wO,{optional:!0});_signalDisableRipple=!1;_selected=!1;_active=!1;_disabled=!1;_mostRecentViewValue="";get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}value;id=V(qn).getId("mat-option-");get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(e){this._disabled=e}get disableRipple(){return this._signalDisableRipple?this._parent.disableRipple():!!this._parent?.disableRipple}get hideSingleSelectionIndicator(){return!!(this._parent&&this._parent.hideSingleSelectionIndicator)}onSelectionChange=new ct;_text;_stateChanges=new Ke;constructor(){V(Ti).load(tl),V(Ti).load(ny),this._signalDisableRipple=!!this._parent&&_f(this._parent.disableRipple)}get active(){return this._active}get viewValue(){return(this._text?.nativeElement.textContent||"").trim()}select(e=!0){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),e&&this._emitSelectionChangeEvent())}deselect(e=!0){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),e&&this._emitSelectionChangeEvent())}focus(e,n){let i=this._getHostElement();typeof i.focus=="function"&&i.focus(n)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(e){(e.keyCode===13||e.keyCode===32)&&!to(e)&&(this._selectViaInteraction(),e.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=this.multiple?!this._selected:!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){let e=this.viewValue;e!==this._mostRecentViewValue&&(this._mostRecentViewValue&&this._stateChanges.next(),this._mostRecentViewValue=e)}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(e=!1){this.onSelectionChange.emit(new _O(this,e))}static \u0275fac=function(n){return new(n||r)};static \u0275cmp=Be({type:r,selectors:[["mat-option"]],viewQuery:function(n,i){if(n&1&&Cr(OCe,7),n&2){let o;Ft(o=Rt())&&(i._text=o.first)}},hostAttrs:["role","option",1,"mat-mdc-option","mdc-list-item"],hostVars:11,hostBindings:function(n,i){n&1&&Me("click",function(){return i._selectViaInteraction()})("keydown",function(s){return i._handleKeydown(s)}),n&2&&(Za("id",i.id),rr("aria-selected",i.selected)("aria-disabled",i.disabled.toString()),Wt("mdc-list-item--selected",i.selected)("mat-mdc-option-multiple",i.multiple)("mat-mdc-option-active",i.active)("mdc-list-item--disabled",i.disabled))},inputs:{value:"value",id:"id",disabled:[2,"disabled","disabled",Mt]},outputs:{onSelectionChange:"onSelectionChange"},exportAs:["matOption"],features:[Ur],ngContentSelectors:RCe,decls:8,vars:5,consts:[["text",""],["aria-hidden","true",1,"mat-mdc-option-pseudo-checkbox",3,"disabled","state"],[1,"mdc-list-item__primary-text"],["state","checked","aria-hidden","true","appearance","minimal",1,"mat-mdc-option-pseudo-checkbox",3,"disabled"],[1,"cdk-visually-hidden"],["aria-hidden","true","mat-ripple","",1,"mat-mdc-option-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled"]],template:function(n,i){n&1&&(un(FCe),Oe(0,PCe,1,2,"mat-pseudo-checkbox",1),hr(1),W(2,"span",2,0),hr(4,1),$(),Oe(5,LCe,1,1,"mat-pseudo-checkbox",3)(6,BCe,2,1,"span",4),Te(7,"div",5)),n&2&&(Pe(i.multiple?0:-1),K(5),Pe(!i.multiple&&i.selected&&!i.hideSingleSelectionIndicator?5:-1),K(),Pe(i.group&&i.group._inert?6:-1),K(),oe("matRippleTrigger",i._getHostElement())("matRippleDisabled",i.disabled||i.disableRipple))},dependencies:[qCe,_c],styles:['.mat-mdc-option{-webkit-user-select:none;user-select:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;min-height:48px;padding:0 16px;cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);color:var(--mat-option-label-text-color, var(--mat-sys-on-surface));font-family:var(--mat-option-label-text-font, var(--mat-sys-label-large-font));line-height:var(--mat-option-label-text-line-height, var(--mat-sys-label-large-line-height));font-size:var(--mat-option-label-text-size, var(--mat-sys-body-large-size));letter-spacing:var(--mat-option-label-text-tracking, var(--mat-sys-label-large-tracking));font-weight:var(--mat-option-label-text-weight, var(--mat-sys-body-large-weight))}.mat-mdc-option:hover:not(.mdc-list-item--disabled){background-color:var(--mat-option-hover-state-layer-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-hover-state-layer-opacity) * 100%), transparent))}.mat-mdc-option:focus.mdc-list-item,.mat-mdc-option.mat-mdc-option-active.mdc-list-item{background-color:var(--mat-option-focus-state-layer-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-focus-state-layer-opacity) * 100%), transparent));outline:0}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled) .mdc-list-item__primary-text{color:var(--mat-option-selected-state-label-text-color, var(--mat-sys-on-secondary-container))}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled):not(.mat-mdc-option-multiple){background-color:var(--mat-option-selected-state-layer-color, var(--mat-sys-secondary-container))}.mat-mdc-option .mat-pseudo-checkbox{--mat-minimal-pseudo-checkbox-selected-checkmark-color: var(--mat-option-selected-state-label-text-color, var(--mat-sys-on-secondary-container))}.mat-mdc-option.mdc-list-item{align-items:center;background:rgba(0,0,0,0)}.mat-mdc-option.mdc-list-item--disabled{cursor:default;pointer-events:none}.mat-mdc-option.mdc-list-item--disabled .mat-mdc-option-pseudo-checkbox,.mat-mdc-option.mdc-list-item--disabled .mdc-list-item__primary-text,.mat-mdc-option.mdc-list-item--disabled>mat-icon{opacity:.38}.mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:32px}[dir=rtl] .mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:16px;padding-right:32px}.mat-mdc-option .mat-icon,.mat-mdc-option .mat-pseudo-checkbox-full{margin-right:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-icon,[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-full{margin-right:0;margin-left:16px}.mat-mdc-option .mat-pseudo-checkbox-minimal{margin-left:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-minimal{margin-right:16px;margin-left:0}.mat-mdc-option .mat-mdc-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-option .mdc-list-item__primary-text{white-space:normal;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;font-family:inherit;text-decoration:inherit;text-transform:inherit;margin-right:auto}[dir=rtl] .mat-mdc-option .mdc-list-item__primary-text{margin-right:0;margin-left:auto}@media(forced-colors: active){.mat-mdc-option.mdc-list-item--selected:not(:has(.mat-mdc-option-pseudo-checkbox))::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}[dir=rtl] .mat-mdc-option.mdc-list-item--selected:not(:has(.mat-mdc-option-pseudo-checkbox))::after{right:auto;left:16px}}.mat-mdc-option-multiple{--mdc-list-list-item-selected-container-color:var(--mdc-list-list-item-container-color, transparent)}.mat-mdc-option-active .mat-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return r})();function v$(r,t,e){if(e.length){let n=t.toArray(),i=e.toArray(),o=0;for(let s=0;s<r+1;s++)n[s].group&&n[s].group===i[o]&&o++;return o}return 0}function b$(r,t,e,n){return r<e?r:r+t>e+n?Math.max(0,r-n+t):e}var CO=(()=>{class r{static \u0275fac=function(n){return new(n||r)};static \u0275mod=Nt({type:r});static \u0275inj=kt({imports:[Em,$r,WCe]})}return r})(),m$={capture:!0},p$=["focus","mousedown","mouseenter","touchstart"],gO="mat-ripple-loader-uninitialized",vO="mat-ripple-loader-class-name",g$="mat-ripple-loader-centered",cS="mat-ripple-loader-disabled",y$=(()=>{class r{_document=V(Xt,{optional:!0});_animationMode=V(Xn,{optional:!0});_globalRippleOptions=V(sy,{optional:!0});_platform=V(tn);_ngZone=V(xt);_injector=V(lr);_hosts=new Map;constructor(){this._ngZone.runOutsideAngular(()=>{for(let e of p$)this._document?.addEventListener(e,this._onInteraction,m$)})}ngOnDestroy(){let e=this._hosts.keys();for(let n of e)this.destroyRipple(n);for(let n of p$)this._document?.removeEventListener(n,this._onInteraction,m$)}configureRipple(e,n){e.setAttribute(gO,this._globalRippleOptions?.namespace??""),(n.className||!e.hasAttribute(vO))&&e.setAttribute(vO,n.className||""),n.centered&&e.setAttribute(g$,""),n.disabled&&e.setAttribute(cS,"")}setDisabled(e,n){let i=this._hosts.get(e);i?(i.target.rippleDisabled=n,!n&&!i.hasSetUpEvents&&(i.hasSetUpEvents=!0,i.renderer.setupTriggerEvents(e))):n?e.setAttribute(cS,""):e.removeAttribute(cS)}_onInteraction=e=>{let n=Ja(e);if(n instanceof HTMLElement){let i=n.closest(`[${gO}="${this._globalRippleOptions?.namespace??""}"]`);i&&this._createRipple(i)}};_createRipple(e){if(!this._document||this._hosts.has(e))return;e.querySelector(".mat-ripple")?.remove();let n=this._document.createElement("span");n.classList.add("mat-ripple",e.getAttribute(vO)),e.append(n);let i=this._animationMode==="NoopAnimations",o=this._globalRippleOptions,s=i?0:o?.animation?.enterDuration??uS.enterDuration,a=i?0:o?.animation?.exitDuration??uS.exitDuration,l={rippleDisabled:i||o?.disabled||e.hasAttribute(cS),rippleConfig:{centered:e.hasAttribute(g$),terminateOnPointerUp:o?.terminateOnPointerUp,animation:{enterDuration:s,exitDuration:a}}},c=new dS(l,this._ngZone,n,this._platform,this._injector),d=!l.rippleDisabled;d&&c.setupTriggerEvents(e),this._hosts.set(e,{target:l,renderer:c,hasSetUpEvents:d}),e.removeAttribute(gO)}destroyRipple(e){let n=this._hosts.get(e);n&&(n.renderer._removeTriggerEvents(),this._hosts.delete(e))}static \u0275fac=function(n){return new(n||r)};static \u0275prov=Fe({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),_$=(()=>{class r{labelPosition;static \u0275fac=function(n){return new(n||r)};static \u0275cmp=Be({type:r,selectors:[["div","mat-internal-form-field",""]],hostAttrs:[1,"mdc-form-field","mat-internal-form-field"],hostVars:2,hostBindings:function(n,i){n&2&&Wt("mdc-form-field--align-end",i.labelPosition==="before")},inputs:{labelPosition:"labelPosition"},attrs:VCe,ngContentSelectors:zCe,decls:1,vars:0,template:function(n,i){n&1&&(un(),hr(0))},styles:[".mat-internal-form-field{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:inline-flex;align-items:center;vertical-align:middle}.mat-internal-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mat-internal-form-field>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end .mdc-form-field--align-end label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0}"],encapsulation:2,changeDetection:0})}return r})();var $Ce=["mat-button",""],GCe=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],YCe=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"];var KCe="@media(forced-colors: active){.mat-mdc-button:not(.mdc-button--outlined),.mat-mdc-unelevated-button:not(.mdc-button--outlined),.mat-mdc-raised-button:not(.mdc-button--outlined),.mat-mdc-outlined-button:not(.mdc-button--outlined),.mat-mdc-icon-button.mat-mdc-icon-button{outline:solid 1px}}";var XCe=["mat-icon-button",""],ZCe=["*"];var QCe=new He("MAT_BUTTON_CONFIG");var JCe=[{attribute:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{attribute:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{attribute:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{attribute:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{attribute:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mat-mdc-fab"]},{attribute:"mat-mini-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mdc-fab--mini","mat-mdc-mini-fab"]},{attribute:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],x$=(()=>{class r{_elementRef=V(ut);_platform=V(tn);_ngZone=V(xt);_animationMode=V(Xn,{optional:!0});_focusMonitor=V(el);_rippleLoader=V(y$);_isFab=!1;color;get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=e,this._updateRippleDisabled()}_disableRipple=!1;get disabled(){return this._disabled}set disabled(e){this._disabled=e,this._updateRippleDisabled()}_disabled=!1;ariaDisabled;disabledInteractive;constructor(){V(Ti).load(tl);let e=V(QCe,{optional:!0}),n=this._elementRef.nativeElement,i=n.classList;this.disabledInteractive=e?.disabledInteractive??!1,this.color=e?.color??null,this._rippleLoader?.configureRipple(n,{className:"mat-mdc-button-ripple"});for(let{attribute:o,mdcClasses:s}of JCe)n.hasAttribute(o)&&i.add(...s)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(e="program",n){e?this._focusMonitor.focusVia(this._elementRef.nativeElement,e,n):this._elementRef.nativeElement.focus(n)}_getAriaDisabled(){return this.ariaDisabled!=null?this.ariaDisabled:this.disabled&&this.disabledInteractive?!0:null}_getDisabledAttribute(){return this.disabledInteractive||!this.disabled?null:!0}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}static \u0275fac=function(n){return new(n||r)};static \u0275dir=ft({type:r,inputs:{color:"color",disableRipple:[2,"disableRipple","disableRipple",Mt],disabled:[2,"disabled","disabled",Mt],ariaDisabled:[2,"aria-disabled","ariaDisabled",Mt],disabledInteractive:[2,"disabledInteractive","disabledInteractive",Mt]},features:[Ur]})}return r})();var Fn=(()=>{class r extends x${static \u0275fac=(()=>{let e;return function(i){return(e||(e=Kn(r)))(i||r)}})();static \u0275cmp=Be({type:r,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:14,hostBindings:function(n,i){n&2&&(rr("disabled",i._getDisabledAttribute())("aria-disabled",i._getAriaDisabled()),Li(i.color?"mat-"+i.color:""),Wt("mat-mdc-button-disabled",i.disabled)("mat-mdc-button-disabled-interactive",i.disabledInteractive)("_mat-animation-noopable",i._animationMode==="NoopAnimations")("mat-unthemed",!i.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],features:[er],attrs:$Ce,ngContentSelectors:YCe,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(n,i){n&1&&(un(GCe),Te(0,"span",0),hr(1),W(2,"span",1),hr(3,1),$(),hr(4,2),Te(5,"span",2)(6,"span",3)),n&2&&Wt("mdc-button__ripple",!i._isFab)("mdc-fab__ripple",i._isFab)},styles:['.mat-mdc-button-base{text-decoration:none}.mdc-button{-webkit-user-select:none;user-select:none;position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0);padding:0 8px}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__label{position:relative}.mat-mdc-button{padding:0 var(--mat-text-button-horizontal-padding, 12px);height:var(--mdc-text-button-container-height, 40px);font-family:var(--mdc-text-button-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mdc-text-button-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mdc-text-button-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mdc-text-button-label-text-transform);font-weight:var(--mdc-text-button-label-text-weight, var(--mat-sys-label-large-weight))}.mat-mdc-button,.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mat-sys-corner-full))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, var(--mat-sys-primary))}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-text-button-with-icon-horizontal-padding, 16px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-offset, -4px);margin-left:var(--mat-text-button-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-offset, -4px);margin-left:var(--mat-text-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, -4px)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color, var(--mat-sys-primary))}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-text-button-touch-target-display, block)}.mat-mdc-unelevated-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mdc-filled-button-container-height, 40px);font-family:var(--mdc-filled-button-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mdc-filled-button-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mdc-filled-button-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mdc-filled-button-label-text-transform);font-weight:var(--mdc-filled-button-label-text-weight, var(--mat-sys-label-large-weight));padding:0 var(--mat-filled-button-horizontal-padding, 24px)}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -8px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -8px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -8px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -8px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color, color-mix(in srgb, var(--mat-sys-on-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color, var(--mat-sys-on-primary))}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-unelevated-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-unelevated-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-unelevated-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-filled-button-touch-target-display, block)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, var(--mat-sys-on-primary));background-color:var(--mdc-filled-button-container-color, var(--mat-sys-primary))}.mat-mdc-unelevated-button,.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mat-sys-corner-full))}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mdc-filled-button-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);box-shadow:var(--mdc-protected-button-container-elevation-shadow, var(--mat-sys-level1));height:var(--mdc-protected-button-container-height, 40px);font-family:var(--mdc-protected-button-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mdc-protected-button-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mdc-protected-button-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mdc-protected-button-label-text-transform);font-weight:var(--mdc-protected-button-label-text-weight, var(--mat-sys-label-large-weight));padding:0 var(--mat-protected-button-horizontal-padding, 24px)}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -8px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -8px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -8px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -8px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color, var(--mat-sys-primary))}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-raised-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-raised-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-raised-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-protected-button-touch-target-display, block)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, var(--mat-sys-primary));background-color:var(--mdc-protected-button-container-color, var(--mat-sys-surface))}.mat-mdc-raised-button,.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mat-sys-corner-full))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation-shadow, var(--mat-sys-level2))}.mat-mdc-raised-button:focus{box-shadow:var(--mdc-protected-button-focus-container-elevation-shadow, var(--mat-sys-level1))}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mdc-protected-button-pressed-container-elevation-shadow, var(--mat-sys-level1))}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mdc-protected-button-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation-shadow, var(--mat-sys-level0))}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mdc-outlined-button-container-height, 40px);font-family:var(--mdc-outlined-button-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mdc-outlined-button-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mdc-outlined-button-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mdc-outlined-button-label-text-transform);font-weight:var(--mdc-outlined-button-label-text-weight, var(--mat-sys-label-large-weight));border-radius:var(--mdc-outlined-button-container-shape, var(--mat-sys-corner-full));border-width:var(--mdc-outlined-button-outline-width, 1px);padding:0 var(--mat-outlined-button-horizontal-padding, 24px)}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -8px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -8px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -8px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -8px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color, var(--mat-sys-primary))}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-outlined-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-outlined-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-outlined-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-outlined-button-touch-target-display, block)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, var(--mat-sys-primary));border-color:var(--mdc-outlined-button-outline-color, var(--mat-sys-outline))}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));border-color:var(--mdc-outlined-button-disabled-outline-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button .mdc-button__ripple{border-width:var(--mdc-outlined-button-outline-width, 1px);border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-button .mat-icon,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-unelevated-button .mat-icon,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-raised-button .mat-icon,.mat-mdc-outlined-button .mdc-button__label,.mat-mdc-outlined-button .mat-icon{z-index:1;position:relative}.mat-mdc-button .mat-focus-indicator,.mat-mdc-unelevated-button .mat-focus-indicator,.mat-mdc-raised-button .mat-focus-indicator,.mat-mdc-outlined-button .mat-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-focus-indicator::before,.mat-mdc-raised-button:focus .mat-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-focus-indicator::before{content:""}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px}.mat-mdc-unelevated-button .mat-focus-indicator::before,.mat-mdc-raised-button .mat-focus-indicator::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-focus-indicator::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px)*-1)}',"@media(forced-colors: active){.mat-mdc-button:not(.mdc-button--outlined),.mat-mdc-unelevated-button:not(.mdc-button--outlined),.mat-mdc-raised-button:not(.mdc-button--outlined),.mat-mdc-outlined-button:not(.mdc-button--outlined),.mat-mdc-icon-button.mat-mdc-icon-button{outline:solid 1px}}"],encapsulation:2,changeDetection:0})}return r})();var Na=(()=>{class r extends x${constructor(){super(),this._rippleLoader.configureRipple(this._elementRef.nativeElement,{centered:!0})}static \u0275fac=function(n){return new(n||r)};static \u0275cmp=Be({type:r,selectors:[["button","mat-icon-button",""]],hostVars:14,hostBindings:function(n,i){n&2&&(rr("disabled",i._getDisabledAttribute())("aria-disabled",i._getAriaDisabled()),Li(i.color?"mat-"+i.color:""),Wt("mat-mdc-button-disabled",i.disabled)("mat-mdc-button-disabled-interactive",i.disabledInteractive)("_mat-animation-noopable",i._animationMode==="NoopAnimations")("mat-unthemed",!i.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],features:[er],attrs:XCe,ngContentSelectors:ZCe,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(n,i){n&1&&(un(),Te(0,"span",0),hr(1),Te(2,"span",1)(3,"span",2))},styles:['.mat-mdc-icon-button{-webkit-user-select:none;user-select:none;display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;z-index:0;overflow:visible;border-radius:50%;flex-shrink:0;text-align:center;width:var(--mdc-icon-button-state-layer-size, 40px);height:var(--mdc-icon-button-state-layer-size, 40px);padding:calc(calc(var(--mdc-icon-button-state-layer-size, 40px) - var(--mdc-icon-button-icon-size, 24px)) / 2);font-size:var(--mdc-icon-button-icon-size, 24px);color:var(--mdc-icon-button-icon-color, var(--mat-sys-on-surface-variant));-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-icon-button .mdc-button__label,.mat-mdc-icon-button .mat-icon{z-index:1;position:relative}.mat-mdc-icon-button .mat-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-icon-button-ripple-color, color-mix(in srgb, var(--mat-sys-on-surface-variant) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-icon-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-icon-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-icon-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-icon-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%);display:var(--mat-icon-button-touch-target-display, block)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button[disabled],.mat-mdc-icon-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-icon-button-disabled-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-icon-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-icon-button img,.mat-mdc-icon-button svg{width:var(--mdc-icon-button-icon-size, 24px);height:var(--mdc-icon-button-icon-size, 24px);vertical-align:baseline}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button[hidden]{display:none}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',KCe],encapsulation:2,changeDetection:0})}return r})();var Wn=(()=>{class r{static \u0275fac=function(n){return new(n||r)};static \u0275mod=Nt({type:r});static \u0275inj=kt({imports:[$r,Em,$r]})}return r})();var Mm=class r{constructor(t,e){this.rows=[],this.label=t,this.rows=e||[]}static newDynamicForm(t){let e=new r;return e.label=t.label,e.show=t.show,e.hide=t.hide,t.rows?.forEach(n=>e.rows.push(ko.newDynamicForm(n))),e}},ko=class r{constructor(){this._value=null,this.required=!1}get value(){return this.signalValue||(this.signalValue=vi(this._value||null)),this._value??null}set value(t){this._value=t,this.signalValue?this.signalValue.set(t):this.signalValue=vi(t)}static newDynamicForm(t){let e=new r;return Object.assign(e,t),e}};var $o=class r{constructor(t){this.sizeUnit="px",Object.assign(this,t)}static fromAutoSize(t,e){return new r({cqmin:t,maxSize:e})}static fromSize(t){return new r({size:t})}},hS=class extends ko{constructor(){super(...arguments),this.ui={}}};var Mr={ValueFont:()=>$o.fromSize(18),LabelFont:()=>$o.fromSize(12)};function $n(r){return r?JSON.parse(JSON.stringify(r)):null}function ci(){return ci=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var n in e)({}).hasOwnProperty.call(e,n)&&(r[n]=e[n])}return r},ci.apply(null,arguments)}var SO={relTol:1e-12,absTol:1e-15,matrix:"Matrix",number:"number",numberFallback:"number",precision:64,predictable:!1,randomSeed:null};function ei(r,t){if(ay(r,t))return r[t];throw typeof r[t]=="function"&&mS(r,t)?new Error('Cannot access method "'+t+'" as a property'):new Error('No access to property "'+t+'"')}function lu(r,t,e){if(ay(r,t))return r[t]=e,e;throw new Error('No access to property "'+t+'"')}function ay(r,t){return!e1e(r)&&!Array.isArray(r)?!1:Dt(t1e,t)?!0:!(t in Object.prototype||t in Function.prototype)}function w$(r,t){if(!mS(r,t))throw new Error('No access to method "'+t+'"');return r[t]}function mS(r,t){return r==null||typeof r[t]!="function"||Dt(r,t)&&Object.getPrototypeOf&&t in Object.getPrototypeOf(r)?!1:Dt(r1e,t)?!0:!(t in Object.prototype||t in Function.prototype)}function e1e(r){return typeof r=="object"&&r&&r.constructor===Object}var t1e={length:!0,name:!0},r1e={toString:!0,valueOf:!0,toLocaleString:!0};var Nf=class{constructor(t){this.wrappedObject=t,this[Symbol.iterator]=this.entries}keys(){return Object.keys(this.wrappedObject).filter(t=>this.has(t)).values()}get(t){return ei(this.wrappedObject,t)}set(t,e){return lu(this.wrappedObject,t,e),this}has(t){return ay(this.wrappedObject,t)&&t in this.wrappedObject}entries(){return C$(this.keys(),t=>[t,this.get(t)])}forEach(t){for(var e of this.keys())t(this.get(e),e,this)}delete(t){ay(this.wrappedObject,t)&&delete this.wrappedObject[t]}clear(){for(var t of this.keys())this.delete(t)}get size(){return Object.keys(this.wrappedObject).length}},Hg=class{constructor(t,e,n){this.a=t,this.b=e,this.bKeys=n,this[Symbol.iterator]=this.entries}get(t){return this.bKeys.has(t)?this.b.get(t):this.a.get(t)}set(t,e){return this.bKeys.has(t)?this.b.set(t,e):this.a.set(t,e),this}has(t){return this.b.has(t)||this.a.has(t)}keys(){return new Set([...this.a.keys(),...this.b.keys()])[Symbol.iterator]()}entries(){return C$(this.keys(),t=>[t,this.get(t)])}forEach(t){for(var e of this.keys())t(this.get(e),e,this)}delete(t){return this.bKeys.has(t)?this.b.delete(t):this.a.delete(t)}clear(){this.a.clear(),this.b.clear()}get size(){return[...this.keys()].length}};function C$(r,t){return{next:()=>{var e=r.next();return e.done?e:{value:t(e.value),done:!1}}}}function Of(){return new Map}function xd(r){if(!r)return Of();if(pS(r))return r;if(Ff(r))return new Nf(r);throw new Error("createMap can create maps from objects or Maps")}function S$(r){if(r instanceof Nf)return r.wrappedObject;var t={};for(var e of r.keys()){var n=r.get(e);lu(t,e,n)}return t}function Bt(r){return typeof r=="number"}function It(r){return!r||typeof r!="object"||typeof r.constructor!="function"?!1:r.isBigNumber===!0&&typeof r.constructor.prototype=="object"&&r.constructor.prototype.isBigNumber===!0||typeof r.constructor.isDecimal=="function"&&r.constructor.isDecimal(r)===!0}function D$(r){return typeof r=="bigint"}function ua(r){return r&&typeof r=="object"&&Object.getPrototypeOf(r).isComplex===!0||!1}function wd(r){return r&&typeof r=="object"&&Object.getPrototypeOf(r).isFraction===!0||!1}function ls(r){return r&&r.constructor.prototype.isUnit===!0||!1}function Ii(r){return typeof r=="string"}var Gr=Array.isArray;function _t(r){return r&&r.constructor.prototype.isMatrix===!0||!1}function Bi(r){return Array.isArray(r)||_t(r)}function Am(r){return r&&r.isDenseMatrix&&r.constructor.prototype.isMatrix===!0||!1}function xc(r){return r&&r.isSparseMatrix&&r.constructor.prototype.isMatrix===!0||!1}function Ug(r){return r&&r.constructor.prototype.isRange===!0||!1}function Rf(r){return r&&r.constructor.prototype.isIndex===!0||!1}function E$(r){return typeof r=="boolean"}function M$(r){return r&&r.constructor.prototype.isResultSet===!0||!1}function gS(r){return r&&r.constructor.prototype.isHelp===!0||!1}function A$(r){return typeof r=="function"}function T$(r){return r instanceof Date}function I$(r){return r instanceof RegExp}function Ff(r){return!!(r&&typeof r=="object"&&r.constructor===Object&&!ua(r)&&!wd(r))}function pS(r){return r?r instanceof Map||r instanceof Nf||typeof r.set=="function"&&typeof r.get=="function"&&typeof r.keys=="function"&&typeof r.has=="function":!1}function k$(r){return r===null}function N$(r){return r===void 0}function rl(r){return r&&r.isAccessorNode===!0&&r.constructor.prototype.isNode===!0||!1}function cs(r){return r&&r.isArrayNode===!0&&r.constructor.prototype.isNode===!0||!1}function O$(r){return r&&r.isAssignmentNode===!0&&r.constructor.prototype.isNode===!0||!1}function F$(r){return r&&r.isBlockNode===!0&&r.constructor.prototype.isNode===!0||!1}function R$(r){return r&&r.isConditionalNode===!0&&r.constructor.prototype.isNode===!0||!1}function xr(r){return r&&r.isConstantNode===!0&&r.constructor.prototype.isNode===!0||!1}function ly(r){return xr(r)||zn(r)&&r.args.length===1&&xr(r.args[0])&&"-+~".includes(r.op)}function cu(r){return r&&r.isFunctionAssignmentNode===!0&&r.constructor.prototype.isNode===!0||!1}function da(r){return r&&r.isFunctionNode===!0&&r.constructor.prototype.isNode===!0||!1}function Fl(r){return r&&r.isIndexNode===!0&&r.constructor.prototype.isNode===!0||!1}function Ar(r){return r&&r.isNode===!0&&r.constructor.prototype.isNode===!0||!1}function Pf(r){return r&&r.isObjectNode===!0&&r.constructor.prototype.isNode===!0||!1}function zn(r){return r&&r.isOperatorNode===!0&&r.constructor.prototype.isNode===!0||!1}function us(r){return r&&r.isParenthesisNode===!0&&r.constructor.prototype.isNode===!0||!1}function P$(r){return r&&r.isRangeNode===!0&&r.constructor.prototype.isNode===!0||!1}function L$(r){return r&&r.isRelationalNode===!0&&r.constructor.prototype.isNode===!0||!1}function In(r){return r&&r.isSymbolNode===!0&&r.constructor.prototype.isNode===!0||!1}function vS(r){return r&&r.constructor.prototype.isChain===!0||!1}function Rr(r){var t=typeof r;return t==="object"?r===null?"null":It(r)?"BigNumber":r.constructor&&r.constructor.name?r.constructor.name:"Object":t}function Pt(r){var t=typeof r;if(t==="number"||t==="bigint"||t==="string"||t==="boolean"||r===null||r===void 0)return r;if(typeof r.clone=="function")return r.clone();if(Array.isArray(r))return r.map(function(e){return Pt(e)});if(r instanceof Date)return new Date(r.valueOf());if(It(r))return r;if(Ff(r))return n1e(r,Pt);if(t==="function")return r;throw new TypeError("Cannot clone: unknown type of value (value: ".concat(r,")"))}function n1e(r,t){var e={};for(var n in r)Dt(r,n)&&(e[n]=t(r[n]));return e}function bS(r,t){for(var e in t)Dt(t,e)&&(r[e]=t[e]);return r}function Oa(r,t){var e,n,i;if(Array.isArray(r)){if(!Array.isArray(t)||r.length!==t.length)return!1;for(n=0,i=r.length;n<i;n++)if(!Oa(r[n],t[n]))return!1;return!0}else{if(typeof r=="function")return r===t;if(r instanceof Object){if(Array.isArray(t)||!(t instanceof Object))return!1;for(e in r)if(!(e in t)||!Oa(r[e],t[e]))return!1;for(e in t)if(!(e in r))return!1;return!0}else return r===t}}function B$(r,t,e){var n=!0,i;Object.defineProperty(r,t,{get:function(){return n&&(i=e(),n=!1),i},set:function(s){i=s,n=!1},configurable:!0,enumerable:!0})}function Dt(r,t){return r&&Object.hasOwnProperty.call(r,t)}function V$(r,t){for(var e={},n=0;n<t.length;n++){var i=t[n],o=r[i];o!==void 0&&(e[i]=o)}return e}var z$=["Matrix","Array"],j$=["number","BigNumber","Fraction"];var We=function(t){if(t)throw new Error(`The global config is readonly. 
Please create a mathjs instance if you want to change the default configuration. 
Example:

  import { create, all } from 'mathjs';
  const mathjs = create(all);
  mathjs.config({ number: 'BigNumber' });
`);return Object.freeze(SO)};ci(We,SO,{MATRIX_OPTIONS:z$,NUMBER_OPTIONS:j$});var kO=Wh(MO(),1);function F(r,t,e,n){function i(o){var s=V$(o,t.map(s1e));return i1e(r,t,o),e(s)}return i.isFactory=!0,i.fn=r,i.dependencies=t.slice().sort(),n&&(i.meta=n),i}function i1e(r,t,e){var n=t.filter(o=>!o1e(o)).every(o=>e[o]!==void 0);if(!n){var i=t.filter(o=>e[o]===void 0);throw new Error('Cannot create function "'.concat(r,'", ')+"some dependencies are missing: ".concat(i.map(o=>'"'.concat(o,'"')).join(", "),"."))}}function o1e(r){return r&&r[0]==="?"}function s1e(r){return r&&r[0]==="?"?r.slice(1):r}function pt(r){return typeof r=="boolean"?!0:isFinite(r)?r===Math.round(r):!1}function a1e(r){return/^-?\d+$/.test(r)}function Ms(r,t){return t.number==="bigint"&&!a1e(r)?t.numberFallback:t.number}var Rl=Math.sign||function(r){return r>0?1:r<0?-1:0},q$=Math.log2||function(t){return Math.log(t)/Math.LN2},W$=Math.log10||function(t){return Math.log(t)/Math.LN10},yS=Math.log1p||function(r){return Math.log(r+1)},$$=Math.cbrt||function(t){if(t===0)return t;var e=t<0,n;return e&&(t=-t),isFinite(t)?(n=Math.exp(Math.log(t)/3),n=(t/(n*n)+2*n)/3):n=t,e?-n:n},G$=Math.expm1||function(t){return t>=2e-4||t<=-2e-4?Math.exp(t)-1:t+t*t/2+t*t*t/6};function AO(r,t,e){var n={2:"0b",8:"0o",16:"0x"},i=n[t],o="";if(e){if(e<1)throw new Error("size must be in greater than 0");if(!pt(e))throw new Error("size must be an integer");if(r>2**(e-1)-1||r<-(2**(e-1)))throw new Error("Value must be in range [-2^".concat(e-1,", 2^").concat(e-1,"-1]"));if(!pt(r))throw new Error("Value must be an integer");r<0&&(r=r+2**e),o="i".concat(e)}var s="";return r<0&&(r=-r,s="-"),"".concat(s).concat(i).concat(r.toString(t)).concat(o)}function wc(r,t){if(typeof t=="function")return t(r);if(r===1/0)return"Infinity";if(r===-1/0)return"-Infinity";if(isNaN(r))return"NaN";var{notation:e,precision:n,wordSize:i}=TO(t);switch(e){case"fixed":return IO(r,n);case"exponential":return Y$(r,n);case"engineering":return l1e(r,n);case"bin":return AO(r,2,i);case"oct":return AO(r,8,i);case"hex":return AO(r,16,i);case"auto":return c1e(r,n,t).replace(/((\.\d*?)(0+))($|e)/,function(){var o=arguments[2],s=arguments[4];return o!=="."?o+s:s});default:throw new Error('Unknown notation "'+e+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function TO(r){var t="auto",e,n;if(r!==void 0)if(Bt(r))e=r;else if(It(r))e=r.toNumber();else if(Ff(r))r.precision!==void 0&&(e=H$(r.precision,()=>{throw new Error('Option "precision" must be a number or BigNumber')})),r.wordSize!==void 0&&(n=H$(r.wordSize,()=>{throw new Error('Option "wordSize" must be a number or BigNumber')})),r.notation&&(t=r.notation);else throw new Error("Unsupported type of options, number, BigNumber, or object expected");return{notation:t,precision:e,wordSize:n}}function Wg(r){var t=String(r).toLowerCase().match(/^(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!t)throw new SyntaxError("Invalid number "+r);var e=t[1],n=t[2],i=parseFloat(t[4]||"0"),o=n.indexOf(".");i+=o!==-1?o-1:n.length-1;var s=n.replace(".","").replace(/^0*/,function(a){return i-=a.length,""}).replace(/0*$/,"").split("").map(function(a){return parseInt(a)});return s.length===0&&(s.push(0),i++),{sign:e,coefficients:s,exponent:i}}function l1e(r,t){if(isNaN(r)||!isFinite(r))return String(r);var e=Wg(r),n=_S(e,t),i=n.exponent,o=n.coefficients,s=i%3===0?i:i<0?i-3-i%3:i-i%3;if(Bt(t))for(;t>o.length||i-s+1>o.length;)o.push(0);else for(var a=Math.abs(i-s)-(o.length-1),l=0;l<a;l++)o.push(0);for(var c=Math.abs(i-s),d=1;c>0;)d++,c--;var f=o.slice(d).join(""),m=Bt(t)&&f.length||f.match(/[1-9]/)?"."+f:"",p=o.slice(0,d).join("")+m+"e"+(i>=0?"+":"")+s.toString();return n.sign+p}function IO(r,t){if(isNaN(r)||!isFinite(r))return String(r);var e=Wg(r),n=typeof t=="number"?_S(e,e.exponent+1+t):e,i=n.coefficients,o=n.exponent+1,s=o+(t||0);return i.length<s&&(i=i.concat(qg(s-i.length))),o<0&&(i=qg(-o+1).concat(i),o=1),o<i.length&&i.splice(o,0,o===0?"0.":"."),n.sign+i.join("")}function Y$(r,t){if(isNaN(r)||!isFinite(r))return String(r);var e=Wg(r),n=t?_S(e,t):e,i=n.coefficients,o=n.exponent;i.length<t&&(i=i.concat(qg(t-i.length)));var s=i.shift();return n.sign+s+(i.length>0?"."+i.join(""):"")+"e"+(o>=0?"+":"")+o}function c1e(r,t,e){if(isNaN(r)||!isFinite(r))return String(r);var n=U$(e?.lowerExp,-3),i=U$(e?.upperExp,5),o=Wg(r),s=t?_S(o,t):o;if(s.exponent<n||s.exponent>=i)return Y$(r,t);var a=s.coefficients,l=s.exponent;a.length<t&&(a=a.concat(qg(t-a.length))),a=a.concat(qg(l-a.length+1+(a.length<t?t-a.length:0))),a=qg(-l).concat(a);var c=l>0?l:0;return c<a.length-1&&a.splice(c+1,0,"."),s.sign+a.join("")}function _S(r,t){for(var e={sign:r.sign,coefficients:r.coefficients,exponent:r.exponent},n=e.coefficients;t<=0;)n.unshift(0),e.exponent++,t++;if(n.length>t){var i=n.splice(t,n.length-t);if(i[0]>=5){var o=t-1;for(n[o]++;n[o]===10;)n.pop(),o===0&&(n.unshift(0),e.exponent++,o++),o--,n[o]++}}return e}function qg(r){for(var t=[],e=0;e<r;e++)t.push(0);return t}function K$(r){return r.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length}var dXe=Number.EPSILON||2220446049250313e-31;function jn(r,t){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1e-8,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;if(e<=0)throw new Error("Relative tolerance must be greater than 0");if(n<0)throw new Error("Absolute tolerance must be at least 0");return isNaN(r)||isNaN(t)?!1:!isFinite(r)||!isFinite(t)?r===t:r===t?!0:Math.abs(r-t)<=Math.max(e*Math.max(Math.abs(r),Math.abs(t)),n)}var X$=Math.acosh||function(r){return Math.log(Math.sqrt(r*r-1)+r)},Z$=Math.asinh||function(r){return Math.log(Math.sqrt(r*r+1)+r)},Q$=Math.atanh||function(r){return Math.log((1+r)/(1-r))/2},xS=Math.cosh||function(r){return(Math.exp(r)+Math.exp(-r))/2},J$=Math.sinh||function(r){return(Math.exp(r)-Math.exp(-r))/2},wS=Math.tanh||function(r){var t=Math.exp(2*r);return(t-1)/(t+1)};function eG(r,t){var e=r>0?!0:r<0?!1:1/r===1/0,n=t>0?!0:t<0?!1:1/t===1/0;return e^n?-r:r}function H$(r,t){if(Bt(r))return r;if(It(r))return r.toNumber();t()}function U$(r,t){return Bt(r)?r:It(r)?r.toNumber():t}var tG=function(){return tG=kO.default.create,kO.default},u1e=["?BigNumber","?Complex","?DenseMatrix","?Fraction"],NO=F("typed",u1e,function(t){var{BigNumber:e,Complex:n,DenseMatrix:i,Fraction:o}=t,s=tG();return s.clear(),s.addTypes([{name:"number",test:Bt},{name:"Complex",test:ua},{name:"BigNumber",test:It},{name:"bigint",test:D$},{name:"Fraction",test:wd},{name:"Unit",test:ls},{name:"identifier",test:a=>Ii&&/^(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C8A\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CD\uA7D0\uA7D1\uA7D3\uA7D5-\uA7DC\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDDC0-\uDDF3\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDD4A-\uDD65\uDD6F-\uDD85\uDE80-\uDEA9\uDEB0\uDEB1\uDEC2-\uDEC4\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61\uDF80-\uDF89\uDF8B\uDF8E\uDF90-\uDFB5\uDFB7\uDFD1\uDFD3]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8\uDFC0-\uDFE0]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD80E\uD80F\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46\uDC60-\uDFFF]|\uD810[\uDC00-\uDFFA]|\uD811[\uDC00-\uDE46]|\uD818[\uDD00-\uDD1D]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDD40-\uDD6C\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDDD0-\uDDED\uDDF0\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C8A\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CD\uA7D0\uA7D1\uA7D3\uA7D5-\uA7DC\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDDC0-\uDDF3\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDD4A-\uDD65\uDD6F-\uDD85\uDE80-\uDEA9\uDEB0\uDEB1\uDEC2-\uDEC4\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61\uDF80-\uDF89\uDF8B\uDF8E\uDF90-\uDFB5\uDFB7\uDFD1\uDFD3]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8\uDFC0-\uDFE0]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD80E\uD80F\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46\uDC60-\uDFFF]|\uD810[\uDC00-\uDFFA]|\uD811[\uDC00-\uDE46]|\uD818[\uDD00-\uDD1D]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDD40-\uDD6C\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDDD0-\uDDED\uDDF0\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])*$/.test(a)},{name:"string",test:Ii},{name:"Chain",test:vS},{name:"Array",test:Gr},{name:"Matrix",test:_t},{name:"DenseMatrix",test:Am},{name:"SparseMatrix",test:xc},{name:"Range",test:Ug},{name:"Index",test:Rf},{name:"boolean",test:E$},{name:"ResultSet",test:M$},{name:"Help",test:gS},{name:"function",test:A$},{name:"Date",test:T$},{name:"RegExp",test:I$},{name:"null",test:k$},{name:"undefined",test:N$},{name:"AccessorNode",test:rl},{name:"ArrayNode",test:cs},{name:"AssignmentNode",test:O$},{name:"BlockNode",test:F$},{name:"ConditionalNode",test:R$},{name:"ConstantNode",test:xr},{name:"FunctionNode",test:da},{name:"FunctionAssignmentNode",test:cu},{name:"IndexNode",test:Fl},{name:"Node",test:Ar},{name:"ObjectNode",test:Pf},{name:"OperatorNode",test:zn},{name:"ParenthesisNode",test:us},{name:"RangeNode",test:P$},{name:"RelationalNode",test:L$},{name:"SymbolNode",test:In},{name:"Map",test:pS},{name:"Object",test:Ff}]),s.addConversions([{from:"number",to:"BigNumber",convert:function(l){if(e||CS(l),K$(l)>15)throw new TypeError("Cannot implicitly convert a number with >15 significant digits to BigNumber (value: "+l+"). Use function bignumber(x) to convert to BigNumber.");return new e(l)}},{from:"number",to:"Complex",convert:function(l){return n||SS(l),new n(l,0)}},{from:"BigNumber",to:"Complex",convert:function(l){return n||SS(l),new n(l.toNumber(),0)}},{from:"bigint",to:"number",convert:function(l){if(l>Number.MAX_SAFE_INTEGER)throw new TypeError("Cannot implicitly convert bigint to number: value exceeds the max safe integer value (value: "+l+")");return Number(l)}},{from:"bigint",to:"BigNumber",convert:function(l){return e||CS(l),new e(l.toString())}},{from:"bigint",to:"Fraction",convert:function(l){return o||DS(l),new o(l.toString())}},{from:"Fraction",to:"BigNumber",convert:function(l){throw new TypeError("Cannot implicitly convert a Fraction to BigNumber or vice versa. Use function bignumber(x) to convert to BigNumber or fraction(x) to convert to Fraction.")}},{from:"Fraction",to:"Complex",convert:function(l){return n||SS(l),new n(l.valueOf(),0)}},{from:"number",to:"Fraction",convert:function(l){o||DS(l);var c=new o(l);if(c.valueOf()!==l)throw new TypeError("Cannot implicitly convert a number to a Fraction when there will be a loss of precision (value: "+l+"). Use function fraction(x) to convert to Fraction.");return c}},{from:"string",to:"number",convert:function(l){var c=Number(l);if(isNaN(c))throw new Error('Cannot convert "'+l+'" to a number');return c}},{from:"string",to:"BigNumber",convert:function(l){e||CS(l);try{return new e(l)}catch{throw new Error('Cannot convert "'+l+'" to BigNumber')}}},{from:"string",to:"bigint",convert:function(l){try{return BigInt(l)}catch{throw new Error('Cannot convert "'+l+'" to BigInt')}}},{from:"string",to:"Fraction",convert:function(l){o||DS(l);try{return new o(l)}catch{throw new Error('Cannot convert "'+l+'" to Fraction')}}},{from:"string",to:"Complex",convert:function(l){n||SS(l);try{return new n(l)}catch{throw new Error('Cannot convert "'+l+'" to Complex')}}},{from:"boolean",to:"number",convert:function(l){return+l}},{from:"boolean",to:"BigNumber",convert:function(l){return e||CS(l),new e(+l)}},{from:"boolean",to:"bigint",convert:function(l){return BigInt(+l)}},{from:"boolean",to:"Fraction",convert:function(l){return o||DS(l),new o(+l)}},{from:"boolean",to:"string",convert:function(l){return String(l)}},{from:"Array",to:"Matrix",convert:function(l){return i||d1e(),new i(l)}},{from:"Matrix",to:"Array",convert:function(l){return l.valueOf()}}]),s.onMismatch=(a,l,c)=>{var d=s.createError(a,l,c);if(["wrongType","mismatch"].includes(d.data.category)&&l.length===1&&Bi(l[0])&&c.some(m=>!m.params.includes(","))){var f=new TypeError("Function '".concat(a,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(a,")'."));throw f.data=d.data,f}throw d},s.onMismatch=(a,l,c)=>{var d=s.createError(a,l,c);if(["wrongType","mismatch"].includes(d.data.category)&&l.length===1&&Bi(l[0])&&c.some(m=>!m.params.includes(","))){var f=new TypeError("Function '".concat(a,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(a,")'."));throw f.data=d.data,f}throw d},s});function CS(r){throw new Error("Cannot convert value ".concat(r," into a BigNumber: no class 'BigNumber' provided"))}function SS(r){throw new Error("Cannot convert value ".concat(r," into a Complex number: no class 'Complex' provided"))}function d1e(){throw new Error("Cannot convert array into a Matrix: no class 'DenseMatrix' provided")}function DS(r){throw new Error("Cannot convert value ".concat(r," into a Fraction, no class 'Fraction' provided."))}var f1e="ResultSet",h1e=[],OO=F(f1e,h1e,()=>{function r(t){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");this.entries=t||[]}return r.prototype.type="ResultSet",r.prototype.isResultSet=!0,r.prototype.valueOf=function(){return this.entries},r.prototype.toString=function(){return"["+this.entries.map(String).join(", ")+"]"},r.prototype.toJSON=function(){return{mathjs:"ResultSet",entries:this.entries}},r.fromJSON=function(t){return new r(t.entries)},r},{isClass:!0});var $g=9e15,zf=1e9,FO="0123456789abcdef",MS="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",AS="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",RO={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-$g,maxE:$g,crypto:!1},oG,Cd,Tr=!0,IS="[DecimalError] ",Vf=IS+"Invalid argument: ",sG=IS+"Precision limit exceeded",aG=IS+"crypto unavailable",lG="[object Decimal]",As=Math.floor,No=Math.pow,m1e=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,p1e=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,g1e=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,cG=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Sc=1e7,vr=7,v1e=9007199254740991,b1e=MS.length-1,PO=AS.length-1,rt={toStringTag:lG};rt.absoluteValue=rt.abs=function(){var r=new this.constructor(this);return r.s<0&&(r.s=1),nr(r)};rt.ceil=function(){return nr(new this.constructor(this),this.e+1,2)};rt.clampedTo=rt.clamp=function(r,t){var e,n=this,i=n.constructor;if(r=new i(r),t=new i(t),!r.s||!t.s)return new i(NaN);if(r.gt(t))throw Error(Vf+t);return e=n.cmp(r),e<0?r:n.cmp(t)>0?t:new i(n)};rt.comparedTo=rt.cmp=function(r){var t,e,n,i,o=this,s=o.d,a=(r=new o.constructor(r)).d,l=o.s,c=r.s;if(!s||!a)return!l||!c?NaN:l!==c?l:s===a?0:!s^l<0?1:-1;if(!s[0]||!a[0])return s[0]?l:a[0]?-c:0;if(l!==c)return l;if(o.e!==r.e)return o.e>r.e^l<0?1:-1;for(n=s.length,i=a.length,t=0,e=n<i?n:i;t<e;++t)if(s[t]!==a[t])return s[t]>a[t]^l<0?1:-1;return n===i?0:n>i^l<0?1:-1};rt.cosine=rt.cos=function(){var r,t,e=this,n=e.constructor;return e.d?e.d[0]?(r=n.precision,t=n.rounding,n.precision=r+Math.max(e.e,e.sd())+vr,n.rounding=1,e=y1e(n,mG(n,e)),n.precision=r,n.rounding=t,nr(Cd==2||Cd==3?e.neg():e,r,t,!0)):new n(1):new n(NaN)};rt.cubeRoot=rt.cbrt=function(){var r,t,e,n,i,o,s,a,l,c,d=this,f=d.constructor;if(!d.isFinite()||d.isZero())return new f(d);for(Tr=!1,o=d.s*No(d.s*d,1/3),!o||Math.abs(o)==1/0?(e=ds(d.d),r=d.e,(o=(r-e.length+1)%3)&&(e+=o==1||o==-2?"0":"00"),o=No(e,1/3),r=As((r+1)/3)-(r%3==(r<0?-1:2)),o==1/0?e="5e"+r:(e=o.toExponential(),e=e.slice(0,e.indexOf("e")+1)+r),n=new f(e),n.s=d.s):n=new f(o.toString()),s=(r=f.precision)+3;;)if(a=n,l=a.times(a).times(a),c=l.plus(d),n=ti(c.plus(d).times(a),c.plus(l),s+2,1),ds(a.d).slice(0,s)===(e=ds(n.d)).slice(0,s))if(e=e.slice(s-3,s+1),e=="9999"||!i&&e=="4999"){if(!i&&(nr(a,r+1,0),a.times(a).times(a).eq(d))){n=a;break}s+=4,i=1}else{(!+e||!+e.slice(1)&&e.charAt(0)=="5")&&(nr(n,r+1,1),t=!n.times(n).times(n).eq(d));break}return Tr=!0,nr(n,r,f.rounding,t)};rt.decimalPlaces=rt.dp=function(){var r,t=this.d,e=NaN;if(t){if(r=t.length-1,e=(r-As(this.e/vr))*vr,r=t[r],r)for(;r%10==0;r/=10)e--;e<0&&(e=0)}return e};rt.dividedBy=rt.div=function(r){return ti(this,new this.constructor(r))};rt.dividedToIntegerBy=rt.divToInt=function(r){var t=this,e=t.constructor;return nr(ti(t,new e(r),0,1,1),e.precision,e.rounding)};rt.equals=rt.eq=function(r){return this.cmp(r)===0};rt.floor=function(){return nr(new this.constructor(this),this.e+1,3)};rt.greaterThan=rt.gt=function(r){return this.cmp(r)>0};rt.greaterThanOrEqualTo=rt.gte=function(r){var t=this.cmp(r);return t==1||t===0};rt.hyperbolicCosine=rt.cosh=function(){var r,t,e,n,i,o=this,s=o.constructor,a=new s(1);if(!o.isFinite())return new s(o.s?1/0:NaN);if(o.isZero())return a;e=s.precision,n=s.rounding,s.precision=e+Math.max(o.e,o.sd())+4,s.rounding=1,i=o.d.length,i<32?(r=Math.ceil(i/3),t=(1/NS(4,r)).toString()):(r=16,t="2.3283064365386962890625e-10"),o=Gg(s,1,o.times(t),new s(1),!0);for(var l,c=r,d=new s(8);c--;)l=o.times(o),o=a.minus(l.times(d.minus(l.times(d))));return nr(o,s.precision=e,s.rounding=n,!0)};rt.hyperbolicSine=rt.sinh=function(){var r,t,e,n,i=this,o=i.constructor;if(!i.isFinite()||i.isZero())return new o(i);if(t=o.precision,e=o.rounding,o.precision=t+Math.max(i.e,i.sd())+4,o.rounding=1,n=i.d.length,n<3)i=Gg(o,2,i,i,!0);else{r=1.4*Math.sqrt(n),r=r>16?16:r|0,i=i.times(1/NS(5,r)),i=Gg(o,2,i,i,!0);for(var s,a=new o(5),l=new o(16),c=new o(20);r--;)s=i.times(i),i=i.times(a.plus(s.times(l.times(s).plus(c))))}return o.precision=t,o.rounding=e,nr(i,t,e,!0)};rt.hyperbolicTangent=rt.tanh=function(){var r,t,e=this,n=e.constructor;return e.isFinite()?e.isZero()?new n(e):(r=n.precision,t=n.rounding,n.precision=r+7,n.rounding=1,ti(e.sinh(),e.cosh(),n.precision=r,n.rounding=t)):new n(e.s)};rt.inverseCosine=rt.acos=function(){var r,t=this,e=t.constructor,n=t.abs().cmp(1),i=e.precision,o=e.rounding;return n!==-1?n===0?t.isNeg()?Cc(e,i,o):new e(0):new e(NaN):t.isZero()?Cc(e,i+4,o).times(.5):(e.precision=i+6,e.rounding=1,t=t.asin(),r=Cc(e,i+4,o).times(.5),e.precision=i,e.rounding=o,r.minus(t))};rt.inverseHyperbolicCosine=rt.acosh=function(){var r,t,e=this,n=e.constructor;return e.lte(1)?new n(e.eq(1)?0:NaN):e.isFinite()?(r=n.precision,t=n.rounding,n.precision=r+Math.max(Math.abs(e.e),e.sd())+4,n.rounding=1,Tr=!1,e=e.times(e).minus(1).sqrt().plus(e),Tr=!0,n.precision=r,n.rounding=t,e.ln()):new n(e)};rt.inverseHyperbolicSine=rt.asinh=function(){var r,t,e=this,n=e.constructor;return!e.isFinite()||e.isZero()?new n(e):(r=n.precision,t=n.rounding,n.precision=r+2*Math.max(Math.abs(e.e),e.sd())+6,n.rounding=1,Tr=!1,e=e.times(e).plus(1).sqrt().plus(e),Tr=!0,n.precision=r,n.rounding=t,e.ln())};rt.inverseHyperbolicTangent=rt.atanh=function(){var r,t,e,n,i=this,o=i.constructor;return i.isFinite()?i.e>=0?new o(i.abs().eq(1)?i.s/0:i.isZero()?i:NaN):(r=o.precision,t=o.rounding,n=i.sd(),Math.max(n,r)<2*-i.e-1?nr(new o(i),r,t,!0):(o.precision=e=n-i.e,i=ti(i.plus(1),new o(1).minus(i),e+r,1),o.precision=r+4,o.rounding=1,i=i.ln(),o.precision=r,o.rounding=t,i.times(.5))):new o(NaN)};rt.inverseSine=rt.asin=function(){var r,t,e,n,i=this,o=i.constructor;return i.isZero()?new o(i):(t=i.abs().cmp(1),e=o.precision,n=o.rounding,t!==-1?t===0?(r=Cc(o,e+4,n).times(.5),r.s=i.s,r):new o(NaN):(o.precision=e+6,o.rounding=1,i=i.div(new o(1).minus(i.times(i)).sqrt().plus(1)).atan(),o.precision=e,o.rounding=n,i.times(2)))};rt.inverseTangent=rt.atan=function(){var r,t,e,n,i,o,s,a,l,c=this,d=c.constructor,f=d.precision,m=d.rounding;if(c.isFinite()){if(c.isZero())return new d(c);if(c.abs().eq(1)&&f+4<=PO)return s=Cc(d,f+4,m).times(.25),s.s=c.s,s}else{if(!c.s)return new d(NaN);if(f+4<=PO)return s=Cc(d,f+4,m).times(.5),s.s=c.s,s}for(d.precision=a=f+10,d.rounding=1,e=Math.min(28,a/vr+2|0),r=e;r;--r)c=c.div(c.times(c).plus(1).sqrt().plus(1));for(Tr=!1,t=Math.ceil(a/vr),n=1,l=c.times(c),s=new d(c),i=c;r!==-1;)if(i=i.times(l),o=s.minus(i.div(n+=2)),i=i.times(l),s=o.plus(i.div(n+=2)),s.d[t]!==void 0)for(r=t;s.d[r]===o.d[r]&&r--;);return e&&(s=s.times(2<<e-1)),Tr=!0,nr(s,d.precision=f,d.rounding=m,!0)};rt.isFinite=function(){return!!this.d};rt.isInteger=rt.isInt=function(){return!!this.d&&As(this.e/vr)>this.d.length-2};rt.isNaN=function(){return!this.s};rt.isNegative=rt.isNeg=function(){return this.s<0};rt.isPositive=rt.isPos=function(){return this.s>0};rt.isZero=function(){return!!this.d&&this.d[0]===0};rt.lessThan=rt.lt=function(r){return this.cmp(r)<0};rt.lessThanOrEqualTo=rt.lte=function(r){return this.cmp(r)<1};rt.logarithm=rt.log=function(r){var t,e,n,i,o,s,a,l,c=this,d=c.constructor,f=d.precision,m=d.rounding,p=5;if(r==null)r=new d(10),t=!0;else{if(r=new d(r),e=r.d,r.s<0||!e||!e[0]||r.eq(1))return new d(NaN);t=r.eq(10)}if(e=c.d,c.s<0||!e||!e[0]||c.eq(1))return new d(e&&!e[0]?-1/0:c.s!=1?NaN:e?0:1/0);if(t)if(e.length>1)o=!0;else{for(i=e[0];i%10===0;)i/=10;o=i!==1}if(Tr=!1,a=f+p,s=Bf(c,a),n=t?TS(d,a+10):Bf(r,a),l=ti(s,n,a,1),cy(l.d,i=f,m))do if(a+=10,s=Bf(c,a),n=t?TS(d,a+10):Bf(r,a),l=ti(s,n,a,1),!o){+ds(l.d).slice(i+1,i+15)+1==1e14&&(l=nr(l,f+1,0));break}while(cy(l.d,i+=10,m));return Tr=!0,nr(l,f,m)};rt.minus=rt.sub=function(r){var t,e,n,i,o,s,a,l,c,d,f,m,p=this,b=p.constructor;if(r=new b(r),!p.d||!r.d)return!p.s||!r.s?r=new b(NaN):p.d?r.s=-r.s:r=new b(r.d||p.s!==r.s?p:NaN),r;if(p.s!=r.s)return r.s=-r.s,p.plus(r);if(c=p.d,m=r.d,a=b.precision,l=b.rounding,!c[0]||!m[0]){if(m[0])r.s=-r.s;else if(c[0])r=new b(p);else return new b(l===3?-0:0);return Tr?nr(r,a,l):r}if(e=As(r.e/vr),d=As(p.e/vr),c=c.slice(),o=d-e,o){for(f=o<0,f?(t=c,o=-o,s=m.length):(t=m,e=d,s=c.length),n=Math.max(Math.ceil(a/vr),s)+2,o>n&&(o=n,t.length=1),t.reverse(),n=o;n--;)t.push(0);t.reverse()}else{for(n=c.length,s=m.length,f=n<s,f&&(s=n),n=0;n<s;n++)if(c[n]!=m[n]){f=c[n]<m[n];break}o=0}for(f&&(t=c,c=m,m=t,r.s=-r.s),s=c.length,n=m.length-s;n>0;--n)c[s++]=0;for(n=m.length;n>o;){if(c[--n]<m[n]){for(i=n;i&&c[--i]===0;)c[i]=Sc-1;--c[i],c[n]+=Sc}c[n]-=m[n]}for(;c[--s]===0;)c.pop();for(;c[0]===0;c.shift())--e;return c[0]?(r.d=c,r.e=kS(c,e),Tr?nr(r,a,l):r):new b(l===3?-0:0)};rt.modulo=rt.mod=function(r){var t,e=this,n=e.constructor;return r=new n(r),!e.d||!r.s||r.d&&!r.d[0]?new n(NaN):!r.d||e.d&&!e.d[0]?nr(new n(e),n.precision,n.rounding):(Tr=!1,n.modulo==9?(t=ti(e,r.abs(),0,3,1),t.s*=r.s):t=ti(e,r,0,n.modulo,1),t=t.times(r),Tr=!0,e.minus(t))};rt.naturalExponential=rt.exp=function(){return LO(this)};rt.naturalLogarithm=rt.ln=function(){return Bf(this)};rt.negated=rt.neg=function(){var r=new this.constructor(this);return r.s=-r.s,nr(r)};rt.plus=rt.add=function(r){var t,e,n,i,o,s,a,l,c,d,f=this,m=f.constructor;if(r=new m(r),!f.d||!r.d)return!f.s||!r.s?r=new m(NaN):f.d||(r=new m(r.d||f.s===r.s?f:NaN)),r;if(f.s!=r.s)return r.s=-r.s,f.minus(r);if(c=f.d,d=r.d,a=m.precision,l=m.rounding,!c[0]||!d[0])return d[0]||(r=new m(f)),Tr?nr(r,a,l):r;if(o=As(f.e/vr),n=As(r.e/vr),c=c.slice(),i=o-n,i){for(i<0?(e=c,i=-i,s=d.length):(e=d,n=o,s=c.length),o=Math.ceil(a/vr),s=o>s?o+1:s+1,i>s&&(i=s,e.length=1),e.reverse();i--;)e.push(0);e.reverse()}for(s=c.length,i=d.length,s-i<0&&(i=s,e=d,d=c,c=e),t=0;i;)t=(c[--i]=c[i]+d[i]+t)/Sc|0,c[i]%=Sc;for(t&&(c.unshift(t),++n),s=c.length;c[--s]==0;)c.pop();return r.d=c,r.e=kS(c,n),Tr?nr(r,a,l):r};rt.precision=rt.sd=function(r){var t,e=this;if(r!==void 0&&r!==!!r&&r!==1&&r!==0)throw Error(Vf+r);return e.d?(t=uG(e.d),r&&e.e+1>t&&(t=e.e+1)):t=NaN,t};rt.round=function(){var r=this,t=r.constructor;return nr(new t(r),r.e+1,t.rounding)};rt.sine=rt.sin=function(){var r,t,e=this,n=e.constructor;return e.isFinite()?e.isZero()?new n(e):(r=n.precision,t=n.rounding,n.precision=r+Math.max(e.e,e.sd())+vr,n.rounding=1,e=x1e(n,mG(n,e)),n.precision=r,n.rounding=t,nr(Cd>2?e.neg():e,r,t,!0)):new n(NaN)};rt.squareRoot=rt.sqrt=function(){var r,t,e,n,i,o,s=this,a=s.d,l=s.e,c=s.s,d=s.constructor;if(c!==1||!a||!a[0])return new d(!c||c<0&&(!a||a[0])?NaN:a?s:1/0);for(Tr=!1,c=Math.sqrt(+s),c==0||c==1/0?(t=ds(a),(t.length+l)%2==0&&(t+="0"),c=Math.sqrt(t),l=As((l+1)/2)-(l<0||l%2),c==1/0?t="5e"+l:(t=c.toExponential(),t=t.slice(0,t.indexOf("e")+1)+l),n=new d(t)):n=new d(c.toString()),e=(l=d.precision)+3;;)if(o=n,n=o.plus(ti(s,o,e+2,1)).times(.5),ds(o.d).slice(0,e)===(t=ds(n.d)).slice(0,e))if(t=t.slice(e-3,e+1),t=="9999"||!i&&t=="4999"){if(!i&&(nr(o,l+1,0),o.times(o).eq(s))){n=o;break}e+=4,i=1}else{(!+t||!+t.slice(1)&&t.charAt(0)=="5")&&(nr(n,l+1,1),r=!n.times(n).eq(s));break}return Tr=!0,nr(n,l,d.rounding,r)};rt.tangent=rt.tan=function(){var r,t,e=this,n=e.constructor;return e.isFinite()?e.isZero()?new n(e):(r=n.precision,t=n.rounding,n.precision=r+10,n.rounding=1,e=e.sin(),e.s=1,e=ti(e,new n(1).minus(e.times(e)).sqrt(),r+10,0),n.precision=r,n.rounding=t,nr(Cd==2||Cd==4?e.neg():e,r,t,!0)):new n(NaN)};rt.times=rt.mul=function(r){var t,e,n,i,o,s,a,l,c,d=this,f=d.constructor,m=d.d,p=(r=new f(r)).d;if(r.s*=d.s,!m||!m[0]||!p||!p[0])return new f(!r.s||m&&!m[0]&&!p||p&&!p[0]&&!m?NaN:!m||!p?r.s/0:r.s*0);for(e=As(d.e/vr)+As(r.e/vr),l=m.length,c=p.length,l<c&&(o=m,m=p,p=o,s=l,l=c,c=s),o=[],s=l+c,n=s;n--;)o.push(0);for(n=c;--n>=0;){for(t=0,i=l+n;i>n;)a=o[i]+p[n]*m[i-n-1]+t,o[i--]=a%Sc|0,t=a/Sc|0;o[i]=(o[i]+t)%Sc|0}for(;!o[--s];)o.pop();return t?++e:o.shift(),r.d=o,r.e=kS(o,e),Tr?nr(r,f.precision,f.rounding):r};rt.toBinary=function(r,t){return VO(this,2,r,t)};rt.toDecimalPlaces=rt.toDP=function(r,t){var e=this,n=e.constructor;return e=new n(e),r===void 0?e:(Fa(r,0,zf),t===void 0?t=n.rounding:Fa(t,0,8),nr(e,r+e.e+1,t))};rt.toExponential=function(r,t){var e,n=this,i=n.constructor;return r===void 0?e=uu(n,!0):(Fa(r,0,zf),t===void 0?t=i.rounding:Fa(t,0,8),n=nr(new i(n),r+1,t),e=uu(n,!0,r+1)),n.isNeg()&&!n.isZero()?"-"+e:e};rt.toFixed=function(r,t){var e,n,i=this,o=i.constructor;return r===void 0?e=uu(i):(Fa(r,0,zf),t===void 0?t=o.rounding:Fa(t,0,8),n=nr(new o(i),r+i.e+1,t),e=uu(n,!1,r+n.e+1)),i.isNeg()&&!i.isZero()?"-"+e:e};rt.toFraction=function(r){var t,e,n,i,o,s,a,l,c,d,f,m,p=this,b=p.d,y=p.constructor;if(!b)return new y(p);if(c=e=new y(1),n=l=new y(0),t=new y(n),o=t.e=uG(b)-p.e-1,s=o%vr,t.d[0]=No(10,s<0?vr+s:s),r==null)r=o>0?t:c;else{if(a=new y(r),!a.isInt()||a.lt(c))throw Error(Vf+a);r=a.gt(t)?o>0?t:c:a}for(Tr=!1,a=new y(ds(b)),d=y.precision,y.precision=o=b.length*vr*2;f=ti(a,t,0,1,1),i=e.plus(f.times(n)),i.cmp(r)!=1;)e=n,n=i,i=c,c=l.plus(f.times(i)),l=i,i=t,t=a.minus(f.times(i)),a=i;return i=ti(r.minus(e),n,0,1,1),l=l.plus(i.times(c)),e=e.plus(i.times(n)),l.s=c.s=p.s,m=ti(c,n,o,1).minus(p).abs().cmp(ti(l,e,o,1).minus(p).abs())<1?[c,n]:[l,e],y.precision=d,Tr=!0,m};rt.toHexadecimal=rt.toHex=function(r,t){return VO(this,16,r,t)};rt.toNearest=function(r,t){var e=this,n=e.constructor;if(e=new n(e),r==null){if(!e.d)return e;r=new n(1),t=n.rounding}else{if(r=new n(r),t===void 0?t=n.rounding:Fa(t,0,8),!e.d)return r.s?e:r;if(!r.d)return r.s&&(r.s=e.s),r}return r.d[0]?(Tr=!1,e=ti(e,r,0,t,1).times(r),Tr=!0,nr(e)):(r.s=e.s,e=r),e};rt.toNumber=function(){return+this};rt.toOctal=function(r,t){return VO(this,8,r,t)};rt.toPower=rt.pow=function(r){var t,e,n,i,o,s,a=this,l=a.constructor,c=+(r=new l(r));if(!a.d||!r.d||!a.d[0]||!r.d[0])return new l(No(+a,c));if(a=new l(a),a.eq(1))return a;if(n=l.precision,o=l.rounding,r.eq(1))return nr(a,n,o);if(t=As(r.e/vr),t>=r.d.length-1&&(e=c<0?-c:c)<=v1e)return i=dG(l,a,e,n),r.s<0?new l(1).div(i):nr(i,n,o);if(s=a.s,s<0){if(t<r.d.length-1)return new l(NaN);if(r.d[t]&1||(s=1),a.e==0&&a.d[0]==1&&a.d.length==1)return a.s=s,a}return e=No(+a,c),t=e==0||!isFinite(e)?As(c*(Math.log("0."+ds(a.d))/Math.LN10+a.e+1)):new l(e+"").e,t>l.maxE+1||t<l.minE-1?new l(t>0?s/0:0):(Tr=!1,l.rounding=a.s=1,e=Math.min(12,(t+"").length),i=LO(r.times(Bf(a,n+e)),n),i.d&&(i=nr(i,n+5,1),cy(i.d,n,o)&&(t=n+10,i=nr(LO(r.times(Bf(a,t+e)),t),t+5,1),+ds(i.d).slice(n+1,n+15)+1==1e14&&(i=nr(i,n+1,0)))),i.s=s,Tr=!0,l.rounding=o,nr(i,n,o))};rt.toPrecision=function(r,t){var e,n=this,i=n.constructor;return r===void 0?e=uu(n,n.e<=i.toExpNeg||n.e>=i.toExpPos):(Fa(r,1,zf),t===void 0?t=i.rounding:Fa(t,0,8),n=nr(new i(n),r,t),e=uu(n,r<=n.e||n.e<=i.toExpNeg,r)),n.isNeg()&&!n.isZero()?"-"+e:e};rt.toSignificantDigits=rt.toSD=function(r,t){var e=this,n=e.constructor;return r===void 0?(r=n.precision,t=n.rounding):(Fa(r,1,zf),t===void 0?t=n.rounding:Fa(t,0,8)),nr(new n(e),r,t)};rt.toString=function(){var r=this,t=r.constructor,e=uu(r,r.e<=t.toExpNeg||r.e>=t.toExpPos);return r.isNeg()&&!r.isZero()?"-"+e:e};rt.truncated=rt.trunc=function(){return nr(new this.constructor(this),this.e+1,1)};rt.valueOf=rt.toJSON=function(){var r=this,t=r.constructor,e=uu(r,r.e<=t.toExpNeg||r.e>=t.toExpPos);return r.isNeg()?"-"+e:e};function ds(r){var t,e,n,i=r.length-1,o="",s=r[0];if(i>0){for(o+=s,t=1;t<i;t++)n=r[t]+"",e=vr-n.length,e&&(o+=Lf(e)),o+=n;s=r[t],n=s+"",e=vr-n.length,e&&(o+=Lf(e))}else if(s===0)return"0";for(;s%10===0;)s/=10;return o+s}function Fa(r,t,e){if(r!==~~r||r<t||r>e)throw Error(Vf+r)}function cy(r,t,e,n){var i,o,s,a;for(o=r[0];o>=10;o/=10)--t;return--t<0?(t+=vr,i=0):(i=Math.ceil((t+1)/vr),t%=vr),o=No(10,vr-t),a=r[i]%o|0,n==null?t<3?(t==0?a=a/100|0:t==1&&(a=a/10|0),s=e<4&&a==99999||e>3&&a==49999||a==5e4||a==0):s=(e<4&&a+1==o||e>3&&a+1==o/2)&&(r[i+1]/o/100|0)==No(10,t-2)-1||(a==o/2||a==0)&&(r[i+1]/o/100|0)==0:t<4?(t==0?a=a/1e3|0:t==1?a=a/100|0:t==2&&(a=a/10|0),s=(n||e<4)&&a==9999||!n&&e>3&&a==4999):s=((n||e<4)&&a+1==o||!n&&e>3&&a+1==o/2)&&(r[i+1]/o/1e3|0)==No(10,t-3)-1,s}function ES(r,t,e){for(var n,i=[0],o,s=0,a=r.length;s<a;){for(o=i.length;o--;)i[o]*=t;for(i[0]+=FO.indexOf(r.charAt(s++)),n=0;n<i.length;n++)i[n]>e-1&&(i[n+1]===void 0&&(i[n+1]=0),i[n+1]+=i[n]/e|0,i[n]%=e)}return i.reverse()}function y1e(r,t){var e,n,i;if(t.isZero())return t;n=t.d.length,n<32?(e=Math.ceil(n/3),i=(1/NS(4,e)).toString()):(e=16,i="2.3283064365386962890625e-10"),r.precision+=e,t=Gg(r,1,t.times(i),new r(1));for(var o=e;o--;){var s=t.times(t);t=s.times(s).minus(s).times(8).plus(1)}return r.precision-=e,t}var ti=function(){function r(n,i,o){var s,a=0,l=n.length;for(n=n.slice();l--;)s=n[l]*i+a,n[l]=s%o|0,a=s/o|0;return a&&n.unshift(a),n}function t(n,i,o,s){var a,l;if(o!=s)l=o>s?1:-1;else for(a=l=0;a<o;a++)if(n[a]!=i[a]){l=n[a]>i[a]?1:-1;break}return l}function e(n,i,o,s){for(var a=0;o--;)n[o]-=a,a=n[o]<i[o]?1:0,n[o]=a*s+n[o]-i[o];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,o,s,a,l){var c,d,f,m,p,b,y,C,S,A,x,M,E,w,T,k,I,O,R,j,q=n.constructor,X=n.s==i.s?1:-1,Y=n.d,P=i.d;if(!Y||!Y[0]||!P||!P[0])return new q(!n.s||!i.s||(Y?P&&Y[0]==P[0]:!P)?NaN:Y&&Y[0]==0||!P?X*0:X/0);for(l?(p=1,d=n.e-i.e):(l=Sc,p=vr,d=As(n.e/p)-As(i.e/p)),R=P.length,I=Y.length,S=new q(X),A=S.d=[],f=0;P[f]==(Y[f]||0);f++);if(P[f]>(Y[f]||0)&&d--,o==null?(w=o=q.precision,s=q.rounding):a?w=o+(n.e-i.e)+1:w=o,w<0)A.push(1),b=!0;else{if(w=w/p+2|0,f=0,R==1){for(m=0,P=P[0],w++;(f<I||m)&&w--;f++)T=m*l+(Y[f]||0),A[f]=T/P|0,m=T%P|0;b=m||f<I}else{for(m=l/(P[0]+1)|0,m>1&&(P=r(P,m,l),Y=r(Y,m,l),R=P.length,I=Y.length),k=R,x=Y.slice(0,R),M=x.length;M<R;)x[M++]=0;j=P.slice(),j.unshift(0),O=P[0],P[1]>=l/2&&++O;do m=0,c=t(P,x,R,M),c<0?(E=x[0],R!=M&&(E=E*l+(x[1]||0)),m=E/O|0,m>1?(m>=l&&(m=l-1),y=r(P,m,l),C=y.length,M=x.length,c=t(y,x,C,M),c==1&&(m--,e(y,R<C?j:P,C,l))):(m==0&&(c=m=1),y=P.slice()),C=y.length,C<M&&y.unshift(0),e(x,y,M,l),c==-1&&(M=x.length,c=t(P,x,R,M),c<1&&(m++,e(x,R<M?j:P,M,l))),M=x.length):c===0&&(m++,x=[0]),A[f++]=m,c&&x[0]?x[M++]=Y[k]||0:(x=[Y[k]],M=1);while((k++<I||x[0]!==void 0)&&w--);b=x[0]!==void 0}A[0]||A.shift()}if(p==1)S.e=d,oG=b;else{for(f=1,m=A[0];m>=10;m/=10)f++;S.e=f+d*p-1,nr(S,a?o+S.e+1:o,s,b)}return S}}();function nr(r,t,e,n){var i,o,s,a,l,c,d,f,m,p=r.constructor;e:if(t!=null){if(f=r.d,!f)return r;for(i=1,a=f[0];a>=10;a/=10)i++;if(o=t-i,o<0)o+=vr,s=t,d=f[m=0],l=d/No(10,i-s-1)%10|0;else if(m=Math.ceil((o+1)/vr),a=f.length,m>=a)if(n){for(;a++<=m;)f.push(0);d=l=0,i=1,o%=vr,s=o-vr+1}else break e;else{for(d=a=f[m],i=1;a>=10;a/=10)i++;o%=vr,s=o-vr+i,l=s<0?0:d/No(10,i-s-1)%10|0}if(n=n||t<0||f[m+1]!==void 0||(s<0?d:d%No(10,i-s-1)),c=e<4?(l||n)&&(e==0||e==(r.s<0?3:2)):l>5||l==5&&(e==4||n||e==6&&(o>0?s>0?d/No(10,i-s):0:f[m-1])%10&1||e==(r.s<0?8:7)),t<1||!f[0])return f.length=0,c?(t-=r.e+1,f[0]=No(10,(vr-t%vr)%vr),r.e=-t||0):f[0]=r.e=0,r;if(o==0?(f.length=m,a=1,m--):(f.length=m+1,a=No(10,vr-o),f[m]=s>0?(d/No(10,i-s)%No(10,s)|0)*a:0),c)for(;;)if(m==0){for(o=1,s=f[0];s>=10;s/=10)o++;for(s=f[0]+=a,a=1;s>=10;s/=10)a++;o!=a&&(r.e++,f[0]==Sc&&(f[0]=1));break}else{if(f[m]+=a,f[m]!=Sc)break;f[m--]=0,a=1}for(o=f.length;f[--o]===0;)f.pop()}return Tr&&(r.e>p.maxE?(r.d=null,r.e=NaN):r.e<p.minE&&(r.e=0,r.d=[0])),r}function uu(r,t,e){if(!r.isFinite())return hG(r);var n,i=r.e,o=ds(r.d),s=o.length;return t?(e&&(n=e-s)>0?o=o.charAt(0)+"."+o.slice(1)+Lf(n):s>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(r.e<0?"e":"e+")+r.e):i<0?(o="0."+Lf(-i-1)+o,e&&(n=e-s)>0&&(o+=Lf(n))):i>=s?(o+=Lf(i+1-s),e&&(n=e-i-1)>0&&(o=o+"."+Lf(n))):((n=i+1)<s&&(o=o.slice(0,n)+"."+o.slice(n)),e&&(n=e-s)>0&&(i+1===s&&(o+="."),o+=Lf(n))),o}function kS(r,t){var e=r[0];for(t*=vr;e>=10;e/=10)t++;return t}function TS(r,t,e){if(t>b1e)throw Tr=!0,e&&(r.precision=e),Error(sG);return nr(new r(MS),t,1,!0)}function Cc(r,t,e){if(t>PO)throw Error(sG);return nr(new r(AS),t,e,!0)}function uG(r){var t=r.length-1,e=t*vr+1;if(t=r[t],t){for(;t%10==0;t/=10)e--;for(t=r[0];t>=10;t/=10)e++}return e}function Lf(r){for(var t="";r--;)t+="0";return t}function dG(r,t,e,n){var i,o=new r(1),s=Math.ceil(n/vr+4);for(Tr=!1;;){if(e%2&&(o=o.times(t),nG(o.d,s)&&(i=!0)),e=As(e/2),e===0){e=o.d.length-1,i&&o.d[e]===0&&++o.d[e];break}t=t.times(t),nG(t.d,s)}return Tr=!0,o}function rG(r){return r.d[r.d.length-1]&1}function fG(r,t,e){for(var n,i=new r(t[0]),o=0;++o<t.length;)if(n=new r(t[o]),n.s)i[e](n)&&(i=n);else{i=n;break}return i}function LO(r,t){var e,n,i,o,s,a,l,c=0,d=0,f=0,m=r.constructor,p=m.rounding,b=m.precision;if(!r.d||!r.d[0]||r.e>17)return new m(r.d?r.d[0]?r.s<0?0:1/0:1:r.s?r.s<0?0:r:NaN);for(t==null?(Tr=!1,l=b):l=t,a=new m(.03125);r.e>-2;)r=r.times(a),f+=5;for(n=Math.log(No(2,f))/Math.LN10*2+5|0,l+=n,e=o=s=new m(1),m.precision=l;;){if(o=nr(o.times(r),l,1),e=e.times(++d),a=s.plus(ti(o,e,l,1)),ds(a.d).slice(0,l)===ds(s.d).slice(0,l)){for(i=f;i--;)s=nr(s.times(s),l,1);if(t==null)if(c<3&&cy(s.d,l-n,p,c))m.precision=l+=10,e=o=a=new m(1),d=0,c++;else return nr(s,m.precision=b,p,Tr=!0);else return m.precision=b,s}s=a}}function Bf(r,t){var e,n,i,o,s,a,l,c,d,f,m,p=1,b=10,y=r,C=y.d,S=y.constructor,A=S.rounding,x=S.precision;if(y.s<0||!C||!C[0]||!y.e&&C[0]==1&&C.length==1)return new S(C&&!C[0]?-1/0:y.s!=1?NaN:C?0:y);if(t==null?(Tr=!1,d=x):d=t,S.precision=d+=b,e=ds(C),n=e.charAt(0),Math.abs(o=y.e)<15e14){for(;n<7&&n!=1||n==1&&e.charAt(1)>3;)y=y.times(r),e=ds(y.d),n=e.charAt(0),p++;o=y.e,n>1?(y=new S("0."+e),o++):y=new S(n+"."+e.slice(1))}else return c=TS(S,d+2,x).times(o+""),y=Bf(new S(n+"."+e.slice(1)),d-b).plus(c),S.precision=x,t==null?nr(y,x,A,Tr=!0):y;for(f=y,l=s=y=ti(y.minus(1),y.plus(1),d,1),m=nr(y.times(y),d,1),i=3;;){if(s=nr(s.times(m),d,1),c=l.plus(ti(s,new S(i),d,1)),ds(c.d).slice(0,d)===ds(l.d).slice(0,d))if(l=l.times(2),o!==0&&(l=l.plus(TS(S,d+2,x).times(o+""))),l=ti(l,new S(p),d,1),t==null)if(cy(l.d,d-b,A,a))S.precision=d+=b,c=s=y=ti(f.minus(1),f.plus(1),d,1),m=nr(y.times(y),d,1),i=a=1;else return nr(l,S.precision=x,A,Tr=!0);else return S.precision=x,l;l=c,i+=2}}function hG(r){return String(r.s*r.s/0)}function BO(r,t){var e,n,i;for((e=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(e<0&&(e=n),e+=+t.slice(n+1),t=t.substring(0,n)):e<0&&(e=t.length),n=0;t.charCodeAt(n)===48;n++);for(i=t.length;t.charCodeAt(i-1)===48;--i);if(t=t.slice(n,i),t){if(i-=n,r.e=e=e-n-1,r.d=[],n=(e+1)%vr,e<0&&(n+=vr),n<i){for(n&&r.d.push(+t.slice(0,n)),i-=vr;n<i;)r.d.push(+t.slice(n,n+=vr));t=t.slice(n),n=vr-t.length}else n-=i;for(;n--;)t+="0";r.d.push(+t),Tr&&(r.e>r.constructor.maxE?(r.d=null,r.e=NaN):r.e<r.constructor.minE&&(r.e=0,r.d=[0]))}else r.e=0,r.d=[0];return r}function _1e(r,t){var e,n,i,o,s,a,l,c,d;if(t.indexOf("_")>-1){if(t=t.replace(/(\d)_(?=\d)/g,"$1"),cG.test(t))return BO(r,t)}else if(t==="Infinity"||t==="NaN")return+t||(r.s=NaN),r.e=NaN,r.d=null,r;if(p1e.test(t))e=16,t=t.toLowerCase();else if(m1e.test(t))e=2;else if(g1e.test(t))e=8;else throw Error(Vf+t);for(o=t.search(/p/i),o>0?(l=+t.slice(o+1),t=t.substring(2,o)):t=t.slice(2),o=t.indexOf("."),s=o>=0,n=r.constructor,s&&(t=t.replace(".",""),a=t.length,o=a-o,i=dG(n,new n(e),o,o*2)),c=ES(t,e,Sc),d=c.length-1,o=d;c[o]===0;--o)c.pop();return o<0?new n(r.s*0):(r.e=kS(c,d),r.d=c,Tr=!1,s&&(r=ti(r,i,a*4)),l&&(r=r.times(Math.abs(l)<54?No(2,l):uy.pow(2,l))),Tr=!0,r)}function x1e(r,t){var e,n=t.d.length;if(n<3)return t.isZero()?t:Gg(r,2,t,t);e=1.4*Math.sqrt(n),e=e>16?16:e|0,t=t.times(1/NS(5,e)),t=Gg(r,2,t,t);for(var i,o=new r(5),s=new r(16),a=new r(20);e--;)i=t.times(t),t=t.times(o.plus(i.times(s.times(i).minus(a))));return t}function Gg(r,t,e,n,i){var o,s,a,l,c=1,d=r.precision,f=Math.ceil(d/vr);for(Tr=!1,l=e.times(e),a=new r(n);;){if(s=ti(a.times(l),new r(t++*t++),d,1),a=i?n.plus(s):n.minus(s),n=ti(s.times(l),new r(t++*t++),d,1),s=a.plus(n),s.d[f]!==void 0){for(o=f;s.d[o]===a.d[o]&&o--;);if(o==-1)break}o=a,a=n,n=s,s=o,c++}return Tr=!0,s.d.length=f+1,s}function NS(r,t){for(var e=r;--t;)e*=r;return e}function mG(r,t){var e,n=t.s<0,i=Cc(r,r.precision,1),o=i.times(.5);if(t=t.abs(),t.lte(o))return Cd=n?4:1,t;if(e=t.divToInt(i),e.isZero())Cd=n?3:2;else{if(t=t.minus(e.times(i)),t.lte(o))return Cd=rG(e)?n?2:3:n?4:1,t;Cd=rG(e)?n?1:4:n?3:2}return t.minus(i).abs()}function VO(r,t,e,n){var i,o,s,a,l,c,d,f,m,p=r.constructor,b=e!==void 0;if(b?(Fa(e,1,zf),n===void 0?n=p.rounding:Fa(n,0,8)):(e=p.precision,n=p.rounding),!r.isFinite())d=hG(r);else{for(d=uu(r),s=d.indexOf("."),b?(i=2,t==16?e=e*4-3:t==8&&(e=e*3-2)):i=t,s>=0&&(d=d.replace(".",""),m=new p(1),m.e=d.length-s,m.d=ES(uu(m),10,i),m.e=m.d.length),f=ES(d,10,i),o=l=f.length;f[--l]==0;)f.pop();if(!f[0])d=b?"0p+0":"0";else{if(s<0?o--:(r=new p(r),r.d=f,r.e=o,r=ti(r,m,e,n,0,i),f=r.d,o=r.e,c=oG),s=f[e],a=i/2,c=c||f[e+1]!==void 0,c=n<4?(s!==void 0||c)&&(n===0||n===(r.s<0?3:2)):s>a||s===a&&(n===4||c||n===6&&f[e-1]&1||n===(r.s<0?8:7)),f.length=e,c)for(;++f[--e]>i-1;)f[e]=0,e||(++o,f.unshift(1));for(l=f.length;!f[l-1];--l);for(s=0,d="";s<l;s++)d+=FO.charAt(f[s]);if(b){if(l>1)if(t==16||t==8){for(s=t==16?4:3,--l;l%s;l++)d+="0";for(f=ES(d,i,t),l=f.length;!f[l-1];--l);for(s=1,d="1.";s<l;s++)d+=FO.charAt(f[s])}else d=d.charAt(0)+"."+d.slice(1);d=d+(o<0?"p":"p+")+o}else if(o<0){for(;++o;)d="0"+d;d="0."+d}else if(++o>l)for(o-=l;o--;)d+="0";else o<l&&(d=d.slice(0,o)+"."+d.slice(o))}d=(t==16?"0x":t==2?"0b":t==8?"0o":"")+d}return r.s<0?"-"+d:d}function nG(r,t){if(r.length>t)return r.length=t,!0}function w1e(r){return new this(r).abs()}function C1e(r){return new this(r).acos()}function S1e(r){return new this(r).acosh()}function D1e(r,t){return new this(r).plus(t)}function E1e(r){return new this(r).asin()}function M1e(r){return new this(r).asinh()}function A1e(r){return new this(r).atan()}function T1e(r){return new this(r).atanh()}function I1e(r,t){r=new this(r),t=new this(t);var e,n=this.precision,i=this.rounding,o=n+4;return!r.s||!t.s?e=new this(NaN):!r.d&&!t.d?(e=Cc(this,o,1).times(t.s>0?.25:.75),e.s=r.s):!t.d||r.isZero()?(e=t.s<0?Cc(this,n,i):new this(0),e.s=r.s):!r.d||t.isZero()?(e=Cc(this,o,1).times(.5),e.s=r.s):t.s<0?(this.precision=o,this.rounding=1,e=this.atan(ti(r,t,o,1)),t=Cc(this,o,1),this.precision=n,this.rounding=i,e=r.s<0?e.minus(t):e.plus(t)):e=this.atan(ti(r,t,o,1)),e}function k1e(r){return new this(r).cbrt()}function N1e(r){return nr(r=new this(r),r.e+1,2)}function O1e(r,t,e){return new this(r).clamp(t,e)}function F1e(r){if(!r||typeof r!="object")throw Error(IS+"Object expected");var t,e,n,i=r.defaults===!0,o=["precision",1,zf,"rounding",0,8,"toExpNeg",-$g,0,"toExpPos",0,$g,"maxE",0,$g,"minE",-$g,0,"modulo",0,9];for(t=0;t<o.length;t+=3)if(e=o[t],i&&(this[e]=RO[e]),(n=r[e])!==void 0)if(As(n)===n&&n>=o[t+1]&&n<=o[t+2])this[e]=n;else throw Error(Vf+e+": "+n);if(e="crypto",i&&(this[e]=RO[e]),(n=r[e])!==void 0)if(n===!0||n===!1||n===0||n===1)if(n)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[e]=!0;else throw Error(aG);else this[e]=!1;else throw Error(Vf+e+": "+n);return this}function R1e(r){return new this(r).cos()}function P1e(r){return new this(r).cosh()}function pG(r){var t,e,n;function i(o){var s,a,l,c=this;if(!(c instanceof i))return new i(o);if(c.constructor=i,iG(o)){c.s=o.s,Tr?!o.d||o.e>i.maxE?(c.e=NaN,c.d=null):o.e<i.minE?(c.e=0,c.d=[0]):(c.e=o.e,c.d=o.d.slice()):(c.e=o.e,c.d=o.d?o.d.slice():o.d);return}if(l=typeof o,l==="number"){if(o===0){c.s=1/o<0?-1:1,c.e=0,c.d=[0];return}if(o<0?(o=-o,c.s=-1):c.s=1,o===~~o&&o<1e7){for(s=0,a=o;a>=10;a/=10)s++;Tr?s>i.maxE?(c.e=NaN,c.d=null):s<i.minE?(c.e=0,c.d=[0]):(c.e=s,c.d=[o]):(c.e=s,c.d=[o]);return}else if(o*0!==0){o||(c.s=NaN),c.e=NaN,c.d=null;return}return BO(c,o.toString())}else if(l!=="string")throw Error(Vf+o);return(a=o.charCodeAt(0))===45?(o=o.slice(1),c.s=-1):(a===43&&(o=o.slice(1)),c.s=1),cG.test(o)?BO(c,o):_1e(c,o)}if(i.prototype=rt,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.EUCLID=9,i.config=i.set=F1e,i.clone=pG,i.isDecimal=iG,i.abs=w1e,i.acos=C1e,i.acosh=S1e,i.add=D1e,i.asin=E1e,i.asinh=M1e,i.atan=A1e,i.atanh=T1e,i.atan2=I1e,i.cbrt=k1e,i.ceil=N1e,i.clamp=O1e,i.cos=R1e,i.cosh=P1e,i.div=L1e,i.exp=B1e,i.floor=V1e,i.hypot=z1e,i.ln=j1e,i.log=H1e,i.log10=q1e,i.log2=U1e,i.max=W1e,i.min=$1e,i.mod=G1e,i.mul=Y1e,i.pow=K1e,i.random=X1e,i.round=Z1e,i.sign=Q1e,i.sin=J1e,i.sinh=eSe,i.sqrt=tSe,i.sub=rSe,i.sum=nSe,i.tan=iSe,i.tanh=oSe,i.trunc=sSe,r===void 0&&(r={}),r&&r.defaults!==!0)for(n=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],t=0;t<n.length;)r.hasOwnProperty(e=n[t++])||(r[e]=this[e]);return i.config(r),i}function L1e(r,t){return new this(r).div(t)}function B1e(r){return new this(r).exp()}function V1e(r){return nr(r=new this(r),r.e+1,3)}function z1e(){var r,t,e=new this(0);for(Tr=!1,r=0;r<arguments.length;)if(t=new this(arguments[r++]),t.d)e.d&&(e=e.plus(t.times(t)));else{if(t.s)return Tr=!0,new this(1/0);e=t}return Tr=!0,e.sqrt()}function iG(r){return r instanceof uy||r&&r.toStringTag===lG||!1}function j1e(r){return new this(r).ln()}function H1e(r,t){return new this(r).log(t)}function U1e(r){return new this(r).log(2)}function q1e(r){return new this(r).log(10)}function W1e(){return fG(this,arguments,"lt")}function $1e(){return fG(this,arguments,"gt")}function G1e(r,t){return new this(r).mod(t)}function Y1e(r,t){return new this(r).mul(t)}function K1e(r,t){return new this(r).pow(t)}function X1e(r){var t,e,n,i,o=0,s=new this(1),a=[];if(r===void 0?r=this.precision:Fa(r,1,zf),n=Math.ceil(r/vr),this.crypto)if(crypto.getRandomValues)for(t=crypto.getRandomValues(new Uint32Array(n));o<n;)i=t[o],i>=429e7?t[o]=crypto.getRandomValues(new Uint32Array(1))[0]:a[o++]=i%1e7;else if(crypto.randomBytes){for(t=crypto.randomBytes(n*=4);o<n;)i=t[o]+(t[o+1]<<8)+(t[o+2]<<16)+((t[o+3]&127)<<24),i>=214e7?crypto.randomBytes(4).copy(t,o):(a.push(i%1e7),o+=4);o=n/4}else throw Error(aG);else for(;o<n;)a[o++]=Math.random()*1e7|0;for(n=a[--o],r%=vr,n&&r&&(i=No(10,vr-r),a[o]=(n/i|0)*i);a[o]===0;o--)a.pop();if(o<0)e=0,a=[0];else{for(e=-1;a[0]===0;e-=vr)a.shift();for(n=1,i=a[0];i>=10;i/=10)n++;n<vr&&(e-=vr-n)}return s.e=e,s.d=a,s}function Z1e(r){return nr(r=new this(r),r.e+1,this.rounding)}function Q1e(r){return r=new this(r),r.d?r.d[0]?r.s:0*r.s:r.s||NaN}function J1e(r){return new this(r).sin()}function eSe(r){return new this(r).sinh()}function tSe(r){return new this(r).sqrt()}function rSe(r,t){return new this(r).sub(t)}function nSe(){var r=0,t=arguments,e=new this(t[r]);for(Tr=!1;e.s&&++r<t.length;)e=e.plus(t[r]);return Tr=!0,nr(e,this.precision,this.rounding)}function iSe(r){return new this(r).tan()}function oSe(r){return new this(r).tanh()}function sSe(r){return nr(r=new this(r),r.e+1,1)}rt[Symbol.for("nodejs.util.inspect.custom")]=rt.toString;rt[Symbol.toStringTag]="Decimal";var uy=rt.constructor=pG(RO);MS=new uy(MS);AS=new uy(AS);var Tm=uy;var aSe="BigNumber",lSe=["?on","config"],zO=F(aSe,lSe,r=>{var{on:t,config:e}=r,n=Tm.clone({precision:e.precision,modulo:Tm.EUCLID});return n.prototype=Object.create(n.prototype),n.prototype.type="BigNumber",n.prototype.isBigNumber=!0,n.prototype.toJSON=function(){return{mathjs:"BigNumber",value:this.toString()}},n.fromJSON=function(i){return new n(i.value)},t&&t("config",function(i,o){i.precision!==o.precision&&n.config({precision:i.precision})}),n},{isClass:!0});var Ts=Math.cosh||function(r){return Math.abs(r)<1e-9?1-r:(Math.exp(r)+Math.exp(-r))*.5},Pl=Math.sinh||function(r){return Math.abs(r)<1e-9?r:(Math.exp(r)-Math.exp(-r))*.5},cSe=function(r){let t=Math.PI/4;if(-t>r||r>t)return Math.cos(r)-1;let e=r*r;return e*(e*(e*(e*(e*(e*(e*(e/20922789888e3-1/87178291200)+1/479001600)-1/3628800)+1/40320)-1/720)+1/24)-1/2)},jO=function(r,t){return r=Math.abs(r),t=Math.abs(t),r<t&&([r,t]=[t,r]),r<1e8?Math.sqrt(r*r+t*t):(t/=r,r*Math.sqrt(1+t*t))},Yg=function(){throw SyntaxError("Invalid Param")};function HO(r,t){let e=Math.abs(r),n=Math.abs(t);return r===0?Math.log(n):t===0?Math.log(e):e<3e3&&n<3e3?Math.log(r*r+t*t)*.5:(r=r*.5,t=t*.5,.5*Math.log(r*r+t*t)+Math.LN2)}var uSe={re:0,im:0},Im=function(r,t){let e=uSe;if(r==null)e.re=e.im=0;else if(t!==void 0)e.re=r,e.im=t;else switch(typeof r){case"object":if("im"in r&&"re"in r)e.re=r.re,e.im=r.im;else if("abs"in r&&"arg"in r){if(!isFinite(r.abs)&&isFinite(r.arg))return $e.INFINITY;e.re=r.abs*Math.cos(r.arg),e.im=r.abs*Math.sin(r.arg)}else if("r"in r&&"phi"in r){if(!isFinite(r.r)&&isFinite(r.phi))return $e.INFINITY;e.re=r.r*Math.cos(r.phi),e.im=r.r*Math.sin(r.phi)}else r.length===2?(e.re=r[0],e.im=r[1]):Yg();break;case"string":e.im=e.re=0;let n=r.replace(/_/g,"").match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g),i=1,o=0;n===null&&Yg();for(let s=0;s<n.length;s++){let a=n[s];a===" "||a==="	"||a===`
`||(a==="+"?i++:a==="-"?o++:a==="i"||a==="I"?(i+o===0&&Yg(),n[s+1]!==" "&&!isNaN(n[s+1])?(e.im+=parseFloat((o%2?"-":"")+n[s+1]),s++):e.im+=parseFloat((o%2?"-":"")+"1"),i=o=0):((i+o===0||isNaN(a))&&Yg(),n[s+1]==="i"||n[s+1]==="I"?(e.im+=parseFloat((o%2?"-":"")+a),s++):e.re+=parseFloat((o%2?"-":"")+a),i=o=0))}i+o>0&&Yg();break;case"number":e.im=0,e.re=r;break;default:Yg()}return isNaN(e.re)||isNaN(e.im),e};function $e(r,t){if(!(this instanceof $e))return new $e(r,t);let e=Im(r,t);this.re=e.re,this.im=e.im}$e.prototype={re:0,im:0,sign:function(){let r=jO(this.re,this.im);return new $e(this.re/r,this.im/r)},add:function(r,t){let e=Im(r,t),n=this.isInfinite(),i=!(isFinite(e.re)&&isFinite(e.im));return n||i?n&&i?$e.NAN:$e.INFINITY:new $e(this.re+e.re,this.im+e.im)},sub:function(r,t){let e=Im(r,t),n=this.isInfinite(),i=!(isFinite(e.re)&&isFinite(e.im));return n||i?n&&i?$e.NAN:$e.INFINITY:new $e(this.re-e.re,this.im-e.im)},mul:function(r,t){let e=Im(r,t),n=this.isInfinite(),i=!(isFinite(e.re)&&isFinite(e.im)),o=this.re===0&&this.im===0,s=e.re===0&&e.im===0;return n&&s||i&&o?$e.NAN:n||i?$e.INFINITY:e.im===0&&this.im===0?new $e(this.re*e.re,0):new $e(this.re*e.re-this.im*e.im,this.re*e.im+this.im*e.re)},div:function(r,t){let e=Im(r,t),n=this.isInfinite(),i=!(isFinite(e.re)&&isFinite(e.im)),o=this.re===0&&this.im===0,s=e.re===0&&e.im===0;if(o&&s||n&&i)return $e.NAN;if(s||n)return $e.INFINITY;if(o||i)return $e.ZERO;if(e.im===0)return new $e(this.re/e.re,this.im/e.re);if(Math.abs(e.re)<Math.abs(e.im)){let a=e.re/e.im,l=e.re*a+e.im;return new $e((this.re*a+this.im)/l,(this.im*a-this.re)/l)}else{let a=e.im/e.re,l=e.im*a+e.re;return new $e((this.re+this.im*a)/l,(this.im-this.re*a)/l)}},pow:function(r,t){let e=Im(r,t),n=this.re===0&&this.im===0;if(e.re===0&&e.im===0)return $e.ONE;if(e.im===0){if(this.im===0&&this.re>0)return new $e(Math.pow(this.re,e.re),0);if(this.re===0)switch((e.re%4+4)%4){case 0:return new $e(Math.pow(this.im,e.re),0);case 1:return new $e(0,Math.pow(this.im,e.re));case 2:return new $e(-Math.pow(this.im,e.re),0);case 3:return new $e(0,-Math.pow(this.im,e.re))}}if(n&&e.re>0)return $e.ZERO;let o=Math.atan2(this.im,this.re),s=HO(this.re,this.im),a=Math.exp(e.re*s-e.im*o),l=e.im*s+e.re*o;return new $e(a*Math.cos(l),a*Math.sin(l))},sqrt:function(){let r=this.re,t=this.im;if(t===0)return r>=0?new $e(Math.sqrt(r),0):new $e(0,Math.sqrt(-r));let e=jO(r,t),n=Math.sqrt(.5*(e+Math.abs(r))),i=Math.abs(t)/(2*n);return r>=0?new $e(n,t<0?-i:i):new $e(i,t<0?-n:n)},exp:function(){let r=Math.exp(this.re);return this.im===0?new $e(r,0):new $e(r*Math.cos(this.im),r*Math.sin(this.im))},expm1:function(){let r=this.re,t=this.im;return new $e(Math.expm1(r)*Math.cos(t)+cSe(t),Math.exp(r)*Math.sin(t))},log:function(){let r=this.re,t=this.im;return t===0&&r>0?new $e(Math.log(r),0):new $e(HO(r,t),Math.atan2(t,r))},abs:function(){return jO(this.re,this.im)},arg:function(){return Math.atan2(this.im,this.re)},sin:function(){let r=this.re,t=this.im;return new $e(Math.sin(r)*Ts(t),Math.cos(r)*Pl(t))},cos:function(){let r=this.re,t=this.im;return new $e(Math.cos(r)*Ts(t),-Math.sin(r)*Pl(t))},tan:function(){let r=2*this.re,t=2*this.im,e=Math.cos(r)+Ts(t);return new $e(Math.sin(r)/e,Pl(t)/e)},cot:function(){let r=2*this.re,t=2*this.im,e=Math.cos(r)-Ts(t);return new $e(-Math.sin(r)/e,Pl(t)/e)},sec:function(){let r=this.re,t=this.im,e=.5*Ts(2*t)+.5*Math.cos(2*r);return new $e(Math.cos(r)*Ts(t)/e,Math.sin(r)*Pl(t)/e)},csc:function(){let r=this.re,t=this.im,e=.5*Ts(2*t)-.5*Math.cos(2*r);return new $e(Math.sin(r)*Ts(t)/e,-Math.cos(r)*Pl(t)/e)},asin:function(){let r=this.re,t=this.im,e=new $e(t*t-r*r+1,-2*r*t).sqrt(),n=new $e(e.re-t,e.im+r).log();return new $e(n.im,-n.re)},acos:function(){let r=this.re,t=this.im,e=new $e(t*t-r*r+1,-2*r*t).sqrt(),n=new $e(e.re-t,e.im+r).log();return new $e(Math.PI/2-n.im,n.re)},atan:function(){let r=this.re,t=this.im;if(r===0){if(t===1)return new $e(0,1/0);if(t===-1)return new $e(0,-1/0)}let e=r*r+(1-t)*(1-t),n=new $e((1-t*t-r*r)/e,-2*r/e).log();return new $e(-.5*n.im,.5*n.re)},acot:function(){let r=this.re,t=this.im;if(t===0)return new $e(Math.atan2(1,r),0);let e=r*r+t*t;return e!==0?new $e(r/e,-t/e).atan():new $e(r!==0?r/0:0,t!==0?-t/0:0).atan()},asec:function(){let r=this.re,t=this.im;if(r===0&&t===0)return new $e(0,1/0);let e=r*r+t*t;return e!==0?new $e(r/e,-t/e).acos():new $e(r!==0?r/0:0,t!==0?-t/0:0).acos()},acsc:function(){let r=this.re,t=this.im;if(r===0&&t===0)return new $e(Math.PI/2,1/0);let e=r*r+t*t;return e!==0?new $e(r/e,-t/e).asin():new $e(r!==0?r/0:0,t!==0?-t/0:0).asin()},sinh:function(){let r=this.re,t=this.im;return new $e(Pl(r)*Math.cos(t),Ts(r)*Math.sin(t))},cosh:function(){let r=this.re,t=this.im;return new $e(Ts(r)*Math.cos(t),Pl(r)*Math.sin(t))},tanh:function(){let r=2*this.re,t=2*this.im,e=Ts(r)+Math.cos(t);return new $e(Pl(r)/e,Math.sin(t)/e)},coth:function(){let r=2*this.re,t=2*this.im,e=Ts(r)-Math.cos(t);return new $e(Pl(r)/e,-Math.sin(t)/e)},csch:function(){let r=this.re,t=this.im,e=Math.cos(2*t)-Ts(2*r);return new $e(-2*Pl(r)*Math.cos(t)/e,2*Ts(r)*Math.sin(t)/e)},sech:function(){let r=this.re,t=this.im,e=Math.cos(2*t)+Ts(2*r);return new $e(2*Ts(r)*Math.cos(t)/e,-2*Pl(r)*Math.sin(t)/e)},asinh:function(){let r=this.im;this.im=-this.re,this.re=r;let t=this.asin();return this.re=-this.im,this.im=r,r=t.re,t.re=-t.im,t.im=r,t},acosh:function(){let r=this.acos();if(r.im<=0){let t=r.re;r.re=-r.im,r.im=t}else{let t=r.im;r.im=-r.re,r.re=t}return r},atanh:function(){let r=this.re,t=this.im,e=r>1&&t===0,n=1-r,i=1+r,o=n*n+t*t,s=o!==0?new $e((i*n-t*t)/o,(t*n+i*t)/o):new $e(r!==-1?r/0:0,t!==0?t/0:0),a=s.re;return s.re=HO(s.re,s.im)/2,s.im=Math.atan2(s.im,a)/2,e&&(s.im=-s.im),s},acoth:function(){let r=this.re,t=this.im;if(r===0&&t===0)return new $e(0,Math.PI/2);let e=r*r+t*t;return e!==0?new $e(r/e,-t/e).atanh():new $e(r!==0?r/0:0,t!==0?-t/0:0).atanh()},acsch:function(){let r=this.re,t=this.im;if(t===0)return new $e(r!==0?Math.log(r+Math.sqrt(r*r+1)):1/0,0);let e=r*r+t*t;return e!==0?new $e(r/e,-t/e).asinh():new $e(r!==0?r/0:0,t!==0?-t/0:0).asinh()},asech:function(){let r=this.re,t=this.im;if(this.isZero())return $e.INFINITY;let e=r*r+t*t;return e!==0?new $e(r/e,-t/e).acosh():new $e(r!==0?r/0:0,t!==0?-t/0:0).acosh()},inverse:function(){if(this.isZero())return $e.INFINITY;if(this.isInfinite())return $e.ZERO;let r=this.re,t=this.im,e=r*r+t*t;return new $e(r/e,-t/e)},conjugate:function(){return new $e(this.re,-this.im)},neg:function(){return new $e(-this.re,-this.im)},ceil:function(r){return r=Math.pow(10,r||0),new $e(Math.ceil(this.re*r)/r,Math.ceil(this.im*r)/r)},floor:function(r){return r=Math.pow(10,r||0),new $e(Math.floor(this.re*r)/r,Math.floor(this.im*r)/r)},round:function(r){return r=Math.pow(10,r||0),new $e(Math.round(this.re*r)/r,Math.round(this.im*r)/r)},equals:function(r,t){let e=Im(r,t);return Math.abs(e.re-this.re)<=$e.EPSILON&&Math.abs(e.im-this.im)<=$e.EPSILON},clone:function(){return new $e(this.re,this.im)},toString:function(){let r=this.re,t=this.im,e="";return this.isNaN()?"NaN":this.isInfinite()?"Infinity":(Math.abs(r)<$e.EPSILON&&(r=0),Math.abs(t)<$e.EPSILON&&(t=0),t===0?e+r:(r!==0?(e+=r,e+=" ",t<0?(t=-t,e+="-"):e+="+",e+=" "):t<0&&(t=-t,e+="-"),t!==1&&(e+=t),e+"i"))},toVector:function(){return[this.re,this.im]},valueOf:function(){return this.im===0?this.re:null},isNaN:function(){return isNaN(this.re)||isNaN(this.im)},isZero:function(){return this.im===0&&this.re===0},isFinite:function(){return isFinite(this.re)&&isFinite(this.im)},isInfinite:function(){return!this.isFinite()}};$e.ZERO=new $e(0,0);$e.ONE=new $e(1,0);$e.I=new $e(0,1);$e.PI=new $e(Math.PI,0);$e.E=new $e(Math.E,0);$e.INFINITY=new $e(1/0,1/0);$e.NAN=new $e(NaN,NaN);$e.EPSILON=1e-15;var dSe="Complex",fSe=[],UO=F(dSe,fSe,()=>(Object.defineProperty($e,"name",{value:"Complex"}),$e.prototype.constructor=$e,$e.prototype.type="Complex",$e.prototype.isComplex=!0,$e.prototype.toJSON=function(){return{mathjs:"Complex",re:this.re,im:this.im}},$e.prototype.toPolar=function(){return{r:this.abs(),phi:this.arg()}},$e.prototype.format=function(r){var t="",e=this.im,n=this.re,i=wc(this.re,r),o=wc(this.im,r),s=Bt(r)?r:r?r.precision:null;if(s!==null){var a=Math.pow(10,-s);Math.abs(n/e)<a&&(n=0),Math.abs(e/n)<a&&(e=0)}return e===0?t=i:n===0?e===1?t="i":e===-1?t="-i":t=o+"i":e<0?e===-1?t=i+" - i":t=i+" - "+o.substring(1)+"i":e===1?t=i+" + i":t=i+" + "+o+"i",t},$e.fromPolar=function(r){switch(arguments.length){case 1:{var t=arguments[0];if(typeof t=="object")return $e(t);throw new TypeError("Input has to be an object with r and phi keys.")}case 2:{var e=arguments[0],n=arguments[1];if(Bt(e)){if(ls(n)&&n.hasBase("ANGLE")&&(n=n.toNumber("rad")),Bt(n))return new $e({r:e,phi:n});throw new TypeError("Phi is not a number nor an angle unit.")}else throw new TypeError("Radius r is not a number.")}default:throw new SyntaxError("Wrong number of arguments in function fromPolar")}},$e.prototype.valueOf=$e.prototype.toString,$e.fromJSON=function(r){return new $e(r)},$e.compare=function(r,t){return r.re>t.re?1:r.re<t.re?-1:r.im>t.im?1:r.im<t.im?-1:0},$e),{isClass:!0});var hSe=2e3,$t={s:1,n:0,d:1};function Sd(r,t){if(isNaN(r=parseInt(r,10)))throw OS();return r*t}function Vi(r,t){if(t===0)throw qO();var e=Object.create(Go.prototype);e.s=r<0?-1:1,r=r<0?-r:r;var n=Kg(r,t);return e.n=r/n,e.d=t/n,e}function gG(r){for(var t={},e=r,n=2,i=4;i<=e;){for(;e%n===0;)e/=n,t[n]=(t[n]||0)+1;i+=1+2*n++}return e!==r?e>1&&(t[e]=(t[e]||0)+1):t[r]=(t[r]||0)+1,t}var nl=function(r,t){var e=0,n=1,i=1,o=0,s=0,a=0,l=1,c=1,d=0,f=1,m=1,p=1,b=1e7,y;if(r!=null)if(t!==void 0){if(e=r,n=t,i=e*n,e%1!==0||n%1!==0)throw vSe()}else switch(typeof r){case"object":{if("d"in r&&"n"in r)e=r.n,n=r.d,"s"in r&&(e*=r.s);else if(0 in r)e=r[0],1 in r&&(n=r[1]);else throw OS();i=e*n;break}case"number":{if(r<0&&(i=r,r=-r),r%1===0)e=r;else if(r>0){for(r>=1&&(c=Math.pow(10,Math.floor(1+Math.log(r)/Math.LN10)),r/=c);f<=b&&p<=b;)if(y=(d+m)/(f+p),r===y){f+p<=b?(e=d+m,n=f+p):p>f?(e=m,n=p):(e=d,n=f);break}else r>y?(d+=m,f+=p):(m+=d,p+=f),f>b?(e=m,n=p):(e=d,n=f);e*=c}else(isNaN(r)||isNaN(t))&&(n=e=NaN);break}case"string":{if(f=r.match(/\d+|./g),f===null)throw OS();if(f[d]==="-"?(i=-1,d++):f[d]==="+"&&d++,f.length===d+1?s=Sd(f[d++],i):f[d+1]==="."||f[d]==="."?(f[d]!=="."&&(o=Sd(f[d++],i)),d++,(d+1===f.length||f[d+1]==="("&&f[d+3]===")"||f[d+1]==="'"&&f[d+3]==="'")&&(s=Sd(f[d],i),l=Math.pow(10,f[d].length),d++),(f[d]==="("&&f[d+2]===")"||f[d]==="'"&&f[d+2]==="'")&&(a=Sd(f[d+1],i),c=Math.pow(10,f[d+1].length)-1,d+=3)):f[d+1]==="/"||f[d+1]===":"?(s=Sd(f[d],i),l=Sd(f[d+2],1),d+=3):f[d+3]==="/"&&f[d+1]===" "&&(o=Sd(f[d],i),s=Sd(f[d+2],i),l=Sd(f[d+4],1),d+=5),f.length<=d){n=l*c,i=e=a+n*o+c*s;break}}default:throw OS()}if(n===0)throw qO();$t.s=i<0?-1:1,$t.n=Math.abs(e),$t.d=Math.abs(n)};function mSe(r,t,e){for(var n=1;t>0;r=r*r%e,t>>=1)t&1&&(n=n*r%e);return n}function pSe(r,t){for(;t%2===0;t/=2);for(;t%5===0;t/=5);if(t===1)return 0;for(var e=10%t,n=1;e!==1;n++)if(e=e*10%t,n>hSe)return 0;return n}function gSe(r,t,e){for(var n=1,i=mSe(10,e,t),o=0;o<300;o++){if(n===i)return o;n=n*10%t,i=i*10%t}return 0}function Kg(r,t){if(!r)return t;if(!t)return r;for(;;){if(r%=t,!r)return t;if(t%=r,!t)return r}}function Go(r,t){if(nl(r,t),this instanceof Go)r=Kg($t.d,$t.n),this.s=$t.s,this.n=$t.n/r,this.d=$t.d/r;else return Vi($t.s*$t.n,$t.d)}var qO=function(){return new Error("Division by Zero")},OS=function(){return new Error("Invalid argument")},vSe=function(){return new Error("Parameters must be integer")};Go.prototype={s:1,n:0,d:1,abs:function(){return Vi(this.n,this.d)},neg:function(){return Vi(-this.s*this.n,this.d)},add:function(r,t){return nl(r,t),Vi(this.s*this.n*$t.d+$t.s*this.d*$t.n,this.d*$t.d)},sub:function(r,t){return nl(r,t),Vi(this.s*this.n*$t.d-$t.s*this.d*$t.n,this.d*$t.d)},mul:function(r,t){return nl(r,t),Vi(this.s*$t.s*this.n*$t.n,this.d*$t.d)},div:function(r,t){return nl(r,t),Vi(this.s*$t.s*this.n*$t.d,this.d*$t.n)},clone:function(){return Vi(this.s*this.n,this.d)},mod:function(r,t){if(isNaN(this.n)||isNaN(this.d))return new Go(NaN);if(r===void 0)return Vi(this.s*this.n%this.d,1);if(nl(r,t),$t.n===0&&this.d===0)throw qO();return Vi(this.s*($t.d*this.n)%($t.n*this.d),$t.d*this.d)},gcd:function(r,t){return nl(r,t),Vi(Kg($t.n,this.n)*Kg($t.d,this.d),$t.d*this.d)},lcm:function(r,t){return nl(r,t),$t.n===0&&this.n===0?Vi(0,1):Vi($t.n*this.n,Kg($t.n,this.n)*Kg($t.d,this.d))},ceil:function(r){return r=Math.pow(10,r||0),isNaN(this.n)||isNaN(this.d)?new Go(NaN):Vi(Math.ceil(r*this.s*this.n/this.d),r)},floor:function(r){return r=Math.pow(10,r||0),isNaN(this.n)||isNaN(this.d)?new Go(NaN):Vi(Math.floor(r*this.s*this.n/this.d),r)},round:function(r){return r=Math.pow(10,r||0),isNaN(this.n)||isNaN(this.d)?new Go(NaN):Vi(Math.round(r*this.s*this.n/this.d),r)},roundTo:function(r,t){return nl(r,t),Vi(this.s*Math.round(this.n*$t.d/(this.d*$t.n))*$t.n,$t.d)},inverse:function(){return Vi(this.s*this.d,this.n)},pow:function(r,t){if(nl(r,t),$t.d===1)return $t.s<0?Vi(Math.pow(this.s*this.d,$t.n),Math.pow(this.n,$t.n)):Vi(Math.pow(this.s*this.n,$t.n),Math.pow(this.d,$t.n));if(this.s<0)return null;var e=gG(this.n),n=gG(this.d),i=1,o=1;for(var s in e)if(s!=="1"){if(s==="0"){i=0;break}if(e[s]*=$t.n,e[s]%$t.d===0)e[s]/=$t.d;else return null;i*=Math.pow(s,e[s])}for(var s in n)if(s!=="1"){if(n[s]*=$t.n,n[s]%$t.d===0)n[s]/=$t.d;else return null;o*=Math.pow(s,n[s])}return $t.s<0?Vi(o,i):Vi(i,o)},equals:function(r,t){return nl(r,t),this.s*this.n*$t.d===$t.s*$t.n*this.d},compare:function(r,t){nl(r,t);var e=this.s*this.n*$t.d-$t.s*$t.n*this.d;return(0<e)-(e<0)},simplify:function(r){if(isNaN(this.n)||isNaN(this.d))return this;r=r||.001;for(var t=this.abs(),e=t.toContinued(),n=1;n<e.length;n++){for(var i=Vi(e[n-1],1),o=n-2;o>=0;o--)i=i.inverse().add(e[o]);if(Math.abs(i.sub(t).valueOf())<r)return i.mul(this.s)}return this},divisible:function(r,t){return nl(r,t),!(!($t.n*this.d)||this.n*$t.d%($t.n*this.d))},valueOf:function(){return this.s*this.n/this.d},toFraction:function(r){var t,e="",n=this.n,i=this.d;return this.s<0&&(e+="-"),i===1?e+=n:(r&&(t=Math.floor(n/i))>0&&(e+=t,e+=" ",n%=i),e+=n,e+="/",e+=i),e},toLatex:function(r){var t,e="",n=this.n,i=this.d;return this.s<0&&(e+="-"),i===1?e+=n:(r&&(t=Math.floor(n/i))>0&&(e+=t,n%=i),e+="\\frac{",e+=n,e+="}{",e+=i,e+="}"),e},toContinued:function(){var r,t=this.n,e=this.d,n=[];if(isNaN(t)||isNaN(e))return n;do n.push(Math.floor(t/e)),r=t%e,t=e,e=r;while(t!==1);return n},toString:function(r){var t=this.n,e=this.d;if(isNaN(t)||isNaN(e))return"NaN";r=r||15;var n=pSe(t,e),i=gSe(t,e,n),o=this.s<0?"-":"";if(o+=t/e|0,t%=e,t*=10,t&&(o+="."),n){for(var s=i;s--;)o+=t/e|0,t%=e,t*=10;o+="(";for(var s=n;s--;)o+=t/e|0,t%=e,t*=10;o+=")"}else for(var s=r;t&&s--;)o+=t/e|0,t%=e,t*=10;return o}};var bSe="Fraction",ySe=[],WO=F(bSe,ySe,()=>(Object.defineProperty(Go,"name",{value:"Fraction"}),Go.prototype.constructor=Go,Go.prototype.type="Fraction",Go.prototype.isFraction=!0,Go.prototype.toJSON=function(){return{mathjs:"Fraction",n:this.s*this.n,d:this.d}},Go.fromJSON=function(r){return new Go(r)},Go),{isClass:!0});var _Se="Range",xSe=[],$O=F(_Se,xSe,()=>{function r(t,e,n){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");var i=t!=null,o=e!=null,s=n!=null;if(i){if(It(t))t=t.toNumber();else if(typeof t!="number")throw new TypeError("Parameter start must be a number")}if(o){if(It(e))e=e.toNumber();else if(typeof e!="number")throw new TypeError("Parameter end must be a number")}if(s){if(It(n))n=n.toNumber();else if(typeof n!="number")throw new TypeError("Parameter step must be a number")}this.start=i?parseFloat(t):0,this.end=o?parseFloat(e):0,this.step=s?parseFloat(n):1}return r.prototype.type="Range",r.prototype.isRange=!0,r.parse=function(t){if(typeof t!="string")return null;var e=t.split(":"),n=e.map(function(o){return parseFloat(o)}),i=n.some(function(o){return isNaN(o)});if(i)return null;switch(n.length){case 2:return new r(n[0],n[1]);case 3:return new r(n[0],n[2],n[1]);default:return null}},r.prototype.clone=function(){return new r(this.start,this.end,this.step)},r.prototype.size=function(){var t=0,e=this.start,n=this.step,i=this.end,o=i-e;return Rl(n)===Rl(o)?t=Math.ceil(o/n):o===0&&(t=0),isNaN(t)&&(t=0),[t]},r.prototype.min=function(){var t=this.size()[0];if(t>0)return this.step>0?this.start:this.start+(t-1)*this.step},r.prototype.max=function(){var t=this.size()[0];if(t>0)return this.step>0?this.start+(t-1)*this.step:this.start},r.prototype.forEach=function(t){var e=this.start,n=this.step,i=this.end,o=0;if(n>0)for(;e<i;)t(e,[o],this),e+=n,o++;else if(n<0)for(;e>i;)t(e,[o],this),e+=n,o++},r.prototype.map=function(t){var e=[];return this.forEach(function(n,i,o){e[i[0]]=t(n,i,o)}),e},r.prototype.toArray=function(){var t=[];return this.forEach(function(e,n){t[n[0]]=e}),t},r.prototype.valueOf=function(){return this.toArray()},r.prototype.format=function(t){var e=wc(this.start,t);return this.step!==1&&(e+=":"+wc(this.step,t)),e+=":"+wc(this.end,t),e},r.prototype.toString=function(){return this.format()},r.prototype.toJSON=function(){return{mathjs:"Range",start:this.start,end:this.end,step:this.step}},r.fromJSON=function(t){return new r(t.start,t.end,t.step)},r},{isClass:!0});var wSe="Matrix",CSe=[],GO=F(wSe,CSe,()=>{function r(){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator")}return r.prototype.type="Matrix",r.prototype.isMatrix=!0,r.prototype.storage=function(){throw new Error("Cannot invoke storage on a Matrix interface")},r.prototype.datatype=function(){throw new Error("Cannot invoke datatype on a Matrix interface")},r.prototype.create=function(t,e){throw new Error("Cannot invoke create on a Matrix interface")},r.prototype.subset=function(t,e,n){throw new Error("Cannot invoke subset on a Matrix interface")},r.prototype.get=function(t){throw new Error("Cannot invoke get on a Matrix interface")},r.prototype.set=function(t,e,n){throw new Error("Cannot invoke set on a Matrix interface")},r.prototype.resize=function(t,e){throw new Error("Cannot invoke resize on a Matrix interface")},r.prototype.reshape=function(t,e){throw new Error("Cannot invoke reshape on a Matrix interface")},r.prototype.clone=function(){throw new Error("Cannot invoke clone on a Matrix interface")},r.prototype.size=function(){throw new Error("Cannot invoke size on a Matrix interface")},r.prototype.map=function(t,e){throw new Error("Cannot invoke map on a Matrix interface")},r.prototype.forEach=function(t){throw new Error("Cannot invoke forEach on a Matrix interface")},r.prototype[Symbol.iterator]=function(){throw new Error("Cannot iterate a Matrix interface")},r.prototype.toArray=function(){throw new Error("Cannot invoke toArray on a Matrix interface")},r.prototype.valueOf=function(){throw new Error("Cannot invoke valueOf on a Matrix interface")},r.prototype.format=function(t){throw new Error("Cannot invoke format on a Matrix interface")},r.prototype.toString=function(){throw new Error("Cannot invoke toString on a Matrix interface")},r},{isClass:!0});function YO(r,t,e){var n=r.constructor,i=new n(2),o="";if(e){if(e<1)throw new Error("size must be in greater than 0");if(!pt(e))throw new Error("size must be an integer");if(r.greaterThan(i.pow(e-1).sub(1))||r.lessThan(i.pow(e-1).mul(-1)))throw new Error("Value must be in range [-2^".concat(e-1,", 2^").concat(e-1,"-1]"));if(!r.isInteger())throw new Error("Value must be an integer");r.lessThan(0)&&(r=r.add(i.pow(e))),o="i".concat(e)}switch(t){case 2:return"".concat(r.toBinary()).concat(o);case 8:return"".concat(r.toOctal()).concat(o);case 16:return"".concat(r.toHexadecimal()).concat(o);default:throw new Error("Base ".concat(t," not supported "))}}function yG(r,t){if(typeof t=="function")return t(r);if(!r.isFinite())return r.isNaN()?"NaN":r.gt(0)?"Infinity":"-Infinity";var{notation:e,precision:n,wordSize:i}=TO(t);switch(e){case"fixed":return DSe(r,n);case"exponential":return vG(r,n);case"engineering":return SSe(r,n);case"bin":return YO(r,2,i);case"oct":return YO(r,8,i);case"hex":return YO(r,16,i);case"auto":{var o=bG(t?.lowerExp,-3),s=bG(t?.upperExp,5);if(r.isZero())return"0";var a,l=r.toSignificantDigits(n),c=l.e;return c>=o&&c<s?a=l.toFixed():a=vG(r,n),a.replace(/((\.\d*?)(0+))($|e)/,function(){var d=arguments[2],f=arguments[4];return d!=="."?d+f:f})}default:throw new Error('Unknown notation "'+e+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function SSe(r,t){var e=r.e,n=e%3===0?e:e<0?e-3-e%3:e-e%3,i=r.mul(Math.pow(10,-n)),o=i.toPrecision(t);if(o.includes("e")){var s=r.constructor;o=new s(o).toFixed()}return o+"e"+(e>=0?"+":"")+n.toString()}function vG(r,t){return t!==void 0?r.toExponential(t-1):r.toExponential()}function DSe(r,t){return r.toFixed(t)}function bG(r,t){return Bt(r)?r:It(r)?r.toNumber():t}function xG(r,t){var e=r.length-t.length,n=r.length;return r.substring(e,n)===t}function Gt(r,t){var e=ESe(r,t);return t&&typeof t=="object"&&"truncate"in t&&e.length>t.truncate?e.substring(0,t.truncate-3)+"...":e}function ESe(r,t){if(typeof r=="number")return wc(r,t);if(It(r))return yG(r,t);if(MSe(r))return!t||t.fraction!=="decimal"?r.s*r.n+"/"+r.d:r.toString();if(Array.isArray(r))return wG(r,t);if(Ii(r))return km(r);if(typeof r=="function")return r.syntax?String(r.syntax):"function";if(r&&typeof r=="object"){if(typeof r.format=="function")return r.format(t);if(r&&r.toString(t)!=={}.toString())return r.toString(t);var e=Object.keys(r).map(n=>km(n)+": "+Gt(r[n],t));return"{"+e.join(", ")+"}"}return String(r)}function km(r){for(var t=String(r),e="",n=0;n<t.length;){var i=t.charAt(n);e+=i in _G?_G[i]:i,n++}return'"'+e+'"'}var _G={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t"};function Oo(r){var t=String(r);return t=t.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),t}function wG(r,t){if(Array.isArray(r)){for(var e="[",n=r.length,i=0;i<n;i++)i!==0&&(e+=", "),e+=wG(r[i],t);return e+="]",e}else return Gt(r,t)}function MSe(r){return r&&typeof r=="object"&&typeof r.s=="number"&&typeof r.n=="number"&&typeof r.d=="number"||!1}function FS(r,t){if(!Ii(r))throw new TypeError("Unexpected type of argument in function compareText (expected: string or Array or Matrix, actual: "+Rr(r)+", index: 0)");if(!Ii(t))throw new TypeError("Unexpected type of argument in function compareText (expected: string or Array or Matrix, actual: "+Rr(t)+", index: 1)");return r===t?0:r>t?1:-1}function Zt(r,t,e){if(!(this instanceof Zt))throw new SyntaxError("Constructor must be called with the new operator");this.actual=r,this.expected=t,this.relation=e,this.message="Dimension mismatch ("+(Array.isArray(r)?"["+r.join(", ")+"]":r)+" "+(this.relation||"!=")+" "+(Array.isArray(t)?"["+t.join(", ")+"]":t)+")",this.stack=new Error().stack}Zt.prototype=new RangeError;Zt.prototype.constructor=RangeError;Zt.prototype.name="DimensionError";Zt.prototype.isDimensionError=!0;function fs(r,t,e){if(!(this instanceof fs))throw new SyntaxError("Constructor must be called with the new operator");this.index=r,arguments.length<3?(this.min=0,this.max=t):(this.min=t,this.max=e),this.min!==void 0&&this.index<this.min?this.message="Index out of range ("+this.index+" < "+this.min+")":this.max!==void 0&&this.index>=this.max?this.message="Index out of range ("+this.index+" > "+(this.max-1)+")":this.message="Index out of range ("+this.index+")",this.stack=new Error().stack}fs.prototype=new RangeError;fs.prototype.constructor=RangeError;fs.prototype.name="IndexError";fs.prototype.isIndexError=!0;function Ot(r){for(var t=[];Array.isArray(r);)t.push(r.length),r=r[0];return t}function CG(r,t,e){var n,i=r.length;if(i!==t[e])throw new Zt(i,t[e]);if(e<t.length-1){var o=e+1;for(n=0;n<i;n++){var s=r[n];if(!Array.isArray(s))throw new Zt(t.length-1,t.length,"<");CG(r[n],t,o)}}else for(n=0;n<i;n++)if(Array.isArray(r[n]))throw new Zt(t.length+1,t.length,">")}function XO(r,t){var e=t.length===0;if(e){if(Array.isArray(r))throw new Zt(r.length,0)}else CG(r,t,0)}function dy(r,t){var e=r.isMatrix?r._size:Ot(r),n=t._sourceSize;n.forEach((i,o)=>{if(i!==null&&i!==e[o])throw new Zt(i,e[o])})}function gn(r,t){if(r!==void 0){if(!Bt(r)||!pt(r))throw new TypeError("Index must be an integer (value: "+r+")");if(r<0||typeof t=="number"&&r>=t)throw new fs(r,t)}}function Nm(r){for(var t=0;t<r._dimensions.length;++t){var e=r._dimensions[t];if(e._data&&Gr(e._data)){if(e._size[0]===0)return!0}else if(e.isRange){if(e.start===e.end)return!0}else if(Ii(e)&&e.length===0)return!0}return!1}function Dc(r,t,e){if(!Array.isArray(t))throw new TypeError("Array expected");if(t.length===0)throw new Error("Resizing to scalar is not supported");t.forEach(function(i){if(!Bt(i)||!pt(i)||i<0)throw new TypeError("Invalid size, must contain positive integers (size: "+Gt(t)+")")}),(Bt(r)||It(r))&&(r=[r]);var n=e!==void 0?e:0;return KO(r,t,0,n),r}function KO(r,t,e,n){var i,o,s=r.length,a=t[e],l=Math.min(s,a);if(r.length=a,e<t.length-1){var c=e+1;for(i=0;i<l;i++)o=r[i],Array.isArray(o)||(o=[o],r[i]=o),KO(o,t,c,n);for(i=l;i<a;i++)o=[],r[i]=o,KO(o,t,c,n)}else{for(i=0;i<l;i++)for(;Array.isArray(r[i]);)r[i]=r[i][0];for(i=l;i<a;i++)r[i]=n}}function fy(r,t){var e=mr(r),n=e.length;if(!Array.isArray(r)||!Array.isArray(t))throw new TypeError("Array expected");if(t.length===0)throw new Zt(0,n,"!=");t=hy(t,n);var i=SG(t);if(n!==i)throw new Zt(i,n,"!=");try{return ASe(e,t)}catch(o){throw o instanceof Zt?new Zt(i,n,"!="):o}}function hy(r,t){var e=SG(r),n=r.slice(),i=-1,o=r.indexOf(i),s=r.indexOf(i,o+1)>=0;if(s)throw new Error("More than one wildcard in sizes");var a=o>=0,l=t%e===0;if(a)if(l)n[o]=-t/e;else throw new Error("Could not replace wildcard, since "+t+" is no multiple of "+-e);return n}function SG(r){return r.reduce((t,e)=>t*e,1)}function ASe(r,t){for(var e=r,n,i=t.length-1;i>0;i--){var o=t[i];n=[];for(var s=e.length/o,a=0;a<s;a++)n.push(e.slice(a*o,(a+1)*o));e=n}return e}function Xg(r,t){for(var e=t||Ot(r);Array.isArray(r)&&r.length===1;)r=r[0],e.shift();for(var n=e.length;e[n-1]===1;)n--;return n<e.length&&(r=DG(r,n,0),e.length=n),r}function DG(r,t,e){var n,i;if(e<t){var o=e+1;for(n=0,i=r.length;n<i;n++)r[n]=DG(r[n],t,o)}else for(;Array.isArray(r);)r=r[0];return r}function RS(r,t,e,n){var i=n||Ot(r);if(e)for(var o=0;o<e;o++)r=[r],i.unshift(1);for(r=EG(r,t,0);i.length<t;)i.push(1);return r}function EG(r,t,e){var n,i;if(Array.isArray(r)){var o=e+1;for(n=0,i=r.length;n<i;n++)r[n]=EG(r[n],t,o)}else for(var s=e;s<t;s++)r=[r];return r}function mr(r){if(!Array.isArray(r))return r;var t=[];return r.forEach(function e(n){Array.isArray(n)?n.forEach(e):t.push(n)}),t}function Ll(r,t){return Array.prototype.map.call(r,t)}function PS(r,t){Array.prototype.forEach.call(r,t)}function MG(r,t){if(Ot(r).length!==1)throw new Error("Only one dimensional matrices supported");return Array.prototype.filter.call(r,t)}function ZO(r,t){if(Ot(r).length!==1)throw new Error("Only one dimensional matrices supported");return Array.prototype.filter.call(r,e=>t.test(e))}function QO(r,t){return Array.prototype.join.call(r,t)}function Dd(r){if(!Array.isArray(r))throw new TypeError("Array input expected");if(r.length===0)return r;var t=[],e=0;t[0]={value:r[0],identifier:0};for(var n=1;n<r.length;n++)r[n]===r[n-1]?e++:e=0,t.push({value:r[n],identifier:e});return t}function Zg(r){if(!Array.isArray(r))throw new TypeError("Array input expected");if(r.length===0)return r;for(var t=[],e=0;e<r.length;e++)t.push(r[e].value);return t}function Om(r,t){for(var e,n=0,i=0;i<r.length;i++){var o=r[i],s=Array.isArray(o);if(i===0&&s&&(n=o.length),s&&o.length!==n)return;var a=s?Om(o,t):t(o);if(e===void 0)e=a;else if(e!==a)return"mixed"}return e}function AG(r,t,e,n){if(n<e){if(r.length!==t.length)throw new Zt(r.length,t.length);for(var i=[],o=0;o<r.length;o++)i[o]=AG(r[o],t[o],e,n+1);return i}else return r.concat(t)}function JO(){var r=Array.prototype.slice.call(arguments,0,-1),t=Array.prototype.slice.call(arguments,-1);if(r.length===1)return r[0];if(r.length>1)return r.slice(1).reduce(function(e,n){return AG(e,n,t,0)},r[0]);throw new Error("Wrong number of arguments in function concat")}function my(){for(var r=arguments.length,t=new Array(r),e=0;e<r;e++)t[e]=arguments[e];for(var n=t.map(m=>m.length),i=Math.max(...n),o=new Array(i).fill(null),s=0;s<t.length;s++)for(var a=t[s],l=n[s],c=0;c<l;c++){var d=i-l+c;a[c]>o[d]&&(o[d]=a[c])}for(var f=0;f<t.length;f++)TG(t[f],o);return o}function TG(r,t){for(var e=t.length,n=r.length,i=0;i<n;i++){var o=e-n+i;if(r[i]<t[o]&&r[i]>1||r[i]>t[o])throw new Error("shape missmatch: missmatch is found in arg with shape (".concat(r,") not possible to broadcast dimension ").concat(n," with size ").concat(r[i]," to size ").concat(t[o]))}}function du(r,t){var e=Ot(r);if(Oa(e,t))return r;TG(e,t);var n=my(e,t),i=n.length,o=[...Array(i-e.length).fill(1),...e],s=ISe(r);e.length<i&&(s=fy(s,o),e=Ot(s));for(var a=0;a<i;a++)e[a]<n[a]&&(s=TSe(s,n[a],a),e=Ot(s));return s}function TSe(r,t,e){return JO(...Array(t).fill(r),e)}function Qg(r,t){if(!Array.isArray(r))throw new Error("Array expected");var e=Ot(r);if(t.length!==e.length)throw new Zt(t.length,e.length);for(var n=0;n<t.length;n++)gn(t[n],e[n]);return t.reduce((i,o)=>i[o],r)}function py(r,t,e,n){return Array.isArray(r)?r.map(function(i,o){return py(i,t.concat(o),e,n)}):n(r,t,e)}function ISe(r){return ci([],r)}var eF=Wh(MO(),1);function Bl(r,t,e){if(eF.default.isTypedFunction(r)){var n=(t.isMatrix?t.size():Ot(t)).map(()=>0),i=t.isMatrix?t.get(n):Qg(t,n),o=Object.keys(r.signatures).length===1,s=kSe(r,i,n,t),a=o?Object.values(r.signatures)[0]:r;return s>=1&&s<=3?function(){for(var l=arguments.length,c=new Array(l),d=0;d<l;d++)c[d]=arguments[d];return IG(a,c.slice(0,s),e,r.name)}:function(){for(var l=arguments.length,c=new Array(l),d=0;d<l;d++)c[d]=arguments[d];return IG(a,c,e,r.name)}}return r}function kSe(r,t,e,n){for(var i=[t,e,n],o=3;o>0;o--){var s=i.slice(0,o);if(eF.default.resolve(r,s)!==null)return o}}function IG(r,t,e,n){try{return r(...t)}catch(i){NSe(i,t,e,n)}}function NSe(r,t,e,n){var i;if(r instanceof TypeError&&((i=r.data)===null||i===void 0?void 0:i.category)==="wrongType"){var o=[];throw o.push("value: ".concat(Rr(t[0]))),t.length>=2&&o.push("index: ".concat(Rr(t[1]))),t.length>=3&&o.push("array: ".concat(Rr(t[2]))),new TypeError("Function ".concat(e," cannot apply callback arguments ")+"".concat(n,"(").concat(o.join(", "),") at index ").concat(JSON.stringify(t[1])))}else throw new TypeError("Function ".concat(e," cannot apply callback arguments ")+"to function ".concat(n,": ").concat(r.message))}var OSe="DenseMatrix",FSe=["Matrix"],tF=F(OSe,FSe,r=>{var{Matrix:t}=r;function e(d,f){if(!(this instanceof e))throw new SyntaxError("Constructor must be called with the new operator");if(f&&!Ii(f))throw new Error("Invalid datatype: "+f);if(_t(d))d.type==="DenseMatrix"?(this._data=Pt(d._data),this._size=Pt(d._size),this._datatype=f||d._datatype):(this._data=d.toArray(),this._size=d.size(),this._datatype=f||d._datatype);else if(d&&Gr(d.data)&&Gr(d.size))this._data=d.data,this._size=d.size,XO(this._data,this._size),this._datatype=f||d.datatype;else if(Gr(d))this._data=c(d),this._size=Ot(this._data),XO(this._data,this._size),this._datatype=f;else{if(d)throw new TypeError("Unsupported type of data ("+Rr(d)+")");this._data=[],this._size=[0],this._datatype=f}}e.prototype=new t,e.prototype.createDenseMatrix=function(d,f){return new e(d,f)},Object.defineProperty(e,"name",{value:"DenseMatrix"}),e.prototype.constructor=e,e.prototype.type="DenseMatrix",e.prototype.isDenseMatrix=!0,e.prototype.getDataType=function(){return Om(this._data,Rr)},e.prototype.storage=function(){return"dense"},e.prototype.datatype=function(){return this._datatype},e.prototype.create=function(d,f){return new e(d,f)},e.prototype.subset=function(d,f,m){switch(arguments.length){case 1:return n(this,d);case 2:case 3:return o(this,d,f,m);default:throw new SyntaxError("Wrong number of arguments")}},e.prototype.get=function(d){return Qg(this._data,d)},e.prototype.set=function(d,f,m){if(!Gr(d))throw new TypeError("Array expected");if(d.length<this._size.length)throw new Zt(d.length,this._size.length,"<");var p,b,y,C=d.map(function(A){return A+1});l(this,C,m);var S=this._data;for(p=0,b=d.length-1;p<b;p++)y=d[p],gn(y,S.length),S=S[y];return y=d[d.length-1],gn(y,S.length),S[y]=f,this};function n(d,f){if(!Rf(f))throw new TypeError("Invalid index");var m=f.isScalar();if(m)return d.get(f.min());var p=f.size();if(p.length!==d._size.length)throw new Zt(p.length,d._size.length);for(var b=f.min(),y=f.max(),C=0,S=d._size.length;C<S;C++)gn(b[C],d._size[C]),gn(y[C],d._size[C]);return new e(i(d._data,f,p.length,0),d._datatype)}function i(d,f,m,p){var b=p===m-1,y=f.dimension(p);return b?y.map(function(C){return gn(C,d.length),d[C]}).valueOf():y.map(function(C){gn(C,d.length);var S=d[C];return i(S,f,m,p+1)}).valueOf()}function o(d,f,m,p){if(!f||f.isIndex!==!0)throw new TypeError("Invalid index");var b=f.size(),y=f.isScalar(),C;if(_t(m)?(C=m.size(),m=m.valueOf()):C=Ot(m),y){if(C.length!==0)throw new TypeError("Scalar expected");d.set(f.min(),m,p)}else{if(!Oa(C,b))try{C.length===0?m=du([m],b):m=du(m,b),C=Ot(m)}catch{}if(b.length<d._size.length)throw new Zt(b.length,d._size.length,"<");if(C.length<b.length){for(var S=0,A=0;b[S]===1&&C[S]===1;)S++;for(;b[S]===1;)A++,S++;m=RS(m,b.length,A,C)}if(!Oa(b,C))throw new Zt(b,C,">");var x=f.max().map(function(w){return w+1});l(d,x,p);var M=b.length,E=0;s(d._data,f,m,M,E)}return d}function s(d,f,m,p,b){var y=b===p-1,C=f.dimension(b);y?C.forEach(function(S,A){gn(S),d[S]=m[A[0]]}):C.forEach(function(S,A){gn(S),s(d[S],f,m[A[0]],p,b+1)})}e.prototype.resize=function(d,f,m){if(!Bi(d))throw new TypeError("Array or Matrix expected");var p=d.valueOf().map(y=>Array.isArray(y)&&y.length===1?y[0]:y),b=m?this.clone():this;return a(b,p,f)};function a(d,f,m){if(f.length===0){for(var p=d._data;Gr(p);)p=p[0];return p}return d._size=f.slice(0),d._data=Dc(d._data,d._size,m),d}e.prototype.reshape=function(d,f){var m=f?this.clone():this;m._data=fy(m._data,d);var p=m._size.reduce((b,y)=>b*y);return m._size=hy(d,p),m};function l(d,f,m){for(var p=d._size.slice(0),b=!1;p.length<f.length;)p.push(0),b=!0;for(var y=0,C=f.length;y<C;y++)f[y]>p[y]&&(p[y]=f[y],b=!0);b&&a(d,p,m)}e.prototype.clone=function(){var d=new e({data:Pt(this._data),size:Pt(this._size),datatype:this._datatype});return d},e.prototype.size=function(){return this._size.slice(0)},e.prototype._forEach=function(d){var f=this,m=f.size();if(m.length===1){for(var p=0;p<m[0];p++)d(f._data,p,[p]);return}var b=Array(m.length).fill(0),y=Array(m.length-1),C=y.length-1;y[0]=f._data[0];for(var S=0;S<C;S++)y[S+1]=y[S][0];for(b[C]=-1;;){var A=void 0;for(A=C;A>=0;A--){if(b[A]++,b[A]===m[A]){b[A]=0;continue}y[A]=A===0?f._data[b[A]]:y[A-1][b[A]];for(var x=A;x<C;x++)y[x+1]=y[x][0];for(var M=0;M<m[y.length];M++)b[y.length]=M,d(y[C],M,b.slice(0));break}if(A===-1)break}},e.prototype.map=function(d){var f=this,m=new e(f),p=Bl(d,f._data,"map");return m._forEach(function(b,y,C){b[y]=p(b[y],C,f)}),m},e.prototype.forEach=function(d){var f=this,m=Bl(d,f._data,"map");f._forEach(function(p,b,y){m(p[b],y,f)})},e.prototype[Symbol.iterator]=function*(){var d=function*(m,p){if(Gr(m))for(var b=0;b<m.length;b++)yield*OT(d(m[b],p.concat(b)));else yield{value:m,index:p}};yield*OT(d(this._data,[]))},e.prototype.rows=function(){var d=[],f=this.size();if(f.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");var m=this._data;for(var p of m)d.push(new e([p],this._datatype));return d},e.prototype.columns=function(){var d=this,f=[],m=this.size();if(m.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");for(var p=this._data,b=function(S){var A=p.map(x=>[x[S]]);f.push(new e(A,d._datatype))},y=0;y<m[1];y++)b(y);return f},e.prototype.toArray=function(){return Pt(this._data)},e.prototype.valueOf=function(){return this._data},e.prototype.format=function(d){return Gt(this._data,d)},e.prototype.toString=function(){return Gt(this._data)},e.prototype.toJSON=function(){return{mathjs:"DenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},e.prototype.diagonal=function(d){if(d){if(It(d)&&(d=d.toNumber()),!Bt(d)||!pt(d))throw new TypeError("The parameter k must be an integer number")}else d=0;for(var f=d>0?d:0,m=d<0?-d:0,p=this._size[0],b=this._size[1],y=Math.min(p-m,b-f),C=[],S=0;S<y;S++)C[S]=this._data[S+m][S+f];return new e({data:C,size:[y],datatype:this._datatype})},e.diagonal=function(d,f,m,p){if(!Gr(d))throw new TypeError("Array expected, size parameter");if(d.length!==2)throw new Error("Only two dimensions matrix are supported");if(d=d.map(function(T){if(It(T)&&(T=T.toNumber()),!Bt(T)||!pt(T)||T<1)throw new Error("Size values must be positive integers");return T}),m){if(It(m)&&(m=m.toNumber()),!Bt(m)||!pt(m))throw new TypeError("The parameter k must be an integer number")}else m=0;var b=m>0?m:0,y=m<0?-m:0,C=d[0],S=d[1],A=Math.min(C-y,S-b),x;if(Gr(f)){if(f.length!==A)throw new Error("Invalid value array length");x=function(k){return f[k]}}else if(_t(f)){var M=f.size();if(M.length!==1||M[0]!==A)throw new Error("Invalid matrix length");x=function(k){return f.get([k])}}else x=function(){return f};p||(p=It(x(0))?x(0).mul(0):0);var E=[];if(d.length>0){E=Dc(E,d,p);for(var w=0;w<A;w++)E[w+y][w+b]=x(w)}return new e({data:E,size:[C,S]})},e.fromJSON=function(d){return new e(d)},e.prototype.swapRows=function(d,f){if(!Bt(d)||!pt(d)||!Bt(f)||!pt(f))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return gn(d,this._size[0]),gn(f,this._size[0]),e._swapRows(d,f,this._data),this},e._swapRows=function(d,f,m){var p=m[d];m[d]=m[f],m[f]=p};function c(d){return _t(d)?c(d.valueOf()):Gr(d)?d.map(c):d}return e},{isClass:!0});var kG="clone",RSe=["typed"],rF=F(kG,RSe,r=>{var{typed:t}=r;return t(kG,{any:Pt})});function LS(r){var t=r.length,e=r[0].length,n,i,o=[];for(i=0;i<e;i++){var s=[];for(n=0;n<t;n++)s.push(r[n][i]);o.push(s)}return o}function Vl(r){for(var t=0;t<r.length;t++)if(Bi(r[t]))return!0;return!1}function Is(r,t){_t(r)&&(r=r.valueOf());for(var e=0,n=r.length;e<n;e++){var i=r[e];Array.isArray(i)?Is(i,t):t(i)}}function wt(r,t,e){return r&&typeof r.map=="function"?r.map(function(n){return wt(n,t,e)}):t(r)}function jf(r,t,e){var n=Array.isArray(r)?Ot(r):r.size();if(t<0||t>=n.length)throw new fs(t,n.length);return _t(r)?r.create(BS(r.valueOf(),t,e),r.datatype()):BS(r,t,e)}function BS(r,t,e){var n,i,o,s;if(t<=0)if(Array.isArray(r[0])){for(s=LS(r),i=[],n=0;n<s.length;n++)i[n]=BS(s[n],t-1,e);return i}else{for(o=r[0],n=1;n<r.length;n++)o=e(o,r[n]);return o}else{for(i=[],n=0;n<r.length;n++)i[n]=BS(r[n],t-1,e);return i}}function nF(r,t,e,n,i,o,s,a,l,c,d){var f=r._values,m=r._index,p=r._ptr,b,y,C,S;if(n)for(y=p[t],C=p[t+1],b=y;b<C;b++)S=m[b],e[S]!==o?(e[S]=o,s.push(S),c?(n[S]=l?a(f[b],d):a(d,f[b]),i[S]=o):n[S]=f[b]):(n[S]=l?a(f[b],n[S]):a(n[S],f[b]),i[S]=o);else for(y=p[t],C=p[t+1],b=y;b<C;b++)S=m[b],e[S]!==o?(e[S]=o,s.push(S)):i[S]=o}var NG="isInteger",PSe=["typed"],iF=F(NG,PSe,r=>{var{typed:t}=r;return t(NG,{number:pt,BigNumber:function(n){return n.isInt()},bigint:function(n){return!0},Fraction:function(n){return n.d===1&&isFinite(n.n)},"Array | Matrix":t.referToSelf(e=>n=>wt(n,e))})});var Ra="number",Ed="number, number";function oF(r){return Math.abs(r)}oF.signature=Ra;function sF(r,t){return r+t}sF.signature=Ed;function aF(r,t){return r-t}aF.signature=Ed;function lF(r,t){return r*t}lF.signature=Ed;function LSe(r,t){return r/t}LSe.signature=Ed;function cF(r){return-r}cF.signature=Ra;function uF(r){return r}uF.signature=Ra;function Jg(r){return $$(r)}Jg.signature=Ra;function dF(r){return r*r*r}dF.signature=Ra;function fF(r){return Math.exp(r)}fF.signature=Ra;function hF(r){return G$(r)}hF.signature=Ra;function BSe(r,t){if(!pt(r)||!pt(t))throw new Error("Parameters in function gcd must be integer numbers");for(var e;t!==0;)e=r%t,r=t,t=e;return r<0?-r:r}BSe.signature=Ed;function mF(r,t){if(!pt(r)||!pt(t))throw new Error("Parameters in function lcm must be integer numbers");if(r===0||t===0)return 0;for(var e,n=r*t;t!==0;)e=t,t=r%e,r=e;return Math.abs(n/r)}mF.signature=Ed;function OG(r,t){return t?Math.log(r)/Math.log(t):Math.log(r)}function pF(r){return W$(r)}pF.signature=Ra;function gF(r){return q$(r)}gF.signature=Ra;function VSe(r){return yS(r)}VSe.signature=Ra;function zSe(r,t){return t===0?r:r-t*Math.floor(r/t)}zSe.signature=Ed;function vF(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2,e=t<0;if(e&&(t=-t),t===0)throw new Error("Root must be non-zero");if(r<0&&Math.abs(t)%2!==1)throw new Error("Root must be odd when a is negative.");if(r===0)return e?1/0:0;if(!isFinite(r))return e?0:r;var n=Math.pow(Math.abs(r),1/t);return n=r<0?-n:n,e?1/n:n}function VS(r){return Rl(r)}VS.signature=Ra;function jSe(r){return Math.sqrt(r)}jSe.signature=Ra;function bF(r){return r*r}bF.signature=Ra;function yF(r,t){var e,n,i,o=0,s=1,a=1,l=0;if(!pt(r)||!pt(t))throw new Error("Parameters in function xgcd must be integer numbers");for(;t;)n=Math.floor(r/t),i=r-n*t,e=o,o=s-n*o,s=e,e=a,a=l-n*a,l=e,r=t,t=i;var c;return r<0?c=[-r,-s,-l]:c=[r,r?s:0,l],c}yF.signature=Ed;function _F(r,t){return r*r<1&&t===1/0||r*r>1&&t===-1/0?0:Math.pow(r,t)}_F.signature=Ed;function ev(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(!pt(t)||t<0||t>15)throw new Error("Number of decimals in function round must be an integer from 0 to 15 inclusive");return parseFloat(IO(r,t))}function HSe(r){return Math.abs(r)}HSe.signature=Ra;var USe="number",tv="number, number";function xF(r,t){if(!pt(r)||!pt(t))throw new Error("Integers expected in function bitAnd");return r&t}xF.signature=tv;function wF(r){if(!pt(r))throw new Error("Integer expected in function bitNot");return~r}wF.signature=USe;function CF(r,t){if(!pt(r)||!pt(t))throw new Error("Integers expected in function bitOr");return r|t}CF.signature=tv;function SF(r,t){if(!pt(r)||!pt(t))throw new Error("Integers expected in function bitXor");return r^t}SF.signature=tv;function DF(r,t){if(!pt(r)||!pt(t))throw new Error("Integers expected in function leftShift");return r<<t}DF.signature=tv;function EF(r,t){if(!pt(r)||!pt(t))throw new Error("Integers expected in function rightArithShift");return r>>t}EF.signature=tv;function MF(r,t){if(!pt(r)||!pt(t))throw new Error("Integers expected in function rightLogShift");return r>>>t}MF.signature=tv;function il(r,t){if(t<r)return 1;if(t===r)return t;var e=t+r>>1;return il(r,e)*il(e+1,t)}function AF(r,t){if(!pt(r)||r<0)throw new TypeError("Positive integer value expected in function combinations");if(!pt(t)||t<0)throw new TypeError("Positive integer value expected in function combinations");if(t>r)throw new TypeError("k must be less than or equal to n");for(var e=r-t,n=1,i=t<e?e+1:t+1,o=2,s=t<e?t:e,a=i;a<=r;++a)for(n*=a;o<=s&&n%o===0;)n/=o,++o;return o<=s&&(n/=il(o,s)),n}AF.signature="number, number";var FG=Math.PI,RG=2*Math.PI,PG=Math.E,LG=1.618033988749895;var qSe="number",TF="number, number";function IF(r){return!r}IF.signature=qSe;function zS(r,t){return!!(r||t)}zS.signature=TF;function jS(r,t){return!!r!=!!t}jS.signature=TF;function HS(r,t){return!!(r&&t)}HS.signature=TF;function gy(r){var t;if(pt(r))return r<=0?isFinite(r)?1/0:NaN:r>171?1/0:il(1,r-1);if(r<.5)return Math.PI/(Math.sin(Math.PI*r)*gy(1-r));if(r>=171.35)return 1/0;if(r>85){var e=r*r,n=e*r,i=n*r,o=i*r;return Math.sqrt(2*Math.PI/r)*Math.pow(r/Math.E,r)*(1+1/(12*r)+1/(288*e)-139/(51840*n)-571/(2488320*i)+163879/(209018880*o)+5246819/(75246796800*o*r))}--r,t=Fm[0];for(var s=1;s<Fm.length;++s)t+=Fm[s]/(r+s);var a=r+kF+.5;return Math.sqrt(2*Math.PI)*Math.pow(a,r+.5)*Math.exp(-a)*t}gy.signature="number";var kF=4.7421875,Fm=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22],NF=.9189385332046728,WSe=5,$Se=7,BG=[1.000000000190015,76.18009172947146,-86.50532032941678,24.01409824083091,-1.231739572450155,.001208650973866179,-5395239384953e-18];function vy(r){if(r<0)return NaN;if(r===0)return 1/0;if(!isFinite(r))return r;if(r<.5)return Math.log(Math.PI/Math.sin(Math.PI*r))-vy(1-r);r=r-1;for(var t=r+WSe+.5,e=BG[0],n=$Se-1;n>=1;n--)e+=BG[n]/(r+n);return NF+(r+.5)*Math.log(t)-t+Math.log(e)}vy.signature="number";var ki="number",GSe="number, number";function YSe(r){return Math.acos(r)}YSe.signature=ki;function OF(r){return X$(r)}OF.signature=ki;function FF(r){return Math.atan(1/r)}FF.signature=ki;function RF(r){return isFinite(r)?(Math.log((r+1)/r)+Math.log(r/(r-1)))/2:0}RF.signature=ki;function PF(r){return Math.asin(1/r)}PF.signature=ki;function LF(r){var t=1/r;return Math.log(t+Math.sqrt(t*t+1))}LF.signature=ki;function BF(r){return Math.acos(1/r)}BF.signature=ki;function VF(r){var t=1/r,e=Math.sqrt(t*t-1);return Math.log(e+t)}VF.signature=ki;function KSe(r){return Math.asin(r)}KSe.signature=ki;function zF(r){return Z$(r)}zF.signature=ki;function XSe(r){return Math.atan(r)}XSe.signature=ki;function ZSe(r,t){return Math.atan2(r,t)}ZSe.signature=GSe;function jF(r){return Q$(r)}jF.signature=ki;function QSe(r){return Math.cos(r)}QSe.signature=ki;function JSe(r){return xS(r)}JSe.signature=ki;function HF(r){return 1/Math.tan(r)}HF.signature=ki;function UF(r){var t=Math.exp(2*r);return(t+1)/(t-1)}UF.signature=ki;function qF(r){return 1/Math.sin(r)}qF.signature=ki;function WF(r){return r===0?Number.POSITIVE_INFINITY:Math.abs(2/(Math.exp(r)-Math.exp(-r)))*Rl(r)}WF.signature=ki;function $F(r){return 1/Math.cos(r)}$F.signature=ki;function GF(r){return 2/(Math.exp(r)+Math.exp(-r))}GF.signature=ki;function eDe(r){return Math.sin(r)}eDe.signature=ki;function YF(r){return J$(r)}YF.signature=ki;function tDe(r){return Math.tan(r)}tDe.signature=ki;function rDe(r){return wS(r)}rDe.signature=ki;var by="number";function nDe(r){return pt(r)}nDe.signature=by;function KF(r){return r<0}KF.signature=by;function XF(r){return r>0}XF.signature=by;function iDe(r){return r===0}iDe.signature=by;function ZF(r){return Number.isNaN(r)}ZF.signature=by;function bi(r,t){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1e-9,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;if(e<=0)throw new Error("Relative tolerance must be greater than 0");if(n<0)throw new Error("Absolute tolerance must be at least 0");return r.isNaN()||t.isNaN()?!1:!r.isFinite()||!t.isFinite()?r.eq(t):r.eq(t)?!0:r.minus(t).abs().lte(r.constructor.max(r.constructor.max(r.abs(),t.abs()).mul(e),n))}var VG="isNegative",oDe=["typed","config"],QF=F(VG,oDe,r=>{var{typed:t,config:e}=r;return t(VG,{number:n=>jn(n,0,e.relTol,e.absTol)?!1:KF(n),BigNumber:n=>bi(n,new n.constructor(0),e.relTol,e.absTol)?!1:n.isNeg()&&!n.isZero()&&!n.isNaN(),bigint:n=>n<0n,Fraction:n=>n.s<0,Unit:t.referToSelf(n=>i=>t.find(n,i.valueType())(i.value)),"Array | Matrix":t.referToSelf(n=>i=>wt(i,n))})});var zG="isNumeric",sDe=["typed"],JF=F(zG,sDe,r=>{var{typed:t}=r;return t(zG,{"number | BigNumber | bigint | Fraction | boolean":()=>!0,"Complex | Unit | string | null | undefined | Node":()=>!1,"Array | Matrix":t.referToSelf(e=>n=>wt(n,e))})});var jG="hasNumericValue",aDe=["typed","isNumeric"],e2=F(jG,aDe,r=>{var{typed:t,isNumeric:e}=r;return t(jG,{boolean:()=>!0,string:function(i){return i.trim().length>0&&!isNaN(Number(i))},any:function(i){return e(i)}})});var HG="isPositive",lDe=["typed","config"],t2=F(HG,lDe,r=>{var{typed:t,config:e}=r;return t(HG,{number:n=>jn(n,0,e.relTol,e.absTol)?!1:XF(n),BigNumber:n=>bi(n,new n.constructor(0),e.relTol,e.absTol)?!1:!n.isNeg()&&!n.isZero()&&!n.isNaN(),bigint:n=>n>0n,Fraction:n=>n.s>0&&n.n>0,Unit:t.referToSelf(n=>i=>t.find(n,i.valueType())(i.value)),"Array | Matrix":t.referToSelf(n=>i=>wt(i,n))})});var UG="isZero",cDe=["typed","equalScalar"],r2=F(UG,cDe,r=>{var{typed:t,equalScalar:e}=r;return t(UG,{"number | BigNumber | Complex | Fraction":n=>e(n,0),bigint:n=>n===0n,Unit:t.referToSelf(n=>i=>t.find(n,i.valueType())(i.value)),"Array | Matrix":t.referToSelf(n=>i=>wt(i,n))})});var qG="isNaN",uDe=["typed"],n2=F(qG,uDe,r=>{var{typed:t}=r;return t(qG,{number:ZF,BigNumber:function(n){return n.isNaN()},bigint:function(n){return!1},Fraction:function(n){return!1},Complex:function(n){return n.isNaN()},Unit:function(n){return Number.isNaN(n.value)},"Array | Matrix":t.referToSelf(e=>n=>wt(n,e))})});var WG="typeOf",dDe=["typed"],i2=F(WG,dDe,r=>{var{typed:t}=r;return t(WG,{any:Rr})});function $G(r,t,e,n){return jn(r.re,t.re,e,n)&&jn(r.im,t.im,e,n)}var zl=F("compareUnits",["typed"],r=>{var{typed:t}=r;return{"Unit, Unit":t.referToSelf(e=>(n,i)=>{if(!n.equalBase(i))throw new Error("Cannot compare units with different base");return t.find(e,[n.valueType(),i.valueType()])(n.value,i.value)})}});var US="equalScalar",fDe=["typed","config"],o2=F(US,fDe,r=>{var{typed:t,config:e}=r,n=zl({typed:t});return t(US,{"boolean, boolean":function(o,s){return o===s},"number, number":function(o,s){return jn(o,s,e.relTol,e.absTol)},"BigNumber, BigNumber":function(o,s){return o.eq(s)||bi(o,s,e.relTol,e.absTol)},"bigint, bigint":function(o,s){return o===s},"Fraction, Fraction":function(o,s){return o.equals(s)},"Complex, Complex":function(o,s){return $G(o,s,e.relTol,e.absTol)}},n)}),AQe=F(US,["typed","config"],r=>{var{typed:t,config:e}=r;return t(US,{"number, number":function(i,o){return jn(i,o,e.relTol,e.absTol)}})});var hDe="SparseMatrix",mDe=["typed","equalScalar","Matrix"],s2=F(hDe,mDe,r=>{var{typed:t,equalScalar:e,Matrix:n}=r;function i(y,C){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");if(C&&!Ii(C))throw new Error("Invalid datatype: "+C);if(_t(y))o(this,y,C);else if(y&&Gr(y.index)&&Gr(y.ptr)&&Gr(y.size))this._values=y.values,this._index=y.index,this._ptr=y.ptr,this._size=y.size,this._datatype=C||y.datatype;else if(Gr(y))s(this,y,C);else{if(y)throw new TypeError("Unsupported type of data ("+Rr(y)+")");this._values=[],this._index=[],this._ptr=[0],this._size=[0,0],this._datatype=C}}function o(y,C,S){C.type==="SparseMatrix"?(y._values=C._values?Pt(C._values):void 0,y._index=Pt(C._index),y._ptr=Pt(C._ptr),y._size=Pt(C._size),y._datatype=S||C._datatype):s(y,C.valueOf(),S||C._datatype)}function s(y,C,S){y._values=[],y._index=[],y._ptr=[],y._datatype=S;var A=C.length,x=0,M=e,E=0;if(Ii(S)&&(M=t.find(e,[S,S])||e,E=t.convert(0,S)),A>0){var w=0;do{y._ptr.push(y._index.length);for(var T=0;T<A;T++){var k=C[T];if(Gr(k)){if(w===0&&x<k.length&&(x=k.length),w<k.length){var I=k[w];M(I,E)||(y._values.push(I),y._index.push(T))}}else w===0&&x<1&&(x=1),M(k,E)||(y._values.push(k),y._index.push(T))}w++}while(w<x)}y._ptr.push(y._index.length),y._size=[A,x]}i.prototype=new n,i.prototype.createSparseMatrix=function(y,C){return new i(y,C)},Object.defineProperty(i,"name",{value:"SparseMatrix"}),i.prototype.constructor=i,i.prototype.type="SparseMatrix",i.prototype.isSparseMatrix=!0,i.prototype.getDataType=function(){return Om(this._values,Rr)},i.prototype.storage=function(){return"sparse"},i.prototype.datatype=function(){return this._datatype},i.prototype.create=function(y,C){return new i(y,C)},i.prototype.density=function(){var y=this._size[0],C=this._size[1];return y!==0&&C!==0?this._index.length/(y*C):0},i.prototype.subset=function(y,C,S){if(!this._values)throw new Error("Cannot invoke subset on a Pattern only matrix");switch(arguments.length){case 1:return a(this,y);case 2:case 3:return l(this,y,C,S);default:throw new SyntaxError("Wrong number of arguments")}};function a(y,C){if(!Rf(C))throw new TypeError("Invalid index");var S=C.isScalar();if(S)return y.get(C.min());var A=C.size();if(A.length!==y._size.length)throw new Zt(A.length,y._size.length);var x,M,E,w,T=C.min(),k=C.max();for(x=0,M=y._size.length;x<M;x++)gn(T[x],y._size[x]),gn(k[x],y._size[x]);var I=y._values,O=y._index,R=y._ptr,j=C.dimension(0),q=C.dimension(1),X=[],Y=[];j.forEach(function(U,ce){Y[U]=ce[0],X[U]=!0});var P=I?[]:void 0,L=[],Z=[];return q.forEach(function(U){for(Z.push(L.length),E=R[U],w=R[U+1];E<w;E++)x=O[E],X[x]===!0&&(L.push(Y[x]),P&&P.push(I[E]))}),Z.push(L.length),new i({values:P,index:L,ptr:Z,size:A,datatype:y._datatype})}function l(y,C,S,A){if(!C||C.isIndex!==!0)throw new TypeError("Invalid index");var x=C.size(),M=C.isScalar(),E;if(_t(S)?(E=S.size(),S=S.toArray()):E=Ot(S),M){if(E.length!==0)throw new TypeError("Scalar expected");y.set(C.min(),S,A)}else{if(x.length!==1&&x.length!==2)throw new Zt(x.length,y._size.length,"<");if(E.length<x.length){for(var w=0,T=0;x[w]===1&&E[w]===1;)w++;for(;x[w]===1;)T++,w++;S=RS(S,x.length,T,E)}if(!Oa(x,E))throw new Zt(x,E,">");if(x.length===1){var k=C.dimension(0);k.forEach(function(R,j){gn(R),y.set([R,0],S[j[0]],A)})}else{var I=C.dimension(0),O=C.dimension(1);I.forEach(function(R,j){gn(R),O.forEach(function(q,X){gn(q),y.set([R,q],S[j[0]][X[0]],A)})})}}return y}i.prototype.get=function(y){if(!Gr(y))throw new TypeError("Array expected");if(y.length!==this._size.length)throw new Zt(y.length,this._size.length);if(!this._values)throw new Error("Cannot invoke get on a Pattern only matrix");var C=y[0],S=y[1];gn(C,this._size[0]),gn(S,this._size[1]);var A=c(C,this._ptr[S],this._ptr[S+1],this._index);return A<this._ptr[S+1]&&this._index[A]===C?this._values[A]:0},i.prototype.set=function(y,C,S){if(!Gr(y))throw new TypeError("Array expected");if(y.length!==this._size.length)throw new Zt(y.length,this._size.length);if(!this._values)throw new Error("Cannot invoke set on a Pattern only matrix");var A=y[0],x=y[1],M=this._size[0],E=this._size[1],w=e,T=0;Ii(this._datatype)&&(w=t.find(e,[this._datatype,this._datatype])||e,T=t.convert(0,this._datatype)),(A>M-1||x>E-1)&&(m(this,Math.max(A+1,M),Math.max(x+1,E),S),M=this._size[0],E=this._size[1]),gn(A,M),gn(x,E);var k=c(A,this._ptr[x],this._ptr[x+1],this._index);return k<this._ptr[x+1]&&this._index[k]===A?w(C,T)?d(k,x,this._values,this._index,this._ptr):this._values[k]=C:w(C,T)||f(k,A,x,C,this._values,this._index,this._ptr),this};function c(y,C,S,A){if(S-C===0)return S;for(var x=C;x<S;x++)if(A[x]===y)return x;return C}function d(y,C,S,A,x){S.splice(y,1),A.splice(y,1);for(var M=C+1;M<x.length;M++)x[M]--}function f(y,C,S,A,x,M,E){x.splice(y,0,A),M.splice(y,0,C);for(var w=S+1;w<E.length;w++)E[w]++}i.prototype.resize=function(y,C,S){if(!Bi(y))throw new TypeError("Array or Matrix expected");var A=y.valueOf().map(M=>Array.isArray(M)&&M.length===1?M[0]:M);if(A.length!==2)throw new Error("Only two dimensions matrix are supported");A.forEach(function(M){if(!Bt(M)||!pt(M)||M<0)throw new TypeError("Invalid size, must contain positive integers (size: "+Gt(A)+")")});var x=S?this.clone():this;return m(x,A[0],A[1],C)};function m(y,C,S,A){var x=A||0,M=e,E=0;Ii(y._datatype)&&(M=t.find(e,[y._datatype,y._datatype])||e,E=t.convert(0,y._datatype),x=t.convert(x,y._datatype));var w=!M(x,E),T=y._size[0],k=y._size[1],I,O,R;if(S>k){for(O=k;O<S;O++)if(y._ptr[O]=y._values.length,w)for(I=0;I<T;I++)y._values.push(x),y._index.push(I);y._ptr[S]=y._values.length}else S<k&&(y._ptr.splice(S+1,k-S),y._values.splice(y._ptr[S],y._values.length),y._index.splice(y._ptr[S],y._index.length));if(k=S,C>T){if(w){var j=0;for(O=0;O<k;O++){y._ptr[O]=y._ptr[O]+j,R=y._ptr[O+1]+j;var q=0;for(I=T;I<C;I++,q++)y._values.splice(R+q,0,x),y._index.splice(R+q,0,I),j++}y._ptr[k]=y._values.length}}else if(C<T){var X=0;for(O=0;O<k;O++){y._ptr[O]=y._ptr[O]-X;var Y=y._ptr[O],P=y._ptr[O+1]-X;for(R=Y;R<P;R++)I=y._index[R],I>C-1&&(y._values.splice(R,1),y._index.splice(R,1),X++)}y._ptr[O]=y._values.length}return y._size[0]=C,y._size[1]=S,y}i.prototype.reshape=function(y,C){if(!Gr(y))throw new TypeError("Array expected");if(y.length!==2)throw new Error("Sparse matrices can only be reshaped in two dimensions");y.forEach(function(U){if(!Bt(U)||!pt(U)||U<=-2||U===0)throw new TypeError("Invalid size, must contain positive integers or -1 (size: "+Gt(y)+")")});var S=this._size[0]*this._size[1];y=hy(y,S);var A=y[0]*y[1];if(S!==A)throw new Error("Reshaping sparse matrix will result in the wrong number of elements");var x=C?this.clone():this;if(this._size[0]===y[0]&&this._size[1]===y[1])return x;for(var M=[],E=0;E<x._ptr.length;E++)for(var w=0;w<x._ptr[E+1]-x._ptr[E];w++)M.push(E);for(var T=x._values.slice(),k=x._index.slice(),I=0;I<x._index.length;I++){var O=k[I],R=M[I],j=O*x._size[1]+R;M[I]=j%y[1],k[I]=Math.floor(j/y[1])}x._values.length=0,x._index.length=0,x._ptr.length=y[1]+1,x._size=y.slice();for(var q=0;q<x._ptr.length;q++)x._ptr[q]=0;for(var X=0;X<T.length;X++){var Y=k[X],P=M[X],L=T[X],Z=c(Y,x._ptr[P],x._ptr[P+1],x._index);f(Z,Y,P,L,x._values,x._index,x._ptr)}return x},i.prototype.clone=function(){var y=new i({values:this._values?Pt(this._values):void 0,index:Pt(this._index),ptr:Pt(this._ptr),size:Pt(this._size),datatype:this._datatype});return y},i.prototype.size=function(){return this._size.slice(0)},i.prototype.map=function(y,C){if(!this._values)throw new Error("Cannot invoke map on a Pattern only matrix");var S=this,A=this._size[0],x=this._size[1],M=Bl(y,S,"map"),E=function(T,k,I){return M(T,[k,I],S)};return p(this,0,A-1,0,x-1,E,C)};function p(y,C,S,A,x,M,E){var w=[],T=[],k=[],I=e,O=0;Ii(y._datatype)&&(I=t.find(e,[y._datatype,y._datatype])||e,O=t.convert(0,y._datatype));for(var R=function(Q,he,ke){var be=M(Q,he,ke);I(be,O)||(w.push(be),T.push(he))},j=A;j<=x;j++){k.push(w.length);var q=y._ptr[j],X=y._ptr[j+1];if(E)for(var Y=q;Y<X;Y++){var P=y._index[Y];P>=C&&P<=S&&R(y._values[Y],P-C,j-A)}else{for(var L={},Z=q;Z<X;Z++){var U=y._index[Z];L[U]=y._values[Z]}for(var ce=C;ce<=S;ce++){var me=ce in L?L[ce]:0;R(me,ce-C,j-A)}}}return k.push(w.length),new i({values:w,index:T,ptr:k,size:[S-C+1,x-A+1]})}i.prototype.forEach=function(y,C){if(!this._values)throw new Error("Cannot invoke forEach on a Pattern only matrix");for(var S=this,A=this._size[0],x=this._size[1],M=Bl(y,S,"forEach"),E=0;E<x;E++){var w=this._ptr[E],T=this._ptr[E+1];if(C)for(var k=w;k<T;k++){var I=this._index[k];M(this._values[k],[I,E],S)}else{for(var O={},R=w;R<T;R++){var j=this._index[R];O[j]=this._values[R]}for(var q=0;q<A;q++){var X=q in O?O[q]:0;M(X,[q,E],S)}}}},i.prototype[Symbol.iterator]=function*(){if(!this._values)throw new Error("Cannot iterate a Pattern only matrix");for(var y=this._size[1],C=0;C<y;C++)for(var S=this._ptr[C],A=this._ptr[C+1],x=S;x<A;x++){var M=this._index[x];yield{value:this._values[x],index:[M,C]}}},i.prototype.toArray=function(){return b(this._values,this._index,this._ptr,this._size,!0)},i.prototype.valueOf=function(){return b(this._values,this._index,this._ptr,this._size,!1)};function b(y,C,S,A,x){var M=A[0],E=A[1],w=[],T,k;for(T=0;T<M;T++)for(w[T]=[],k=0;k<E;k++)w[T][k]=0;for(k=0;k<E;k++)for(var I=S[k],O=S[k+1],R=I;R<O;R++)T=C[R],w[T][k]=y?x?Pt(y[R]):y[R]:1;return w}return i.prototype.format=function(y){for(var C=this._size[0],S=this._size[1],A=this.density(),x="Sparse Matrix ["+Gt(C,y)+" x "+Gt(S,y)+"] density: "+Gt(A,y)+`
`,M=0;M<S;M++)for(var E=this._ptr[M],w=this._ptr[M+1],T=E;T<w;T++){var k=this._index[T];x+=`
    (`+Gt(k,y)+", "+Gt(M,y)+") ==> "+(this._values?Gt(this._values[T],y):"X")}return x},i.prototype.toString=function(){return Gt(this.toArray())},i.prototype.toJSON=function(){return{mathjs:"SparseMatrix",values:this._values,index:this._index,ptr:this._ptr,size:this._size,datatype:this._datatype}},i.prototype.diagonal=function(y){if(y){if(It(y)&&(y=y.toNumber()),!Bt(y)||!pt(y))throw new TypeError("The parameter k must be an integer number")}else y=0;var C=y>0?y:0,S=y<0?-y:0,A=this._size[0],x=this._size[1],M=Math.min(A-S,x-C),E=[],w=[],T=[];T[0]=0;for(var k=C;k<x&&E.length<M;k++)for(var I=this._ptr[k],O=this._ptr[k+1],R=I;R<O;R++){var j=this._index[R];if(j===k-C+S){E.push(this._values[R]),w[E.length-1]=j-S;break}}return T.push(E.length),new i({values:E,index:w,ptr:T,size:[M,1]})},i.fromJSON=function(y){return new i(y)},i.diagonal=function(y,C,S,A,x){if(!Gr(y))throw new TypeError("Array expected, size parameter");if(y.length!==2)throw new Error("Only two dimensions matrix are supported");if(y=y.map(function(U){if(It(U)&&(U=U.toNumber()),!Bt(U)||!pt(U)||U<1)throw new Error("Size values must be positive integers");return U}),S){if(It(S)&&(S=S.toNumber()),!Bt(S)||!pt(S))throw new TypeError("The parameter k must be an integer number")}else S=0;var M=e,E=0;Ii(x)&&(M=t.find(e,[x,x])||e,E=t.convert(0,x));var w=S>0?S:0,T=S<0?-S:0,k=y[0],I=y[1],O=Math.min(k-T,I-w),R;if(Gr(C)){if(C.length!==O)throw new Error("Invalid value array length");R=function(ce){return C[ce]}}else if(_t(C)){var j=C.size();if(j.length!==1||j[0]!==O)throw new Error("Invalid matrix length");R=function(ce){return C.get([ce])}}else R=function(){return C};for(var q=[],X=[],Y=[],P=0;P<I;P++){Y.push(q.length);var L=P-w;if(L>=0&&L<O){var Z=R(L);M(Z,E)||(X.push(L+T),q.push(Z))}}return Y.push(q.length),new i({values:q,index:X,ptr:Y,size:[k,I]})},i.prototype.swapRows=function(y,C){if(!Bt(y)||!pt(y)||!Bt(C)||!pt(C))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return gn(y,this._size[0]),gn(C,this._size[0]),i._swapRows(y,C,this._size[1],this._values,this._index,this._ptr),this},i._forEachRow=function(y,C,S,A,x){for(var M=A[y],E=A[y+1],w=M;w<E;w++)x(S[w],C[w])},i._swapRows=function(y,C,S,A,x,M){for(var E=0;E<S;E++){var w=M[E],T=M[E+1],k=c(y,w,T,x),I=c(C,w,T,x);if(k<T&&I<T&&x[k]===y&&x[I]===C){if(A){var O=A[k];A[k]=A[I],A[I]=O}continue}if(k<T&&x[k]===y&&(I>=T||x[I]!==C)){var R=A?A[k]:void 0;x.splice(I,0,C),A&&A.splice(I,0,R),x.splice(I<=k?k+1:k,1),A&&A.splice(I<=k?k+1:k,1);continue}if(I<T&&x[I]===C&&(k>=T||x[k]!==y)){var j=A?A[I]:void 0;x.splice(k,0,y),A&&A.splice(k,0,j),x.splice(k<=I?I+1:I,1),A&&A.splice(k<=I?I+1:I,1)}}},i},{isClass:!0});var pDe="number",gDe=["typed"];function vDe(r){var t=r.match(/(0[box])([0-9a-fA-F]*)\.([0-9a-fA-F]*)/);if(t){var e={"0b":2,"0o":8,"0x":16}[t[1]],n=t[2],i=t[3];return{input:r,radix:e,integerPart:n,fractionalPart:i}}else return null}function bDe(r){for(var t=parseInt(r.integerPart,r.radix),e=0,n=0;n<r.fractionalPart.length;n++){var i=parseInt(r.fractionalPart[n],r.radix);e+=i/Math.pow(r.radix,n+1)}var o=t+e;if(isNaN(o))throw new SyntaxError('String "'+r.input+'" is not a valid number');return o}var a2=F(pDe,gDe,r=>{var{typed:t}=r,e=t("number",{"":function(){return 0},number:function(i){return i},string:function(i){if(i==="NaN")return NaN;var o=vDe(i);if(o)return bDe(o);var s=0,a=i.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);a&&(s=Number(a[2]),i=a[1]);var l=Number(i);if(isNaN(l))throw new SyntaxError('String "'+i+'" is not a valid number');if(a){if(l>2**s-1)throw new SyntaxError('String "'.concat(i,'" is out of range'));l>=2**(s-1)&&(l=l-2**s)}return l},BigNumber:function(i){return i.toNumber()},bigint:function(i){return Number(i)},Fraction:function(i){return i.valueOf()},Unit:t.referToSelf(n=>i=>{var o=i.clone();return o.value=n(i.value),o}),null:function(i){return 0},"Unit, string | Unit":function(i,o){return i.toNumber(o)},"Array | Matrix":t.referToSelf(n=>i=>wt(i,n))});return e.fromJSON=function(n){return parseFloat(n.value)},e});var yDe="bigint",_De=["typed"],l2=F(yDe,_De,r=>{var{typed:t}=r,e=t("bigint",{"":function(){return 0n},bigint:function(i){return i},number:function(i){return BigInt(i.toFixed())},BigNumber:function(i){return BigInt(i.round().toString())},Fraction:function(i){return BigInt(i.valueOf().toFixed())},"string | boolean":function(i){return BigInt(i)},null:function(i){return 0n},"Array | Matrix":t.referToSelf(n=>i=>wt(i,n))});return e.fromJSON=function(n){return BigInt(n.value)},e});var GG="string",xDe=["typed"],c2=F(GG,xDe,r=>{var{typed:t}=r;return t(GG,{"":function(){return""},number:wc,null:function(n){return"null"},boolean:function(n){return n+""},string:function(n){return n},"Array | Matrix":t.referToSelf(e=>n=>wt(n,e)),any:function(n){return String(n)}})});var YG="boolean",wDe=["typed"],u2=F(YG,wDe,r=>{var{typed:t}=r;return t(YG,{"":function(){return!1},boolean:function(n){return n},number:function(n){return!!n},null:function(n){return!1},BigNumber:function(n){return!n.isZero()},string:function(n){var i=n.toLowerCase();if(i==="true")return!0;if(i==="false")return!1;var o=Number(n);if(n!==""&&!isNaN(o))return!!o;throw new Error('Cannot convert "'+n+'" to a boolean')},"Array | Matrix":t.referToSelf(e=>n=>wt(n,e))})});var CDe="bignumber",SDe=["typed","BigNumber"],d2=F(CDe,SDe,r=>{var{typed:t,BigNumber:e}=r;return t("bignumber",{"":function(){return new e(0)},number:function(i){return new e(i+"")},string:function(i){var o=i.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);if(o){var s=o[2],a=e(o[1]),l=new e(2).pow(Number(s));if(a.gt(l.sub(1)))throw new SyntaxError('String "'.concat(i,'" is out of range'));var c=new e(2).pow(Number(s)-1);return a.gte(c)?a.sub(l):a}return new e(i)},BigNumber:function(i){return i},bigint:function(i){return new e(i.toString())},Unit:t.referToSelf(n=>i=>{var o=i.clone();return o.value=n(i.value),o}),Fraction:function(i){return new e(i.n).div(i.d).times(i.s)},null:function(i){return new e(0)},"Array | Matrix":t.referToSelf(n=>i=>wt(i,n))})});var DDe="complex",EDe=["typed","Complex"],f2=F(DDe,EDe,r=>{var{typed:t,Complex:e}=r;return t("complex",{"":function(){return e.ZERO},number:function(i){return new e(i,0)},"number, number":function(i,o){return new e(i,o)},"BigNumber, BigNumber":function(i,o){return new e(i.toNumber(),o.toNumber())},Fraction:function(i){return new e(i.valueOf(),0)},Complex:function(i){return i.clone()},string:function(i){return e(i)},null:function(i){return e(0)},Object:function(i){if("re"in i&&"im"in i)return new e(i.re,i.im);if("r"in i&&"phi"in i||"abs"in i&&"arg"in i)return new e(i);throw new Error("Expected object with properties (re and im) or (r and phi) or (abs and arg)")},"Array | Matrix":t.referToSelf(n=>i=>wt(i,n))})});var MDe="fraction",ADe=["typed","Fraction"],h2=F(MDe,ADe,r=>{var{typed:t,Fraction:e}=r;return t("fraction",{number:function(i){if(!isFinite(i)||isNaN(i))throw new Error(i+" cannot be represented as a fraction");return new e(i)},string:function(i){return new e(i)},"number, number":function(i,o){return new e(i,o)},null:function(i){return new e(0)},BigNumber:function(i){return new e(i.toString())},bigint:function(i){return new e(i.toString())},Fraction:function(i){return i},Unit:t.referToSelf(n=>i=>{var o=i.clone();return o.value=n(i.value),o}),Object:function(i){return new e(i)},"Array | Matrix":t.referToSelf(n=>i=>wt(i,n))})});var KG="matrix",TDe=["typed","Matrix","DenseMatrix","SparseMatrix"],m2=F(KG,TDe,r=>{var{typed:t,Matrix:e,DenseMatrix:n,SparseMatrix:i}=r;return t(KG,{"":function(){return o([])},string:function(a){return o([],a)},"string, string":function(a,l){return o([],a,l)},Array:function(a){return o(a)},Matrix:function(a){return o(a,a.storage())},"Array | Matrix, string":o,"Array | Matrix, string, string":o});function o(s,a,l){if(a==="dense"||a==="default"||a===void 0)return new n(s,l);if(a==="sparse")return new i(s,l);throw new TypeError("Unknown matrix type "+JSON.stringify(a)+".")}});var XG="matrixFromFunction",IDe=["typed","matrix","isZero"],p2=F(XG,IDe,r=>{var{typed:t,matrix:e,isZero:n}=r;return t(XG,{"Array | Matrix, function, string, string":function(s,a,l,c){return i(s,a,l,c)},"Array | Matrix, function, string":function(s,a,l){return i(s,a,l)},"Matrix, function":function(s,a){return i(s,a,"dense")},"Array, function":function(s,a){return i(s,a,"dense").toArray()},"Array | Matrix, string, function":function(s,a,l){return i(s,l,a)},"Array | Matrix, string, string, function":function(s,a,l,c){return i(s,c,a,l)}});function i(o,s,a,l){var c;return l!==void 0?c=e(a,l):c=e(a),c.resize(o),c.forEach(function(d,f){var m=s(f);n(m)||c.set(f,m)}),c}});var ZG="matrixFromRows",kDe=["typed","matrix","flatten","size"],g2=F(ZG,kDe,r=>{var{typed:t,matrix:e,flatten:n,size:i}=r;return t(ZG,{"...Array":function(l){return o(l)},"...Matrix":function(l){return e(o(l.map(c=>c.toArray())))}});function o(a){if(a.length===0)throw new TypeError("At least one row is needed to construct a matrix.");var l=s(a[0]),c=[];for(var d of a){var f=s(d);if(f!==l)throw new TypeError("The vectors had different length: "+(l|0)+" \u2260 "+(f|0));c.push(n(d))}return c}function s(a){var l=i(a);if(l.length===1)return l[0];if(l.length===2){if(l[0]===1)return l[1];if(l[1]===1)return l[0];throw new TypeError("At least one of the arguments is not a vector.")}else throw new TypeError("Only one- or two-dimensional vectors are supported.")}});var QG="matrixFromColumns",NDe=["typed","matrix","flatten","size"],v2=F(QG,NDe,r=>{var{typed:t,matrix:e,flatten:n,size:i}=r;return t(QG,{"...Array":function(l){return o(l)},"...Matrix":function(l){return e(o(l.map(c=>c.toArray())))}});function o(a){if(a.length===0)throw new TypeError("At least one column is needed to construct a matrix.");for(var l=s(a[0]),c=[],d=0;d<l;d++)c[d]=[];for(var f of a){var m=s(f);if(m!==l)throw new TypeError("The vectors had different length: "+(l|0)+" \u2260 "+(m|0));for(var p=n(f),b=0;b<l;b++)c[b].push(p[b])}return c}function s(a){var l=i(a);if(l.length===1)return l[0];if(l.length===2){if(l[0]===1)return l[1];if(l[1]===1)return l[0];throw new TypeError("At least one of the arguments is not a vector.")}else throw new TypeError("Only one- or two-dimensional vectors are supported.")}});var JG="splitUnit",ODe=["typed"],b2=F(JG,ODe,r=>{var{typed:t}=r;return t(JG,{"Unit, Array":function(n,i){return n.splitUnit(i)}})});var eY="unaryMinus",FDe=["typed"],y2=F(eY,FDe,r=>{var{typed:t}=r;return t(eY,{number:cF,"Complex | BigNumber | Fraction":e=>e.neg(),bigint:e=>-e,Unit:t.referToSelf(e=>n=>{var i=n.clone();return i.value=t.find(e,i.valueType())(n.value),i}),"Array | Matrix":t.referToSelf(e=>n=>wt(n,e,!0))})});var tY="unaryPlus",RDe=["typed","config","numeric"],_2=F(tY,RDe,r=>{var{typed:t,config:e,numeric:n}=r;return t(tY,{number:uF,Complex:function(o){return o},BigNumber:function(o){return o},bigint:function(o){return o},Fraction:function(o){return o},Unit:function(o){return o.clone()},"Array | Matrix":t.referToSelf(i=>o=>wt(o,i,!0)),boolean:function(o){return n(o?1:0,e.number)},string:function(o){return n(o,Ms(o,e))}})});var rY="abs",PDe=["typed"],x2=F(rY,PDe,r=>{var{typed:t}=r;return t(rY,{number:oF,"Complex | BigNumber | Fraction | Unit":e=>e.abs(),bigint:e=>e<0n?-e:e,"Array | Matrix":t.referToSelf(e=>n=>wt(n,e,!0))})});var nY="apply",LDe=["typed","isInteger"],Rm=F(nY,LDe,r=>{var{typed:t,isInteger:e}=r;return t(nY,{"Array | Matrix, number | BigNumber, function":function(i,o,s){if(!e(o))throw new TypeError("Integer number expected for dimension");var a=Array.isArray(i)?Ot(i):i.size();if(o<0||o>=a.length)throw new fs(o,a.length);return _t(i)?i.create(qS(i.valueOf(),o,s),i.datatype()):qS(i,o,s)}})});function qS(r,t,e){var n,i,o;if(t<=0)if(Array.isArray(r[0])){for(o=BDe(r),i=[],n=0;n<o.length;n++)i[n]=qS(o[n],t-1,e);return i}else return e(r);else{for(i=[],n=0;n<r.length;n++)i[n]=qS(r[n],t-1,e);return i}}function BDe(r){var t=r.length,e=r[0].length,n,i,o=[];for(i=0;i<e;i++){var s=[];for(n=0;n<t;n++)s.push(r[n][i]);o.push(s)}return o}var iY="addScalar",VDe=["typed"],w2=F(iY,VDe,r=>{var{typed:t}=r;return t(iY,{"number, number":sF,"Complex, Complex":function(n,i){return n.add(i)},"BigNumber, BigNumber":function(n,i){return n.plus(i)},"bigint, bigint":function(n,i){return n+i},"Fraction, Fraction":function(n,i){return n.add(i)},"Unit, Unit":t.referToSelf(e=>(n,i)=>{if(n.value===null||n.value===void 0)throw new Error("Parameter x contains a unit with undefined value");if(i.value===null||i.value===void 0)throw new Error("Parameter y contains a unit with undefined value");if(!n.equalBase(i))throw new Error("Units do not match");var o=n.clone();return o.value=t.find(e,[o.valueType(),i.valueType()])(o.value,i.value),o.fixPrefix=!1,o})})});var oY="subtractScalar",zDe=["typed"],C2=F(oY,zDe,r=>{var{typed:t}=r;return t(oY,{"number, number":aF,"Complex, Complex":function(n,i){return n.sub(i)},"BigNumber, BigNumber":function(n,i){return n.minus(i)},"bigint, bigint":function(n,i){return n-i},"Fraction, Fraction":function(n,i){return n.sub(i)},"Unit, Unit":t.referToSelf(e=>(n,i)=>{if(n.value===null||n.value===void 0)throw new Error("Parameter x contains a unit with undefined value");if(i.value===null||i.value===void 0)throw new Error("Parameter y contains a unit with undefined value");if(!n.equalBase(i))throw new Error("Units do not match");var o=n.clone();return o.value=t.find(e,[o.valueType(),i.valueType()])(o.value,i.value),o.fixPrefix=!1,o})})});var sY="cbrt",jDe=["config","typed","isNegative","unaryMinus","matrix","Complex","BigNumber","Fraction"],S2=F(sY,jDe,r=>{var{config:t,typed:e,isNegative:n,unaryMinus:i,matrix:o,Complex:s,BigNumber:a,Fraction:l}=r;return e(sY,{number:Jg,Complex:c,"Complex, boolean":c,BigNumber:function(m){return m.cbrt()},Unit:d});function c(f,m){var p=f.arg()/3,b=f.abs(),y=new s(Jg(b),0).mul(new s(0,p).exp());if(m){var C=[y,new s(Jg(b),0).mul(new s(0,p+Math.PI*2/3).exp()),new s(Jg(b),0).mul(new s(0,p-Math.PI*2/3).exp())];return t.matrix==="Array"?C:o(C)}else return y}function d(f){if(f.value&&ua(f.value)){var m=f.clone();return m.value=1,m=m.pow(1/3),m.value=c(f.value),m}else{var p=n(f.value);p&&(f.value=i(f.value));var b;It(f.value)?b=new a(1).div(3):wd(f.value)?b=new l(1,3):b=1/3;var y=f.pow(b);return p&&(y.value=i(y.value)),y}}});var HDe="matAlgo11xS0s",UDe=["typed","equalScalar"],mn=F(HDe,UDe,r=>{var{typed:t,equalScalar:e}=r;return function(i,o,s,a){var l=i._values,c=i._index,d=i._ptr,f=i._size,m=i._datatype;if(!l)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var p=f[0],b=f[1],y,C=e,S=0,A=s;typeof m=="string"&&(y=m,C=t.find(e,[y,y]),S=t.convert(0,y),o=t.convert(o,y),A=t.find(s,[y,y]));for(var x=[],M=[],E=[],w=0;w<b;w++){E[w]=M.length;for(var T=d[w],k=d[w+1],I=T;I<k;I++){var O=c[I],R=a?A(o,l[I]):A(l[I],o);C(R,S)||(M.push(O),x.push(R))}}return E[b]=M.length,i.createSparseMatrix({values:x,index:M,ptr:E,size:[p,b],datatype:y})}});var qDe="matAlgo12xSfs",WDe=["typed","DenseMatrix"],Jr=F(qDe,WDe,r=>{var{typed:t,DenseMatrix:e}=r;return function(i,o,s,a){var l=i._values,c=i._index,d=i._ptr,f=i._size,m=i._datatype;if(!l)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var p=f[0],b=f[1],y,C=s;typeof m=="string"&&(y=m,o=t.convert(o,y),C=t.find(s,[y,y]));for(var S=[],A=[],x=[],M=0;M<b;M++){for(var E=M+1,w=d[M],T=d[M+1],k=w;k<T;k++){var I=c[k];A[I]=l[k],x[I]=E}for(var O=0;O<p;O++)M===0&&(S[O]=[]),x[O]===E?S[O][M]=a?C(o,A[O]):C(A[O],o):S[O][M]=a?C(o,0):C(0,o)}return new e({data:S,size:[p,b],datatype:y})}});var $De="matAlgo14xDs",GDe=["typed"],Wi=F($De,GDe,r=>{var{typed:t}=r;return function(i,o,s,a){var l=i._data,c=i._size,d=i._datatype,f,m=s;typeof d=="string"&&(f=d,o=t.convert(o,f),m=t.find(s,[f,f]));var p=c.length>0?e(m,0,c,c[0],l,o,a):[];return i.createDenseMatrix({data:p,size:Pt(c),datatype:f})};function e(n,i,o,s,a,l,c){var d=[];if(i===o.length-1)for(var f=0;f<s;f++)d[f]=c?n(l,a[f]):n(a[f],l);else for(var m=0;m<s;m++)d[m]=e(n,i+1,o,o[i+1],a[m],l,c);return d}});var D2="ceil",YDe=["typed","config","round","matrix","equalScalar","zeros","DenseMatrix"],KDe=F(D2,["typed","config","round"],r=>{var{typed:t,config:e,round:n}=r;return t(D2,{number:function(o){return jn(o,n(o),e.relTol,e.absTol)?n(o):Math.ceil(o)},"number, number":function(o,s){if(jn(o,n(o,s),e.relTol,e.absTol))return n(o,s);var[a,l]="".concat(o,"e").split("e"),c=Math.ceil(Number("".concat(a,"e").concat(Number(l)+s)));return[a,l]="".concat(c,"e").split("e"),Number("".concat(a,"e").concat(Number(l)-s))}})}),E2=F(D2,YDe,r=>{var{typed:t,config:e,round:n,matrix:i,equalScalar:o,zeros:s,DenseMatrix:a}=r,l=mn({typed:t,equalScalar:o}),c=Jr({typed:t,DenseMatrix:a}),d=Wi({typed:t}),f=KDe({typed:t,config:e,round:n});return t("ceil",{number:f.signatures.number,"number,number":f.signatures["number,number"],Complex:function(p){return p.ceil()},"Complex, number":function(p,b){return p.ceil(b)},"Complex, BigNumber":function(p,b){return p.ceil(b.toNumber())},BigNumber:function(p){return bi(p,n(p),e.relTol,e.absTol)?n(p):p.ceil()},"BigNumber, BigNumber":function(p,b){return bi(p,n(p,b),e.relTol,e.absTol)?n(p,b):p.toDecimalPlaces(b.toNumber(),Tm.ROUND_CEIL)},Fraction:function(p){return p.ceil()},"Fraction, number":function(p,b){return p.ceil(b)},"Fraction, BigNumber":function(p,b){return p.ceil(b.toNumber())},"Array | Matrix":t.referToSelf(m=>p=>wt(p,m,!0)),"Array, number | BigNumber":t.referToSelf(m=>(p,b)=>wt(p,y=>m(y,b),!0)),"SparseMatrix, number | BigNumber":t.referToSelf(m=>(p,b)=>l(p,b,m,!1)),"DenseMatrix, number | BigNumber":t.referToSelf(m=>(p,b)=>d(p,b,m,!1)),"number | Complex | Fraction | BigNumber, Array":t.referToSelf(m=>(p,b)=>d(i(b),p,m,!0).valueOf()),"number | Complex | Fraction | BigNumber, Matrix":t.referToSelf(m=>(p,b)=>o(p,0)?s(b.size(),b.storage()):b.storage()==="dense"?d(b,p,m,!0):c(b,p,m,!0))})});var aY="cube",XDe=["typed"],M2=F(aY,XDe,r=>{var{typed:t}=r;return t(aY,{number:dF,Complex:function(n){return n.mul(n).mul(n)},BigNumber:function(n){return n.times(n).times(n)},bigint:function(n){return n*n*n},Fraction:function(n){return n.pow(3)},Unit:function(n){return n.pow(3)}})});var lY="exp",ZDe=["typed"],A2=F(lY,ZDe,r=>{var{typed:t}=r;return t(lY,{number:fF,Complex:function(n){return n.exp()},BigNumber:function(n){return n.exp()}})});var cY="expm1",QDe=["typed","Complex"],T2=F(cY,QDe,r=>{var{typed:t,Complex:e}=r;return t(cY,{number:hF,Complex:function(i){var o=Math.exp(i.re);return new e(o*Math.cos(i.im)-1,o*Math.sin(i.im))},BigNumber:function(i){return i.exp().minus(1)}})});var I2="fix",JDe=["typed","Complex","matrix","ceil","floor","equalScalar","zeros","DenseMatrix"],eEe=F(I2,["typed","ceil","floor"],r=>{var{typed:t,ceil:e,floor:n}=r;return t(I2,{number:function(o){return o>0?n(o):e(o)},"number, number":function(o,s){return o>0?n(o,s):e(o,s)}})}),k2=F(I2,JDe,r=>{var{typed:t,Complex:e,matrix:n,ceil:i,floor:o,equalScalar:s,zeros:a,DenseMatrix:l}=r,c=Jr({typed:t,DenseMatrix:l}),d=Wi({typed:t}),f=eEe({typed:t,ceil:i,floor:o});return t("fix",{number:f.signatures.number,"number, number | BigNumber":f.signatures["number,number"],Complex:function(p){return new e(p.re>0?Math.floor(p.re):Math.ceil(p.re),p.im>0?Math.floor(p.im):Math.ceil(p.im))},"Complex, number":function(p,b){return new e(p.re>0?o(p.re,b):i(p.re,b),p.im>0?o(p.im,b):i(p.im,b))},"Complex, BigNumber":function(p,b){var y=b.toNumber();return new e(p.re>0?o(p.re,y):i(p.re,y),p.im>0?o(p.im,y):i(p.im,y))},BigNumber:function(p){return p.isNegative()?i(p):o(p)},"BigNumber, number | BigNumber":function(p,b){return p.isNegative()?i(p,b):o(p,b)},Fraction:function(p){return p.s<0?p.ceil():p.floor()},"Fraction, number | BigNumber":function(p,b){return p.s<0?i(p,b):o(p,b)},"Array | Matrix":t.referToSelf(m=>p=>wt(p,m,!0)),"Array | Matrix, number | BigNumber":t.referToSelf(m=>(p,b)=>wt(p,y=>m(y,b),!0)),"number | Complex | Fraction | BigNumber, Array":t.referToSelf(m=>(p,b)=>d(n(b),p,m,!0).valueOf()),"number | Complex | Fraction | BigNumber, Matrix":t.referToSelf(m=>(p,b)=>s(p,0)?a(b.size(),b.storage()):b.storage()==="dense"?d(b,p,m,!0):c(b,p,m,!0))})});var N2="floor",tEe=["typed","config","round","matrix","equalScalar","zeros","DenseMatrix"],rEe=F(N2,["typed","config","round"],r=>{var{typed:t,config:e,round:n}=r;return t(N2,{number:function(o){return jn(o,n(o),e.relTol,e.absTol)?n(o):Math.floor(o)},"number, number":function(o,s){if(jn(o,n(o,s),e.relTol,e.absTol))return n(o,s);var[a,l]="".concat(o,"e").split("e"),c=Math.floor(Number("".concat(a,"e").concat(Number(l)+s)));return[a,l]="".concat(c,"e").split("e"),Number("".concat(a,"e").concat(Number(l)-s))}})}),yy=F(N2,tEe,r=>{var{typed:t,config:e,round:n,matrix:i,equalScalar:o,zeros:s,DenseMatrix:a}=r,l=mn({typed:t,equalScalar:o}),c=Jr({typed:t,DenseMatrix:a}),d=Wi({typed:t}),f=rEe({typed:t,config:e,round:n});return t("floor",{number:f.signatures.number,"number,number":f.signatures["number,number"],Complex:function(p){return p.floor()},"Complex, number":function(p,b){return p.floor(b)},"Complex, BigNumber":function(p,b){return p.floor(b.toNumber())},BigNumber:function(p){return bi(p,n(p),e.relTol,e.absTol)?n(p):p.floor()},"BigNumber, BigNumber":function(p,b){return bi(p,n(p,b),e.relTol,e.absTol)?n(p,b):p.toDecimalPlaces(b.toNumber(),Tm.ROUND_FLOOR)},Fraction:function(p){return p.floor()},"Fraction, number":function(p,b){return p.floor(b)},"Fraction, BigNumber":function(p,b){return p.floor(b.toNumber())},"Array | Matrix":t.referToSelf(m=>p=>wt(p,m,!0)),"Array, number | BigNumber":t.referToSelf(m=>(p,b)=>wt(p,y=>m(y,b),!0)),"SparseMatrix, number | BigNumber":t.referToSelf(m=>(p,b)=>l(p,b,m,!1)),"DenseMatrix, number | BigNumber":t.referToSelf(m=>(p,b)=>d(p,b,m,!1)),"number | Complex | Fraction | BigNumber, Array":t.referToSelf(m=>(p,b)=>d(i(b),p,m,!0).valueOf()),"number | Complex | Fraction | BigNumber, Matrix":t.referToSelf(m=>(p,b)=>o(p,0)?s(b.size(),b.storage()):b.storage()==="dense"?d(b,p,m,!0):c(b,p,m,!0))})});var nEe="matAlgo02xDS0",iEe=["typed","equalScalar"],$i=F(nEe,iEe,r=>{var{typed:t,equalScalar:e}=r;return function(i,o,s,a){var l=i._data,c=i._size,d=i._datatype||i.getDataType(),f=o._values,m=o._index,p=o._ptr,b=o._size,y=o._datatype||o._data===void 0?o._datatype:o.getDataType();if(c.length!==b.length)throw new Zt(c.length,b.length);if(c[0]!==b[0]||c[1]!==b[1])throw new RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+b+")");if(!f)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var C=c[0],S=c[1],A,x=e,M=0,E=s;typeof d=="string"&&d===y&&d!=="mixed"&&(A=d,x=t.find(e,[A,A]),M=t.convert(0,A),E=t.find(s,[A,A]));for(var w=[],T=[],k=[],I=0;I<S;I++){k[I]=T.length;for(var O=p[I],R=p[I+1],j=O;j<R;j++){var q=m[j],X=a?E(f[j],l[q][I]):E(l[q][I],f[j]);x(X,M)||(T.push(q),w.push(X))}}return k[S]=T.length,o.createSparseMatrix({values:w,index:T,ptr:k,size:[C,S],datatype:d===i._datatype&&y===o._datatype?A:void 0})}});var oEe="matAlgo03xDSf",sEe=["typed"],Rn=F(oEe,sEe,r=>{var{typed:t}=r;return function(n,i,o,s){var a=n._data,l=n._size,c=n._datatype||n.getDataType(),d=i._values,f=i._index,m=i._ptr,p=i._size,b=i._datatype||i._data===void 0?i._datatype:i.getDataType();if(l.length!==p.length)throw new Zt(l.length,p.length);if(l[0]!==p[0]||l[1]!==p[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+p+")");if(!d)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var y=l[0],C=l[1],S,A=0,x=o;typeof c=="string"&&c===b&&c!=="mixed"&&(S=c,A=t.convert(0,S),x=t.find(o,[S,S]));for(var M=[],E=0;E<y;E++)M[E]=[];for(var w=[],T=[],k=0;k<C;k++){for(var I=k+1,O=m[k],R=m[k+1],j=O;j<R;j++){var q=f[j];w[q]=s?x(d[j],a[q][k]):x(a[q][k],d[j]),T[q]=I}for(var X=0;X<y;X++)T[X]===I?M[X][k]=w[X]:M[X][k]=s?x(A,a[X][k]):x(a[X][k],A)}return n.createDenseMatrix({data:M,size:[y,C],datatype:c===n._datatype&&b===i._datatype?S:void 0})}});var aEe="matAlgo05xSfSf",lEe=["typed","equalScalar"],Hf=F(aEe,lEe,r=>{var{typed:t,equalScalar:e}=r;return function(i,o,s){var a=i._values,l=i._index,c=i._ptr,d=i._size,f=i._datatype||i._data===void 0?i._datatype:i.getDataType(),m=o._values,p=o._index,b=o._ptr,y=o._size,C=o._datatype||o._data===void 0?o._datatype:o.getDataType();if(d.length!==y.length)throw new Zt(d.length,y.length);if(d[0]!==y[0]||d[1]!==y[1])throw new RangeError("Dimension mismatch. Matrix A ("+d+") must match Matrix B ("+y+")");var S=d[0],A=d[1],x,M=e,E=0,w=s;typeof f=="string"&&f===C&&f!=="mixed"&&(x=f,M=t.find(e,[x,x]),E=t.convert(0,x),w=t.find(s,[x,x]));var T=a&&m?[]:void 0,k=[],I=[],O=T?[]:void 0,R=T?[]:void 0,j=[],q=[],X,Y,P,L;for(Y=0;Y<A;Y++){I[Y]=k.length;var Z=Y+1;for(P=c[Y],L=c[Y+1];P<L;P++)X=l[P],k.push(X),j[X]=Z,O&&(O[X]=a[P]);for(P=b[Y],L=b[Y+1];P<L;P++)X=p[P],j[X]!==Z&&k.push(X),q[X]=Z,R&&(R[X]=m[P]);if(T)for(P=I[Y];P<k.length;){X=k[P];var U=j[X],ce=q[X];if(U===Z||ce===Z){var me=U===Z?O[X]:E,se=ce===Z?R[X]:E,Q=w(me,se);M(Q,E)?k.splice(P,1):(T.push(Q),P++)}}}return I[A]=k.length,i.createSparseMatrix({values:T,index:k,ptr:I,size:[S,A],datatype:f===i._datatype&&C===o._datatype?x:void 0})}});var cEe="matAlgo13xDD",uEe=["typed"],uY=F(cEe,uEe,r=>{var{typed:t}=r;return function(i,o,s){var a=i._data,l=i._size,c=i._datatype,d=o._data,f=o._size,m=o._datatype,p=[];if(l.length!==f.length)throw new Zt(l.length,f.length);for(var b=0;b<l.length;b++){if(l[b]!==f[b])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+f+")");p[b]=l[b]}var y,C=s;typeof c=="string"&&c===m&&(y=c,C=t.find(s,[y,y]));var S=p.length>0?e(C,0,p,p[0],a,d):[];return i.createDenseMatrix({data:S,size:p,datatype:y})};function e(n,i,o,s,a,l){var c=[];if(i===o.length-1)for(var d=0;d<s;d++)c[d]=n(a[d],l[d]);else for(var f=0;f<s;f++)c[f]=e(n,i+1,o,o[i+1],a[f],l[f]);return c}});function Fo(r,t){if(Oa(r.size(),t.size()))return[r,t];var e=my(r.size(),t.size());return[r,t].map(n=>dEe(n,e))}function dEe(r,t){return Oa(r.size(),t)?r:r.create(du(r.valueOf(),t),r.datatype())}var fEe="matrixAlgorithmSuite",hEe=["typed","matrix"],ir=F(fEe,hEe,r=>{var{typed:t,matrix:e}=r,n=uY({typed:t}),i=Wi({typed:t});return function(s){var a=s.elop,l=s.SD||s.DS,c;a?(c={"DenseMatrix, DenseMatrix":(p,b)=>n(...Fo(p,b),a),"Array, Array":(p,b)=>n(...Fo(e(p),e(b)),a).valueOf(),"Array, DenseMatrix":(p,b)=>n(...Fo(e(p),b),a),"DenseMatrix, Array":(p,b)=>n(...Fo(p,e(b)),a)},s.SS&&(c["SparseMatrix, SparseMatrix"]=(p,b)=>s.SS(...Fo(p,b),a,!1)),s.DS&&(c["DenseMatrix, SparseMatrix"]=(p,b)=>s.DS(...Fo(p,b),a,!1),c["Array, SparseMatrix"]=(p,b)=>s.DS(...Fo(e(p),b),a,!1)),l&&(c["SparseMatrix, DenseMatrix"]=(p,b)=>l(...Fo(b,p),a,!0),c["SparseMatrix, Array"]=(p,b)=>l(...Fo(e(b),p),a,!0))):(c={"DenseMatrix, DenseMatrix":t.referToSelf(p=>(b,y)=>n(...Fo(b,y),p)),"Array, Array":t.referToSelf(p=>(b,y)=>n(...Fo(e(b),e(y)),p).valueOf()),"Array, DenseMatrix":t.referToSelf(p=>(b,y)=>n(...Fo(e(b),y),p)),"DenseMatrix, Array":t.referToSelf(p=>(b,y)=>n(...Fo(b,e(y)),p))},s.SS&&(c["SparseMatrix, SparseMatrix"]=t.referToSelf(p=>(b,y)=>s.SS(...Fo(b,y),p,!1))),s.DS&&(c["DenseMatrix, SparseMatrix"]=t.referToSelf(p=>(b,y)=>s.DS(...Fo(b,y),p,!1)),c["Array, SparseMatrix"]=t.referToSelf(p=>(b,y)=>s.DS(...Fo(e(b),y),p,!1))),l&&(c["SparseMatrix, DenseMatrix"]=t.referToSelf(p=>(b,y)=>l(...Fo(y,b),p,!0)),c["SparseMatrix, Array"]=t.referToSelf(p=>(b,y)=>l(...Fo(e(y),b),p,!0))));var d=s.scalar||"any",f=s.Ds||s.Ss;f&&(a?(c["DenseMatrix,"+d]=(p,b)=>i(p,b,a,!1),c[d+", DenseMatrix"]=(p,b)=>i(b,p,a,!0),c["Array,"+d]=(p,b)=>i(e(p),b,a,!1).valueOf(),c[d+", Array"]=(p,b)=>i(e(b),p,a,!0).valueOf()):(c["DenseMatrix,"+d]=t.referToSelf(p=>(b,y)=>i(b,y,p,!1)),c[d+", DenseMatrix"]=t.referToSelf(p=>(b,y)=>i(y,b,p,!0)),c["Array,"+d]=t.referToSelf(p=>(b,y)=>i(e(b),y,p,!1).valueOf()),c[d+", Array"]=t.referToSelf(p=>(b,y)=>i(e(y),b,p,!0).valueOf())));var m=s.sS!==void 0?s.sS:s.Ss;return a?(s.Ss&&(c["SparseMatrix,"+d]=(p,b)=>s.Ss(p,b,a,!1)),m&&(c[d+", SparseMatrix"]=(p,b)=>m(b,p,a,!0))):(s.Ss&&(c["SparseMatrix,"+d]=t.referToSelf(p=>(b,y)=>s.Ss(b,y,p,!1))),m&&(c[d+", SparseMatrix"]=t.referToSelf(p=>(b,y)=>m(y,b,p,!0)))),a&&a.signatures&&bS(c,a.signatures),c}});var dY="mod",mEe=["typed","config","round","matrix","equalScalar","zeros","DenseMatrix","concat"],_y=F(dY,mEe,r=>{var{typed:t,config:e,round:n,matrix:i,equalScalar:o,zeros:s,DenseMatrix:a,concat:l}=r,c=yy({typed:t,config:e,round:n,matrix:i,equalScalar:o,zeros:s,DenseMatrix:a}),d=$i({typed:t,equalScalar:o}),f=Rn({typed:t}),m=Hf({typed:t,equalScalar:o}),p=mn({typed:t,equalScalar:o}),b=Jr({typed:t,DenseMatrix:a}),y=ir({typed:t,matrix:i,concat:l});return t(dY,{"number, number":C,"BigNumber, BigNumber":function(A,x){return x.isZero()?A:A.sub(x.mul(c(A.div(x))))},"bigint, bigint":function(A,x){if(x===0n)return A;if(A<0){var M=A%x;return M===0n?M:M+x}return A%x},"Fraction, Fraction":function(A,x){return x.equals(0)?A:A.sub(x.mul(c(A.div(x))))}},y({SS:m,DS:f,SD:d,Ss:p,sS:b}));function C(S,A){return A===0?S:S-A*c(S/A)}});var pEe="matAlgo01xDSid",gEe=["typed"],ks=F(pEe,gEe,r=>{var{typed:t}=r;return function(n,i,o,s){var a=n._data,l=n._size,c=n._datatype||n.getDataType(),d=i._values,f=i._index,m=i._ptr,p=i._size,b=i._datatype||i._data===void 0?i._datatype:i.getDataType();if(l.length!==p.length)throw new Zt(l.length,p.length);if(l[0]!==p[0]||l[1]!==p[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+p+")");if(!d)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var y=l[0],C=l[1],S=typeof c=="string"&&c!=="mixed"&&c===b?c:void 0,A=S?t.find(o,[S,S]):o,x,M,E=[];for(x=0;x<y;x++)E[x]=[];var w=[],T=[];for(M=0;M<C;M++){for(var k=M+1,I=m[M],O=m[M+1],R=I;R<O;R++)x=f[R],w[x]=s?A(d[R],a[x][M]):A(a[x][M],d[R]),T[x]=k;for(x=0;x<y;x++)T[x]===k?E[x][M]=w[x]:E[x][M]=a[x][M]}return n.createDenseMatrix({data:E,size:[y,C],datatype:c===n._datatype&&b===i._datatype?S:void 0})}});var vEe="matAlgo04xSidSid",bEe=["typed","equalScalar"],rv=F(vEe,bEe,r=>{var{typed:t,equalScalar:e}=r;return function(i,o,s){var a=i._values,l=i._index,c=i._ptr,d=i._size,f=i._datatype||i._data===void 0?i._datatype:i.getDataType(),m=o._values,p=o._index,b=o._ptr,y=o._size,C=o._datatype||o._data===void 0?o._datatype:o.getDataType();if(d.length!==y.length)throw new Zt(d.length,y.length);if(d[0]!==y[0]||d[1]!==y[1])throw new RangeError("Dimension mismatch. Matrix A ("+d+") must match Matrix B ("+y+")");var S=d[0],A=d[1],x,M=e,E=0,w=s;typeof f=="string"&&f===C&&f!=="mixed"&&(x=f,M=t.find(e,[x,x]),E=t.convert(0,x),w=t.find(s,[x,x]));var T=a&&m?[]:void 0,k=[],I=[],O=a&&m?[]:void 0,R=a&&m?[]:void 0,j=[],q=[],X,Y,P,L,Z;for(Y=0;Y<A;Y++){I[Y]=k.length;var U=Y+1;for(L=c[Y],Z=c[Y+1],P=L;P<Z;P++)X=l[P],k.push(X),j[X]=U,O&&(O[X]=a[P]);for(L=b[Y],Z=b[Y+1],P=L;P<Z;P++)if(X=p[P],j[X]===U){if(O){var ce=w(O[X],m[P]);M(ce,E)?j[X]=null:O[X]=ce}}else k.push(X),q[X]=U,R&&(R[X]=m[P]);if(O&&R)for(P=I[Y];P<k.length;)X=k[P],j[X]===U?(T[P]=O[X],P++):q[X]===U?(T[P]=R[X],P++):k.splice(P,1)}return I[A]=k.length,i.createSparseMatrix({values:T,index:k,ptr:I,size:[S,A],datatype:f===i._datatype&&C===o._datatype?x:void 0})}});var yEe="matAlgo10xSids",_Ee=["typed","DenseMatrix"],Pa=F(yEe,_Ee,r=>{var{typed:t,DenseMatrix:e}=r;return function(i,o,s,a){var l=i._values,c=i._index,d=i._ptr,f=i._size,m=i._datatype;if(!l)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var p=f[0],b=f[1],y,C=s;typeof m=="string"&&(y=m,o=t.convert(o,y),C=t.find(s,[y,y]));for(var S=[],A=[],x=[],M=0;M<b;M++){for(var E=M+1,w=d[M],T=d[M+1],k=w;k<T;k++){var I=c[k];A[I]=l[k],x[I]=E}for(var O=0;O<p;O++)M===0&&(S[O]=[]),x[O]===E?S[O][M]=a?C(o,A[O]):C(A[O],o):S[O][M]=o}return new e({data:S,size:[p,b],datatype:y})}});function Md(r,t,e,n){if(!(this instanceof Md))throw new SyntaxError("Constructor must be called with the new operator");this.fn=r,this.count=t,this.min=e,this.max=n,this.message="Wrong number of arguments in function "+r+" ("+t+" provided, "+e+(n!=null?"-"+n:"")+" expected)",this.stack=new Error().stack}Md.prototype=new Error;Md.prototype.constructor=Error;Md.prototype.name="ArgumentsError";Md.prototype.isArgumentsError=!0;var fY="gcd",xEe=["typed","config","round","matrix","equalScalar","zeros","BigNumber","DenseMatrix","concat"],O2="number | BigNumber | Fraction | Matrix | Array",wEe="".concat(O2,", ").concat(O2,", ...").concat(O2);function hY(r){return!r.some(t=>Array.isArray(t))}var F2=F(fY,xEe,r=>{var{typed:t,matrix:e,config:n,round:i,equalScalar:o,zeros:s,BigNumber:a,DenseMatrix:l,concat:c}=r,d=_y({typed:t,config:n,round:i,matrix:e,equalScalar:o,zeros:s,DenseMatrix:l,concat:c}),f=ks({typed:t}),m=rv({typed:t,equalScalar:o}),p=Pa({typed:t,DenseMatrix:l}),b=ir({typed:t,matrix:e,concat:c});return t(fY,{"number, number":y,"BigNumber, BigNumber":C,"Fraction, Fraction":(S,A)=>S.gcd(A)},b({SS:m,DS:f,Ss:p}),{[wEe]:t.referToSelf(S=>(A,x,M)=>{for(var E=S(A,x),w=0;w<M.length;w++)E=S(E,M[w]);return E}),Array:t.referToSelf(S=>A=>{if(A.length===1&&Array.isArray(A[0])&&hY(A[0]))return S(...A[0]);if(hY(A))return S(...A);throw new Md("gcd() supports only 1d matrices!")}),Matrix:t.referToSelf(S=>A=>S(A.toArray()))});function y(S,A){if(!pt(S)||!pt(A))throw new Error("Parameters in function gcd must be integer numbers");for(var x;A!==0;)x=d(S,A),S=A,A=x;return S<0?-S:S}function C(S,A){if(!S.isInt()||!A.isInt())throw new Error("Parameters in function gcd must be integer numbers");for(var x=new a(0);!A.isZero();){var M=d(S,A);S=A,A=M}return S.lt(x)?S.neg():S}});var CEe="matAlgo06xS0S0",SEe=["typed","equalScalar"],Uf=F(CEe,SEe,r=>{var{typed:t,equalScalar:e}=r;return function(i,o,s){var a=i._values,l=i._size,c=i._datatype||i._data===void 0?i._datatype:i.getDataType(),d=o._values,f=o._size,m=o._datatype||o._data===void 0?o._datatype:o.getDataType();if(l.length!==f.length)throw new Zt(l.length,f.length);if(l[0]!==f[0]||l[1]!==f[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+f+")");var p=l[0],b=l[1],y,C=e,S=0,A=s;typeof c=="string"&&c===m&&c!=="mixed"&&(y=c,C=t.find(e,[y,y]),S=t.convert(0,y),A=t.find(s,[y,y]));for(var x=a&&d?[]:void 0,M=[],E=[],w=x?[]:void 0,T=[],k=[],I=0;I<b;I++){E[I]=M.length;var O=I+1;if(nF(i,I,T,w,k,O,M,A),nF(o,I,T,w,k,O,M,A),w)for(var R=E[I];R<M.length;){var j=M[R];if(k[j]===O){var q=w[j];C(q,S)?M.splice(R,1):(x.push(q),R++)}else M.splice(R,1)}else for(var X=E[I];X<M.length;){var Y=M[X];k[Y]!==O?M.splice(X,1):X++}}return E[b]=M.length,i.createSparseMatrix({values:x,index:M,ptr:E,size:[p,b],datatype:c===i._datatype&&m===o._datatype?y:void 0})}});var mY="lcm",DEe=["typed","matrix","equalScalar","concat"],R2=F(mY,DEe,r=>{var{typed:t,matrix:e,equalScalar:n,concat:i}=r,o=$i({typed:t,equalScalar:n}),s=Uf({typed:t,equalScalar:n}),a=mn({typed:t,equalScalar:n}),l=ir({typed:t,matrix:e,concat:i}),c="number | BigNumber | Fraction | Matrix | Array",d={};return d["".concat(c,", ").concat(c,", ...").concat(c)]=t.referToSelf(m=>(p,b,y)=>{for(var C=m(p,b),S=0;S<y.length;S++)C=m(C,y[S]);return C}),t(mY,{"number, number":mF,"BigNumber, BigNumber":f,"Fraction, Fraction":(m,p)=>m.lcm(p)},l({SS:s,DS:o,Ss:a}),d);function f(m,p){if(!m.isInt()||!p.isInt())throw new Error("Parameters in function lcm must be integer numbers");if(m.isZero())return m;if(p.isZero())return p;for(var b=m.times(p);!p.isZero();){var y=p;p=m.mod(y),m=y}return b.div(m).abs()}});var pY="log10",EEe=["typed","config","Complex"],P2=F(pY,EEe,r=>{var{typed:t,config:e,Complex:n}=r;return t(pY,{number:function(o){return o>=0||e.predictable?pF(o):new n(o,0).log().div(Math.LN10)},Complex:function(o){return new n(o).log().div(Math.LN10)},BigNumber:function(o){return!o.isNegative()||e.predictable?o.log():new n(o.toNumber(),0).log().div(Math.LN10)},"Array | Matrix":t.referToSelf(i=>o=>wt(o,i))})});var gY="log2",MEe=["typed","config","Complex"],L2=F(gY,MEe,r=>{var{typed:t,config:e,Complex:n}=r;return t(gY,{number:function(s){return s>=0||e.predictable?gF(s):i(new n(s,0))},Complex:i,BigNumber:function(s){return!s.isNegative()||e.predictable?s.log(2):i(new n(s.toNumber(),0))},"Array | Matrix":t.referToSelf(o=>s=>wt(s,o))});function i(o){var s=Math.sqrt(o.re*o.re+o.im*o.im);return new n(Math.log2?Math.log2(s):Math.log(s)/Math.LN2,Math.atan2(o.im,o.re)/Math.LN2)}});var AEe="multiplyScalar",TEe=["typed"],B2=F(AEe,TEe,r=>{var{typed:t}=r;return t("multiplyScalar",{"number, number":lF,"Complex, Complex":function(n,i){return n.mul(i)},"BigNumber, BigNumber":function(n,i){return n.times(i)},"bigint, bigint":function(n,i){return n*i},"Fraction, Fraction":function(n,i){return n.mul(i)},"number | Fraction | BigNumber | Complex, Unit":(e,n)=>n.multiply(e),"Unit, number | Fraction | BigNumber | Complex | Unit":(e,n)=>e.multiply(n)})});var vY="multiply",IEe=["typed","matrix","addScalar","multiplyScalar","equalScalar","dot"],V2=F(vY,IEe,r=>{var{typed:t,matrix:e,addScalar:n,multiplyScalar:i,equalScalar:o,dot:s}=r,a=mn({typed:t,equalScalar:o}),l=Wi({typed:t});function c(E,w){switch(E.length){case 1:switch(w.length){case 1:if(E[0]!==w[0])throw new RangeError("Dimension mismatch in multiplication. Vectors must have the same length");break;case 2:if(E[0]!==w[0])throw new RangeError("Dimension mismatch in multiplication. Vector length ("+E[0]+") must match Matrix rows ("+w[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+w.length+" dimensions)")}break;case 2:switch(w.length){case 1:if(E[1]!==w[0])throw new RangeError("Dimension mismatch in multiplication. Matrix columns ("+E[1]+") must match Vector length ("+w[0]+")");break;case 2:if(E[1]!==w[0])throw new RangeError("Dimension mismatch in multiplication. Matrix A columns ("+E[1]+") must match Matrix B rows ("+w[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+w.length+" dimensions)")}break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix A has "+E.length+" dimensions)")}}function d(E,w,T){if(T===0)throw new Error("Cannot multiply two empty vectors");return s(E,w)}function f(E,w){if(w.storage()!=="dense")throw new Error("Support for SparseMatrix not implemented");return m(E,w)}function m(E,w){var T=E._data,k=E._size,I=E._datatype||E.getDataType(),O=w._data,R=w._size,j=w._datatype||w.getDataType(),q=k[0],X=R[1],Y,P=n,L=i;I&&j&&I===j&&typeof I=="string"&&I!=="mixed"&&(Y=I,P=t.find(n,[Y,Y]),L=t.find(i,[Y,Y]));for(var Z=[],U=0;U<X;U++){for(var ce=L(T[0],O[0][U]),me=1;me<q;me++)ce=P(ce,L(T[me],O[me][U]));Z[U]=ce}return E.createDenseMatrix({data:Z,size:[X],datatype:I===E._datatype&&j===w._datatype?Y:void 0})}var p=t("_multiplyMatrixVector",{"DenseMatrix, any":y,"SparseMatrix, any":A}),b=t("_multiplyMatrixMatrix",{"DenseMatrix, DenseMatrix":C,"DenseMatrix, SparseMatrix":S,"SparseMatrix, DenseMatrix":x,"SparseMatrix, SparseMatrix":M});function y(E,w){var T=E._data,k=E._size,I=E._datatype||E.getDataType(),O=w._data,R=w._datatype||w.getDataType(),j=k[0],q=k[1],X,Y=n,P=i;I&&R&&I===R&&typeof I=="string"&&I!=="mixed"&&(X=I,Y=t.find(n,[X,X]),P=t.find(i,[X,X]));for(var L=[],Z=0;Z<j;Z++){for(var U=T[Z],ce=P(U[0],O[0]),me=1;me<q;me++)ce=Y(ce,P(U[me],O[me]));L[Z]=ce}return E.createDenseMatrix({data:L,size:[j],datatype:I===E._datatype&&R===w._datatype?X:void 0})}function C(E,w){var T=E._data,k=E._size,I=E._datatype||E.getDataType(),O=w._data,R=w._size,j=w._datatype||w.getDataType(),q=k[0],X=k[1],Y=R[1],P,L=n,Z=i;I&&j&&I===j&&typeof I=="string"&&I!=="mixed"&&I!=="mixed"&&(P=I,L=t.find(n,[P,P]),Z=t.find(i,[P,P]));for(var U=[],ce=0;ce<q;ce++){var me=T[ce];U[ce]=[];for(var se=0;se<Y;se++){for(var Q=Z(me[0],O[0][se]),he=1;he<X;he++)Q=L(Q,Z(me[he],O[he][se]));U[ce][se]=Q}}return E.createDenseMatrix({data:U,size:[q,Y],datatype:I===E._datatype&&j===w._datatype?P:void 0})}function S(E,w){var T=E._data,k=E._size,I=E._datatype||E.getDataType(),O=w._values,R=w._index,j=w._ptr,q=w._size,X=w._datatype||w._data===void 0?w._datatype:w.getDataType();if(!O)throw new Error("Cannot multiply Dense Matrix times Pattern only Matrix");var Y=k[0],P=q[1],L,Z=n,U=i,ce=o,me=0;I&&X&&I===X&&typeof I=="string"&&I!=="mixed"&&(L=I,Z=t.find(n,[L,L]),U=t.find(i,[L,L]),ce=t.find(o,[L,L]),me=t.convert(0,L));for(var se=[],Q=[],he=[],ke=w.createSparseMatrix({values:se,index:Q,ptr:he,size:[Y,P],datatype:I===E._datatype&&X===w._datatype?L:void 0}),be=0;be<P;be++){he[be]=Q.length;var ee=j[be],ae=j[be+1];if(ae>ee)for(var le=0,pe=0;pe<Y;pe++){for(var ve=pe+1,Ee=void 0,Ie=ee;Ie<ae;Ie++){var Ve=R[Ie];le!==ve?(Ee=U(T[pe][Ve],O[Ie]),le=ve):Ee=Z(Ee,U(T[pe][Ve],O[Ie]))}le===ve&&!ce(Ee,me)&&(Q.push(pe),se.push(Ee))}}return he[P]=Q.length,ke}function A(E,w){var T=E._values,k=E._index,I=E._ptr,O=E._datatype||E._data===void 0?E._datatype:E.getDataType();if(!T)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var R=w._data,j=w._datatype||w.getDataType(),q=E._size[0],X=w._size[0],Y=[],P=[],L=[],Z,U=n,ce=i,me=o,se=0;O&&j&&O===j&&typeof O=="string"&&O!=="mixed"&&(Z=O,U=t.find(n,[Z,Z]),ce=t.find(i,[Z,Z]),me=t.find(o,[Z,Z]),se=t.convert(0,Z));var Q=[],he=[];L[0]=0;for(var ke=0;ke<X;ke++){var be=R[ke];if(!me(be,se))for(var ee=I[ke],ae=I[ke+1],le=ee;le<ae;le++){var pe=k[le];he[pe]?Q[pe]=U(Q[pe],ce(be,T[le])):(he[pe]=!0,P.push(pe),Q[pe]=ce(be,T[le]))}}for(var ve=P.length,Ee=0;Ee<ve;Ee++){var Ie=P[Ee];Y[Ee]=Q[Ie]}return L[1]=P.length,E.createSparseMatrix({values:Y,index:P,ptr:L,size:[q,1],datatype:O===E._datatype&&j===w._datatype?Z:void 0})}function x(E,w){var T=E._values,k=E._index,I=E._ptr,O=E._datatype||E._data===void 0?E._datatype:E.getDataType();if(!T)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var R=w._data,j=w._datatype||w.getDataType(),q=E._size[0],X=w._size[0],Y=w._size[1],P,L=n,Z=i,U=o,ce=0;O&&j&&O===j&&typeof O=="string"&&O!=="mixed"&&(P=O,L=t.find(n,[P,P]),Z=t.find(i,[P,P]),U=t.find(o,[P,P]),ce=t.convert(0,P));for(var me=[],se=[],Q=[],he=E.createSparseMatrix({values:me,index:se,ptr:Q,size:[q,Y],datatype:O===E._datatype&&j===w._datatype?P:void 0}),ke=[],be=[],ee=0;ee<Y;ee++){Q[ee]=se.length;for(var ae=ee+1,le=0;le<X;le++){var pe=R[le][ee];if(!U(pe,ce))for(var ve=I[le],Ee=I[le+1],Ie=ve;Ie<Ee;Ie++){var Ve=k[Ie];be[Ve]!==ae?(be[Ve]=ae,se.push(Ve),ke[Ve]=Z(pe,T[Ie])):ke[Ve]=L(ke[Ve],Z(pe,T[Ie]))}}for(var te=Q[ee],re=se.length,De=te;De<re;De++){var Ae=se[De];me[De]=ke[Ae]}}return Q[Y]=se.length,he}function M(E,w){var T=E._values,k=E._index,I=E._ptr,O=E._datatype||E._data===void 0?E._datatype:E.getDataType(),R=w._values,j=w._index,q=w._ptr,X=w._datatype||w._data===void 0?w._datatype:w.getDataType(),Y=E._size[0],P=w._size[1],L=T&&R,Z,U=n,ce=i;O&&X&&O===X&&typeof O=="string"&&O!=="mixed"&&(Z=O,U=t.find(n,[Z,Z]),ce=t.find(i,[Z,Z]));for(var me=L?[]:void 0,se=[],Q=[],he=E.createSparseMatrix({values:me,index:se,ptr:Q,size:[Y,P],datatype:O===E._datatype&&X===w._datatype?Z:void 0}),ke=L?[]:void 0,be=[],ee,ae,le,pe,ve,Ee,Ie,Ve,te=0;te<P;te++){Q[te]=se.length;var re=te+1;for(ve=q[te],Ee=q[te+1],pe=ve;pe<Ee;pe++)if(Ve=j[pe],L)for(ae=I[Ve],le=I[Ve+1],ee=ae;ee<le;ee++)Ie=k[ee],be[Ie]!==re?(be[Ie]=re,se.push(Ie),ke[Ie]=ce(R[pe],T[ee])):ke[Ie]=U(ke[Ie],ce(R[pe],T[ee]));else for(ae=I[Ve],le=I[Ve+1],ee=ae;ee<le;ee++)Ie=k[ee],be[Ie]!==re&&(be[Ie]=re,se.push(Ie));if(L)for(var De=Q[te],Ae=se.length,qe=De;qe<Ae;qe++){var Ge=se[qe];me[qe]=ke[Ge]}}return Q[P]=se.length,he}return t(vY,i,{"Array, Array":t.referTo("Matrix, Matrix",E=>(w,T)=>{c(Ot(w),Ot(T));var k=E(e(w),e(T));return _t(k)?k.valueOf():k}),"Matrix, Matrix":function(w,T){var k=w.size(),I=T.size();return c(k,I),k.length===1?I.length===1?d(w,T,k[0]):f(w,T):I.length===1?p(w,T):b(w,T)},"Matrix, Array":t.referTo("Matrix,Matrix",E=>(w,T)=>E(w,e(T))),"Array, Matrix":t.referToSelf(E=>(w,T)=>E(e(w,T.storage()),T)),"SparseMatrix, any":function(w,T){return a(w,T,i,!1)},"DenseMatrix, any":function(w,T){return l(w,T,i,!1)},"any, SparseMatrix":function(w,T){return a(T,w,i,!0)},"any, DenseMatrix":function(w,T){return l(T,w,i,!0)},"Array, any":function(w,T){return l(e(w),T,i,!1).valueOf()},"any, Array":function(w,T){return l(e(T),w,i,!0).valueOf()},"any, any":i,"any, any, ...any":t.referToSelf(E=>(w,T,k)=>{for(var I=E(w,T),O=0;O<k.length;O++)I=E(I,k[O]);return I})})});var bY="nthRoot",kEe=["typed","matrix","equalScalar","BigNumber","concat"],z2=F(bY,kEe,r=>{var{typed:t,matrix:e,equalScalar:n,BigNumber:i,concat:o}=r,s=ks({typed:t}),a=$i({typed:t,equalScalar:n}),l=Uf({typed:t,equalScalar:n}),c=mn({typed:t,equalScalar:n}),d=ir({typed:t,matrix:e,concat:o});function f(){throw new Error("Complex number not supported in function nthRoot. Use nthRoots instead.")}return t(bY,{number:vF,"number, number":vF,BigNumber:p=>m(p,new i(2)),"BigNumber, BigNumber":m,Complex:f,"Complex, number":f,Array:t.referTo("DenseMatrix,number",p=>b=>p(e(b),2).valueOf()),DenseMatrix:t.referTo("DenseMatrix,number",p=>b=>p(b,2)),SparseMatrix:t.referTo("SparseMatrix,number",p=>b=>p(b,2)),"SparseMatrix, SparseMatrix":t.referToSelf(p=>(b,y)=>{if(y.density()===1)return l(b,y,p);throw new Error("Root must be non-zero")}),"DenseMatrix, SparseMatrix":t.referToSelf(p=>(b,y)=>{if(y.density()===1)return s(b,y,p,!1);throw new Error("Root must be non-zero")}),"Array, SparseMatrix":t.referTo("DenseMatrix,SparseMatrix",p=>(b,y)=>p(e(b),y)),"number | BigNumber, SparseMatrix":t.referToSelf(p=>(b,y)=>{if(y.density()===1)return c(y,b,p,!0);throw new Error("Root must be non-zero")})},d({scalar:"number | BigNumber",SD:a,Ss:c,sS:!1}));function m(p,b){var y=i.precision,C=i.clone({precision:y+2}),S=new i(0),A=new C(1),x=b.isNegative();if(x&&(b=b.neg()),b.isZero())throw new Error("Root must be non-zero");if(p.isNegative()&&!b.abs().mod(2).equals(1))throw new Error("Root must be odd when a is negative.");if(p.isZero())return x?new C(1/0):0;if(!p.isFinite())return x?S:p;var M=p.abs().pow(A.div(b));return M=p.isNeg()?M.neg():M,new i((x?A.div(M):M).toPrecision(y))}});var yY="sign",NEe=["typed","BigNumber","Fraction","complex"],j2=F(yY,NEe,r=>{var{typed:t,BigNumber:e,complex:n,Fraction:i}=r;return t(yY,{number:VS,Complex:function(s){return s.im===0?n(VS(s.re)):s.sign()},BigNumber:function(s){return new e(s.cmp(0))},bigint:function(s){return s>0n?1n:s<0n?-1n:0n},Fraction:function(s){return new i(s.s,1)},"Array | Matrix":t.referToSelf(o=>s=>wt(s,o,!0)),Unit:t.referToSelf(o=>s=>{if(!s._isDerived()&&s.units[0].unit.offset!==0)throw new TypeError("sign is ambiguous for units with offset");return t.find(o,s.valueType())(s.value)})})});var OEe="sqrt",FEe=["config","typed","Complex"],H2=F(OEe,FEe,r=>{var{config:t,typed:e,Complex:n}=r;return e("sqrt",{number:i,Complex:function(s){return s.sqrt()},BigNumber:function(s){return!s.isNegative()||t.predictable?s.sqrt():i(s.toNumber())},Unit:function(s){return s.pow(.5)}});function i(o){return isNaN(o)?NaN:o>=0||t.predictable?Math.sqrt(o):new n(o,0).sqrt()}});var _Y="square",REe=["typed"],U2=F(_Y,REe,r=>{var{typed:t}=r;return t(_Y,{number:bF,Complex:function(n){return n.mul(n)},BigNumber:function(n){return n.times(n)},bigint:function(n){return n*n},Fraction:function(n){return n.mul(n)},Unit:function(n){return n.pow(2)}})});var xY="subtract",PEe=["typed","matrix","equalScalar","subtractScalar","unaryMinus","DenseMatrix","concat"],q2=F(xY,PEe,r=>{var{typed:t,matrix:e,equalScalar:n,subtractScalar:i,unaryMinus:o,DenseMatrix:s,concat:a}=r,l=ks({typed:t}),c=Rn({typed:t}),d=Hf({typed:t,equalScalar:n}),f=Pa({typed:t,DenseMatrix:s}),m=Jr({typed:t,DenseMatrix:s}),p=ir({typed:t,matrix:e,concat:a});return t(xY,{"any, any":i},p({elop:i,SS:d,DS:l,SD:c,Ss:m,sS:f}))});var wY="xgcd",LEe=["typed","config","matrix","BigNumber"],W2=F(wY,LEe,r=>{var{typed:t,config:e,matrix:n,BigNumber:i}=r;return t(wY,{"number, number":function(a,l){var c=yF(a,l);return e.matrix==="Array"?c:n(c)},"BigNumber, BigNumber":o});function o(s,a){var l,c,d,f=new i(0),m=new i(1),p=f,b=m,y=m,C=f;if(!s.isInt()||!a.isInt())throw new Error("Parameters in function xgcd must be integer numbers");for(;!a.isZero();)c=s.div(a).floor(),d=s.mod(a),l=p,p=b.minus(c.times(p)),b=l,l=y,y=C.minus(c.times(y)),C=l,s=a,a=d;var S;return s.lt(f)?S=[s.neg(),b.neg(),C.neg()]:S=[s,s.isZero()?0:b,C],e.matrix==="Array"?S:n(S)}});var CY="invmod",BEe=["typed","config","BigNumber","xgcd","equal","smaller","mod","add","isInteger"],$2=F(CY,BEe,r=>{var{typed:t,config:e,BigNumber:n,xgcd:i,equal:o,smaller:s,mod:a,add:l,isInteger:c}=r;return t(CY,{"number, number":d,"BigNumber, BigNumber":d});function d(f,m){if(!c(f)||!c(m))throw new Error("Parameters in function invmod must be integer numbers");if(f=a(f,m),o(m,0))throw new Error("Divisor must be non zero");var p=i(f,m);p=p.valueOf();var[b,y]=p;return o(b,n(1))?(y=a(y,m),s(y,n(0))&&(y=l(y,m)),y):NaN}});var VEe="matAlgo09xS0Sf",zEe=["typed","equalScalar"],WS=F(VEe,zEe,r=>{var{typed:t,equalScalar:e}=r;return function(i,o,s){var a=i._values,l=i._index,c=i._ptr,d=i._size,f=i._datatype||i._data===void 0?i._datatype:i.getDataType(),m=o._values,p=o._index,b=o._ptr,y=o._size,C=o._datatype||o._data===void 0?o._datatype:o.getDataType();if(d.length!==y.length)throw new Zt(d.length,y.length);if(d[0]!==y[0]||d[1]!==y[1])throw new RangeError("Dimension mismatch. Matrix A ("+d+") must match Matrix B ("+y+")");var S=d[0],A=d[1],x,M=e,E=0,w=s;typeof f=="string"&&f===C&&f!=="mixed"&&(x=f,M=t.find(e,[x,x]),E=t.convert(0,x),w=t.find(s,[x,x]));var T=a&&m?[]:void 0,k=[],I=[],O=T?[]:void 0,R=[],j,q,X,Y,P;for(q=0;q<A;q++){I[q]=k.length;var L=q+1;if(O)for(Y=b[q],P=b[q+1],X=Y;X<P;X++)j=p[X],R[j]=L,O[j]=m[X];for(Y=c[q],P=c[q+1],X=Y;X<P;X++)if(j=l[X],O){var Z=R[j]===L?O[j]:E,U=w(a[X],Z);M(U,E)||(k.push(j),T.push(U))}else k.push(j)}return I[A]=k.length,i.createSparseMatrix({values:T,index:k,ptr:I,size:[S,A],datatype:f===i._datatype&&C===o._datatype?x:void 0})}});var SY="dotMultiply",jEe=["typed","matrix","equalScalar","multiplyScalar","concat"],G2=F(SY,jEe,r=>{var{typed:t,matrix:e,equalScalar:n,multiplyScalar:i,concat:o}=r,s=$i({typed:t,equalScalar:n}),a=WS({typed:t,equalScalar:n}),l=mn({typed:t,equalScalar:n}),c=ir({typed:t,matrix:e,concat:o});return t(SY,c({elop:i,SS:a,DS:s,Ss:l}))});function DY(r,t){if(r.isFinite()&&!r.isInteger()||t.isFinite()&&!t.isInteger())throw new Error("Integers expected in function bitAnd");var e=r.constructor;if(r.isNaN()||t.isNaN())return new e(NaN);if(r.isZero()||t.eq(-1)||r.eq(t))return r;if(t.isZero()||r.eq(-1))return t;if(!r.isFinite()||!t.isFinite()){if(!r.isFinite()&&!t.isFinite())return r.isNegative()===t.isNegative()?r:new e(0);if(!r.isFinite())return t.isNegative()?r:r.isNegative()?new e(0):t;if(!t.isFinite())return r.isNegative()?t:t.isNegative()?new e(0):r}return Y2(r,t,function(n,i){return n&i})}function nv(r){if(r.isFinite()&&!r.isInteger())throw new Error("Integer expected in function bitNot");var t=r.constructor,e=t.precision;t.config({precision:1e9});var n=r.plus(new t(1));return n.s=-n.s||null,t.config({precision:e}),n}function EY(r,t){if(r.isFinite()&&!r.isInteger()||t.isFinite()&&!t.isInteger())throw new Error("Integers expected in function bitOr");var e=r.constructor;if(r.isNaN()||t.isNaN())return new e(NaN);var n=new e(-1);return r.isZero()||t.eq(n)||r.eq(t)?t:t.isZero()||r.eq(n)?r:!r.isFinite()||!t.isFinite()?!r.isFinite()&&!r.isNegative()&&t.isNegative()||r.isNegative()&&!t.isNegative()&&!t.isFinite()?n:r.isNegative()&&t.isNegative()?r.isFinite()?r:t:r.isFinite()?t:r:Y2(r,t,function(i,o){return i|o})}function Y2(r,t,e){var n=r.constructor,i,o,s=+(r.s<0),a=+(t.s<0);if(s){i=$S(nv(r));for(var l=0;l<i.length;++l)i[l]^=1}else i=$S(r);if(a){o=$S(nv(t));for(var c=0;c<o.length;++c)o[c]^=1}else o=$S(t);var d,f,m;i.length<=o.length?(d=i,f=o,m=s):(d=o,f=i,m=a);var p=d.length,b=f.length,y=e(s,a)^1,C=new n(y^1),S=new n(1),A=new n(2),x=n.precision;for(n.config({precision:1e9});p>0;)e(d[--p],f[--b])===y&&(C=C.plus(S)),S=S.times(A);for(;b>0;)e(m,f[--b])===y&&(C=C.plus(S)),S=S.times(A);return n.config({precision:x}),y===0&&(C.s=-C.s),C}function $S(r){for(var t=r.d,e=t[0]+"",n=1;n<t.length;++n){for(var i=t[n]+"",o=7-i.length;o--;)i="0"+i;e+=i}for(var s=e.length;e.charAt(s)==="0";)s--;var a=r.e,l=e.slice(0,s+1||1),c=l.length;if(a>0)if(++a>c)for(a-=c;a--;)l+="0";else a<c&&(l=l.slice(0,a)+"."+l.slice(a));for(var d=[0],f=0;f<l.length;){for(var m=d.length;m--;)d[m]*=10;d[0]+=parseInt(l.charAt(f++));for(var p=0;p<d.length;++p)d[p]>1&&((d[p+1]===null||d[p+1]===void 0)&&(d[p+1]=0),d[p+1]+=d[p]>>1,d[p]&=1)}return d.reverse()}function MY(r,t){if(r.isFinite()&&!r.isInteger()||t.isFinite()&&!t.isInteger())throw new Error("Integers expected in function bitXor");var e=r.constructor;if(r.isNaN()||t.isNaN())return new e(NaN);if(r.isZero())return t;if(t.isZero())return r;if(r.eq(t))return new e(0);var n=new e(-1);return r.eq(n)?nv(t):t.eq(n)?nv(r):!r.isFinite()||!t.isFinite()?!r.isFinite()&&!t.isFinite()?n:new e(r.isNegative()===t.isNegative()?1/0:-1/0):Y2(r,t,function(i,o){return i^o})}function AY(r,t){if(r.isFinite()&&!r.isInteger()||t.isFinite()&&!t.isInteger())throw new Error("Integers expected in function leftShift");var e=r.constructor;return r.isNaN()||t.isNaN()||t.isNegative()&&!t.isZero()?new e(NaN):r.isZero()||t.isZero()?r:!r.isFinite()&&!t.isFinite()?new e(NaN):t.lt(55)?r.times(Math.pow(2,t.toNumber())+""):r.times(new e(2).pow(t))}function TY(r,t){if(r.isFinite()&&!r.isInteger()||t.isFinite()&&!t.isInteger())throw new Error("Integers expected in function rightArithShift");var e=r.constructor;return r.isNaN()||t.isNaN()||t.isNegative()&&!t.isZero()?new e(NaN):r.isZero()||t.isZero()?r:t.isFinite()?t.lt(55)?r.div(Math.pow(2,t.toNumber())+"").floor():r.div(new e(2).pow(t)).floor():r.isNegative()?new e(-1):r.isFinite()?new e(0):new e(NaN)}var IY="bitAnd",HEe=["typed","matrix","equalScalar","concat"],xy=F(IY,HEe,r=>{var{typed:t,matrix:e,equalScalar:n,concat:i}=r,o=$i({typed:t,equalScalar:n}),s=Uf({typed:t,equalScalar:n}),a=mn({typed:t,equalScalar:n}),l=ir({typed:t,matrix:e,concat:i});return t(IY,{"number, number":xF,"BigNumber, BigNumber":DY,"bigint, bigint":(c,d)=>c&d},l({SS:s,DS:o,Ss:a}))});var kY="bitNot",UEe=["typed"],K2=F(kY,UEe,r=>{var{typed:t}=r;return t(kY,{number:wF,BigNumber:nv,bigint:e=>~e,"Array | Matrix":t.referToSelf(e=>n=>wt(n,e))})});var NY="bitOr",qEe=["typed","matrix","equalScalar","DenseMatrix","concat"],wy=F(NY,qEe,r=>{var{typed:t,matrix:e,equalScalar:n,DenseMatrix:i,concat:o}=r,s=ks({typed:t}),a=rv({typed:t,equalScalar:n}),l=Pa({typed:t,DenseMatrix:i}),c=ir({typed:t,matrix:e,concat:o});return t(NY,{"number, number":CF,"BigNumber, BigNumber":EY,"bigint, bigint":(d,f)=>d|f},c({SS:a,DS:s,Ss:l}))});var WEe="matAlgo07xSSf",$Ee=["typed","DenseMatrix"],mo=F(WEe,$Ee,r=>{var{typed:t,DenseMatrix:e}=r;return function(o,s,a){var l=o._size,c=o._datatype||o._data===void 0?o._datatype:o.getDataType(),d=s._size,f=s._datatype||s._data===void 0?s._datatype:s.getDataType();if(l.length!==d.length)throw new Zt(l.length,d.length);if(l[0]!==d[0]||l[1]!==d[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+d+")");var m=l[0],p=l[1],b,y=0,C=a;typeof c=="string"&&c===f&&c!=="mixed"&&(b=c,y=t.convert(0,b),C=t.find(a,[b,b]));var S,A,x=[];for(S=0;S<m;S++)x[S]=[];var M=[],E=[],w=[],T=[];for(A=0;A<p;A++){var k=A+1;for(n(o,A,w,M,k),n(s,A,T,E,k),S=0;S<m;S++){var I=w[S]===k?M[S]:y,O=T[S]===k?E[S]:y;x[S][A]=C(I,O)}}return new e({data:x,size:[m,p],datatype:c===o._datatype&&f===s._datatype?b:void 0})};function n(i,o,s,a,l){for(var c=i._values,d=i._index,f=i._ptr,m=f[o],p=f[o+1];m<p;m++){var b=d[m];s[b]=l,a[b]=c[m]}}});var OY="bitXor",GEe=["typed","matrix","DenseMatrix","concat"],X2=F(OY,GEe,r=>{var{typed:t,matrix:e,DenseMatrix:n,concat:i}=r,o=Rn({typed:t}),s=mo({typed:t,DenseMatrix:n}),a=Jr({typed:t,DenseMatrix:n}),l=ir({typed:t,matrix:e,concat:i});return t(OY,{"number, number":SF,"BigNumber, BigNumber":MY,"bigint, bigint":(c,d)=>c^d},l({SS:s,DS:o,Ss:a}))});var FY="arg",YEe=["typed"],Z2=F(FY,YEe,r=>{var{typed:t}=r;return t(FY,{number:function(n){return Math.atan2(0,n)},BigNumber:function(n){return n.constructor.atan2(0,n)},Complex:function(n){return n.arg()},"Array | Matrix":t.referToSelf(e=>n=>wt(n,e))})});var RY="conj",KEe=["typed"],Q2=F(RY,KEe,r=>{var{typed:t}=r;return t(RY,{"number | BigNumber | Fraction":e=>e,Complex:e=>e.conjugate(),"Array | Matrix":t.referToSelf(e=>n=>wt(n,e))})});var PY="im",XEe=["typed"],J2=F(PY,XEe,r=>{var{typed:t}=r;return t(PY,{number:()=>0,"BigNumber | Fraction":e=>e.mul(0),Complex:e=>e.im,"Array | Matrix":t.referToSelf(e=>n=>wt(n,e))})});var LY="re",ZEe=["typed"],eR=F(LY,ZEe,r=>{var{typed:t}=r;return t(LY,{"number | BigNumber | Fraction":e=>e,Complex:e=>e.re,"Array | Matrix":t.referToSelf(e=>n=>wt(n,e))})});var BY="not",QEe=["typed"],tR=F(BY,QEe,r=>{var{typed:t}=r;return t(BY,{"null | undefined":()=>!0,number:IF,Complex:function(n){return n.re===0&&n.im===0},BigNumber:function(n){return n.isZero()||n.isNaN()},bigint:e=>!e,Unit:t.referToSelf(e=>n=>t.find(e,n.valueType())(n.value)),"Array | Matrix":t.referToSelf(e=>n=>wt(n,e))})});var VY="or",JEe=["typed","matrix","equalScalar","DenseMatrix","concat"],Cy=F(VY,JEe,r=>{var{typed:t,matrix:e,equalScalar:n,DenseMatrix:i,concat:o}=r,s=Rn({typed:t}),a=Hf({typed:t,equalScalar:n}),l=Jr({typed:t,DenseMatrix:i}),c=ir({typed:t,matrix:e,concat:o});return t(VY,{"number, number":zS,"Complex, Complex":function(f,m){return f.re!==0||f.im!==0||m.re!==0||m.im!==0},"BigNumber, BigNumber":function(f,m){return!f.isZero()&&!f.isNaN()||!m.isZero()&&!m.isNaN()},"bigint, bigint":zS,"Unit, Unit":t.referToSelf(d=>(f,m)=>d(f.value||0,m.value||0))},c({SS:a,DS:s,Ss:l}))});var zY="xor",eMe=["typed","matrix","DenseMatrix","concat"],rR=F(zY,eMe,r=>{var{typed:t,matrix:e,DenseMatrix:n,concat:i}=r,o=Rn({typed:t}),s=mo({typed:t,DenseMatrix:n}),a=Jr({typed:t,DenseMatrix:n}),l=ir({typed:t,matrix:e,concat:i});return t(zY,{"number, number":jS,"Complex, Complex":function(d,f){return(d.re!==0||d.im!==0)!=(f.re!==0||f.im!==0)},"bigint, bigint":jS,"BigNumber, BigNumber":function(d,f){return(!d.isZero()&&!d.isNaN())!=(!f.isZero()&&!f.isNaN())},"Unit, Unit":t.referToSelf(c=>(d,f)=>c(d.value||0,f.value||0))},l({SS:s,DS:o,Ss:a}))});var jY="concat",tMe=["typed","matrix","isInteger"],Sy=F(jY,tMe,r=>{var{typed:t,matrix:e,isInteger:n}=r;return t(jY,{"...Array | Matrix | number | BigNumber":function(o){var s,a=o.length,l=-1,c,d=!1,f=[];for(s=0;s<a;s++){var m=o[s];if(_t(m)&&(d=!0),Bt(m)||It(m)){if(s!==a-1)throw new Error("Dimension must be specified as last argument");if(c=l,l=m.valueOf(),!n(l))throw new TypeError("Integer number expected for dimension");if(l<0||s>0&&l>c)throw new fs(l,c+1)}else{var p=Pt(m).valueOf(),b=Ot(p);if(f[s]=p,c=l,l=b.length-1,s>0&&l!==c)throw new Zt(c+1,l+1)}}if(f.length===0)throw new SyntaxError("At least one matrix expected");for(var y=f.shift();f.length;)y=JO(y,f.shift(),l);return d?e(y):y},"...string":function(o){return o.join("")}})});var HY="column",rMe=["typed","Index","matrix","range"],Dy=F(HY,rMe,r=>{var{typed:t,Index:e,matrix:n,range:i}=r;return t(HY,{"Matrix, number":o,"Array, number":function(a,l){return o(n(Pt(a)),l).valueOf()}});function o(s,a){if(s.size().length!==2)throw new Error("Only two dimensional matrix is supported");gn(a,s.size()[1]);var l=i(0,s.size()[0]),c=new e(l,a),d=s.subset(c);return _t(d)?d:n([[d]])}});var UY="count",nMe=["typed","size","prod"],nR=F(UY,nMe,r=>{var{typed:t,size:e,prod:n}=r;return t(UY,{string:function(o){return o.length},"Matrix | Array":function(o){return n(e(o))}})});var qY="cross",iMe=["typed","matrix","subtract","multiply"],iR=F(qY,iMe,r=>{var{typed:t,matrix:e,subtract:n,multiply:i}=r;return t(qY,{"Matrix, Matrix":function(a,l){return e(o(a.toArray(),l.toArray()))},"Matrix, Array":function(a,l){return e(o(a.toArray(),l))},"Array, Matrix":function(a,l){return e(o(a,l.toArray()))},"Array, Array":o});function o(s,a){var l=Math.max(Ot(s).length,Ot(a).length);s=Xg(s),a=Xg(a);var c=Ot(s),d=Ot(a);if(c.length!==1||d.length!==1||c[0]!==3||d[0]!==3)throw new RangeError("Vectors with length 3 expected (Size A = ["+c.join(", ")+"], B = ["+d.join(", ")+"])");var f=[n(i(s[1],a[2]),i(s[2],a[1])),n(i(s[2],a[0]),i(s[0],a[2])),n(i(s[0],a[1]),i(s[1],a[0]))];return l>1?[f]:f}});var WY="diag",oMe=["typed","matrix","DenseMatrix","SparseMatrix"],oR=F(WY,oMe,r=>{var{typed:t,matrix:e,DenseMatrix:n,SparseMatrix:i}=r;return t(WY,{Array:function(c){return o(c,0,Ot(c),null)},"Array, number":function(c,d){return o(c,d,Ot(c),null)},"Array, BigNumber":function(c,d){return o(c,d.toNumber(),Ot(c),null)},"Array, string":function(c,d){return o(c,0,Ot(c),d)},"Array, number, string":function(c,d,f){return o(c,d,Ot(c),f)},"Array, BigNumber, string":function(c,d,f){return o(c,d.toNumber(),Ot(c),f)},Matrix:function(c){return o(c,0,c.size(),c.storage())},"Matrix, number":function(c,d){return o(c,d,c.size(),c.storage())},"Matrix, BigNumber":function(c,d){return o(c,d.toNumber(),c.size(),c.storage())},"Matrix, string":function(c,d){return o(c,0,c.size(),d)},"Matrix, number, string":function(c,d,f){return o(c,d,c.size(),f)},"Matrix, BigNumber, string":function(c,d,f){return o(c,d.toNumber(),c.size(),f)}});function o(l,c,d,f){if(!pt(c))throw new TypeError("Second parameter in function diag must be an integer");var m=c>0?c:0,p=c<0?-c:0;switch(d.length){case 1:return s(l,c,f,d[0],p,m);case 2:return a(l,c,f,d,p,m)}throw new RangeError("Matrix for function diag must be 2 dimensional")}function s(l,c,d,f,m,p){var b=[f+m,f+p];if(d&&d!=="sparse"&&d!=="dense")throw new TypeError("Unknown matrix type ".concat(d,'"'));var y=d==="sparse"?i.diagonal(b,l,c):n.diagonal(b,l,c);return d!==null?y:y.valueOf()}function a(l,c,d,f,m,p){if(_t(l)){var b=l.diagonal(c);return d!==null?d!==b.storage()?e(b,d):b:b.valueOf()}for(var y=Math.min(f[0]-m,f[1]-p),C=[],S=0;S<y;S++)C[S]=l[S+m][S+p];return d!==null?e(C):C}});var sMe="filter",aMe=["typed"],Ey=F(sMe,aMe,r=>{var{typed:t}=r;return t("filter",{"Array, function":$Y,"Matrix, function":function(n,i){return n.create($Y(n.valueOf(),i),n.datatype())},"Array, RegExp":ZO,"Matrix, RegExp":function(n,i){return n.create(ZO(n.valueOf(),i),n.datatype())}})});function $Y(r,t){var e=Bl(t,r,"filter");return MG(r,function(n,i,o){return e(n,[i],o)})}var GY="flatten",lMe=["typed"],sR=F(GY,lMe,r=>{var{typed:t}=r;return t(GY,{Array:function(n){return mr(n)},Matrix:function(n){return n.create(mr(n.toArray()),n.datatype())}})});var aR="forEach",cMe=["typed"],My=F(aR,cMe,r=>{var{typed:t}=r;return t(aR,{"Array, function":uMe,"Matrix, function":function(n,i){n.forEach(i)}})});function uMe(r,t){py(r,[],r,Bl(t,r,aR))}var YY="getMatrixDataType",dMe=["typed"],lR=F(YY,dMe,r=>{var{typed:t}=r;return t(YY,{Array:function(n){return Om(n,Rr)},Matrix:function(n){return n.getDataType()}})});var KY="identity",fMe=["typed","config","matrix","BigNumber","DenseMatrix","SparseMatrix"],cR=F(KY,fMe,r=>{var{typed:t,config:e,matrix:n,BigNumber:i,DenseMatrix:o,SparseMatrix:s}=r;return t(KY,{"":function(){return e.matrix==="Matrix"?n([]):[]},string:function(d){return n(d)},"number | BigNumber":function(d){return l(d,d,e.matrix==="Matrix"?"dense":void 0)},"number | BigNumber, string":function(d,f){return l(d,d,f)},"number | BigNumber, number | BigNumber":function(d,f){return l(d,f,e.matrix==="Matrix"?"dense":void 0)},"number | BigNumber, number | BigNumber, string":function(d,f,m){return l(d,f,m)},Array:function(d){return a(d)},"Array, string":function(d,f){return a(d,f)},Matrix:function(d){return a(d.valueOf(),d.storage())},"Matrix, string":function(d,f){return a(d.valueOf(),f)}});function a(c,d){switch(c.length){case 0:return d?n(d):[];case 1:return l(c[0],c[0],d);case 2:return l(c[0],c[1],d);default:throw new Error("Vector containing two values expected")}}function l(c,d,f){var m=It(c)||It(d)?i:null;if(It(c)&&(c=c.toNumber()),It(d)&&(d=d.toNumber()),!pt(c)||c<1)throw new Error("Parameters in function identity must be positive integers");if(!pt(d)||d<1)throw new Error("Parameters in function identity must be positive integers");var p=m?new i(1):1,b=m?new m(0):0,y=[c,d];if(f){if(f==="sparse")return s.diagonal(y,p,0,b);if(f==="dense")return o.diagonal(y,p,0,b);throw new TypeError('Unknown matrix type "'.concat(f,'"'))}for(var C=Dc([],y,b),S=c<d?c:d,A=0;A<S;A++)C[A][A]=p;return C}});var XY="kron",hMe=["typed","matrix","multiplyScalar"],uR=F(XY,hMe,r=>{var{typed:t,matrix:e,multiplyScalar:n}=r;return t(XY,{"Matrix, Matrix":function(s,a){return e(i(s.toArray(),a.toArray()))},"Matrix, Array":function(s,a){return e(i(s.toArray(),a))},"Array, Matrix":function(s,a){return e(i(s,a.toArray()))},"Array, Array":i});function i(o,s){if(Ot(o).length===1&&(o=[o]),Ot(s).length===1&&(s=[s]),Ot(o).length>2||Ot(s).length>2)throw new RangeError("Vectors with dimensions greater then 2 are not supported expected (Size x = "+JSON.stringify(o.length)+", y = "+JSON.stringify(s.length)+")");var a=[],l=[];return o.map(function(c){return s.map(function(d){return l=[],a.push(l),c.map(function(f){return d.map(function(m){return l.push(n(f,m))})})})})&&a}});var dR="map",mMe=["typed"],Ay=F(dR,mMe,r=>{var{typed:t}=r;return t(dR,{"Array, function":n,"Matrix, function":function(o,s){return o.map(s)},"Array|Matrix, Array|Matrix, ...Array|Matrix|function":(i,o,s)=>e([i,o,...s.slice(0,s.length-1)],s[s.length-1])});function e(i,o){if(typeof o!="function")throw new Error("Last argument must be a callback function");var s=i[0].isMatrix,a=my(...i.map(M=>M.isMatrix?M.size():Ot(M))),l=s?(M,E)=>M.get(E):Qg,c=s?i.map(M=>M.isMatrix?M.create(du(M.toArray(),a),M.datatype()):i[0].create(du(M.valueOf(),a))):i.map(M=>M.isMatrix?du(M.toArray(),a):du(M,a)),d;if(t.isTypedFunction(o)){var f=a.map(()=>0),m=c.map(M=>l(M,f)),p=x(o,m,f,c);d=S(p)}else{var b=i.length,y=A(o,b);d=S(y)}var C=(M,E)=>d([M,...c.slice(1).map(w=>l(w,E))],E);if(s)return c[0].map(C);return n(c[0],C);function S(M){switch(M){case 0:return E=>o(...E);case 1:return(E,w)=>o(...E,w);case 2:return(E,w)=>o(...E,w,...c)}}function A(M,E){return M.length>E+1?2:M.length===E+1?1:0}function x(M,E,w,T){return t.resolve(M,[...E,w,...T])!==null?2:t.resolve(M,[...E,w])!==null?1:(t.resolve(M,E)!==null,0)}}function n(i,o){return py(i,[],i,Bl(o,i,dR))}});var ZY="diff",pMe=["typed","matrix","subtract","number"],Ty=F(ZY,pMe,r=>{var{typed:t,matrix:e,subtract:n,number:i}=r;return t(ZY,{"Array | Matrix":function(d){return _t(d)?e(s(d.toArray())):s(d)},"Array | Matrix, number":function(d,f){if(!pt(f))throw new RangeError("Dimension must be a whole number");return _t(d)?e(o(d.toArray(),f)):o(d,f)},"Array, BigNumber":t.referTo("Array,number",c=>(d,f)=>c(d,i(f))),"Matrix, BigNumber":t.referTo("Matrix,number",c=>(d,f)=>c(d,i(f)))});function o(c,d){if(_t(c)&&(c=c.toArray()),!Array.isArray(c))throw RangeError("Array/Matrix does not have that many dimensions");if(d>0){var f=[];return c.forEach(m=>{f.push(o(m,d-1))}),f}else{if(d===0)return s(c);throw RangeError("Cannot have negative dimension")}}function s(c){for(var d=[],f=c.length,m=1;m<f;m++)d.push(a(c[m-1],c[m]));return d}function a(c,d){_t(c)&&(c=c.toArray()),_t(d)&&(d=d.toArray());var f=Array.isArray(c),m=Array.isArray(d);if(f&&m)return l(c,d);if(!f&&!m)return n(d,c);throw TypeError("Cannot calculate difference between 1 array and 1 non-array")}function l(c,d){if(c.length!==d.length)throw RangeError("Not all sub-arrays have the same length");for(var f=[],m=c.length,p=0;p<m;p++)f.push(a(c[p],d[p]));return f}});var gMe="ones",vMe=["typed","config","matrix","BigNumber"],fR=F(gMe,vMe,r=>{var{typed:t,config:e,matrix:n,BigNumber:i}=r;return t("ones",{"":function(){return e.matrix==="Array"?o([]):o([],"default")},"...number | BigNumber | string":function(c){var d=c[c.length-1];if(typeof d=="string"){var f=c.pop();return o(c,f)}else return e.matrix==="Array"?o(c):o(c,"default")},Array:o,Matrix:function(c){var d=c.storage();return o(c.valueOf(),d)},"Array | Matrix, string":function(c,d){return o(c.valueOf(),d)}});function o(l,c){var d=s(l),f=d?new i(1):1;if(a(l),c){var m=n(c);return l.length>0?m.resize(l,f):m}else{var p=[];return l.length>0?Dc(p,l,f):p}}function s(l){var c=!1;return l.forEach(function(d,f,m){It(d)&&(c=!0,m[f]=d.toNumber())}),c}function a(l){l.forEach(function(c){if(typeof c!="number"||!pt(c)||c<0)throw new Error("Parameters in function ones must be positive integers")})}});function iv(){throw new Error('No "bignumber" implementation available')}function GS(){throw new Error('No "fraction" implementation available')}function YS(){throw new Error('No "matrix" implementation available')}var QY="range",bMe=["typed","config","?matrix","?bignumber","smaller","smallerEq","larger","largerEq","add","isPositive"],Iy=F(QY,bMe,r=>{var{typed:t,config:e,matrix:n,bignumber:i,smaller:o,smallerEq:s,larger:a,largerEq:l,add:c,isPositive:d}=r;return t(QY,{string:m,"string, boolean":m,"number, number":function(C,S){return f(p(C,S,1,!1))},"number, number, number":function(C,S,A){return f(p(C,S,A,!1))},"number, number, boolean":function(C,S,A){return f(p(C,S,1,A))},"number, number, number, boolean":function(C,S,A,x){return f(p(C,S,A,x))},"BigNumber, BigNumber":function(C,S){var A=C.constructor;return f(p(C,S,new A(1),!1))},"BigNumber, BigNumber, BigNumber":function(C,S,A){return f(p(C,S,A,!1))},"BigNumber, BigNumber, boolean":function(C,S,A){var x=C.constructor;return f(p(C,S,new x(1),A))},"BigNumber, BigNumber, BigNumber, boolean":function(C,S,A,x){return f(p(C,S,A,x))},"Unit, Unit, Unit":function(C,S,A){return f(p(C,S,A,!1))},"Unit, Unit, Unit, boolean":function(C,S,A,x){return f(p(C,S,A,x))}});function f(y){return e.matrix==="Matrix"?n?n(y):YS():y}function m(y,C){var S=b(y);if(!S)throw new SyntaxError('String "'+y+'" is no valid range');return e.number==="BigNumber"?(i===void 0&&iv(),f(p(i(S.start),i(S.end),i(S.step)),C)):f(p(S.start,S.end,S.step,C))}function p(y,C,S,A){for(var x=[],M=d(S)?A?s:o:A?l:a,E=y;M(E,C);)x.push(E),E=c(E,S);return x}function b(y){var C=y.split(":"),S=C.map(function(x){return Number(x)}),A=S.some(function(x){return isNaN(x)});if(A)return null;switch(S.length){case 2:return{start:S[0],end:S[1],step:1};case 3:return{start:S[0],end:S[2],step:S[1]};default:return null}}});var JY="reshape",yMe=["typed","isInteger","matrix"],hR=F(JY,yMe,r=>{var{typed:t,isInteger:e}=r;return t(JY,{"Matrix, Array":function(i,o){return i.reshape(o,!0)},"Array, Array":function(i,o){return o.forEach(function(s){if(!e(s))throw new TypeError("Invalid size for dimension: "+s)}),fy(i,o)}})});var _Me="resize",xMe=["config","matrix"],mR=F(_Me,xMe,r=>{var{config:t,matrix:e}=r;return function(o,s,a){if(arguments.length!==2&&arguments.length!==3)throw new Md("resize",arguments.length,2,3);if(_t(s)&&(s=s.valueOf()),It(s[0])&&(s=s.map(function(d){return It(d)?d.toNumber():d})),_t(o))return o.resize(s,a,!0);if(typeof o=="string")return n(o,s,a);var l=Array.isArray(o)?!1:t.matrix!=="Array";if(s.length===0){for(;Array.isArray(o);)o=o[0];return Pt(o)}else{Array.isArray(o)||(o=[o]),o=Pt(o);var c=Dc(o,s,a);return l?e(c):c}};function n(i,o,s){if(s!==void 0){if(typeof s!="string"||s.length!==1)throw new TypeError("Single character expected as defaultValue")}else s=" ";if(o.length!==1)throw new Zt(o.length,1);var a=o[0];if(typeof a!="number"||!pt(a))throw new TypeError("Invalid size, must contain positive integers (size: "+Gt(o)+")");if(i.length>a)return i.substring(0,a);if(i.length<a){for(var l=i,c=0,d=a-i.length;c<d;c++)l+=s;return l}else return i}});var eK="rotate",wMe=["typed","multiply","rotationMatrix"],pR=F(eK,wMe,r=>{var{typed:t,multiply:e,rotationMatrix:n}=r;return t(eK,{"Array , number | BigNumber | Complex | Unit":function(s,a){i(s,2);var l=e(n(a),s);return l.toArray()},"Matrix , number | BigNumber | Complex | Unit":function(s,a){return i(s,2),e(n(a),s)},"Array, number | BigNumber | Complex | Unit, Array | Matrix":function(s,a,l){i(s,3);var c=e(n(a,l),s);return c},"Matrix, number | BigNumber | Complex | Unit, Array | Matrix":function(s,a,l){return i(s,3),e(n(a,l),s)}});function i(o,s){var a=Array.isArray(o)?Ot(o):o.size();if(a.length>2)throw new RangeError("Vector must be of dimensions 1x".concat(s));if(a.length===2&&a[1]!==1)throw new RangeError("Vector must be of dimensions 1x".concat(s));if(a[0]!==s)throw new RangeError("Vector must be of dimensions 1x".concat(s))}});var tK="rotationMatrix",CMe=["typed","config","multiplyScalar","addScalar","unaryMinus","norm","matrix","BigNumber","DenseMatrix","SparseMatrix","cos","sin"],gR=F(tK,CMe,r=>{var{typed:t,config:e,multiplyScalar:n,addScalar:i,unaryMinus:o,norm:s,BigNumber:a,matrix:l,DenseMatrix:c,SparseMatrix:d,cos:f,sin:m}=r;return t(tK,{"":function(){return e.matrix==="Matrix"?l([]):[]},string:function(x){return l(x)},"number | BigNumber | Complex | Unit":function(x){return p(x,e.matrix==="Matrix"?"dense":void 0)},"number | BigNumber | Complex | Unit, string":function(x,M){return p(x,M)},"number | BigNumber | Complex | Unit, Array":function(x,M){var E=l(M);return b(E),S(x,E,void 0)},"number | BigNumber | Complex | Unit, Matrix":function(x,M){b(M);var E=M.storage()||(e.matrix==="Matrix"?"dense":void 0);return S(x,M,E)},"number | BigNumber | Complex | Unit, Array, string":function(x,M,E){var w=l(M);return b(w),S(x,w,E)},"number | BigNumber | Complex | Unit, Matrix, string":function(x,M,E){return b(M),S(x,M,E)}});function p(A,x){var M=It(A),E=M?new a(-1):-1,w=f(A),T=m(A),k=[[w,n(E,T)],[T,w]];return C(k,x)}function b(A){var x=A.size();if(x.length<1||x[0]!==3)throw new RangeError("Vector must be of dimensions 1x3")}function y(A){return A.reduce((x,M)=>n(x,M))}function C(A,x){if(x){if(x==="sparse")return new d(A);if(x==="dense")return new c(A);throw new TypeError('Unknown matrix type "'.concat(x,'"'))}return A}function S(A,x,M){var E=s(x);if(E===0)throw new RangeError("Rotation around zero vector");var w=It(A)?a:null,T=w?new w(1):1,k=w?new w(-1):-1,I=w?new w(x.get([0])/E):x.get([0])/E,O=w?new w(x.get([1])/E):x.get([1])/E,R=w?new w(x.get([2])/E):x.get([2])/E,j=f(A),q=i(T,o(j)),X=m(A),Y=i(j,y([I,I,q])),P=i(y([I,O,q]),y([k,R,X])),L=i(y([I,R,q]),y([O,X])),Z=i(y([I,O,q]),y([R,X])),U=i(j,y([O,O,q])),ce=i(y([O,R,q]),y([k,I,X])),me=i(y([I,R,q]),y([k,O,X])),se=i(y([O,R,q]),y([I,X])),Q=i(j,y([R,R,q])),he=[[Y,P,L],[Z,U,ce],[me,se,Q]];return C(he,M)}});var rK="row",SMe=["typed","Index","matrix","range"],ky=F(rK,SMe,r=>{var{typed:t,Index:e,matrix:n,range:i}=r;return t(rK,{"Matrix, number":o,"Array, number":function(a,l){return o(n(Pt(a)),l).valueOf()}});function o(s,a){if(s.size().length!==2)throw new Error("Only two dimensional matrix is supported");gn(a,s.size()[0]);var l=i(0,s.size()[1]),c=new e(a,l),d=s.subset(c);return _t(d)?d:n([[d]])}});var nK="size",DMe=["typed","config","?matrix"],vR=F(nK,DMe,r=>{var{typed:t,config:e,matrix:n}=r;return t(nK,{Matrix:function(o){return o.create(o.size(),"number")},Array:Ot,string:function(o){return e.matrix==="Array"?[o.length]:n([o.length],"dense","number")},"number | Complex | BigNumber | Unit | boolean | null":function(o){return e.matrix==="Array"?[]:n?n([],"dense","number"):YS()}})});var iK="squeeze",EMe=["typed"],bR=F(iK,EMe,r=>{var{typed:t}=r;return t(iK,{Array:function(n){return Xg(Pt(n))},Matrix:function(n){var i=Xg(n.toArray());return Array.isArray(i)?n.create(i,n.datatype()):i},any:function(n){return Pt(n)}})});var oK="subset",MMe=["typed","matrix","zeros","add"],Ny=F(oK,MMe,r=>{var{typed:t,matrix:e,zeros:n,add:i}=r;return t(oK,{"Matrix, Index":function(a,l){return Nm(l)?e():(dy(a,l),a.subset(l))},"Array, Index":t.referTo("Matrix, Index",function(s){return function(a,l){var c=s(e(a),l);return l.isScalar()?c:c.valueOf()}}),"Object, Index":TMe,"string, Index":AMe,"Matrix, Index, any, any":function(a,l,c,d){return Nm(l)?a:(dy(a,l),a.clone().subset(l,o(c,l),d))},"Array, Index, any, any":t.referTo("Matrix, Index, any, any",function(s){return function(a,l,c,d){var f=s(e(a),l,c,d);return f.isMatrix?f.valueOf():f}}),"Array, Index, any":t.referTo("Matrix, Index, any, any",function(s){return function(a,l,c){return s(e(a),l,c,void 0).valueOf()}}),"Matrix, Index, any":t.referTo("Matrix, Index, any, any",function(s){return function(a,l,c){return s(a,l,c,void 0)}}),"string, Index, string":sK,"string, Index, string, string":sK,"Object, Index, any":IMe});function o(s,a){if(typeof s=="string")throw new Error("can't boradcast a string");if(a._isScalar)return s;var l=a.size();if(l.every(c=>c>0))try{return i(s,n(l))}catch{return s}else return s}});function AMe(r,t){if(!Rf(t))throw new TypeError("Index expected");if(Nm(t))return"";if(dy(Array.from(r),t),t.size().length!==1)throw new Zt(t.size().length,1);var e=r.length;gn(t.min()[0],e),gn(t.max()[0],e);var n=t.dimension(0),i="";return n.forEach(function(o){i+=r.charAt(o)}),i}function sK(r,t,e,n){if(!t||t.isIndex!==!0)throw new TypeError("Index expected");if(Nm(t))return r;if(dy(Array.from(r),t),t.size().length!==1)throw new Zt(t.size().length,1);if(n!==void 0){if(typeof n!="string"||n.length!==1)throw new TypeError("Single character expected as defaultValue")}else n=" ";var i=t.dimension(0),o=i.size()[0];if(o!==e.length)throw new Zt(i.size()[0],e.length);var s=r.length;gn(t.min()[0]),gn(t.max()[0]);for(var a=[],l=0;l<s;l++)a[l]=r.charAt(l);if(i.forEach(function(f,m){a[f]=e.charAt(m[0])}),a.length>s)for(var c=s-1,d=a.length;c<d;c++)a[c]||(a[c]=n);return a.join("")}function TMe(r,t){if(!Nm(t)){if(t.size().length!==1)throw new Zt(t.size(),1);var e=t.dimension(0);if(typeof e!="string")throw new TypeError("String expected as index to retrieve an object property");return ei(r,e)}}function IMe(r,t,e){if(Nm(t))return r;if(t.size().length!==1)throw new Zt(t.size(),1);var n=t.dimension(0);if(typeof n!="string")throw new TypeError("String expected as index to retrieve an object property");var i=Pt(r);return lu(i,n,e),i}var aK="transpose",kMe=["typed","matrix"],yR=F(aK,kMe,r=>{var{typed:t,matrix:e}=r;return t(aK,{Array:s=>n(e(s)).valueOf(),Matrix:n,any:Pt});function n(s){var a=s.size(),l;switch(a.length){case 1:l=s.clone();break;case 2:{var c=a[0],d=a[1];if(d===0)throw new RangeError("Cannot transpose a 2D matrix with no columns (size: "+Gt(a)+")");switch(s.storage()){case"dense":l=i(s,c,d);break;case"sparse":l=o(s,c,d);break}}break;default:throw new RangeError("Matrix must be a vector or two dimensional (size: "+Gt(a)+")")}return l}function i(s,a,l){for(var c=s._data,d=[],f,m=0;m<l;m++){f=d[m]=[];for(var p=0;p<a;p++)f[p]=Pt(c[p][m])}return s.createDenseMatrix({data:d,size:[l,a],datatype:s._datatype})}function o(s,a,l){for(var c=s._values,d=s._index,f=s._ptr,m=c?[]:void 0,p=[],b=[],y=[],C=0;C<a;C++)y[C]=0;var S,A,x;for(S=0,A=d.length;S<A;S++)y[d[S]]++;for(var M=0,E=0;E<a;E++)b.push(M),M+=y[E],y[E]=b[E];for(b.push(M),x=0;x<l;x++)for(var w=f[x],T=f[x+1],k=w;k<T;k++){var I=y[d[k]]++;p[I]=x,c&&(m[I]=Pt(c[k]))}return s.createSparseMatrix({values:m,index:p,ptr:b,size:[l,a],datatype:s._datatype})}});var lK="ctranspose",NMe=["typed","transpose","conj"],_R=F(lK,NMe,r=>{var{typed:t,transpose:e,conj:n}=r;return t(lK,{any:function(o){return n(e(o))}})});var cK="zeros",OMe=["typed","config","matrix","BigNumber"],xR=F(cK,OMe,r=>{var{typed:t,config:e,matrix:n,BigNumber:i}=r;return t(cK,{"":function(){return e.matrix==="Array"?o([]):o([],"default")},"...number | BigNumber | string":function(c){var d=c[c.length-1];if(typeof d=="string"){var f=c.pop();return o(c,f)}else return e.matrix==="Array"?o(c):o(c,"default")},Array:o,Matrix:function(c){var d=c.storage();return o(c.valueOf(),d)},"Array | Matrix, string":function(c,d){return o(c.valueOf(),d)}});function o(l,c){var d=s(l),f=d?new i(0):0;if(a(l),c){var m=n(c);return l.length>0?m.resize(l,f):m}else{var p=[];return l.length>0?Dc(p,l,f):p}}function s(l){var c=!1;return l.forEach(function(d,f,m){It(d)&&(c=!0,m[f]=d.toNumber())}),c}function a(l){l.forEach(function(c){if(typeof c!="number"||!pt(c)||c<0)throw new Error("Parameters in function zeros must be positive integers")})}});var uK="fft",FMe=["typed","matrix","addScalar","multiplyScalar","divideScalar","exp","tau","i","dotDivide","conj","pow","ceil","log2"],wR=F(uK,FMe,r=>{var{typed:t,matrix:e,addScalar:n,multiplyScalar:i,divideScalar:o,exp:s,tau:a,i:l,dotDivide:c,conj:d,pow:f,ceil:m,log2:p}=r;return t(uK,{Array:b,Matrix:function(x){return x.create(b(x.valueOf()),x.datatype())}});function b(A){var x=Ot(A);return x.length===1?S(A,x[0]):y(A.map(M=>b(M,x.slice(1))),0)}function y(A,x){var M=Ot(A);if(x!==0)return new Array(M[0]).fill(0).map((w,T)=>y(A[T],x-1));if(M.length===1)return S(A);function E(w){var T=Ot(w);return new Array(T[1]).fill(0).map((k,I)=>new Array(T[0]).fill(0).map((O,R)=>w[R][I]))}return E(y(E(A),1))}function C(A){for(var x=A.length,M=s(o(i(-1,i(l,a)),x)),E=[],w=1-x;w<x;w++)E.push(f(M,o(f(w,2),2)));for(var T=f(2,m(p(x+x-1))),k=[...new Array(x).fill(0).map((P,L)=>i(A[L],E[x-1+L])),...new Array(T-x).fill(0)],I=[...new Array(x+x-1).fill(0).map((P,L)=>o(1,E[L])),...new Array(T-(x+x-1)).fill(0)],O=S(k),R=S(I),j=new Array(T).fill(0).map((P,L)=>i(O[L],R[L])),q=c(d(b(d(j))),T),X=[],Y=x-1;Y<x+x-1;Y++)X.push(i(q[Y],E[Y]));return X}function S(A){var x=A.length;if(x===1)return[A[0]];if(x%2===0){for(var M=[...S(A.filter((k,I)=>I%2===0),x/2),...S(A.filter((k,I)=>I%2===1),x/2)],E=0;E<x/2;E++){var w=M[E],T=i(M[E+x/2],s(i(i(a,l),o(-E,x))));M[E]=n(w,T),M[E+x/2]=n(w,i(-1,T))}return M}else return C(A)}});var dK="ifft",RMe=["typed","fft","dotDivide","conj"],CR=F(dK,RMe,r=>{var{typed:t,fft:e,dotDivide:n,conj:i}=r;return t(dK,{"Array | Matrix":function(s){var a=_t(s)?s.size():Ot(s);return n(i(e(i(s))),a.reduce((l,c)=>l*c,1))}})});function Pm(r){"@babel/helpers - typeof";return Pm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pm(r)}function fK(r,t){if(Pm(r)!="object"||!r)return r;var e=r[Symbol.toPrimitive];if(e!==void 0){var n=e.call(r,t||"default");if(Pm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(r)}function hK(r){var t=fK(r,"string");return Pm(t)=="symbol"?t:t+""}function an(r,t,e){return(t=hK(t))in r?Object.defineProperty(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[t]=e,r}function mK(r,t){var e=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),e.push.apply(e,n)}return e}function PMe(r){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?mK(Object(e),!0).forEach(function(n){an(r,n,e[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(e)):mK(Object(e)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(e,n))})}return r}var LMe="solveODE",BMe=["typed","add","subtract","multiply","divide","max","map","abs","isPositive","isNegative","larger","smaller","matrix","bignumber","unaryMinus"],SR=F(LMe,BMe,r=>{var{typed:t,add:e,subtract:n,multiply:i,divide:o,max:s,map:a,abs:l,isPositive:c,isNegative:d,larger:f,smaller:m,matrix:p,bignumber:b,unaryMinus:y}=r;function C(k){return function(I,O,R,j){var q=!(O.length===2&&(O.every(w)||O.every(ls)));if(q)throw new Error('"tspan" must be an Array of two numeric values or two units [tStart, tEnd]');var X=O[0],Y=O[1],P=f(Y,X),L=j.firstStep;if(L!==void 0&&!c(L))throw new Error('"firstStep" must be positive');var Z=j.maxStep;if(Z!==void 0&&!c(Z))throw new Error('"maxStep" must be positive');var U=j.minStep;if(U&&d(U))throw new Error('"minStep" must be positive or zero');var ce=[X,Y,L,U,Z].filter(tr=>tr!==void 0);if(!(ce.every(w)||ce.every(ls)))throw new Error('Inconsistent type of "t" dependant variables');for(var me=1,se=j.tol?j.tol:1e-4,Q=j.minDelta?j.minDelta:.2,he=j.maxDelta?j.maxDelta:5,ke=j.maxIter?j.maxIter:1e4,be=[X,Y,...R,Z,U].some(It),[ee,ae,le,pe]=be?[b(k.a),b(k.c),b(k.b),b(k.bp)]:[k.a,k.c,k.b,k.bp],ve=L?P?L:y(L):o(n(Y,X),me),Ee=[X],Ie=[R],Ve=n(le,pe),te=0,re=0,De=M(P),Ae=E(P);De(Ee[te],Y);){var qe=[];ve=Ae(Ee[te],Y,ve),qe.push(I(Ee[te],Ie[te]));for(var Ge=1;Ge<ae.length;++Ge)qe.push(I(e(Ee[te],i(ae[Ge],ve)),e(Ie[te],i(ve,ee[Ge],qe))));var mt=s(l(a(i(Ve,qe),tr=>ls(tr)?tr.value:tr)));mt<se&&se/mt>1/4&&(Ee.push(e(Ee[te],ve)),Ie.push(e(Ie[te],i(ve,le,qe))),te++);var yt=.84*(se/mt)**(1/5);if(m(yt,Q)?yt=Q:f(yt,he)&&(yt=he),yt=be?b(yt):yt,ve=i(ve,yt),Z&&f(l(ve),Z)?ve=P?Z:y(Z):U&&m(l(ve),U)&&(ve=P?U:y(U)),re++,re>ke)throw new Error("Maximum number of iterations reached, try changing options")}return{t:Ee,y:Ie}}}function S(k,I,O,R){var j=[[],[.5],[0,.75],[.2222222222222222,.3333333333333333,.4444444444444444]],q=[null,1/2,3/4,1],X=[2/9,1/3,4/9,0],Y=[7/24,1/4,1/3,1/8],P={a:j,c:q,b:X,bp:Y};return C(P)(k,I,O,R)}function A(k,I,O,R){var j=[[],[.2],[.075,.225],[.9777777777777777,-3.7333333333333334,3.5555555555555554],[2.9525986892242035,-11.595793324188385,9.822892851699436,-.2908093278463649],[2.8462752525252526,-10.757575757575758,8.906422717743473,.2784090909090909,-.2735313036020583],[.09114583333333333,0,.44923629829290207,.6510416666666666,-.322376179245283,.13095238095238096]],q=[null,1/5,3/10,4/5,8/9,1,1],X=[35/384,0,500/1113,125/192,-2187/6784,11/84,0],Y=[5179/57600,0,7571/16695,393/640,-92097/339200,187/2100,1/40],P={a:j,c:q,b:X,bp:Y};return C(P)(k,I,O,R)}function x(k,I,O,R){var j=R.method?R.method:"RK45",q={RK23:S,RK45:A};if(j.toUpperCase()in q){var X=PMe({},R);return delete X.method,q[j.toUpperCase()](k,I,O,X)}else{var Y=Object.keys(q).map(L=>'"'.concat(L,'"')),P="".concat(Y.slice(0,-1).join(", ")," and ").concat(Y.slice(-1));throw new Error('Unavailable method "'.concat(j,'". Available methods are ').concat(P))}}function M(k){return k?m:f}function E(k){var I=k?f:m;return function(O,R,j){var q=e(O,j);return I(q,R)?n(R,O):j}}function w(k){return It(k)||Bt(k)}function T(k,I,O,R){var j=x(k,I.toArray(),O.toArray(),R);return{t:p(j.t),y:p(j.y)}}return t("solveODE",{"function, Array, Array, Object":x,"function, Matrix, Matrix, Object":T,"function, Array, Array":(k,I,O)=>x(k,I,O,{}),"function, Matrix, Matrix":(k,I,O)=>T(k,I,O,{}),"function, Array, number | BigNumber | Unit":(k,I,O)=>{var R=x(k,I,[O],{});return{t:R.t,y:R.y.map(j=>j[0])}},"function, Matrix, number | BigNumber | Unit":(k,I,O)=>{var R=x(k,I.toArray(),[O],{});return{t:p(R.t),y:p(R.y.map(j=>j[0]))}},"function, Array, number | BigNumber | Unit, Object":(k,I,O,R)=>{var j=x(k,I,[O],R);return{t:j.t,y:j.y.map(q=>q[0])}},"function, Matrix, number | BigNumber | Unit, Object":(k,I,O,R)=>{var j=x(k,I.toArray(),[O],R);return{t:p(j.t),y:p(j.y.map(q=>q[0]))}}})});var VMe="erf",zMe=["typed"],DR=F(VMe,zMe,r=>{var{typed:t}=r;return t("name",{number:function(s){var a=Math.abs(s);return a>=UMe?Rl(s):a<=jMe?Rl(s)*e(a):a<=4?Rl(s)*(1-n(a)):Rl(s)*(1-i(a))},"Array | Matrix":t.referToSelf(o=>s=>wt(s,o))});function e(o){var s=o*o,a=Ad[0][4]*s,l=s,c;for(c=0;c<3;c+=1)a=(a+Ad[0][c])*s,l=(l+ov[0][c])*s;return o*(a+Ad[0][3])/(l+ov[0][3])}function n(o){var s=Ad[1][8]*o,a=o,l;for(l=0;l<7;l+=1)s=(s+Ad[1][l])*o,a=(a+ov[1][l])*o;var c=(s+Ad[1][7])/(a+ov[1][7]),d=parseInt(o*16)/16,f=(o-d)*(o+d);return Math.exp(-d*d)*Math.exp(-f)*c}function i(o){var s=1/(o*o),a=Ad[2][5]*s,l=s,c;for(c=0;c<4;c+=1)a=(a+Ad[2][c])*s,l=(l+ov[2][c])*s;var d=s*(a+Ad[2][4])/(l+ov[2][4]);d=(HMe-d)/o,s=parseInt(o*16)/16;var f=(o-s)*(o+s);return Math.exp(-s*s)*Math.exp(-f)*d}}),jMe=.46875,HMe=.5641895835477563,Ad=[[3.1611237438705655,113.86415415105016,377.485237685302,3209.3775891384694,.18577770618460315],[.5641884969886701,8.883149794388377,66.11919063714163,298.6351381974001,881.952221241769,1712.0476126340707,2051.0783778260716,1230.3393547979972,21531153547440383e-24],[.30532663496123236,.36034489994980445,.12578172611122926,.016083785148742275,.0006587491615298378,.016315387137302097]],ov=[[23.601290952344122,244.02463793444417,1282.6165260773723,2844.236833439171],[15.744926110709835,117.6939508913125,537.1811018620099,1621.3895745666903,3290.7992357334597,4362.619090143247,3439.3676741437216,1230.3393548037495],[2.568520192289822,1.8729528499234604,.5279051029514285,.06051834131244132,.0023352049762686918]],UMe=Math.pow(2,53);var pK="zeta",qMe=["typed","config","multiply","pow","divide","factorial","equal","smallerEq","isNegative","gamma","sin","subtract","add","?Complex","?BigNumber","pi"],ER=F(pK,qMe,r=>{var{typed:t,config:e,multiply:n,pow:i,divide:o,factorial:s,equal:a,smallerEq:l,isNegative:c,gamma:d,sin:f,subtract:m,add:p,Complex:b,BigNumber:y,pi:C}=r;return t(pK,{number:w=>S(w,T=>T,()=>20),BigNumber:w=>S(w,T=>new y(T),()=>Math.abs(Math.log10(e.relTol))),Complex:A});function S(w,T,k){return a(w,0)?T(-.5):a(w,1)?T(NaN):isFinite(w)?x(w,T,k,I=>I):c(w)?T(NaN):T(1)}function A(w){return w.re===0&&w.im===0?new b(-.5):w.re===1?new b(NaN,NaN):w.re===1/0&&w.im===0?new b(1):w.im===1/0||w.re===-1/0?new b(NaN,NaN):x(w,T=>T,T=>Math.round(1.3*15+.9*Math.abs(T.im)),T=>T.re)}function x(w,T,k,I){var O=k(w);if(I(w)>-(O-1)/2)return E(w,T(O),T);var R=n(i(2,w),i(T(C),m(w,1)));return R=n(R,f(n(o(T(C),2),w))),R=n(R,d(m(1,w))),n(R,x(m(1,w),T,k,I))}function M(w,T){for(var k=w,I=w;l(I,T);I=p(I,1)){var O=o(n(s(p(T,m(I,1))),i(4,I)),n(s(m(T,I)),s(n(2,I))));k=p(k,O)}return n(T,k)}function E(w,T,k){for(var I=o(1,n(M(k(0),T),m(1,i(2,m(1,w))))),O=k(0),R=k(1);l(R,T);R=p(R,1))O=p(O,o(n((-1)**(R-1),M(R,T)),i(R,w)));return n(I,O)}});var gK="mode",WMe=["typed","isNaN","isNumeric"],MR=F(gK,WMe,r=>{var{typed:t,isNaN:e,isNumeric:n}=r;return t(gK,{"Array | Matrix":i,"...":function(s){return i(s)}});function i(o){o=mr(o.valueOf());var s=o.length;if(s===0)throw new Error("Cannot calculate mode of an empty array");for(var a={},l=[],c=0,d=0;d<o.length;d++){var f=o[d];if(n(f)&&e(f))throw new Error("Cannot calculate mode of an array containing NaN values");f in a||(a[f]=0),a[f]++,a[f]===c?l.push(f):a[f]>c&&(c=a[f],l=[f])}return l}});function Ni(r,t,e){var n;return String(r).includes("Unexpected type")?(n=arguments.length>2?" (type: "+Rr(e)+", value: "+JSON.stringify(e)+")":" (type: "+r.data.actual+")",new TypeError("Cannot calculate "+t+", unexpected type of argument"+n)):String(r).includes("complex numbers")?(n=arguments.length>2?" (type: "+Rr(e)+", value: "+JSON.stringify(e)+")":"",new TypeError("Cannot calculate "+t+", no ordering relation is defined for complex numbers"+n)):r}var vK="prod",$Me=["typed","config","multiplyScalar","numeric"],AR=F(vK,$Me,r=>{var{typed:t,config:e,multiplyScalar:n,numeric:i}=r;return t(vK,{"Array | Matrix":o,"Array | Matrix, number | BigNumber":function(a,l){throw new Error("prod(A, dim) is not yet supported")},"...":function(a){return o(a)}});function o(s){var a;if(Is(s,function(l){try{a=a===void 0?l:n(a,l)}catch(c){throw Ni(c,"prod",l)}}),typeof a=="string"&&(a=i(a,Ms(a,e))),a===void 0)throw new Error("Cannot calculate prod of an empty array");return a}});var bK="format",GMe=["typed"],TR=F(bK,GMe,r=>{var{typed:t}=r;return t(bK,{any:Gt,"any, Object | function | number | BigNumber":Gt})});var yK="bin",YMe=["typed","format"],IR=F(yK,YMe,r=>{var{typed:t,format:e}=r;return t(yK,{"number | BigNumber":function(i){return e(i,{notation:"bin"})},"number | BigNumber, number | BigNumber":function(i,o){return e(i,{notation:"bin",wordSize:o})}})});var _K="oct",KMe=["typed","format"],kR=F(_K,KMe,r=>{var{typed:t,format:e}=r;return t(_K,{"number | BigNumber":function(i){return e(i,{notation:"oct"})},"number | BigNumber, number | BigNumber":function(i,o){return e(i,{notation:"oct",wordSize:o})}})});var xK="hex",XMe=["typed","format"],NR=F(xK,XMe,r=>{var{typed:t,format:e}=r;return t(xK,{"number | BigNumber":function(i){return e(i,{notation:"hex"})},"number | BigNumber, number | BigNumber":function(i,o){return e(i,{notation:"hex",wordSize:o})}})});var KS=/\$([\w.]+)/g;var wK="print",ZMe=["typed"],Oy=F(wK,ZMe,r=>{var{typed:t}=r;return t(wK,{"string, Object | Array":CK,"string, Object | Array, number | Object":CK})});function CK(r,t,e){return r.replace(KS,function(n,i){var o=i.split("."),s=t[o.shift()];for(s!==void 0&&s.isMatrix&&(s=s.toArray());o.length&&s!==void 0;){var a=o.shift();s=a?s[a]:s+"."}return s!==void 0?Ii(s)?s:Gt(s,e):n})}var SK="to",QMe=["typed","matrix","concat"],OR=F(SK,QMe,r=>{var{typed:t,matrix:e,concat:n}=r,i=ir({typed:t,matrix:e,concat:n});return t(SK,{"Unit, Unit | string":(o,s)=>o.to(s)},i({Ds:!0}))});var DK="isPrime",JMe=["typed"],FR=F(DK,JMe,r=>{var{typed:t}=r;return t(DK,{number:function(n){if(n<=3)return n>1;if(n%2===0||n%3===0)return!1;for(var i=5;i*i<=n;i+=6)if(n%i===0||n%(i+2)===0)return!1;return!0},bigint:function(n){if(n<=3n)return n>1n;if(n%2n===0n||n%3n===0n)return!1;for(var i=5n;i*i<=n;i+=6n)if(n%i===0n||n%(i+2n)===0n)return!1;return!0},BigNumber:function(n){if(n.lte(3))return n.gt(1);if(n.mod(2).eq(0)||n.mod(3).eq(0))return!1;if(n.lt(Math.pow(2,32))){for(var i=n.toNumber(),o=5;o*o<=i;o+=6)if(i%o===0||i%(o+2)===0)return!1;return!0}function s(A,x,M){for(var E=1;!x.eq(0);)x.mod(2).eq(0)?(x=x.div(2),A=A.mul(A).mod(M)):(x=x.sub(1),E=A.mul(E).mod(M));return E}var a=n.constructor.clone({precision:n.toFixed(0).length*2});n=new a(n);for(var l=0,c=n.sub(1);c.mod(2).eq(0);)c=c.div(2),l+=1;var d=null;if(n.lt("3317044064679887385961981"))d=[2,3,5,7,11,13,17,19,23,29,31,37,41].filter(A=>A<n);else{var f=Math.min(n.toNumber()-2,Math.floor(2*Math.pow(n.toFixed(0).length*Math.log(10),2)));d=[];for(var m=2;m<=f;m+=1)d.push(f)}for(var p=0;p<d.length;p+=1){var b=d[p],y=s(n.sub(n).add(b),c,n);if(!y.eq(1)){for(var C=0,S=y;!S.eq(n.sub(1));C+=1,S=S.mul(S).mod(n))if(C===l-1)return!1}}return!0},"Array | Matrix":t.referToSelf(e=>n=>wt(n,e))})});var eAe="numeric",tAe=["number","?bignumber","?fraction"],RR=F(eAe,tAe,r=>{var{number:t,bignumber:e,fraction:n}=r,i={string:!0,number:!0,BigNumber:!0,Fraction:!0},o={number:s=>t(s),BigNumber:e?s=>e(s):iv,bigint:s=>BigInt(s),Fraction:n?s=>n(s):GS};return function(a){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"number",c=arguments.length>2?arguments[2]:void 0;if(c!==void 0)throw new SyntaxError("numeric() takes one or two arguments");var d=Rr(a);if(!(d in i))throw new TypeError("Cannot convert "+a+' of type "'+d+'"; valid input types are '+Object.keys(i).join(", "));if(!(l in o))throw new TypeError("Cannot convert "+a+' to type "'+l+'"; valid output types are '+Object.keys(o).join(", "));return l===d?a:o[l](a)}});var EK="divideScalar",rAe=["typed","numeric"],PR=F(EK,rAe,r=>{var{typed:t,numeric:e}=r;return t(EK,{"number, number":function(i,o){return i/o},"Complex, Complex":function(i,o){return i.div(o)},"BigNumber, BigNumber":function(i,o){return i.div(o)},"bigint, bigint":function(i,o){return i/o},"Fraction, Fraction":function(i,o){return i.div(o)},"Unit, number | Complex | Fraction | BigNumber | Unit":(n,i)=>n.divide(i),"number | Fraction | Complex | BigNumber, Unit":(n,i)=>i.divideInto(n)})});var MK="pow",nAe=["typed","config","identity","multiply","matrix","inv","fraction","number","Complex"],LR=F(MK,nAe,r=>{var{typed:t,config:e,identity:n,multiply:i,matrix:o,inv:s,number:a,fraction:l,Complex:c}=r;return t(MK,{"number, number":d,"Complex, Complex":function(b,y){return b.pow(y)},"BigNumber, BigNumber":function(b,y){return y.isInteger()||b>=0||e.predictable?b.pow(y):new c(b.toNumber(),0).pow(y.toNumber(),0)},"bigint, bigint":(p,b)=>p**b,"Fraction, Fraction":function(b,y){var C=b.pow(y);if(C!=null)return C;if(e.predictable)throw new Error("Result of pow is non-rational and cannot be expressed as a fraction");return d(b.valueOf(),y.valueOf())},"Array, number":f,"Array, BigNumber":function(b,y){return f(b,y.toNumber())},"Matrix, number":m,"Matrix, BigNumber":function(b,y){return m(b,y.toNumber())},"Unit, number | BigNumber":function(b,y){return b.pow(y)}});function d(p,b){if(e.predictable&&!pt(b)&&p<0)try{var y=l(b),C=a(y);if((b===C||Math.abs((b-C)/b)<1e-14)&&y.d%2===1)return(y.n%2===0?1:-1)*Math.pow(-p,b)}catch{}return e.predictable&&(p<-1&&b===1/0||p>-1&&p<0&&b===-1/0)?NaN:pt(b)||p>=0||e.predictable?_F(p,b):p*p<1&&b===1/0||p*p>1&&b===-1/0?0:new c(p,0).pow(b,0)}function f(p,b){if(!pt(b))throw new TypeError("For A^b, b must be an integer (value is "+b+")");var y=Ot(p);if(y.length!==2)throw new Error("For A^b, A must be 2 dimensional (A has "+y.length+" dimensions)");if(y[0]!==y[1])throw new Error("For A^b, A must be square (size is "+y[0]+"x"+y[1]+")");if(b<0)try{return f(s(p),-b)}catch(A){throw A.message==="Cannot calculate inverse, determinant is zero"?new TypeError("For A^b, when A is not invertible, b must be a positive integer (value is "+b+")"):A}for(var C=n(y[0]).valueOf(),S=p;b>=1;)(b&1)===1&&(C=i(S,C)),b>>=1,S=i(S,S);return C}function m(p,b){return o(f(p.valueOf(),b))}});var sv="Number of decimals in function round must be an integer",AK="round",iAe=["typed","config","matrix","equalScalar","zeros","BigNumber","DenseMatrix"],BR=F(AK,iAe,r=>{var{typed:t,config:e,matrix:n,equalScalar:i,zeros:o,BigNumber:s,DenseMatrix:a}=r,l=mn({typed:t,equalScalar:i}),c=Jr({typed:t,DenseMatrix:a}),d=Wi({typed:t});function f(m){return Math.abs(Wg(m).exponent)}return t(AK,{number:function(p){var b=ev(p,f(e.relTol)),y=jn(p,b,e.relTol,e.absTol)?b:p;return ev(y)},"number, number":function(p,b){var y=f(e.relTol);if(b>=y)return ev(p,b);var C=ev(p,y),S=jn(p,C,e.relTol,e.absTol)?C:p;return ev(S,b)},"number, BigNumber":function(p,b){if(!b.isInteger())throw new TypeError(sv);return new s(p).toDecimalPlaces(b.toNumber())},Complex:function(p){return p.round()},"Complex, number":function(p,b){if(b%1)throw new TypeError(sv);return p.round(b)},"Complex, BigNumber":function(p,b){if(!b.isInteger())throw new TypeError(sv);var y=b.toNumber();return p.round(y)},BigNumber:function(p){var b=new s(p).toDecimalPlaces(f(e.relTol)),y=bi(p,b,e.relTol,e.absTol)?b:p;return y.toDecimalPlaces(0)},"BigNumber, BigNumber":function(p,b){if(!b.isInteger())throw new TypeError(sv);var y=f(e.relTol);if(b>=y)return p.toDecimalPlaces(b.toNumber());var C=p.toDecimalPlaces(y),S=bi(p,C,e.relTol,e.absTol)?C:p;return S.toDecimalPlaces(b.toNumber())},Fraction:function(p){return p.round()},"Fraction, number":function(p,b){if(b%1)throw new TypeError(sv);return p.round(b)},"Fraction, BigNumber":function(p,b){if(!b.isInteger())throw new TypeError(sv);return p.round(b.toNumber())},"Unit, number, Unit":t.referToSelf(m=>function(p,b,y){var C=p.toNumeric(y);return y.multiply(m(C,b))}),"Unit, BigNumber, Unit":t.referToSelf(m=>(p,b,y)=>m(p,b.toNumber(),y)),"Unit, Unit":t.referToSelf(m=>(p,b)=>m(p,0,b)),"Array | Matrix, number, Unit":t.referToSelf(m=>(p,b,y)=>wt(p,C=>m(C,b,y),!0)),"Array | Matrix, BigNumber, Unit":t.referToSelf(m=>(p,b,y)=>m(p,b.toNumber(),y)),"Array | Matrix, Unit":t.referToSelf(m=>(p,b)=>m(p,0,b)),"Array | Matrix":t.referToSelf(m=>p=>wt(p,m,!0)),"SparseMatrix, number | BigNumber":t.referToSelf(m=>(p,b)=>l(p,b,m,!1)),"DenseMatrix, number | BigNumber":t.referToSelf(m=>(p,b)=>d(p,b,m,!1)),"Array, number | BigNumber":t.referToSelf(m=>(p,b)=>d(n(p),b,m,!1).valueOf()),"number | Complex | BigNumber | Fraction, SparseMatrix":t.referToSelf(m=>(p,b)=>i(p,0)?o(b.size(),b.storage()):c(b,p,m,!0)),"number | Complex | BigNumber | Fraction, DenseMatrix":t.referToSelf(m=>(p,b)=>i(p,0)?o(b.size(),b.storage()):d(b,p,m,!0)),"number | Complex | BigNumber | Fraction, Array":t.referToSelf(m=>(p,b)=>d(n(b),p,m,!0).valueOf())})});var TK="log",oAe=["config","typed","divideScalar","Complex"],VR=F(TK,oAe,r=>{var{typed:t,config:e,divideScalar:n,Complex:i}=r;return t(TK,{number:function(s){return s>=0||e.predictable?OG(s):new i(s,0).log()},Complex:function(s){return s.log()},BigNumber:function(s){return!s.isNegative()||e.predictable?s.ln():new i(s.toNumber(),0).log()},"any, any":t.referToSelf(o=>(s,a)=>n(o(s),o(a)))})});var IK="log1p",sAe=["typed","config","divideScalar","log","Complex"],zR=F(IK,sAe,r=>{var{typed:t,config:e,divideScalar:n,log:i,Complex:o}=r;return t(IK,{number:function(l){return l>=-1||e.predictable?yS(l):s(new o(l,0))},Complex:s,BigNumber:function(l){var c=l.plus(1);return!c.isNegative()||e.predictable?c.ln():s(new o(l.toNumber(),0))},"Array | Matrix":t.referToSelf(a=>l=>wt(l,a)),"any, any":t.referToSelf(a=>(l,c)=>n(a(l),i(c)))});function s(a){var l=a.re+1;return new o(Math.log(Math.sqrt(l*l+a.im*a.im)),Math.atan2(a.im,l))}});var kK="nthRoots",aAe=["config","typed","divideScalar","Complex"],jR=F(kK,aAe,r=>{var{typed:t,config:e,divideScalar:n,Complex:i}=r,o=[function(l){return new i(l,0)},function(l){return new i(0,l)},function(l){return new i(-l,0)},function(l){return new i(0,-l)}];function s(a,l){if(l<0)throw new Error("Root must be greater than zero");if(l===0)throw new Error("Root must be non-zero");if(l%1!==0)throw new Error("Root must be an integer");if(a===0||a.abs()===0)return[new i(0,0)];var c=typeof a=="number",d;(c||a.re===0||a.im===0)&&(c?d=2*+(a<0):a.im===0?d=2*+(a.re<0):d=2*+(a.im<0)+1);for(var f=a.arg(),m=a.abs(),p=[],b=Math.pow(m,1/l),y=0;y<l;y++){var C=(d+4*y)/l;if(C===Math.round(C)){p.push(o[C%4](b));continue}p.push(new i({r:b,phi:(f+2*Math.PI*y)/l}))}return p}return t(kK,{Complex:function(l){return s(l,2)},"Complex, number":s})});var NK="dotPow",lAe=["typed","equalScalar","matrix","pow","DenseMatrix","concat"],HR=F(NK,lAe,r=>{var{typed:t,equalScalar:e,matrix:n,pow:i,DenseMatrix:o,concat:s}=r,a=Rn({typed:t}),l=mo({typed:t,DenseMatrix:o}),c=mn({typed:t,equalScalar:e}),d=Jr({typed:t,DenseMatrix:o}),f=ir({typed:t,matrix:n,concat:s}),m={};for(var p in i.signatures)Object.prototype.hasOwnProperty.call(i.signatures,p)&&!p.includes("Matrix")&&!p.includes("Array")&&(m[p]=i.signatures[p]);var b=t(m);return t(NK,f({elop:b,SS:l,DS:a,Ss:c,sS:d}))});var OK="dotDivide",cAe=["typed","matrix","equalScalar","divideScalar","DenseMatrix","concat"],UR=F(OK,cAe,r=>{var{typed:t,matrix:e,equalScalar:n,divideScalar:i,DenseMatrix:o,concat:s}=r,a=$i({typed:t,equalScalar:n}),l=Rn({typed:t}),c=mo({typed:t,DenseMatrix:o}),d=mn({typed:t,equalScalar:n}),f=Jr({typed:t,DenseMatrix:o}),m=ir({typed:t,matrix:e,concat:s});return t(OK,m({elop:i,SS:c,DS:l,SD:a,Ss:d,sS:f}))});function fu(r){var{DenseMatrix:t}=r;return function(n,i,o){var s=n.size();if(s.length!==2)throw new RangeError("Matrix must be two dimensional (size: "+Gt(s)+")");var a=s[0],l=s[1];if(a!==l)throw new RangeError("Matrix must be square (size: "+Gt(s)+")");var c=[];if(_t(i)){var d=i.size(),f=i._data;if(d.length===1){if(d[0]!==a)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var m=0;m<a;m++)c[m]=[f[m]];return new t({data:c,size:[a,1],datatype:i._datatype})}if(d.length===2){if(d[0]!==a||d[1]!==1)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");if(Am(i)){if(o){c=[];for(var p=0;p<a;p++)c[p]=[f[p][0]];return new t({data:c,size:[a,1],datatype:i._datatype})}return i}if(xc(i)){for(var b=0;b<a;b++)c[b]=[0];for(var y=i._values,C=i._index,S=i._ptr,A=S[1],x=S[0];x<A;x++){var M=C[x];c[M][0]=y[x]}return new t({data:c,size:[a,1],datatype:i._datatype})}}throw new RangeError("Dimension mismatch. The right side has to be either 1- or 2-dimensional vector.")}if(Gr(i)){var E=Ot(i);if(E.length===1){if(E[0]!==a)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var w=0;w<a;w++)c[w]=[i[w]];return new t({data:c,size:[a,1]})}if(E.length===2){if(E[0]!==a||E[1]!==1)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var T=0;T<a;T++)c[T]=[i[T][0]];return new t({data:c,size:[a,1]})}throw new RangeError("Dimension mismatch. The right side has to be either 1- or 2-dimensional vector.")}}}var FK="lsolve",uAe=["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],qR=F(FK,uAe,r=>{var{typed:t,matrix:e,divideScalar:n,multiplyScalar:i,subtractScalar:o,equalScalar:s,DenseMatrix:a}=r,l=fu({DenseMatrix:a});return t(FK,{"SparseMatrix, Array | Matrix":function(m,p){return d(m,p)},"DenseMatrix, Array | Matrix":function(m,p){return c(m,p)},"Array, Array | Matrix":function(m,p){var b=e(m),y=c(b,p);return y.valueOf()}});function c(f,m){m=l(f,m,!0);for(var p=m._data,b=f._size[0],y=f._size[1],C=[],S=f._data,A=0;A<y;A++){var x=p[A][0]||0,M=void 0;if(s(x,0))M=0;else{var E=S[A][A];if(s(E,0))throw new Error("Linear system cannot be solved since matrix is singular");M=n(x,E);for(var w=A+1;w<b;w++)p[w]=[o(p[w][0]||0,i(M,S[w][A]))]}C[A]=[M]}return new a({data:C,size:[b,1]})}function d(f,m){m=l(f,m,!0);for(var p=m._data,b=f._size[0],y=f._size[1],C=f._values,S=f._index,A=f._ptr,x=[],M=0;M<y;M++){var E=p[M][0]||0;if(s(E,0))x[M]=[0];else{for(var w=0,T=[],k=[],I=A[M],O=A[M+1],R=I;R<O;R++){var j=S[R];j===M?w=C[R]:j>M&&(T.push(C[R]),k.push(j))}if(s(w,0))throw new Error("Linear system cannot be solved since matrix is singular");for(var q=n(E,w),X=0,Y=k.length;X<Y;X++){var P=k[X];p[P]=[o(p[P][0]||0,i(q,T[X]))]}x[M]=[q]}}return new a({data:x,size:[b,1]})}});var RK="usolve",dAe=["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],WR=F(RK,dAe,r=>{var{typed:t,matrix:e,divideScalar:n,multiplyScalar:i,subtractScalar:o,equalScalar:s,DenseMatrix:a}=r,l=fu({DenseMatrix:a});return t(RK,{"SparseMatrix, Array | Matrix":function(m,p){return d(m,p)},"DenseMatrix, Array | Matrix":function(m,p){return c(m,p)},"Array, Array | Matrix":function(m,p){var b=e(m),y=c(b,p);return y.valueOf()}});function c(f,m){m=l(f,m,!0);for(var p=m._data,b=f._size[0],y=f._size[1],C=[],S=f._data,A=y-1;A>=0;A--){var x=p[A][0]||0,M=void 0;if(s(x,0))M=0;else{var E=S[A][A];if(s(E,0))throw new Error("Linear system cannot be solved since matrix is singular");M=n(x,E);for(var w=A-1;w>=0;w--)p[w]=[o(p[w][0]||0,i(M,S[w][A]))]}C[A]=[M]}return new a({data:C,size:[b,1]})}function d(f,m){m=l(f,m,!0);for(var p=m._data,b=f._size[0],y=f._size[1],C=f._values,S=f._index,A=f._ptr,x=[],M=y-1;M>=0;M--){var E=p[M][0]||0;if(s(E,0))x[M]=[0];else{for(var w=0,T=[],k=[],I=A[M],O=A[M+1],R=O-1;R>=I;R--){var j=S[R];j===M?w=C[R]:j<M&&(T.push(C[R]),k.push(j))}if(s(w,0))throw new Error("Linear system cannot be solved since matrix is singular");for(var q=n(E,w),X=0,Y=k.length;X<Y;X++){var P=k[X];p[P]=[o(p[P][0],i(q,T[X]))]}x[M]=[q]}}return new a({data:x,size:[b,1]})}});var PK="lsolveAll",fAe=["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],$R=F(PK,fAe,r=>{var{typed:t,matrix:e,divideScalar:n,multiplyScalar:i,subtractScalar:o,equalScalar:s,DenseMatrix:a}=r,l=fu({DenseMatrix:a});return t(PK,{"SparseMatrix, Array | Matrix":function(m,p){return d(m,p)},"DenseMatrix, Array | Matrix":function(m,p){return c(m,p)},"Array, Array | Matrix":function(m,p){var b=e(m),y=c(b,p);return y.map(C=>C.valueOf())}});function c(f,m){for(var p=[l(f,m,!0)._data.map(k=>k[0])],b=f._data,y=f._size[0],C=f._size[1],S=0;S<C;S++)for(var A=p.length,x=0;x<A;x++){var M=p[x];if(s(b[S][S],0))if(s(M[S],0)){if(x===0){var w=[...M];w[S]=1;for(var T=S+1;T<C;T++)w[T]=o(w[T],b[T][S]);p.push(w)}}else{if(x===0)return[];p.splice(x,1),x-=1,A-=1}else{M[S]=n(M[S],b[S][S]);for(var E=S+1;E<C;E++)M[E]=o(M[E],i(M[S],b[E][S]))}}return p.map(k=>new a({data:k.map(I=>[I]),size:[y,1]}))}function d(f,m){for(var p=[l(f,m,!0)._data.map(me=>me[0])],b=f._size[0],y=f._size[1],C=f._values,S=f._index,A=f._ptr,x=0;x<y;x++)for(var M=p.length,E=0;E<M;E++){for(var w=p[E],T=[],k=[],I=A[x],O=A[x+1],R=0,j=I;j<O;j++){var q=S[j];q===x?R=C[j]:q>x&&(T.push(C[j]),k.push(q))}if(s(R,0))if(s(w[x],0)){if(E===0){var L=[...w];L[x]=1;for(var Z=0,U=k.length;Z<U;Z++){var ce=k[Z];L[ce]=o(L[ce],T[Z])}p.push(L)}}else{if(E===0)return[];p.splice(E,1),E-=1,M-=1}else{w[x]=n(w[x],R);for(var X=0,Y=k.length;X<Y;X++){var P=k[X];w[P]=o(w[P],i(w[x],T[X]))}}}return p.map(me=>new a({data:me.map(se=>[se]),size:[b,1]}))}});var LK="usolveAll",hAe=["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],GR=F(LK,hAe,r=>{var{typed:t,matrix:e,divideScalar:n,multiplyScalar:i,subtractScalar:o,equalScalar:s,DenseMatrix:a}=r,l=fu({DenseMatrix:a});return t(LK,{"SparseMatrix, Array | Matrix":function(m,p){return d(m,p)},"DenseMatrix, Array | Matrix":function(m,p){return c(m,p)},"Array, Array | Matrix":function(m,p){var b=e(m),y=c(b,p);return y.map(C=>C.valueOf())}});function c(f,m){for(var p=[l(f,m,!0)._data.map(k=>k[0])],b=f._data,y=f._size[0],C=f._size[1],S=C-1;S>=0;S--)for(var A=p.length,x=0;x<A;x++){var M=p[x];if(s(b[S][S],0))if(s(M[S],0)){if(x===0){var w=[...M];w[S]=1;for(var T=S-1;T>=0;T--)w[T]=o(w[T],b[T][S]);p.push(w)}}else{if(x===0)return[];p.splice(x,1),x-=1,A-=1}else{M[S]=n(M[S],b[S][S]);for(var E=S-1;E>=0;E--)M[E]=o(M[E],i(M[S],b[E][S]))}}return p.map(k=>new a({data:k.map(I=>[I]),size:[y,1]}))}function d(f,m){for(var p=[l(f,m,!0)._data.map(me=>me[0])],b=f._size[0],y=f._size[1],C=f._values,S=f._index,A=f._ptr,x=y-1;x>=0;x--)for(var M=p.length,E=0;E<M;E++){for(var w=p[E],T=[],k=[],I=A[x],O=A[x+1],R=0,j=O-1;j>=I;j--){var q=S[j];q===x?R=C[j]:q<x&&(T.push(C[j]),k.push(q))}if(s(R,0))if(s(w[x],0)){if(E===0){var L=[...w];L[x]=1;for(var Z=0,U=k.length;Z<U;Z++){var ce=k[Z];L[ce]=o(L[ce],T[Z])}p.push(L)}}else{if(E===0)return[];p.splice(E,1),E-=1,M-=1}else{w[x]=n(w[x],R);for(var X=0,Y=k.length;X<Y;X++){var P=k[X];w[P]=o(w[P],i(w[x],T[X]))}}}return p.map(me=>new a({data:me.map(se=>[se]),size:[b,1]}))}});var mAe="matAlgo08xS0Sid",pAe=["typed","equalScalar"],av=F(mAe,pAe,r=>{var{typed:t,equalScalar:e}=r;return function(i,o,s){var a=i._values,l=i._index,c=i._ptr,d=i._size,f=i._datatype||i._data===void 0?i._datatype:i.getDataType(),m=o._values,p=o._index,b=o._ptr,y=o._size,C=o._datatype||o._data===void 0?o._datatype:o.getDataType();if(d.length!==y.length)throw new Zt(d.length,y.length);if(d[0]!==y[0]||d[1]!==y[1])throw new RangeError("Dimension mismatch. Matrix A ("+d+") must match Matrix B ("+y+")");if(!a||!m)throw new Error("Cannot perform operation on Pattern Sparse Matrices");var S=d[0],A=d[1],x,M=e,E=0,w=s;typeof f=="string"&&f===C&&f!=="mixed"&&(x=f,M=t.find(e,[x,x]),E=t.convert(0,x),w=t.find(s,[x,x]));for(var T=[],k=[],I=[],O=[],R=[],j,q,X,Y,P=0;P<A;P++){I[P]=k.length;var L=P+1;for(q=c[P],X=c[P+1],j=q;j<X;j++)Y=l[j],R[Y]=L,O[Y]=a[j],k.push(Y);for(q=b[P],X=b[P+1],j=q;j<X;j++)Y=p[j],R[Y]===L&&(O[Y]=w(O[Y],m[j]));for(j=I[P];j<k.length;){Y=k[j];var Z=O[Y];M(Z,E)?k.splice(j,1):(T.push(Z),j++)}}return I[A]=k.length,i.createSparseMatrix({values:T,index:k,ptr:I,size:[S,A],datatype:f===i._datatype&&C===o._datatype?x:void 0})}});var lv=F("useMatrixForArrayScalar",["typed","matrix"],r=>{var{typed:t,matrix:e}=r;return{"Array, number":t.referTo("DenseMatrix, number",n=>(i,o)=>n(e(i),o).valueOf()),"Array, BigNumber":t.referTo("DenseMatrix, BigNumber",n=>(i,o)=>n(e(i),o).valueOf()),"number, Array":t.referTo("number, DenseMatrix",n=>(i,o)=>n(i,e(o)).valueOf()),"BigNumber, Array":t.referTo("BigNumber, DenseMatrix",n=>(i,o)=>n(i,e(o)).valueOf())}});var BK="leftShift",gAe=["typed","matrix","equalScalar","zeros","DenseMatrix","concat"],YR=F(BK,gAe,r=>{var{typed:t,matrix:e,equalScalar:n,zeros:i,DenseMatrix:o,concat:s}=r,a=ks({typed:t}),l=$i({typed:t,equalScalar:n}),c=av({typed:t,equalScalar:n}),d=Pa({typed:t,DenseMatrix:o}),f=mn({typed:t,equalScalar:n}),m=Wi({typed:t}),p=ir({typed:t,matrix:e,concat:s}),b=lv({typed:t,matrix:e});return t(BK,{"number, number":DF,"BigNumber, BigNumber":AY,"bigint, bigint":(y,C)=>y<<C,"SparseMatrix, number | BigNumber":t.referToSelf(y=>(C,S)=>n(S,0)?C.clone():f(C,S,y,!1)),"DenseMatrix, number | BigNumber":t.referToSelf(y=>(C,S)=>n(S,0)?C.clone():m(C,S,y,!1)),"number | BigNumber, SparseMatrix":t.referToSelf(y=>(C,S)=>n(C,0)?i(S.size(),S.storage()):d(S,C,y,!0)),"number | BigNumber, DenseMatrix":t.referToSelf(y=>(C,S)=>n(C,0)?i(S.size(),S.storage()):m(S,C,y,!0))},b,p({SS:c,DS:a,SD:l}))});var VK="rightArithShift",vAe=["typed","matrix","equalScalar","zeros","DenseMatrix","concat"],KR=F(VK,vAe,r=>{var{typed:t,matrix:e,equalScalar:n,zeros:i,DenseMatrix:o,concat:s}=r,a=ks({typed:t}),l=$i({typed:t,equalScalar:n}),c=av({typed:t,equalScalar:n}),d=Pa({typed:t,DenseMatrix:o}),f=mn({typed:t,equalScalar:n}),m=Wi({typed:t}),p=ir({typed:t,matrix:e,concat:s}),b=lv({typed:t,matrix:e});return t(VK,{"number, number":EF,"BigNumber, BigNumber":TY,"bigint, bigint":(y,C)=>y>>C,"SparseMatrix, number | BigNumber":t.referToSelf(y=>(C,S)=>n(S,0)?C.clone():f(C,S,y,!1)),"DenseMatrix, number | BigNumber":t.referToSelf(y=>(C,S)=>n(S,0)?C.clone():m(C,S,y,!1)),"number | BigNumber, SparseMatrix":t.referToSelf(y=>(C,S)=>n(C,0)?i(S.size(),S.storage()):d(S,C,y,!0)),"number | BigNumber, DenseMatrix":t.referToSelf(y=>(C,S)=>n(C,0)?i(S.size(),S.storage()):m(S,C,y,!0))},b,p({SS:c,DS:a,SD:l}))});var zK="rightLogShift",bAe=["typed","matrix","equalScalar","zeros","DenseMatrix","concat"],XR=F(zK,bAe,r=>{var{typed:t,matrix:e,equalScalar:n,zeros:i,DenseMatrix:o,concat:s}=r,a=ks({typed:t}),l=$i({typed:t,equalScalar:n}),c=av({typed:t,equalScalar:n}),d=Pa({typed:t,DenseMatrix:o}),f=mn({typed:t,equalScalar:n}),m=Wi({typed:t}),p=ir({typed:t,matrix:e,concat:s}),b=lv({typed:t,matrix:e});return t(zK,{"number, number":MF,"SparseMatrix, number | BigNumber":t.referToSelf(y=>(C,S)=>n(S,0)?C.clone():f(C,S,y,!1)),"DenseMatrix, number | BigNumber":t.referToSelf(y=>(C,S)=>n(S,0)?C.clone():m(C,S,y,!1)),"number | BigNumber, SparseMatrix":t.referToSelf(y=>(C,S)=>n(C,0)?i(S.size(),S.storage()):d(S,C,y,!0)),"number | BigNumber, DenseMatrix":t.referToSelf(y=>(C,S)=>n(C,0)?i(S.size(),S.storage()):m(S,C,y,!0))},b,p({SS:c,DS:a,SD:l}))});var jK="and",yAe=["typed","matrix","equalScalar","zeros","not","concat"],Fy=F(jK,yAe,r=>{var{typed:t,matrix:e,equalScalar:n,zeros:i,not:o,concat:s}=r,a=$i({typed:t,equalScalar:n}),l=Uf({typed:t,equalScalar:n}),c=mn({typed:t,equalScalar:n}),d=Wi({typed:t}),f=ir({typed:t,matrix:e,concat:s});return t(jK,{"number, number":HS,"Complex, Complex":function(p,b){return(p.re!==0||p.im!==0)&&(b.re!==0||b.im!==0)},"BigNumber, BigNumber":function(p,b){return!p.isZero()&&!b.isZero()&&!p.isNaN()&&!b.isNaN()},"bigint, bigint":HS,"Unit, Unit":t.referToSelf(m=>(p,b)=>m(p.value||0,b.value||0)),"SparseMatrix, any":t.referToSelf(m=>(p,b)=>o(b)?i(p.size(),p.storage()):c(p,b,m,!1)),"DenseMatrix, any":t.referToSelf(m=>(p,b)=>o(b)?i(p.size(),p.storage()):d(p,b,m,!1)),"any, SparseMatrix":t.referToSelf(m=>(p,b)=>o(p)?i(p.size(),p.storage()):c(b,p,m,!0)),"any, DenseMatrix":t.referToSelf(m=>(p,b)=>o(p)?i(p.size(),p.storage()):d(b,p,m,!0)),"Array, any":t.referToSelf(m=>(p,b)=>m(e(p),b).valueOf()),"any, Array":t.referToSelf(m=>(p,b)=>m(p,e(b)).valueOf())},f({SS:l,DS:a}))});var XS="compare",_Ae=["typed","config","matrix","equalScalar","BigNumber","Fraction","DenseMatrix","concat"],ZR=F(XS,_Ae,r=>{var{typed:t,config:e,equalScalar:n,matrix:i,BigNumber:o,Fraction:s,DenseMatrix:a,concat:l}=r,c=Rn({typed:t}),d=Hf({typed:t,equalScalar:n}),f=Jr({typed:t,DenseMatrix:a}),m=ir({typed:t,matrix:i,concat:l}),p=zl({typed:t});return t(XS,xAe({typed:t,config:e}),{"boolean, boolean":function(y,C){return y===C?0:y>C?1:-1},"BigNumber, BigNumber":function(y,C){return bi(y,C,e.relTol,e.absTol)?new o(0):new o(y.cmp(C))},"bigint, bigint":function(y,C){return y===C?0n:y>C?1n:-1n},"Fraction, Fraction":function(y,C){return new s(y.compare(C))},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},p,m({SS:d,DS:c,Ss:f}))}),xAe=F(XS,["typed","config"],r=>{var{typed:t,config:e}=r;return t(XS,{"number, number":function(i,o){return jn(i,o,e.relTol,e.absTol)?0:i>o?1:-1}})});var Lm=Wh(UK(),1);var qK="compareNatural",wAe=["typed","compare"],QR=F(qK,wAe,r=>{var{typed:t,compare:e}=r,n=e.signatures["boolean,boolean"];return t(qK,{"any, any":i});function i(l,c){var d=Rr(l),f=Rr(c),m;if((d==="number"||d==="BigNumber"||d==="Fraction")&&(f==="number"||f==="BigNumber"||f==="Fraction"))return m=e(l,c),m.toString()!=="0"?m>0?1:-1:(0,Lm.default)(d,f);var p=["Array","DenseMatrix","SparseMatrix"];if(p.includes(d)||p.includes(f))return m=o(i,l,c),m!==0?m:(0,Lm.default)(d,f);if(d!==f)return(0,Lm.default)(d,f);if(d==="Complex")return CAe(l,c);if(d==="Unit")return l.equalBase(c)?i(l.value,c.value):s(i,l.formatUnits(),c.formatUnits());if(d==="boolean")return n(l,c);if(d==="string")return(0,Lm.default)(l,c);if(d==="Object")return a(i,l,c);if(d==="null"||d==="undefined")return 0;throw new TypeError('Unsupported type of value "'+d+'"')}function o(l,c,d){return xc(c)&&xc(d)?s(l,c.toJSON().values,d.toJSON().values):xc(c)?o(l,c.toArray(),d):xc(d)?o(l,c,d.toArray()):Am(c)?o(l,c.toJSON().data,d):Am(d)?o(l,c,d.toJSON().data):Array.isArray(c)?Array.isArray(d)?s(l,c,d):o(l,c,[d]):o(l,[c],d)}function s(l,c,d){for(var f=0,m=Math.min(c.length,d.length);f<m;f++){var p=l(c[f],d[f]);if(p!==0)return p}return c.length>d.length?1:c.length<d.length?-1:0}function a(l,c,d){var f=Object.keys(c),m=Object.keys(d);f.sort(Lm.default),m.sort(Lm.default);var p=s(l,f,m);if(p!==0)return p;for(var b=0;b<f.length;b++){var y=l(c[f[b]],d[m[b]]);if(y!==0)return y}return 0}});function CAe(r,t){return r.re>t.re?1:r.re<t.re?-1:r.im>t.im?1:r.im<t.im?-1:0}var WK="compareText",SAe=["typed","matrix","concat"];FS.signature="any, any";var JR=F(WK,SAe,r=>{var{typed:t,matrix:e,concat:n}=r,i=ir({typed:t,matrix:e,concat:n});return t(WK,FS,i({elop:FS,Ds:!0}))});var ZS="equal",DAe=["typed","matrix","equalScalar","DenseMatrix","concat"],eP=F(ZS,DAe,r=>{var{typed:t,matrix:e,equalScalar:n,DenseMatrix:i,concat:o}=r,s=Rn({typed:t}),a=mo({typed:t,DenseMatrix:i}),l=Jr({typed:t,DenseMatrix:i}),c=ir({typed:t,matrix:e,concat:o});return t(ZS,EAe({typed:t,equalScalar:n}),c({elop:n,SS:a,DS:s,Ss:l}))}),EAe=F(ZS,["typed","equalScalar"],r=>{var{typed:t,equalScalar:e}=r;return t(ZS,{"any, any":function(i,o){return i===null?o===null:o===null?i===null:i===void 0?o===void 0:o===void 0?i===void 0:e(i,o)}})});var $K="equalText",MAe=["typed","compareText","isZero"],tP=F($K,MAe,r=>{var{typed:t,compareText:e,isZero:n}=r;return t($K,{"any, any":function(o,s){return n(e(o,s))}})});var QS="smaller",AAe=["typed","config","matrix","DenseMatrix","concat"],rP=F(QS,AAe,r=>{var{typed:t,config:e,matrix:n,DenseMatrix:i,concat:o}=r,s=Rn({typed:t}),a=mo({typed:t,DenseMatrix:i}),l=Jr({typed:t,DenseMatrix:i}),c=ir({typed:t,matrix:n,concat:o}),d=zl({typed:t});return t(QS,TAe({typed:t,config:e}),{"boolean, boolean":(f,m)=>f<m,"BigNumber, BigNumber":function(m,p){return m.lt(p)&&!bi(m,p,e.relTol,e.absTol)},"bigint, bigint":(f,m)=>f<m,"Fraction, Fraction":(f,m)=>f.compare(m)===-1,"Complex, Complex":function(m,p){throw new TypeError("No ordering relation is defined for complex numbers")}},d,c({SS:a,DS:s,Ss:l}))}),TAe=F(QS,["typed","config"],r=>{var{typed:t,config:e}=r;return t(QS,{"number, number":function(i,o){return i<o&&!jn(i,o,e.relTol,e.absTol)}})});var JS="smallerEq",IAe=["typed","config","matrix","DenseMatrix","concat"],nP=F(JS,IAe,r=>{var{typed:t,config:e,matrix:n,DenseMatrix:i,concat:o}=r,s=Rn({typed:t}),a=mo({typed:t,DenseMatrix:i}),l=Jr({typed:t,DenseMatrix:i}),c=ir({typed:t,matrix:n,concat:o}),d=zl({typed:t});return t(JS,kAe({typed:t,config:e}),{"boolean, boolean":(f,m)=>f<=m,"BigNumber, BigNumber":function(m,p){return m.lte(p)||bi(m,p,e.relTol,e.absTol)},"bigint, bigint":(f,m)=>f<=m,"Fraction, Fraction":(f,m)=>f.compare(m)!==1,"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},d,c({SS:a,DS:s,Ss:l}))}),kAe=F(JS,["typed","config"],r=>{var{typed:t,config:e}=r;return t(JS,{"number, number":function(i,o){return i<=o||jn(i,o,e.relTol,e.absTol)}})});var eD="larger",NAe=["typed","config","matrix","DenseMatrix","concat"],iP=F(eD,NAe,r=>{var{typed:t,config:e,matrix:n,DenseMatrix:i,concat:o}=r,s=Rn({typed:t}),a=mo({typed:t,DenseMatrix:i}),l=Jr({typed:t,DenseMatrix:i}),c=ir({typed:t,matrix:n,concat:o}),d=zl({typed:t});return t(eD,OAe({typed:t,config:e}),{"boolean, boolean":(f,m)=>f>m,"BigNumber, BigNumber":function(m,p){return m.gt(p)&&!bi(m,p,e.relTol,e.absTol)},"bigint, bigint":(f,m)=>f>m,"Fraction, Fraction":(f,m)=>f.compare(m)===1,"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},d,c({SS:a,DS:s,Ss:l}))}),OAe=F(eD,["typed","config"],r=>{var{typed:t,config:e}=r;return t(eD,{"number, number":function(i,o){return i>o&&!jn(i,o,e.relTol,e.absTol)}})});var tD="largerEq",FAe=["typed","config","matrix","DenseMatrix","concat"],oP=F(tD,FAe,r=>{var{typed:t,config:e,matrix:n,DenseMatrix:i,concat:o}=r,s=Rn({typed:t}),a=mo({typed:t,DenseMatrix:i}),l=Jr({typed:t,DenseMatrix:i}),c=ir({typed:t,matrix:n,concat:o}),d=zl({typed:t});return t(tD,RAe({typed:t,config:e}),{"boolean, boolean":(f,m)=>f>=m,"BigNumber, BigNumber":function(m,p){return m.gte(p)||bi(m,p,e.relTol,e.absTol)},"bigint, bigint":function(m,p){return m>=p},"Fraction, Fraction":(f,m)=>f.compare(m)!==-1,"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},d,c({SS:a,DS:s,Ss:l}))}),RAe=F(tD,["typed","config"],r=>{var{typed:t,config:e}=r;return t(tD,{"number, number":function(i,o){return i>=o||jn(i,o,e.relTol,e.absTol)}})});var GK="deepEqual",PAe=["typed","equal"],sP=F(GK,PAe,r=>{var{typed:t,equal:e}=r;return t(GK,{"any, any":function(o,s){return n(o.valueOf(),s.valueOf())}});function n(i,o){if(Array.isArray(i))if(Array.isArray(o)){var s=i.length;if(s!==o.length)return!1;for(var a=0;a<s;a++)if(!n(i[a],o[a]))return!1;return!0}else return!1;else return Array.isArray(o)?!1:e(i,o)}});var rD="unequal",LAe=["typed","config","equalScalar","matrix","DenseMatrix","concat"],aP=F(rD,LAe,r=>{var{typed:t,config:e,equalScalar:n,matrix:i,DenseMatrix:o,concat:s}=r,a=Rn({typed:t}),l=mo({typed:t,DenseMatrix:o}),c=Jr({typed:t,DenseMatrix:o}),d=ir({typed:t,matrix:i,concat:s});return t(rD,BAe({typed:t,equalScalar:n}),d({elop:f,SS:l,DS:a,Ss:c}));function f(m,p){return!n(m,p)}}),BAe=F(rD,["typed","equalScalar"],r=>{var{typed:t,equalScalar:e}=r;return t(rD,{"any, any":function(i,o){return i===null?o!==null:o===null?i!==null:i===void 0?o!==void 0:o===void 0?i!==void 0:!e(i,o)}})});var YK="partitionSelect",VAe=["typed","isNumeric","isNaN","compare"],lP=F(YK,VAe,r=>{var{typed:t,isNumeric:e,isNaN:n,compare:i}=r,o=i,s=(c,d)=>-i(c,d);return t(YK,{"Array | Matrix, number":function(d,f){return a(d,f,o)},"Array | Matrix, number, string":function(d,f,m){if(m==="asc")return a(d,f,o);if(m==="desc")return a(d,f,s);throw new Error('Compare string must be "asc" or "desc"')},"Array | Matrix, number, function":a});function a(c,d,f){if(!pt(d)||d<0)throw new Error("k must be a non-negative integer");if(_t(c)){var m=c.size();if(m.length>1)throw new Error("Only one dimensional matrices supported");return l(c.valueOf(),d,f)}if(Array.isArray(c))return l(c,d,f)}function l(c,d,f){if(d>=c.length)throw new Error("k out of bounds");for(var m=0;m<c.length;m++)if(e(c[m])&&n(c[m]))return c[m];for(var p=0,b=c.length-1;p<b;){for(var y=p,C=b,S=c[Math.floor(Math.random()*(b-p+1))+p];y<C;)if(f(c[y],S)>=0){var A=c[C];c[C]=c[y],c[y]=A,--C}else++y;f(c[y],S)>0&&--y,d<=y?b=y:p=y+1}return c[d]}});var KK="sort",zAe=["typed","matrix","compare","compareNatural"],cP=F(KK,zAe,r=>{var{typed:t,matrix:e,compare:n,compareNatural:i}=r,o=n,s=(d,f)=>-n(d,f);return t(KK,{Array:function(f){return l(f),f.sort(o)},Matrix:function(f){return c(f),e(f.toArray().sort(o),f.storage())},"Array, function":function(f,m){return l(f),f.sort(m)},"Matrix, function":function(f,m){return c(f),e(f.toArray().sort(m),f.storage())},"Array, string":function(f,m){return l(f),f.sort(a(m))},"Matrix, string":function(f,m){return c(f),e(f.toArray().sort(a(m)),f.storage())}});function a(d){if(d==="asc")return o;if(d==="desc")return s;if(d==="natural")return i;throw new Error('String "asc", "desc", or "natural" expected')}function l(d){if(Ot(d).length!==1)throw new Error("One dimensional array expected")}function c(d){if(d.size().length!==1)throw new Error("One dimensional matrix expected")}});var XK="max",jAe=["typed","config","numeric","larger"],Ry=F(XK,jAe,r=>{var{typed:t,config:e,numeric:n,larger:i}=r;return t(XK,{"Array | Matrix":s,"Array | Matrix, number | BigNumber":function(l,c){return jf(l,c.valueOf(),o)},"...":function(l){if(Vl(l))throw new TypeError("Scalar values expected in function max");return s(l)}});function o(a,l){try{return i(a,l)?a:l}catch(c){throw Ni(c,"max",l)}}function s(a){var l;if(Is(a,function(c){try{isNaN(c)&&typeof c=="number"?l=NaN:(l===void 0||i(c,l))&&(l=c)}catch(d){throw Ni(d,"max",c)}}),l===void 0)throw new Error("Cannot calculate max of an empty array");return typeof l=="string"&&(l=n(l,Ms(l,e))),l}});var ZK="min",HAe=["typed","config","numeric","smaller"],Py=F(ZK,HAe,r=>{var{typed:t,config:e,numeric:n,smaller:i}=r;return t(ZK,{"Array | Matrix":s,"Array | Matrix, number | BigNumber":function(l,c){return jf(l,c.valueOf(),o)},"...":function(l){if(Vl(l))throw new TypeError("Scalar values expected in function min");return s(l)}});function o(a,l){try{return i(a,l)?a:l}catch(c){throw Ni(c,"min",l)}}function s(a){var l;if(Is(a,function(c){try{isNaN(c)&&typeof c=="number"?l=NaN:(l===void 0||i(c,l))&&(l=c)}catch(d){throw Ni(d,"min",c)}}),l===void 0)throw new Error("Cannot calculate min of an empty array");return typeof l=="string"&&(l=n(l,Ms(l,e))),l}});var UAe="ImmutableDenseMatrix",qAe=["smaller","DenseMatrix"],uP=F(UAe,qAe,r=>{var{smaller:t,DenseMatrix:e}=r;function n(i,o){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(o&&!Ii(o))throw new Error("Invalid datatype: "+o);if(_t(i)||Gr(i)){var s=new e(i,o);this._data=s._data,this._size=s._size,this._datatype=s._datatype,this._min=null,this._max=null}else if(i&&Gr(i.data)&&Gr(i.size))this._data=i.data,this._size=i.size,this._datatype=i.datatype,this._min=typeof i.min<"u"?i.min:null,this._max=typeof i.max<"u"?i.max:null;else{if(i)throw new TypeError("Unsupported type of data ("+Rr(i)+")");this._data=[],this._size=[0],this._datatype=o,this._min=null,this._max=null}}return n.prototype=new e,n.prototype.type="ImmutableDenseMatrix",n.prototype.isImmutableDenseMatrix=!0,n.prototype.subset=function(i){switch(arguments.length){case 1:{var o=e.prototype.subset.call(this,i);return _t(o)?new n({data:o._data,size:o._size,datatype:o._datatype}):o}case 2:case 3:throw new Error("Cannot invoke set subset on an Immutable Matrix instance");default:throw new SyntaxError("Wrong number of arguments")}},n.prototype.set=function(){throw new Error("Cannot invoke set on an Immutable Matrix instance")},n.prototype.resize=function(){throw new Error("Cannot invoke resize on an Immutable Matrix instance")},n.prototype.reshape=function(){throw new Error("Cannot invoke reshape on an Immutable Matrix instance")},n.prototype.clone=function(){return new n({data:Pt(this._data),size:Pt(this._size),datatype:this._datatype})},n.prototype.toJSON=function(){return{mathjs:"ImmutableDenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},n.fromJSON=function(i){return new n(i)},n.prototype.swapRows=function(){throw new Error("Cannot invoke swapRows on an Immutable Matrix instance")},n.prototype.min=function(){if(this._min===null){var i=null;this.forEach(function(o){(i===null||t(o,i))&&(i=o)}),this._min=i!==null?i:void 0}return this._min},n.prototype.max=function(){if(this._max===null){var i=null;this.forEach(function(o){(i===null||t(i,o))&&(i=o)}),this._max=i!==null?i:void 0}return this._max},n},{isClass:!0});var WAe="Index",$Ae=["ImmutableDenseMatrix","getMatrixDataType"],dP=F(WAe,$Ae,r=>{var{ImmutableDenseMatrix:t,getMatrixDataType:e}=r;function n(o){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");this._dimensions=[],this._sourceSize=[],this._isScalar=!0;for(var s=0,a=arguments.length;s<a;s++){var l=arguments[s],c=Gr(l),d=_t(l),f=null;if(Ug(l))this._dimensions.push(l),this._isScalar=!1;else if(c||d){var m=void 0;e(l)==="boolean"?(c&&(m=i(QK(l).valueOf())),d&&(m=i(QK(l._data).valueOf())),f=l.valueOf().length):m=i(l.valueOf()),this._dimensions.push(m);var p=m.size();(p.length!==1||p[0]!==1||f!==null)&&(this._isScalar=!1)}else if(typeof l=="number")this._dimensions.push(i([l]));else if(typeof l=="string")this._dimensions.push(l);else throw new TypeError("Dimension must be an Array, Matrix, number, string, or Range");this._sourceSize.push(f)}}n.prototype.type="Index",n.prototype.isIndex=!0;function i(o){for(var s=0,a=o.length;s<a;s++)if(typeof o[s]!="number"||!pt(o[s]))throw new TypeError("Index parameters must be positive integer numbers");return new t(o)}return n.prototype.clone=function(){var o=new n;return o._dimensions=Pt(this._dimensions),o._isScalar=this._isScalar,o._sourceSize=this._sourceSize,o},n.create=function(o){var s=new n;return n.apply(s,o),s},n.prototype.size=function(){for(var o=[],s=0,a=this._dimensions.length;s<a;s++){var l=this._dimensions[s];o[s]=typeof l=="string"?1:l.size()[0]}return o},n.prototype.max=function(){for(var o=[],s=0,a=this._dimensions.length;s<a;s++){var l=this._dimensions[s];o[s]=typeof l=="string"?l:l.max()}return o},n.prototype.min=function(){for(var o=[],s=0,a=this._dimensions.length;s<a;s++){var l=this._dimensions[s];o[s]=typeof l=="string"?l:l.min()}return o},n.prototype.forEach=function(o){for(var s=0,a=this._dimensions.length;s<a;s++)o(this._dimensions[s],s,this)},n.prototype.dimension=function(o){return typeof o!="number"?null:this._dimensions[o]||null},n.prototype.isObjectProperty=function(){return this._dimensions.length===1&&typeof this._dimensions[0]=="string"},n.prototype.getObjectProperty=function(){return this.isObjectProperty()?this._dimensions[0]:null},n.prototype.isScalar=function(){return this._isScalar},n.prototype.toArray=function(){for(var o=[],s=0,a=this._dimensions.length;s<a;s++){var l=this._dimensions[s];o.push(typeof l=="string"?l:l.toArray())}return o},n.prototype.valueOf=n.prototype.toArray,n.prototype.toString=function(){for(var o=[],s=0,a=this._dimensions.length;s<a;s++){var l=this._dimensions[s];typeof l=="string"?o.push(JSON.stringify(l)):o.push(l.toString())}return"["+o.join(", ")+"]"},n.prototype.toJSON=function(){return{mathjs:"Index",dimensions:this._dimensions}},n.fromJSON=function(o){return n.create(o.dimensions)},n},{isClass:!0});function QK(r){var t=[];return r.forEach((e,n)=>{e&&t.push(n)}),t}var GAe="FibonacciHeap",YAe=["smaller","larger"],fP=F(GAe,YAe,r=>{var{smaller:t,larger:e}=r,n=1/Math.log((1+Math.sqrt(5))/2);function i(){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");this._minimum=null,this._size=0}i.prototype.type="FibonacciHeap",i.prototype.isFibonacciHeap=!0,i.prototype.insert=function(d,f){var m={key:d,value:f,degree:0};if(this._minimum){var p=this._minimum;m.left=p,m.right=p.right,p.right=m,m.right.left=m,t(d,p.key)&&(this._minimum=m)}else m.left=m,m.right=m,this._minimum=m;return this._size++,m},i.prototype.size=function(){return this._size},i.prototype.clear=function(){this._minimum=null,this._size=0},i.prototype.isEmpty=function(){return this._size===0},i.prototype.extractMinimum=function(){var d=this._minimum;if(d===null)return d;for(var f=this._minimum,m=d.degree,p=d.child;m>0;){var b=p.right;p.left.right=p.right,p.right.left=p.left,p.left=f,p.right=f.right,f.right=p,p.right.left=p,p.parent=null,p=b,m--}return d.left.right=d.right,d.right.left=d.left,d===d.right?f=null:(f=d.right,f=c(f,this._size)),this._size--,this._minimum=f,d},i.prototype.remove=function(d){this._minimum=o(this._minimum,d,-1),this.extractMinimum()};function o(d,f,m){f.key=m;var p=f.parent;return p&&t(f.key,p.key)&&(s(d,f,p),a(d,p)),t(f.key,d.key)&&(d=f),d}function s(d,f,m){f.left.right=f.right,f.right.left=f.left,m.degree--,m.child===f&&(m.child=f.right),m.degree===0&&(m.child=null),f.left=d,f.right=d.right,d.right=f,f.right.left=f,f.parent=null,f.mark=!1}function a(d,f){var m=f.parent;m&&(f.mark?(s(d,f,m),a(m)):f.mark=!0)}var l=function(f,m){f.left.right=f.right,f.right.left=f.left,f.parent=m,m.child?(f.left=m.child,f.right=m.child.right,m.child.right=f,f.right.left=f):(m.child=f,f.right=f,f.left=f),m.degree++,f.mark=!1};function c(d,f){var m=Math.floor(Math.log(f)*n)+1,p=new Array(m),b=0,y=d;if(y)for(b++,y=y.right;y!==d;)b++,y=y.right;for(var C;b>0;){for(var S=y.degree,A=y.right;C=p[S],!!C;){if(e(y.key,C.key)){var x=C;C=y,y=x}l(C,y),p[S]=null,S++}p[S]=y,y=A,b--}d=null;for(var M=0;M<m;M++)C=p[M],C&&(d?(C.left.right=C.right,C.right.left=C.left,C.left=d,C.right=d.right,d.right=C,C.right.left=C,t(C.key,d.key)&&(d=C)):d=C);return d}return i},{isClass:!0});var KAe="Spa",XAe=["addScalar","equalScalar","FibonacciHeap"],hP=F(KAe,XAe,r=>{var{addScalar:t,equalScalar:e,FibonacciHeap:n}=r;function i(){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");this._values=[],this._heap=new n}return i.prototype.type="Spa",i.prototype.isSpa=!0,i.prototype.set=function(o,s){if(this._values[o])this._values[o].value=s;else{var a=this._heap.insert(o,s);this._values[o]=a}},i.prototype.get=function(o){var s=this._values[o];return s?s.value:0},i.prototype.accumulate=function(o,s){var a=this._values[o];a?a.value=t(a.value,s):(a=this._heap.insert(o,s),this._values[o]=a)},i.prototype.forEach=function(o,s,a){var l=this._heap,c=this._values,d=[],f=l.extractMinimum();for(f&&d.push(f);f&&f.key<=s;)f.key>=o&&(e(f.value,0)||a(f.key,f.value,this)),f=l.extractMinimum(),f&&d.push(f);for(var m=0;m<d.length;m++){var p=d[m];f=l.insert(p.key,p.value),c[f.key]=f}},i.prototype.swap=function(o,s){var a=this._values[o],l=this._values[s];if(!a&&l)a=this._heap.insert(o,l.value),this._heap.remove(l),this._values[o]=a,this._values[s]=void 0;else if(a&&!l)l=this._heap.insert(s,a.value),this._heap.remove(a),this._values[s]=l,this._values[o]=void 0;else if(a&&l){var c=a.value;a.value=l.value,l.value=c}},i},{isClass:!0});function JK(r){var t=0,e=1,n=Object.create(null),i=Object.create(null),o=0,s=function(l){var c=i[l];if(c&&(delete n[c],delete i[l],--t,e===c)){if(!t){o=0,e=1;return}for(;!Object.prototype.hasOwnProperty.call(n,++e););}};return r=Math.abs(r),{hit:function(l){var c=i[l],d=++o;if(n[d]=l,i[l]=d,!c)return++t,t<=r?void 0:(l=n[e],s(l),l);if(delete n[c],e===c)for(;!Object.prototype.hasOwnProperty.call(n,++e););},delete:s,clear:function(){t=o=0,e=1,n=Object.create(null),i=Object.create(null)}}}function Bm(r){var{hasher:t,limit:e}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return e=e??Number.POSITIVE_INFINITY,t=t??JSON.stringify,function n(){typeof n.cache!="object"&&(n.cache={values:new Map,lru:JK(e||Number.POSITIVE_INFINITY)});for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];var s=t(i);if(n.cache.values.has(s))return n.cache.lru.hit(s),n.cache.values.get(s);var a=r.apply(r,i);return n.cache.values.set(s,a),n.cache.values.delete(n.cache.lru.hit(s)),a}}var eX=Bm(function(r){return new r(1).exp()},{hasher:nD}),tX=Bm(function(r){return new r(1).plus(new r(5).sqrt()).div(2)},{hasher:nD}),Ly=Bm(function(r){return r.acos(-1)},{hasher:nD}),rX=Bm(function(r){return Ly(r).times(2)},{hasher:nD});function nD(r){return r[0].precision}function nX(r,t){var e=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),e.push.apply(e,n)}return e}function mP(r){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?nX(Object(e),!0).forEach(function(n){an(r,n,e[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(e)):nX(Object(e)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(e,n))})}return r}var ZAe="Unit",QAe=["?on","config","addScalar","subtractScalar","multiplyScalar","divideScalar","pow","abs","fix","round","equal","isNumeric","format","number","Complex","BigNumber","Fraction"],pP=F(ZAe,QAe,r=>{var{on:t,config:e,addScalar:n,subtractScalar:i,multiplyScalar:o,divideScalar:s,pow:a,abs:l,fix:c,round:d,equal:f,isNumeric:m,format:p,number:b,Complex:y,BigNumber:C,Fraction:S}=r,A=b;function x(te,re){if(!(this instanceof x))throw new Error("Constructor must be called with the new operator");if(!(te==null||m(te)||ua(te)))throw new TypeError("First parameter in Unit constructor must be number, BigNumber, Fraction, Complex, or undefined");if(this.fixPrefix=!1,this.skipAutomaticSimplification=!0,re===void 0)this.units=[],this.dimensions=Z.map(Ae=>0);else if(typeof re=="string"){var De=x.parse(re);this.units=De.units,this.dimensions=De.dimensions}else if(ls(re)&&re.value===null)this.fixPrefix=re.fixPrefix,this.skipAutomaticSimplification=re.skipAutomaticSimplification,this.dimensions=re.dimensions.slice(0),this.units=re.units.map(Ae=>ci({},Ae));else throw new TypeError("Second parameter in Unit constructor must be a string or valueless Unit");this.value=this._normalize(te)}Object.defineProperty(x,"name",{value:"Unit"}),x.prototype.constructor=x,x.prototype.type="Unit",x.prototype.isUnit=!0;var M,E,w;function T(){for(;w===" "||w==="	";)O()}function k(te){return te>="0"&&te<="9"||te==="."}function I(te){return te>="0"&&te<="9"}function O(){E++,w=M.charAt(E)}function R(te){E=te,w=M.charAt(E)}function j(){var te="",re=E;if(w==="+"?O():w==="-"&&(te+=w,O()),!k(w))return R(re),null;if(w==="."){if(te+=w,O(),!I(w))return R(re),null}else{for(;I(w);)te+=w,O();w==="."&&(te+=w,O())}for(;I(w);)te+=w,O();if(w==="E"||w==="e"){var De="",Ae=E;if(De+=w,O(),(w==="+"||w==="-")&&(De+=w,O()),!I(w))return R(Ae),te;for(te=te+De;I(w);)te+=w,O()}return te}function q(){for(var te="";I(w)||x.isValidAlpha(w);)te+=w,O();var re=te.charAt(0);return x.isValidAlpha(re)?te:null}function X(te){return w===te?(O(),te):null}x.parse=function(te,re){if(re=re||{},M=te,E=-1,w="",typeof M!="string")throw new TypeError("Invalid argument in Unit.parse, string expected");var De=new x;De.units=[];var Ae=1,qe=!1;O(),T();var Ge=j(),mt=null;if(Ge){if(e.number==="BigNumber")mt=new C(Ge);else if(e.number==="Fraction")try{mt=new S(Ge)}catch{mt=parseFloat(Ge)}else mt=parseFloat(Ge);T(),X("*")?(Ae=1,qe=!0):X("/")&&(Ae=-1,qe=!0)}for(var yt=[],tr=1;;){for(T();w==="(";)yt.push(Ae),tr*=Ae,Ae=1,O(),T();var Yt=void 0;if(w){var bn=w;if(Yt=q(),Yt===null)throw new SyntaxError('Unexpected "'+bn+'" in "'+M+'" at index '+E.toString())}else break;var Vr=Y(Yt);if(Vr===null)throw new SyntaxError('Unit "'+Yt+'" not found.');var xi=Ae*tr;if(T(),X("^")){T();var oi=j();if(oi===null)throw new SyntaxError('In "'+te+'", "^" must be followed by a floating-point number');xi*=oi}De.units.push({unit:Vr.unit,prefix:Vr.prefix,power:xi});for(var ue=0;ue<Z.length;ue++)De.dimensions[ue]+=(Vr.unit.dimensions[ue]||0)*xi;for(T();w===")";){if(yt.length===0)throw new SyntaxError('Unmatched ")" in "'+M+'" at index '+E.toString());tr/=yt.pop(),O(),T()}if(qe=!1,X("*")?(Ae=1,qe=!0):X("/")?(Ae=-1,qe=!0):Ae=1,Vr.unit.base){var Ce=Vr.unit.base.key;be.auto[Ce]={unit:Vr.unit,prefix:Vr.prefix}}}if(T(),w)throw new SyntaxError('Could not parse: "'+te+'"');if(qe)throw new SyntaxError('Trailing characters: "'+te+'"');if(yt.length!==0)throw new SyntaxError('Unmatched "(" in "'+M+'"');if(De.units.length===0&&!re.allowNoUnits)throw new SyntaxError('"'+te+'" contains no units');return De.value=mt!==void 0?De._normalize(mt):null,De},x.prototype.clone=function(){var te=new x;te.fixPrefix=this.fixPrefix,te.skipAutomaticSimplification=this.skipAutomaticSimplification,te.value=Pt(this.value),te.dimensions=this.dimensions.slice(0),te.units=[];for(var re=0;re<this.units.length;re++){te.units[re]={};for(var De in this.units[re])Dt(this.units[re],De)&&(te.units[re][De]=this.units[re][De])}return te},x.prototype.valueType=function(){return Rr(this.value)},x.prototype._isDerived=function(){return this.units.length===0?!1:this.units.length>1||Math.abs(this.units[0].power-1)>1e-15},x.prototype._normalize=function(te){if(te==null||this.units.length===0)return te;for(var re=te,De=x._getNumberConverter(Rr(te)),Ae=0;Ae<this.units.length;Ae++){var qe=De(this.units[Ae].unit.value),Ge=De(this.units[Ae].prefix.value),mt=De(this.units[Ae].power);re=o(re,a(o(qe,Ge),mt))}return re},x.prototype._denormalize=function(te,re){if(te==null||this.units.length===0)return te;for(var De=te,Ae=x._getNumberConverter(Rr(te)),qe=0;qe<this.units.length;qe++){var Ge=Ae(this.units[qe].unit.value),mt=Ae(this.units[qe].prefix.value),yt=Ae(this.units[qe].power);De=s(De,a(o(Ge,mt),yt))}return De};var Y=Bm(te=>{if(Dt(Q,te)){var re=Q[te],De=re.prefixes[""];return{unit:re,prefix:De}}for(var Ae in Q)if(Dt(Q,Ae)&&xG(te,Ae)){var qe=Q[Ae],Ge=te.length-Ae.length,mt=te.substring(0,Ge),yt=Dt(qe.prefixes,mt)?qe.prefixes[mt]:void 0;if(yt!==void 0)return{unit:qe,prefix:yt}}return null},{hasher:te=>te[0],limit:100});x.isValuelessUnit=function(te){return Y(te)!==null},x.prototype.hasBase=function(te){if(typeof te=="string"&&(te=U[te]),!te)return!1;for(var re=0;re<Z.length;re++)if(Math.abs((this.dimensions[re]||0)-(te.dimensions[re]||0))>1e-12)return!1;return!0},x.prototype.equalBase=function(te){for(var re=0;re<Z.length;re++)if(Math.abs((this.dimensions[re]||0)-(te.dimensions[re]||0))>1e-12)return!1;return!0},x.prototype.equals=function(te){return this.equalBase(te)&&f(this.value,te.value)},x.prototype.multiply=function(te){for(var re=this.clone(),De=ls(te)?te:new x(te),Ae=0;Ae<Z.length;Ae++)re.dimensions[Ae]=(this.dimensions[Ae]||0)+(De.dimensions[Ae]||0);for(var qe=0;qe<De.units.length;qe++){var Ge=mP({},De.units[qe]);re.units.push(Ge)}if(this.value!==null||De.value!==null){var mt=this.value===null?this._normalize(1):this.value,yt=De.value===null?De._normalize(1):De.value;re.value=o(mt,yt)}else re.value=null;return ls(te)&&(re.skipAutomaticSimplification=!1),P(re)},x.prototype.divideInto=function(te){return new x(te).divide(this)},x.prototype.divide=function(te){for(var re=this.clone(),De=ls(te)?te:new x(te),Ae=0;Ae<Z.length;Ae++)re.dimensions[Ae]=(this.dimensions[Ae]||0)-(De.dimensions[Ae]||0);for(var qe=0;qe<De.units.length;qe++){var Ge=mP(mP({},De.units[qe]),{},{power:-De.units[qe].power});re.units.push(Ge)}if(this.value!==null||De.value!==null){var mt=this.value===null?this._normalize(1):this.value,yt=De.value===null?De._normalize(1):De.value;re.value=s(mt,yt)}else re.value=null;return ls(te)&&(re.skipAutomaticSimplification=!1),P(re)},x.prototype.pow=function(te){for(var re=this.clone(),De=0;De<Z.length;De++)re.dimensions[De]=(this.dimensions[De]||0)*te;for(var Ae=0;Ae<re.units.length;Ae++)re.units[Ae].power*=te;return re.value!==null?re.value=a(re.value,te):re.value=null,re.skipAutomaticSimplification=!1,P(re)};function P(te){return te.equalBase(U.NONE)&&te.value!==null&&!e.predictable?te.value:te}x.prototype.abs=function(){var te=this.clone();if(te.value!==null)if(te._isDerived()||te.units.length===0||te.units[0].unit.offset===0)te.value=l(te.value);else{var re=te._numberConverter(),De=re(te.units[0].unit.value),Ae=re(te.units[0].unit.offset),qe=o(De,Ae);te.value=i(l(n(te.value,qe)),qe)}for(var Ge in te.units)(te.units[Ge].unit.name==="VA"||te.units[Ge].unit.name==="VAR")&&(te.units[Ge].unit=Q.W);return te},x.prototype.to=function(te){var re=this.value===null?this._normalize(1):this.value,De;if(typeof te=="string")De=x.parse(te);else if(ls(te))De=te.clone();else throw new Error("String or Unit expected as parameter");if(!this.equalBase(De))throw new Error("Units do not match ('".concat(De.toString(),"' != '").concat(this.toString(),"')"));if(De.value!==null)throw new Error("Cannot convert to a unit with a value");if(this.value===null||this._isDerived()||this.units.length===0||De.units.length===0||this.units[0].unit.offset===De.units[0].unit.offset)De.value=Pt(re);else{var Ae=x._getNumberConverter(Rr(re)),qe=this.units[0].unit.value,Ge=this.units[0].unit.offset,mt=o(qe,Ge),yt=De.units[0].unit.value,tr=De.units[0].unit.offset,Yt=o(yt,tr);De.value=n(re,Ae(i(mt,Yt)))}return De.fixPrefix=!0,De.skipAutomaticSimplification=!0,De},x.prototype.toNumber=function(te){return A(this.toNumeric(te))},x.prototype.toNumeric=function(te){var re;return te?re=this.to(te):re=this.clone(),re._isDerived()||re.units.length===0?re._denormalize(re.value):re._denormalize(re.value,re.units[0].prefix.value)},x.prototype.toString=function(){return this.format()},x.prototype.toJSON=function(){return{mathjs:"Unit",value:this._denormalize(this.value),unit:this.units.length>0?this.formatUnits():null,fixPrefix:this.fixPrefix}},x.fromJSON=function(te){var re,De=new x(te.value,(re=te.unit)!==null&&re!==void 0?re:void 0);return De.fixPrefix=te.fixPrefix||!1,De},x.prototype.valueOf=x.prototype.toString,x.prototype.simplify=function(){var te=this.clone(),re=[],De;for(var Ae in ee)if(Dt(ee,Ae)&&te.hasBase(U[Ae])){De=Ae;break}if(De==="NONE")te.units=[];else{var qe;if(De&&Dt(ee,De)&&(qe=ee[De]),qe)te.units=[{unit:qe.unit,prefix:qe.prefix,power:1}];else{for(var Ge=!1,mt=0;mt<Z.length;mt++){var yt=Z[mt];Math.abs(te.dimensions[mt]||0)>1e-12&&(Dt(ee,yt)?re.push({unit:ee[yt].unit,prefix:ee[yt].prefix,power:te.dimensions[mt]||0}):Ge=!0)}re.length<te.units.length&&!Ge&&(te.units=re)}}return te},x.prototype.toSI=function(){for(var te=this.clone(),re=[],De=0;De<Z.length;De++){var Ae=Z[De];if(Math.abs(te.dimensions[De]||0)>1e-12)if(Dt(be.si,Ae))re.push({unit:be.si[Ae].unit,prefix:be.si[Ae].prefix,power:te.dimensions[De]||0});else throw new Error("Cannot express custom unit "+Ae+" in SI units")}return te.units=re,te.fixPrefix=!0,te.skipAutomaticSimplification=!0,this.value!==null?(te.value=null,this.to(te)):te},x.prototype.formatUnits=function(){for(var te="",re="",De=0,Ae=0,qe=0;qe<this.units.length;qe++)this.units[qe].power>0?(De++,te+=" "+this.units[qe].prefix.name+this.units[qe].unit.name,Math.abs(this.units[qe].power-1)>1e-15&&(te+="^"+this.units[qe].power)):this.units[qe].power<0&&Ae++;if(Ae>0)for(var Ge=0;Ge<this.units.length;Ge++)this.units[Ge].power<0&&(De>0?(re+=" "+this.units[Ge].prefix.name+this.units[Ge].unit.name,Math.abs(this.units[Ge].power+1)>1e-15&&(re+="^"+-this.units[Ge].power)):(re+=" "+this.units[Ge].prefix.name+this.units[Ge].unit.name,re+="^"+this.units[Ge].power));te=te.substr(1),re=re.substr(1),De>1&&Ae>0&&(te="("+te+")"),Ae>1&&De>0&&(re="("+re+")");var mt=te;return De>0&&Ae>0&&(mt+=" / "),mt+=re,mt},x.prototype.format=function(te){var re=this.skipAutomaticSimplification||this.value===null?this.clone():this.simplify(),De=!1;typeof re.value<"u"&&re.value!==null&&ua(re.value)&&(De=Math.abs(re.value.re)<1e-14);for(var Ae in re.units)Dt(re.units,Ae)&&re.units[Ae].unit&&(re.units[Ae].unit.name==="VA"&&De?re.units[Ae].unit=Q.VAR:re.units[Ae].unit.name==="VAR"&&!De&&(re.units[Ae].unit=Q.VA));re.units.length===1&&!re.fixPrefix&&Math.abs(re.units[0].power-Math.round(re.units[0].power))<1e-14&&(re.units[0].prefix=re._bestPrefix());var qe=re._denormalize(re.value),Ge=re.value!==null?p(qe,te||{}):"",mt=re.formatUnits();return re.value&&ua(re.value)&&(Ge="("+Ge+")"),mt.length>0&&Ge.length>0&&(Ge+=" "),Ge+=mt,Ge},x.prototype._bestPrefix=function(){if(this.units.length!==1)throw new Error("Can only compute the best prefix for single units with integer powers, like kg, s^2, N^-1, and so forth!");if(Math.abs(this.units[0].power-Math.round(this.units[0].power))>=1e-14)throw new Error("Can only compute the best prefix for single units with integer powers, like kg, s^2, N^-1, and so forth!");var te=this.value!==null?l(this.value):0,re=l(this.units[0].unit.value),De=this.units[0].prefix;if(te===0)return De;var Ae=this.units[0].power,qe=Math.log(te/Math.pow(De.value*re,Ae))/Math.LN10-1.2;if(qe>-2.200001&&qe<1.800001)return De;qe=Math.abs(qe);var Ge=this.units[0].unit.prefixes;for(var mt in Ge)if(Dt(Ge,mt)){var yt=Ge[mt];if(yt.scientific){var tr=Math.abs(Math.log(te/Math.pow(yt.value*re,Ae))/Math.LN10-1.2);(tr<qe||tr===qe&&yt.name.length<De.name.length)&&(De=yt,qe=tr)}}return De},x.prototype.splitUnit=function(te){for(var re=this.clone(),De=[],Ae=0;Ae<te.length&&(re=re.to(te[Ae]),Ae!==te.length-1);Ae++){var qe=re.toNumeric(),Ge=d(qe),mt=void 0,yt=f(Ge,qe);yt?mt=Ge:mt=c(re.toNumeric());var tr=new x(mt,te[Ae].toString());De.push(tr),re=i(re,tr)}for(var Yt=0,bn=0;bn<De.length;bn++)Yt=n(Yt,De[bn].value);return f(Yt,this.value)&&(re.value=0),De.push(re),De};var L={NONE:{"":{name:"",value:1,scientific:!0}},SHORT:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:10,scientific:!1},h:{name:"h",value:100,scientific:!1},k:{name:"k",value:1e3,scientific:!0},M:{name:"M",value:1e6,scientific:!0},G:{name:"G",value:1e9,scientific:!0},T:{name:"T",value:1e12,scientific:!0},P:{name:"P",value:1e15,scientific:!0},E:{name:"E",value:1e18,scientific:!0},Z:{name:"Z",value:1e21,scientific:!0},Y:{name:"Y",value:1e24,scientific:!0},R:{name:"R",value:1e27,scientific:!0},Q:{name:"Q",value:1e30,scientific:!0},d:{name:"d",value:.1,scientific:!1},c:{name:"c",value:.01,scientific:!1},m:{name:"m",value:.001,scientific:!0},u:{name:"u",value:1e-6,scientific:!0},n:{name:"n",value:1e-9,scientific:!0},p:{name:"p",value:1e-12,scientific:!0},f:{name:"f",value:1e-15,scientific:!0},a:{name:"a",value:1e-18,scientific:!0},z:{name:"z",value:1e-21,scientific:!0},y:{name:"y",value:1e-24,scientific:!0},r:{name:"r",value:1e-27,scientific:!0},q:{name:"q",value:1e-30,scientific:!0}},LONG:{"":{name:"",value:1,scientific:!0},deca:{name:"deca",value:10,scientific:!1},hecto:{name:"hecto",value:100,scientific:!1},kilo:{name:"kilo",value:1e3,scientific:!0},mega:{name:"mega",value:1e6,scientific:!0},giga:{name:"giga",value:1e9,scientific:!0},tera:{name:"tera",value:1e12,scientific:!0},peta:{name:"peta",value:1e15,scientific:!0},exa:{name:"exa",value:1e18,scientific:!0},zetta:{name:"zetta",value:1e21,scientific:!0},yotta:{name:"yotta",value:1e24,scientific:!0},ronna:{name:"ronna",value:1e27,scientific:!0},quetta:{name:"quetta",value:1e30,scientific:!0},deci:{name:"deci",value:.1,scientific:!1},centi:{name:"centi",value:.01,scientific:!1},milli:{name:"milli",value:.001,scientific:!0},micro:{name:"micro",value:1e-6,scientific:!0},nano:{name:"nano",value:1e-9,scientific:!0},pico:{name:"pico",value:1e-12,scientific:!0},femto:{name:"femto",value:1e-15,scientific:!0},atto:{name:"atto",value:1e-18,scientific:!0},zepto:{name:"zepto",value:1e-21,scientific:!0},yocto:{name:"yocto",value:1e-24,scientific:!0},ronto:{name:"ronto",value:1e-27,scientific:!0},quecto:{name:"quecto",value:1e-30,scientific:!0}},SQUARED:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:100,scientific:!1},h:{name:"h",value:1e4,scientific:!1},k:{name:"k",value:1e6,scientific:!0},M:{name:"M",value:1e12,scientific:!0},G:{name:"G",value:1e18,scientific:!0},T:{name:"T",value:1e24,scientific:!0},P:{name:"P",value:1e30,scientific:!0},E:{name:"E",value:1e36,scientific:!0},Z:{name:"Z",value:1e42,scientific:!0},Y:{name:"Y",value:1e48,scientific:!0},R:{name:"R",value:1e54,scientific:!0},Q:{name:"Q",value:1e60,scientific:!0},d:{name:"d",value:.01,scientific:!1},c:{name:"c",value:1e-4,scientific:!1},m:{name:"m",value:1e-6,scientific:!0},u:{name:"u",value:1e-12,scientific:!0},n:{name:"n",value:1e-18,scientific:!0},p:{name:"p",value:1e-24,scientific:!0},f:{name:"f",value:1e-30,scientific:!0},a:{name:"a",value:1e-36,scientific:!0},z:{name:"z",value:1e-42,scientific:!0},y:{name:"y",value:1e-48,scientific:!0},r:{name:"r",value:1e-54,scientific:!0},q:{name:"q",value:1e-60,scientific:!0}},CUBIC:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:1e3,scientific:!1},h:{name:"h",value:1e6,scientific:!1},k:{name:"k",value:1e9,scientific:!0},M:{name:"M",value:1e18,scientific:!0},G:{name:"G",value:1e27,scientific:!0},T:{name:"T",value:1e36,scientific:!0},P:{name:"P",value:1e45,scientific:!0},E:{name:"E",value:1e54,scientific:!0},Z:{name:"Z",value:1e63,scientific:!0},Y:{name:"Y",value:1e72,scientific:!0},R:{name:"R",value:1e81,scientific:!0},Q:{name:"Q",value:1e90,scientific:!0},d:{name:"d",value:.001,scientific:!1},c:{name:"c",value:1e-6,scientific:!1},m:{name:"m",value:1e-9,scientific:!0},u:{name:"u",value:1e-18,scientific:!0},n:{name:"n",value:1e-27,scientific:!0},p:{name:"p",value:1e-36,scientific:!0},f:{name:"f",value:1e-45,scientific:!0},a:{name:"a",value:1e-54,scientific:!0},z:{name:"z",value:1e-63,scientific:!0},y:{name:"y",value:1e-72,scientific:!0},r:{name:"r",value:1e-81,scientific:!0},q:{name:"q",value:1e-90,scientific:!0}},BINARY_SHORT_SI:{"":{name:"",value:1,scientific:!0},k:{name:"k",value:1e3,scientific:!0},M:{name:"M",value:1e6,scientific:!0},G:{name:"G",value:1e9,scientific:!0},T:{name:"T",value:1e12,scientific:!0},P:{name:"P",value:1e15,scientific:!0},E:{name:"E",value:1e18,scientific:!0},Z:{name:"Z",value:1e21,scientific:!0},Y:{name:"Y",value:1e24,scientific:!0}},BINARY_SHORT_IEC:{"":{name:"",value:1,scientific:!0},Ki:{name:"Ki",value:1024,scientific:!0},Mi:{name:"Mi",value:Math.pow(1024,2),scientific:!0},Gi:{name:"Gi",value:Math.pow(1024,3),scientific:!0},Ti:{name:"Ti",value:Math.pow(1024,4),scientific:!0},Pi:{name:"Pi",value:Math.pow(1024,5),scientific:!0},Ei:{name:"Ei",value:Math.pow(1024,6),scientific:!0},Zi:{name:"Zi",value:Math.pow(1024,7),scientific:!0},Yi:{name:"Yi",value:Math.pow(1024,8),scientific:!0}},BINARY_LONG_SI:{"":{name:"",value:1,scientific:!0},kilo:{name:"kilo",value:1e3,scientific:!0},mega:{name:"mega",value:1e6,scientific:!0},giga:{name:"giga",value:1e9,scientific:!0},tera:{name:"tera",value:1e12,scientific:!0},peta:{name:"peta",value:1e15,scientific:!0},exa:{name:"exa",value:1e18,scientific:!0},zetta:{name:"zetta",value:1e21,scientific:!0},yotta:{name:"yotta",value:1e24,scientific:!0}},BINARY_LONG_IEC:{"":{name:"",value:1,scientific:!0},kibi:{name:"kibi",value:1024,scientific:!0},mebi:{name:"mebi",value:Math.pow(1024,2),scientific:!0},gibi:{name:"gibi",value:Math.pow(1024,3),scientific:!0},tebi:{name:"tebi",value:Math.pow(1024,4),scientific:!0},pebi:{name:"pebi",value:Math.pow(1024,5),scientific:!0},exi:{name:"exi",value:Math.pow(1024,6),scientific:!0},zebi:{name:"zebi",value:Math.pow(1024,7),scientific:!0},yobi:{name:"yobi",value:Math.pow(1024,8),scientific:!0}},BTU:{"":{name:"",value:1,scientific:!0},MM:{name:"MM",value:1e6,scientific:!0}}};L.SHORTLONG=ci({},L.SHORT,L.LONG),L.BINARY_SHORT=ci({},L.BINARY_SHORT_SI,L.BINARY_SHORT_IEC),L.BINARY_LONG=ci({},L.BINARY_LONG_SI,L.BINARY_LONG_IEC);var Z=["MASS","LENGTH","TIME","CURRENT","TEMPERATURE","LUMINOUS_INTENSITY","AMOUNT_OF_SUBSTANCE","ANGLE","BIT"],U={NONE:{dimensions:[0,0,0,0,0,0,0,0,0]},MASS:{dimensions:[1,0,0,0,0,0,0,0,0]},LENGTH:{dimensions:[0,1,0,0,0,0,0,0,0]},TIME:{dimensions:[0,0,1,0,0,0,0,0,0]},CURRENT:{dimensions:[0,0,0,1,0,0,0,0,0]},TEMPERATURE:{dimensions:[0,0,0,0,1,0,0,0,0]},LUMINOUS_INTENSITY:{dimensions:[0,0,0,0,0,1,0,0,0]},AMOUNT_OF_SUBSTANCE:{dimensions:[0,0,0,0,0,0,1,0,0]},FORCE:{dimensions:[1,1,-2,0,0,0,0,0,0]},SURFACE:{dimensions:[0,2,0,0,0,0,0,0,0]},VOLUME:{dimensions:[0,3,0,0,0,0,0,0,0]},ENERGY:{dimensions:[1,2,-2,0,0,0,0,0,0]},POWER:{dimensions:[1,2,-3,0,0,0,0,0,0]},PRESSURE:{dimensions:[1,-1,-2,0,0,0,0,0,0]},ELECTRIC_CHARGE:{dimensions:[0,0,1,1,0,0,0,0,0]},ELECTRIC_CAPACITANCE:{dimensions:[-1,-2,4,2,0,0,0,0,0]},ELECTRIC_POTENTIAL:{dimensions:[1,2,-3,-1,0,0,0,0,0]},ELECTRIC_RESISTANCE:{dimensions:[1,2,-3,-2,0,0,0,0,0]},ELECTRIC_INDUCTANCE:{dimensions:[1,2,-2,-2,0,0,0,0,0]},ELECTRIC_CONDUCTANCE:{dimensions:[-1,-2,3,2,0,0,0,0,0]},MAGNETIC_FLUX:{dimensions:[1,2,-2,-1,0,0,0,0,0]},MAGNETIC_FLUX_DENSITY:{dimensions:[1,0,-2,-1,0,0,0,0,0]},FREQUENCY:{dimensions:[0,0,-1,0,0,0,0,0,0]},ANGLE:{dimensions:[0,0,0,0,0,0,0,1,0]},BIT:{dimensions:[0,0,0,0,0,0,0,0,1]}};for(var ce in U)Dt(U,ce)&&(U[ce].key=ce);var me={},se={name:"",base:me,value:1,offset:0,dimensions:Z.map(te=>0)},Q={meter:{name:"meter",base:U.LENGTH,prefixes:L.LONG,value:1,offset:0},inch:{name:"inch",base:U.LENGTH,prefixes:L.NONE,value:.0254,offset:0},foot:{name:"foot",base:U.LENGTH,prefixes:L.NONE,value:.3048,offset:0},yard:{name:"yard",base:U.LENGTH,prefixes:L.NONE,value:.9144,offset:0},mile:{name:"mile",base:U.LENGTH,prefixes:L.NONE,value:1609.344,offset:0},link:{name:"link",base:U.LENGTH,prefixes:L.NONE,value:.201168,offset:0},rod:{name:"rod",base:U.LENGTH,prefixes:L.NONE,value:5.0292,offset:0},chain:{name:"chain",base:U.LENGTH,prefixes:L.NONE,value:20.1168,offset:0},angstrom:{name:"angstrom",base:U.LENGTH,prefixes:L.NONE,value:1e-10,offset:0},m:{name:"m",base:U.LENGTH,prefixes:L.SHORT,value:1,offset:0},in:{name:"in",base:U.LENGTH,prefixes:L.NONE,value:.0254,offset:0},ft:{name:"ft",base:U.LENGTH,prefixes:L.NONE,value:.3048,offset:0},yd:{name:"yd",base:U.LENGTH,prefixes:L.NONE,value:.9144,offset:0},mi:{name:"mi",base:U.LENGTH,prefixes:L.NONE,value:1609.344,offset:0},li:{name:"li",base:U.LENGTH,prefixes:L.NONE,value:.201168,offset:0},rd:{name:"rd",base:U.LENGTH,prefixes:L.NONE,value:5.02921,offset:0},ch:{name:"ch",base:U.LENGTH,prefixes:L.NONE,value:20.1168,offset:0},mil:{name:"mil",base:U.LENGTH,prefixes:L.NONE,value:254e-7,offset:0},m2:{name:"m2",base:U.SURFACE,prefixes:L.SQUARED,value:1,offset:0},sqin:{name:"sqin",base:U.SURFACE,prefixes:L.NONE,value:64516e-8,offset:0},sqft:{name:"sqft",base:U.SURFACE,prefixes:L.NONE,value:.09290304,offset:0},sqyd:{name:"sqyd",base:U.SURFACE,prefixes:L.NONE,value:.83612736,offset:0},sqmi:{name:"sqmi",base:U.SURFACE,prefixes:L.NONE,value:2589988110336e-6,offset:0},sqrd:{name:"sqrd",base:U.SURFACE,prefixes:L.NONE,value:25.29295,offset:0},sqch:{name:"sqch",base:U.SURFACE,prefixes:L.NONE,value:404.6873,offset:0},sqmil:{name:"sqmil",base:U.SURFACE,prefixes:L.NONE,value:64516e-14,offset:0},acre:{name:"acre",base:U.SURFACE,prefixes:L.NONE,value:4046.86,offset:0},hectare:{name:"hectare",base:U.SURFACE,prefixes:L.NONE,value:1e4,offset:0},m3:{name:"m3",base:U.VOLUME,prefixes:L.CUBIC,value:1,offset:0},L:{name:"L",base:U.VOLUME,prefixes:L.SHORT,value:.001,offset:0},l:{name:"l",base:U.VOLUME,prefixes:L.SHORT,value:.001,offset:0},litre:{name:"litre",base:U.VOLUME,prefixes:L.LONG,value:.001,offset:0},cuin:{name:"cuin",base:U.VOLUME,prefixes:L.NONE,value:16387064e-12,offset:0},cuft:{name:"cuft",base:U.VOLUME,prefixes:L.NONE,value:.028316846592,offset:0},cuyd:{name:"cuyd",base:U.VOLUME,prefixes:L.NONE,value:.764554857984,offset:0},teaspoon:{name:"teaspoon",base:U.VOLUME,prefixes:L.NONE,value:5e-6,offset:0},tablespoon:{name:"tablespoon",base:U.VOLUME,prefixes:L.NONE,value:15e-6,offset:0},drop:{name:"drop",base:U.VOLUME,prefixes:L.NONE,value:5e-8,offset:0},gtt:{name:"gtt",base:U.VOLUME,prefixes:L.NONE,value:5e-8,offset:0},minim:{name:"minim",base:U.VOLUME,prefixes:L.NONE,value:61611519921875e-21,offset:0},fluiddram:{name:"fluiddram",base:U.VOLUME,prefixes:L.NONE,value:36966911953125e-19,offset:0},fluidounce:{name:"fluidounce",base:U.VOLUME,prefixes:L.NONE,value:295735295625e-16,offset:0},gill:{name:"gill",base:U.VOLUME,prefixes:L.NONE,value:.00011829411825,offset:0},cc:{name:"cc",base:U.VOLUME,prefixes:L.NONE,value:1e-6,offset:0},cup:{name:"cup",base:U.VOLUME,prefixes:L.NONE,value:.0002365882365,offset:0},pint:{name:"pint",base:U.VOLUME,prefixes:L.NONE,value:.000473176473,offset:0},quart:{name:"quart",base:U.VOLUME,prefixes:L.NONE,value:.000946352946,offset:0},gallon:{name:"gallon",base:U.VOLUME,prefixes:L.NONE,value:.003785411784,offset:0},beerbarrel:{name:"beerbarrel",base:U.VOLUME,prefixes:L.NONE,value:.117347765304,offset:0},oilbarrel:{name:"oilbarrel",base:U.VOLUME,prefixes:L.NONE,value:.158987294928,offset:0},hogshead:{name:"hogshead",base:U.VOLUME,prefixes:L.NONE,value:.238480942392,offset:0},g:{name:"g",base:U.MASS,prefixes:L.SHORT,value:.001,offset:0},gram:{name:"gram",base:U.MASS,prefixes:L.LONG,value:.001,offset:0},ton:{name:"ton",base:U.MASS,prefixes:L.SHORT,value:907.18474,offset:0},t:{name:"t",base:U.MASS,prefixes:L.SHORT,value:1e3,offset:0},tonne:{name:"tonne",base:U.MASS,prefixes:L.LONG,value:1e3,offset:0},grain:{name:"grain",base:U.MASS,prefixes:L.NONE,value:6479891e-11,offset:0},dram:{name:"dram",base:U.MASS,prefixes:L.NONE,value:.0017718451953125,offset:0},ounce:{name:"ounce",base:U.MASS,prefixes:L.NONE,value:.028349523125,offset:0},poundmass:{name:"poundmass",base:U.MASS,prefixes:L.NONE,value:.45359237,offset:0},hundredweight:{name:"hundredweight",base:U.MASS,prefixes:L.NONE,value:45.359237,offset:0},stick:{name:"stick",base:U.MASS,prefixes:L.NONE,value:.115,offset:0},stone:{name:"stone",base:U.MASS,prefixes:L.NONE,value:6.35029318,offset:0},gr:{name:"gr",base:U.MASS,prefixes:L.NONE,value:6479891e-11,offset:0},dr:{name:"dr",base:U.MASS,prefixes:L.NONE,value:.0017718451953125,offset:0},oz:{name:"oz",base:U.MASS,prefixes:L.NONE,value:.028349523125,offset:0},lbm:{name:"lbm",base:U.MASS,prefixes:L.NONE,value:.45359237,offset:0},cwt:{name:"cwt",base:U.MASS,prefixes:L.NONE,value:45.359237,offset:0},s:{name:"s",base:U.TIME,prefixes:L.SHORT,value:1,offset:0},min:{name:"min",base:U.TIME,prefixes:L.NONE,value:60,offset:0},h:{name:"h",base:U.TIME,prefixes:L.NONE,value:3600,offset:0},second:{name:"second",base:U.TIME,prefixes:L.LONG,value:1,offset:0},sec:{name:"sec",base:U.TIME,prefixes:L.LONG,value:1,offset:0},minute:{name:"minute",base:U.TIME,prefixes:L.NONE,value:60,offset:0},hour:{name:"hour",base:U.TIME,prefixes:L.NONE,value:3600,offset:0},day:{name:"day",base:U.TIME,prefixes:L.NONE,value:86400,offset:0},week:{name:"week",base:U.TIME,prefixes:L.NONE,value:7*86400,offset:0},month:{name:"month",base:U.TIME,prefixes:L.NONE,value:2629800,offset:0},year:{name:"year",base:U.TIME,prefixes:L.NONE,value:31557600,offset:0},decade:{name:"decade",base:U.TIME,prefixes:L.NONE,value:315576e3,offset:0},century:{name:"century",base:U.TIME,prefixes:L.NONE,value:315576e4,offset:0},millennium:{name:"millennium",base:U.TIME,prefixes:L.NONE,value:315576e5,offset:0},hertz:{name:"Hertz",base:U.FREQUENCY,prefixes:L.LONG,value:1,offset:0,reciprocal:!0},Hz:{name:"Hz",base:U.FREQUENCY,prefixes:L.SHORT,value:1,offset:0,reciprocal:!0},rad:{name:"rad",base:U.ANGLE,prefixes:L.SHORT,value:1,offset:0},radian:{name:"radian",base:U.ANGLE,prefixes:L.LONG,value:1,offset:0},deg:{name:"deg",base:U.ANGLE,prefixes:L.SHORT,value:null,offset:0},degree:{name:"degree",base:U.ANGLE,prefixes:L.LONG,value:null,offset:0},grad:{name:"grad",base:U.ANGLE,prefixes:L.SHORT,value:null,offset:0},gradian:{name:"gradian",base:U.ANGLE,prefixes:L.LONG,value:null,offset:0},cycle:{name:"cycle",base:U.ANGLE,prefixes:L.NONE,value:null,offset:0},arcsec:{name:"arcsec",base:U.ANGLE,prefixes:L.NONE,value:null,offset:0},arcmin:{name:"arcmin",base:U.ANGLE,prefixes:L.NONE,value:null,offset:0},A:{name:"A",base:U.CURRENT,prefixes:L.SHORT,value:1,offset:0},ampere:{name:"ampere",base:U.CURRENT,prefixes:L.LONG,value:1,offset:0},K:{name:"K",base:U.TEMPERATURE,prefixes:L.SHORT,value:1,offset:0},degC:{name:"degC",base:U.TEMPERATURE,prefixes:L.SHORT,value:1,offset:273.15},degF:{name:"degF",base:U.TEMPERATURE,prefixes:L.SHORT,value:new S(5,9),offset:459.67},degR:{name:"degR",base:U.TEMPERATURE,prefixes:L.SHORT,value:new S(5,9),offset:0},kelvin:{name:"kelvin",base:U.TEMPERATURE,prefixes:L.LONG,value:1,offset:0},celsius:{name:"celsius",base:U.TEMPERATURE,prefixes:L.LONG,value:1,offset:273.15},fahrenheit:{name:"fahrenheit",base:U.TEMPERATURE,prefixes:L.LONG,value:new S(5,9),offset:459.67},rankine:{name:"rankine",base:U.TEMPERATURE,prefixes:L.LONG,value:new S(5,9),offset:0},mol:{name:"mol",base:U.AMOUNT_OF_SUBSTANCE,prefixes:L.SHORT,value:1,offset:0},mole:{name:"mole",base:U.AMOUNT_OF_SUBSTANCE,prefixes:L.LONG,value:1,offset:0},cd:{name:"cd",base:U.LUMINOUS_INTENSITY,prefixes:L.SHORT,value:1,offset:0},candela:{name:"candela",base:U.LUMINOUS_INTENSITY,prefixes:L.LONG,value:1,offset:0},N:{name:"N",base:U.FORCE,prefixes:L.SHORT,value:1,offset:0},newton:{name:"newton",base:U.FORCE,prefixes:L.LONG,value:1,offset:0},dyn:{name:"dyn",base:U.FORCE,prefixes:L.SHORT,value:1e-5,offset:0},dyne:{name:"dyne",base:U.FORCE,prefixes:L.LONG,value:1e-5,offset:0},lbf:{name:"lbf",base:U.FORCE,prefixes:L.NONE,value:4.4482216152605,offset:0},poundforce:{name:"poundforce",base:U.FORCE,prefixes:L.NONE,value:4.4482216152605,offset:0},kip:{name:"kip",base:U.FORCE,prefixes:L.LONG,value:4448.2216,offset:0},kilogramforce:{name:"kilogramforce",base:U.FORCE,prefixes:L.NONE,value:9.80665,offset:0},J:{name:"J",base:U.ENERGY,prefixes:L.SHORT,value:1,offset:0},joule:{name:"joule",base:U.ENERGY,prefixes:L.LONG,value:1,offset:0},erg:{name:"erg",base:U.ENERGY,prefixes:L.SHORTLONG,value:1e-7,offset:0},Wh:{name:"Wh",base:U.ENERGY,prefixes:L.SHORT,value:3600,offset:0},BTU:{name:"BTU",base:U.ENERGY,prefixes:L.BTU,value:1055.05585262,offset:0},eV:{name:"eV",base:U.ENERGY,prefixes:L.SHORT,value:1602176565e-28,offset:0},electronvolt:{name:"electronvolt",base:U.ENERGY,prefixes:L.LONG,value:1602176565e-28,offset:0},W:{name:"W",base:U.POWER,prefixes:L.SHORT,value:1,offset:0},watt:{name:"watt",base:U.POWER,prefixes:L.LONG,value:1,offset:0},hp:{name:"hp",base:U.POWER,prefixes:L.NONE,value:745.6998715386,offset:0},VAR:{name:"VAR",base:U.POWER,prefixes:L.SHORT,value:y.I,offset:0},VA:{name:"VA",base:U.POWER,prefixes:L.SHORT,value:1,offset:0},Pa:{name:"Pa",base:U.PRESSURE,prefixes:L.SHORT,value:1,offset:0},psi:{name:"psi",base:U.PRESSURE,prefixes:L.NONE,value:6894.75729276459,offset:0},atm:{name:"atm",base:U.PRESSURE,prefixes:L.NONE,value:101325,offset:0},bar:{name:"bar",base:U.PRESSURE,prefixes:L.SHORTLONG,value:1e5,offset:0},torr:{name:"torr",base:U.PRESSURE,prefixes:L.NONE,value:133.322,offset:0},mmHg:{name:"mmHg",base:U.PRESSURE,prefixes:L.NONE,value:133.322,offset:0},mmH2O:{name:"mmH2O",base:U.PRESSURE,prefixes:L.NONE,value:9.80665,offset:0},cmH2O:{name:"cmH2O",base:U.PRESSURE,prefixes:L.NONE,value:98.0665,offset:0},coulomb:{name:"coulomb",base:U.ELECTRIC_CHARGE,prefixes:L.LONG,value:1,offset:0},C:{name:"C",base:U.ELECTRIC_CHARGE,prefixes:L.SHORT,value:1,offset:0},farad:{name:"farad",base:U.ELECTRIC_CAPACITANCE,prefixes:L.LONG,value:1,offset:0},F:{name:"F",base:U.ELECTRIC_CAPACITANCE,prefixes:L.SHORT,value:1,offset:0},volt:{name:"volt",base:U.ELECTRIC_POTENTIAL,prefixes:L.LONG,value:1,offset:0},V:{name:"V",base:U.ELECTRIC_POTENTIAL,prefixes:L.SHORT,value:1,offset:0},ohm:{name:"ohm",base:U.ELECTRIC_RESISTANCE,prefixes:L.SHORTLONG,value:1,offset:0},henry:{name:"henry",base:U.ELECTRIC_INDUCTANCE,prefixes:L.LONG,value:1,offset:0},H:{name:"H",base:U.ELECTRIC_INDUCTANCE,prefixes:L.SHORT,value:1,offset:0},siemens:{name:"siemens",base:U.ELECTRIC_CONDUCTANCE,prefixes:L.LONG,value:1,offset:0},S:{name:"S",base:U.ELECTRIC_CONDUCTANCE,prefixes:L.SHORT,value:1,offset:0},weber:{name:"weber",base:U.MAGNETIC_FLUX,prefixes:L.LONG,value:1,offset:0},Wb:{name:"Wb",base:U.MAGNETIC_FLUX,prefixes:L.SHORT,value:1,offset:0},tesla:{name:"tesla",base:U.MAGNETIC_FLUX_DENSITY,prefixes:L.LONG,value:1,offset:0},T:{name:"T",base:U.MAGNETIC_FLUX_DENSITY,prefixes:L.SHORT,value:1,offset:0},b:{name:"b",base:U.BIT,prefixes:L.BINARY_SHORT,value:1,offset:0},bits:{name:"bits",base:U.BIT,prefixes:L.BINARY_LONG,value:1,offset:0},B:{name:"B",base:U.BIT,prefixes:L.BINARY_SHORT,value:8,offset:0},bytes:{name:"bytes",base:U.BIT,prefixes:L.BINARY_LONG,value:8,offset:0}},he={meters:"meter",inches:"inch",feet:"foot",yards:"yard",miles:"mile",links:"link",rods:"rod",chains:"chain",angstroms:"angstrom",lt:"l",litres:"litre",liter:"litre",liters:"litre",teaspoons:"teaspoon",tablespoons:"tablespoon",minims:"minim",fldr:"fluiddram",fluiddrams:"fluiddram",floz:"fluidounce",fluidounces:"fluidounce",gi:"gill",gills:"gill",cp:"cup",cups:"cup",pt:"pint",pints:"pint",qt:"quart",quarts:"quart",gal:"gallon",gallons:"gallon",bbl:"beerbarrel",beerbarrels:"beerbarrel",obl:"oilbarrel",oilbarrels:"oilbarrel",hogsheads:"hogshead",gtts:"gtt",grams:"gram",tons:"ton",tonnes:"tonne",grains:"grain",drams:"dram",ounces:"ounce",poundmasses:"poundmass",hundredweights:"hundredweight",sticks:"stick",lb:"lbm",lbs:"lbm",kips:"kip",kgf:"kilogramforce",acres:"acre",hectares:"hectare",sqfeet:"sqft",sqyard:"sqyd",sqmile:"sqmi",sqmiles:"sqmi",mmhg:"mmHg",mmh2o:"mmH2O",cmh2o:"cmH2O",seconds:"second",secs:"second",minutes:"minute",mins:"minute",hours:"hour",hr:"hour",hrs:"hour",days:"day",weeks:"week",months:"month",years:"year",decades:"decade",centuries:"century",millennia:"millennium",hertz:"hertz",radians:"radian",degrees:"degree",gradians:"gradian",cycles:"cycle",arcsecond:"arcsec",arcseconds:"arcsec",arcminute:"arcmin",arcminutes:"arcmin",BTUs:"BTU",watts:"watt",joules:"joule",amperes:"ampere",amps:"ampere",amp:"ampere",coulombs:"coulomb",volts:"volt",ohms:"ohm",farads:"farad",webers:"weber",teslas:"tesla",electronvolts:"electronvolt",moles:"mole",bit:"bits",byte:"bytes"};function ke(te){if(te.number==="BigNumber"){var re=Ly(C);Q.rad.value=new C(1),Q.deg.value=re.div(180),Q.grad.value=re.div(200),Q.cycle.value=re.times(2),Q.arcsec.value=re.div(648e3),Q.arcmin.value=re.div(10800)}else Q.rad.value=1,Q.deg.value=Math.PI/180,Q.grad.value=Math.PI/200,Q.cycle.value=Math.PI*2,Q.arcsec.value=Math.PI/648e3,Q.arcmin.value=Math.PI/10800;Q.radian.value=Q.rad.value,Q.degree.value=Q.deg.value,Q.gradian.value=Q.grad.value}ke(e),t&&t("config",function(te,re){te.number!==re.number&&ke(te)});var be={si:{NONE:{unit:se,prefix:L.NONE[""]},LENGTH:{unit:Q.m,prefix:L.SHORT[""]},MASS:{unit:Q.g,prefix:L.SHORT.k},TIME:{unit:Q.s,prefix:L.SHORT[""]},CURRENT:{unit:Q.A,prefix:L.SHORT[""]},TEMPERATURE:{unit:Q.K,prefix:L.SHORT[""]},LUMINOUS_INTENSITY:{unit:Q.cd,prefix:L.SHORT[""]},AMOUNT_OF_SUBSTANCE:{unit:Q.mol,prefix:L.SHORT[""]},ANGLE:{unit:Q.rad,prefix:L.SHORT[""]},BIT:{unit:Q.bits,prefix:L.SHORT[""]},FORCE:{unit:Q.N,prefix:L.SHORT[""]},ENERGY:{unit:Q.J,prefix:L.SHORT[""]},POWER:{unit:Q.W,prefix:L.SHORT[""]},PRESSURE:{unit:Q.Pa,prefix:L.SHORT[""]},ELECTRIC_CHARGE:{unit:Q.C,prefix:L.SHORT[""]},ELECTRIC_CAPACITANCE:{unit:Q.F,prefix:L.SHORT[""]},ELECTRIC_POTENTIAL:{unit:Q.V,prefix:L.SHORT[""]},ELECTRIC_RESISTANCE:{unit:Q.ohm,prefix:L.SHORT[""]},ELECTRIC_INDUCTANCE:{unit:Q.H,prefix:L.SHORT[""]},ELECTRIC_CONDUCTANCE:{unit:Q.S,prefix:L.SHORT[""]},MAGNETIC_FLUX:{unit:Q.Wb,prefix:L.SHORT[""]},MAGNETIC_FLUX_DENSITY:{unit:Q.T,prefix:L.SHORT[""]},FREQUENCY:{unit:Q.Hz,prefix:L.SHORT[""]}}};be.cgs=JSON.parse(JSON.stringify(be.si)),be.cgs.LENGTH={unit:Q.m,prefix:L.SHORT.c},be.cgs.MASS={unit:Q.g,prefix:L.SHORT[""]},be.cgs.FORCE={unit:Q.dyn,prefix:L.SHORT[""]},be.cgs.ENERGY={unit:Q.erg,prefix:L.NONE[""]},be.us=JSON.parse(JSON.stringify(be.si)),be.us.LENGTH={unit:Q.ft,prefix:L.NONE[""]},be.us.MASS={unit:Q.lbm,prefix:L.NONE[""]},be.us.TEMPERATURE={unit:Q.degF,prefix:L.NONE[""]},be.us.FORCE={unit:Q.lbf,prefix:L.NONE[""]},be.us.ENERGY={unit:Q.BTU,prefix:L.BTU[""]},be.us.POWER={unit:Q.hp,prefix:L.NONE[""]},be.us.PRESSURE={unit:Q.psi,prefix:L.NONE[""]},be.auto=JSON.parse(JSON.stringify(be.si));var ee=be.auto;x.setUnitSystem=function(te){if(Dt(be,te))ee=be[te];else throw new Error("Unit system "+te+" does not exist. Choices are: "+Object.keys(be).join(", "))},x.getUnitSystem=function(){for(var te in be)if(Dt(be,te)&&be[te]===ee)return te},x.typeConverters={BigNumber:function(re){return re!=null&&re.isFraction?new C(re.n).div(re.d).times(re.s):new C(re+"")},Fraction:function(re){return new S(re)},Complex:function(re){return re},number:function(re){return re!=null&&re.isFraction?b(re):re}},x.prototype._numberConverter=function(){var te=x.typeConverters[this.valueType()];if(te)return te;throw new TypeError('Unsupported Unit value type "'+this.valueType()+'"')},x._getNumberConverter=function(te){if(!x.typeConverters[te])throw new TypeError('Unsupported type "'+te+'"');return x.typeConverters[te]};for(var ae in Q)if(Dt(Q,ae)){var le=Q[ae];le.dimensions=le.base.dimensions}for(var pe in he)if(Dt(he,pe)){var ve=Q[he[pe]],Ee={};for(var Ie in ve)Dt(ve,Ie)&&(Ee[Ie]=ve[Ie]);Ee.name=pe,Q[pe]=Ee}x.isValidAlpha=function(re){return/^[a-zA-Z]$/.test(re)};function Ve(te){for(var re=0;re<te.length;re++){if(w=te.charAt(re),re===0&&!x.isValidAlpha(w))throw new Error('Invalid unit name (must begin with alpha character): "'+te+'"');if(re>0&&!(x.isValidAlpha(w)||I(w)))throw new Error('Invalid unit name (only alphanumeric characters are allowed): "'+te+'"')}}return x.createUnit=function(te,re){if(typeof te!="object")throw new TypeError("createUnit expects first parameter to be of type 'Object'");if(re&&re.override){for(var De in te)if(Dt(te,De)&&x.deleteUnit(De),te[De].aliases)for(var Ae=0;Ae<te[De].aliases.length;Ae++)x.deleteUnit(te[De].aliases[Ae])}var qe;for(var Ge in te)Dt(te,Ge)&&(qe=x.createUnitSingle(Ge,te[Ge]));return qe},x.createUnitSingle=function(te,re){if((typeof re>"u"||re===null)&&(re={}),typeof te!="string")throw new TypeError("createUnitSingle expects first parameter to be of type 'string'");if(Dt(Q,te))throw new Error('Cannot create unit "'+te+'": a unit with that name already exists');Ve(te);var De=null,Ae=[],qe=0,Ge,mt,yt;if(re&&re.type==="Unit")De=re.clone();else if(typeof re=="string")re!==""&&(Ge=re);else if(typeof re=="object")Ge=re.definition,mt=re.prefixes,qe=re.offset,yt=re.baseName,re.aliases&&(Ae=re.aliases.valueOf());else throw new TypeError('Cannot create unit "'+te+'" from "'+re.toString()+'": expecting "string" or "Unit" or "Object"');if(Ae){for(var tr=0;tr<Ae.length;tr++)if(Dt(Q,Ae[tr]))throw new Error('Cannot create alias "'+Ae[tr]+'": a unit with that name already exists')}if(Ge&&typeof Ge=="string"&&!De)try{De=x.parse(Ge,{allowNoUnits:!0})}catch(B){throw B.message='Could not create unit "'+te+'" from "'+Ge+'": '+B.message,B}else Ge&&Ge.type==="Unit"&&(De=Ge.clone());Ae=Ae||[],qe=qe||0,mt&&mt.toUpperCase?mt=L[mt.toUpperCase()]||L.NONE:mt=L.NONE;var Yt={};if(De){Yt={name:te,value:De.value,dimensions:De.dimensions.slice(0),prefixes:mt,offset:qe};var oi=!1;for(var ue in U)if(Dt(U,ue)){for(var Ce=!0,Re=0;Re<Z.length;Re++)if(Math.abs((Yt.dimensions[Re]||0)-(U[ue].dimensions[Re]||0))>1e-12){Ce=!1;break}if(Ce){oi=!0,Yt.base=U[ue];break}}if(!oi){yt=yt||te+"_STUFF";var Xe={dimensions:De.dimensions.slice(0)};Xe.key=yt,U[yt]=Xe,ee[yt]={unit:Yt,prefix:L.NONE[""]},Yt.base=U[yt]}}else{if(yt=yt||te+"_STUFF",Z.indexOf(yt)>=0)throw new Error('Cannot create new base unit "'+te+'": a base unit with that name already exists (and cannot be overridden)');Z.push(yt);for(var bn in U)Dt(U,bn)&&(U[bn].dimensions[Z.length-1]=0);for(var Vr={dimensions:[]},xi=0;xi<Z.length;xi++)Vr.dimensions[xi]=0;Vr.dimensions[Z.length-1]=1,Vr.key=yt,U[yt]=Vr,Yt={name:te,value:1,dimensions:U[yt].dimensions.slice(0),prefixes:mt,offset:qe,base:U[yt]},ee[yt]={unit:Yt,prefix:L.NONE[""]}}x.UNITS[te]=Yt;for(var Qe=0;Qe<Ae.length;Qe++){var Je=Ae[Qe],Le={};for(var st in Yt)Dt(Yt,st)&&(Le[st]=Yt[st]);Le.name=Je,x.UNITS[Je]=Le}return delete Y.cache,new x(null,te)},x.deleteUnit=function(te){delete x.UNITS[te],delete Y.cache},x.PREFIXES=L,x.BASE_DIMENSIONS=Z,x.BASE_UNITS=U,x.UNIT_SYSTEMS=be,x.UNITS=Q,x},{isClass:!0});var iX="unit",JAe=["typed","Unit"],gP=F(iX,JAe,r=>{var{typed:t,Unit:e}=r;return t(iX,{Unit:function(i){return i.clone()},string:function(i){return e.isValuelessUnit(i)?new e(null,i):e.parse(i,{allowNoUnits:!0})},"number | BigNumber | Fraction | Complex, string | Unit":function(i,o){return new e(i,o)},"number | BigNumber | Fraction":function(i){return new e(i)},"Array | Matrix":t.referToSelf(n=>i=>wt(i,n))})});var oX="sparse",eTe=["typed","SparseMatrix"],vP=F(oX,eTe,r=>{var{typed:t,SparseMatrix:e}=r;return t(oX,{"":function(){return new e([])},string:function(i){return new e([],i)},"Array | Matrix":function(i){return new e(i)},"Array | Matrix, string":function(i,o){return new e(i,o)}})});var sX="createUnit",tTe=["typed","Unit"],bP=F(sX,tTe,r=>{var{typed:t,Unit:e}=r;return t(sX,{"Object, Object":function(i,o){return e.createUnit(i,o)},Object:function(i){return e.createUnit(i,{})},"string, Unit | string | Object, Object":function(i,o,s){var a={};return a[i]=o,e.createUnit(a,s)},"string, Unit | string | Object":function(i,o){var s={};return s[i]=o,e.createUnit(s,{})},string:function(i){var o={};return o[i]={},e.createUnit(o,{})}})});var aX="acos",rTe=["typed","config","Complex"],yP=F(aX,rTe,r=>{var{typed:t,config:e,Complex:n}=r;return t(aX,{number:function(o){return o>=-1&&o<=1||e.predictable?Math.acos(o):new n(o,0).acos()},Complex:function(o){return o.acos()},BigNumber:function(o){return o.acos()}})});var lX="acosh",nTe=["typed","config","Complex"],_P=F(lX,nTe,r=>{var{typed:t,config:e,Complex:n}=r;return t(lX,{number:function(o){return o>=1||e.predictable?OF(o):o<=-1?new n(Math.log(Math.sqrt(o*o-1)-o),Math.PI):new n(o,0).acosh()},Complex:function(o){return o.acosh()},BigNumber:function(o){return o.acosh()}})});var cX="acot",iTe=["typed","BigNumber"],xP=F(cX,iTe,r=>{var{typed:t,BigNumber:e}=r;return t(cX,{number:FF,Complex:function(i){return i.acot()},BigNumber:function(i){return new e(1).div(i).atan()}})});var uX="acoth",oTe=["typed","config","Complex","BigNumber"],wP=F(uX,oTe,r=>{var{typed:t,config:e,Complex:n,BigNumber:i}=r;return t(uX,{number:function(s){return s>=1||s<=-1||e.predictable?RF(s):new n(s,0).acoth()},Complex:function(s){return s.acoth()},BigNumber:function(s){return new i(1).div(s).atanh()}})});var dX="acsc",sTe=["typed","config","Complex","BigNumber"],CP=F(dX,sTe,r=>{var{typed:t,config:e,Complex:n,BigNumber:i}=r;return t(dX,{number:function(s){return s<=-1||s>=1||e.predictable?PF(s):new n(s,0).acsc()},Complex:function(s){return s.acsc()},BigNumber:function(s){return new i(1).div(s).asin()}})});var fX="acsch",aTe=["typed","BigNumber"],SP=F(fX,aTe,r=>{var{typed:t,BigNumber:e}=r;return t(fX,{number:LF,Complex:function(i){return i.acsch()},BigNumber:function(i){return new e(1).div(i).asinh()}})});var hX="asec",lTe=["typed","config","Complex","BigNumber"],DP=F(hX,lTe,r=>{var{typed:t,config:e,Complex:n,BigNumber:i}=r;return t(hX,{number:function(s){return s<=-1||s>=1||e.predictable?BF(s):new n(s,0).asec()},Complex:function(s){return s.asec()},BigNumber:function(s){return new i(1).div(s).acos()}})});var mX="asech",cTe=["typed","config","Complex","BigNumber"],EP=F(mX,cTe,r=>{var{typed:t,config:e,Complex:n,BigNumber:i}=r;return t(mX,{number:function(s){if(s<=1&&s>=-1||e.predictable){var a=1/s;if(a>0||e.predictable)return VF(s);var l=Math.sqrt(a*a-1);return new n(Math.log(l-a),Math.PI)}return new n(s,0).asech()},Complex:function(s){return s.asech()},BigNumber:function(s){return new i(1).div(s).acosh()}})});var pX="asin",uTe=["typed","config","Complex"],MP=F(pX,uTe,r=>{var{typed:t,config:e,Complex:n}=r;return t(pX,{number:function(o){return o>=-1&&o<=1||e.predictable?Math.asin(o):new n(o,0).asin()},Complex:function(o){return o.asin()},BigNumber:function(o){return o.asin()}})});var dTe="asinh",fTe=["typed"],AP=F(dTe,fTe,r=>{var{typed:t}=r;return t("asinh",{number:zF,Complex:function(n){return n.asinh()},BigNumber:function(n){return n.asinh()}})});var hTe="atan",mTe=["typed"],TP=F(hTe,mTe,r=>{var{typed:t}=r;return t("atan",{number:function(n){return Math.atan(n)},Complex:function(n){return n.atan()},BigNumber:function(n){return n.atan()}})});var gX="atan2",pTe=["typed","matrix","equalScalar","BigNumber","DenseMatrix","concat"],IP=F(gX,pTe,r=>{var{typed:t,matrix:e,equalScalar:n,BigNumber:i,DenseMatrix:o,concat:s}=r,a=$i({typed:t,equalScalar:n}),l=Rn({typed:t}),c=WS({typed:t,equalScalar:n}),d=mn({typed:t,equalScalar:n}),f=Jr({typed:t,DenseMatrix:o}),m=ir({typed:t,matrix:e,concat:s});return t(gX,{"number, number":Math.atan2,"BigNumber, BigNumber":(p,b)=>i.atan2(p,b)},m({scalar:"number | BigNumber",SS:c,DS:l,SD:a,Ss:d,sS:f}))});var vX="atanh",gTe=["typed","config","Complex"],kP=F(vX,gTe,r=>{var{typed:t,config:e,Complex:n}=r;return t(vX,{number:function(o){return o<=1&&o>=-1||e.predictable?jF(o):new n(o,0).atanh()},Complex:function(o){return o.atanh()},BigNumber:function(o){return o.atanh()}})});var jl=F("trigUnit",["typed"],r=>{var{typed:t}=r;return{Unit:t.referToSelf(e=>n=>{if(!n.hasBase(n.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function cot is no angle");return t.find(e,n.valueType())(n.value)})}});var bX="cos",vTe=["typed"],NP=F(bX,vTe,r=>{var{typed:t}=r,e=jl({typed:t});return t(bX,{number:Math.cos,"Complex | BigNumber":n=>n.cos()},e)});var yX="cosh",bTe=["typed"],OP=F(yX,bTe,r=>{var{typed:t}=r;return t(yX,{number:xS,"Complex | BigNumber":e=>e.cosh()})});var _X="cot",yTe=["typed","BigNumber"],FP=F(_X,yTe,r=>{var{typed:t,BigNumber:e}=r,n=jl({typed:t});return t(_X,{number:HF,Complex:i=>i.cot(),BigNumber:i=>new e(1).div(i.tan())},n)});var xX="coth",_Te=["typed","BigNumber"],RP=F(xX,_Te,r=>{var{typed:t,BigNumber:e}=r;return t(xX,{number:UF,Complex:n=>n.coth(),BigNumber:n=>new e(1).div(n.tanh())})});var wX="csc",xTe=["typed","BigNumber"],PP=F(wX,xTe,r=>{var{typed:t,BigNumber:e}=r,n=jl({typed:t});return t(wX,{number:qF,Complex:i=>i.csc(),BigNumber:i=>new e(1).div(i.sin())},n)});var CX="csch",wTe=["typed","BigNumber"],LP=F(CX,wTe,r=>{var{typed:t,BigNumber:e}=r;return t(CX,{number:WF,Complex:n=>n.csch(),BigNumber:n=>new e(1).div(n.sinh())})});var SX="sec",CTe=["typed","BigNumber"],BP=F(SX,CTe,r=>{var{typed:t,BigNumber:e}=r,n=jl({typed:t});return t(SX,{number:$F,Complex:i=>i.sec(),BigNumber:i=>new e(1).div(i.cos())},n)});var DX="sech",STe=["typed","BigNumber"],VP=F(DX,STe,r=>{var{typed:t,BigNumber:e}=r;return t(DX,{number:GF,Complex:n=>n.sech(),BigNumber:n=>new e(1).div(n.cosh())})});var EX="sin",DTe=["typed"],zP=F(EX,DTe,r=>{var{typed:t}=r,e=jl({typed:t});return t(EX,{number:Math.sin,"Complex | BigNumber":n=>n.sin()},e)});var MX="sinh",ETe=["typed"],jP=F(MX,ETe,r=>{var{typed:t}=r;return t(MX,{number:YF,"Complex | BigNumber":e=>e.sinh()})});var AX="tan",MTe=["typed"],HP=F(AX,MTe,r=>{var{typed:t}=r,e=jl({typed:t});return t(AX,{number:Math.tan,"Complex | BigNumber":n=>n.tan()},e)});var ATe="tanh",TTe=["typed"],UP=F(ATe,TTe,r=>{var{typed:t}=r;return t("tanh",{number:wS,"Complex | BigNumber":e=>e.tanh()})});var TX="setCartesian",ITe=["typed","size","subset","compareNatural","Index","DenseMatrix"],qP=F(TX,ITe,r=>{var{typed:t,size:e,subset:n,compareNatural:i,Index:o,DenseMatrix:s}=r;return t(TX,{"Array | Matrix, Array | Matrix":function(l,c){var d=[];if(n(e(l),new o(0))!==0&&n(e(c),new o(0))!==0){var f=mr(Array.isArray(l)?l:l.toArray()).sort(i),m=mr(Array.isArray(c)?c:c.toArray()).sort(i);d=[];for(var p=0;p<f.length;p++)for(var b=0;b<m.length;b++)d.push([f[p],m[b]])}return Array.isArray(l)&&Array.isArray(c)?d:new s(d)}})});var IX="setDifference",kTe=["typed","size","subset","compareNatural","Index","DenseMatrix"],WP=F(IX,kTe,r=>{var{typed:t,size:e,subset:n,compareNatural:i,Index:o,DenseMatrix:s}=r;return t(IX,{"Array | Matrix, Array | Matrix":function(l,c){var d;if(n(e(l),new o(0))===0)d=[];else{if(n(e(c),new o(0))===0)return mr(l.toArray());var f=Dd(mr(Array.isArray(l)?l:l.toArray()).sort(i)),m=Dd(mr(Array.isArray(c)?c:c.toArray()).sort(i));d=[];for(var p,b=0;b<f.length;b++){p=!1;for(var y=0;y<m.length;y++)if(i(f[b].value,m[y].value)===0&&f[b].identifier===m[y].identifier){p=!0;break}p||d.push(f[b])}}return Array.isArray(l)&&Array.isArray(c)?Zg(d):new s(Zg(d))}})});var kX="setDistinct",NTe=["typed","size","subset","compareNatural","Index","DenseMatrix"],$P=F(kX,NTe,r=>{var{typed:t,size:e,subset:n,compareNatural:i,Index:o,DenseMatrix:s}=r;return t(kX,{"Array | Matrix":function(l){var c;if(n(e(l),new o(0))===0)c=[];else{var d=mr(Array.isArray(l)?l:l.toArray()).sort(i);c=[],c.push(d[0]);for(var f=1;f<d.length;f++)i(d[f],d[f-1])!==0&&c.push(d[f])}return Array.isArray(l)?c:new s(c)}})});var NX="setIntersect",OTe=["typed","size","subset","compareNatural","Index","DenseMatrix"],GP=F(NX,OTe,r=>{var{typed:t,size:e,subset:n,compareNatural:i,Index:o,DenseMatrix:s}=r;return t(NX,{"Array | Matrix, Array | Matrix":function(l,c){var d;if(n(e(l),new o(0))===0||n(e(c),new o(0))===0)d=[];else{var f=Dd(mr(Array.isArray(l)?l:l.toArray()).sort(i)),m=Dd(mr(Array.isArray(c)?c:c.toArray()).sort(i));d=[];for(var p=0;p<f.length;p++)for(var b=0;b<m.length;b++)if(i(f[p].value,m[b].value)===0&&f[p].identifier===m[b].identifier){d.push(f[p]);break}}return Array.isArray(l)&&Array.isArray(c)?Zg(d):new s(Zg(d))}})});var OX="setIsSubset",FTe=["typed","size","subset","compareNatural","Index"],YP=F(OX,FTe,r=>{var{typed:t,size:e,subset:n,compareNatural:i,Index:o}=r;return t(OX,{"Array | Matrix, Array | Matrix":function(a,l){if(n(e(a),new o(0))===0)return!0;if(n(e(l),new o(0))===0)return!1;for(var c=Dd(mr(Array.isArray(a)?a:a.toArray()).sort(i)),d=Dd(mr(Array.isArray(l)?l:l.toArray()).sort(i)),f,m=0;m<c.length;m++){f=!1;for(var p=0;p<d.length;p++)if(i(c[m].value,d[p].value)===0&&c[m].identifier===d[p].identifier){f=!0;break}if(f===!1)return!1}return!0}})});var FX="setMultiplicity",RTe=["typed","size","subset","compareNatural","Index"],KP=F(FX,RTe,r=>{var{typed:t,size:e,subset:n,compareNatural:i,Index:o}=r;return t(FX,{"number | BigNumber | Fraction | Complex, Array | Matrix":function(a,l){if(n(e(l),new o(0))===0)return 0;for(var c=mr(Array.isArray(l)?l:l.toArray()),d=0,f=0;f<c.length;f++)i(c[f],a)===0&&d++;return d}})});var RX="setPowerset",PTe=["typed","size","subset","compareNatural","Index"],XP=F(RX,PTe,r=>{var{typed:t,size:e,subset:n,compareNatural:i,Index:o}=r;return t(RX,{"Array | Matrix":function(c){if(n(e(c),new o(0))===0)return[];for(var d=mr(Array.isArray(c)?c:c.toArray()).sort(i),f=[],m=0;m.toString(2).length<=d.length;)f.push(s(d,m.toString(2).split("").reverse())),m++;return a(f)}});function s(l,c){for(var d=[],f=0;f<c.length;f++)c[f]==="1"&&d.push(l[f]);return d}function a(l){for(var c=[],d=l.length-1;d>0;d--)for(var f=0;f<d;f++)l[f].length>l[f+1].length&&(c=l[f],l[f]=l[f+1],l[f+1]=c);return l}});var PX="setSize",LTe=["typed","compareNatural"],ZP=F(PX,LTe,r=>{var{typed:t,compareNatural:e}=r;return t(PX,{"Array | Matrix":function(i){return Array.isArray(i)?mr(i).length:mr(i.toArray()).length},"Array | Matrix, boolean":function(i,o){if(o===!1||i.length===0)return Array.isArray(i)?mr(i).length:mr(i.toArray()).length;for(var s=mr(Array.isArray(i)?i:i.toArray()).sort(e),a=1,l=1;l<s.length;l++)e(s[l],s[l-1])!==0&&a++;return a}})});var LX="setSymDifference",BTe=["typed","size","concat","subset","setDifference","Index"],QP=F(LX,BTe,r=>{var{typed:t,size:e,concat:n,subset:i,setDifference:o,Index:s}=r;return t(LX,{"Array | Matrix, Array | Matrix":function(l,c){if(i(e(l),new s(0))===0)return mr(c);if(i(e(c),new s(0))===0)return mr(l);var d=mr(l),f=mr(c);return n(o(d,f),o(f,d))}})});var BX="setUnion",VTe=["typed","size","concat","subset","setIntersect","setSymDifference","Index"],JP=F(BX,VTe,r=>{var{typed:t,size:e,concat:n,subset:i,setIntersect:o,setSymDifference:s,Index:a}=r;return t(BX,{"Array | Matrix, Array | Matrix":function(c,d){if(i(e(c),new a(0))===0)return mr(d);if(i(e(d),new a(0))===0)return mr(c);var f=mr(c),m=mr(d);return n(s(f,m),o(f,m))}})});var VX="add",zTe=["typed","matrix","addScalar","equalScalar","DenseMatrix","SparseMatrix","concat"],eL=F(VX,zTe,r=>{var{typed:t,matrix:e,addScalar:n,equalScalar:i,DenseMatrix:o,SparseMatrix:s,concat:a}=r,l=ks({typed:t}),c=rv({typed:t,equalScalar:i}),d=Pa({typed:t,DenseMatrix:o}),f=ir({typed:t,matrix:e,concat:a});return t(VX,{"any, any":n,"any, any, ...any":t.referToSelf(m=>(p,b,y)=>{for(var C=m(p,b),S=0;S<y.length;S++)C=m(C,y[S]);return C})},f({elop:n,DS:l,SS:c,Ss:d}))});var zX="hypot",jTe=["typed","abs","addScalar","divideScalar","multiplyScalar","sqrt","smaller","isPositive"],tL=F(zX,jTe,r=>{var{typed:t,abs:e,addScalar:n,divideScalar:i,multiplyScalar:o,sqrt:s,smaller:a,isPositive:l}=r;return t(zX,{"... number | BigNumber":c,Array:c,Matrix:d=>c(mr(d.toArray()))});function c(d){for(var f=0,m=0,p=0;p<d.length;p++){if(ua(d[p]))throw new TypeError("Unexpected type of argument to hypot");var b=e(d[p]);a(m,b)?(f=o(f,o(i(m,b),i(m,b))),f=n(f,1),m=b):f=n(f,l(b)?o(i(b,m),i(b,m)):b)}return o(m,s(f))}});var jX="norm",HTe=["typed","abs","add","pow","conj","sqrt","multiply","equalScalar","larger","smaller","matrix","ctranspose","eigs"],rL=F(jX,HTe,r=>{var{typed:t,abs:e,add:n,pow:i,conj:o,sqrt:s,multiply:a,equalScalar:l,larger:c,smaller:d,matrix:f,ctranspose:m,eigs:p}=r;return t(jX,{number:Math.abs,Complex:function(k){return k.abs()},BigNumber:function(k){return k.abs()},boolean:function(k){return Math.abs(k)},Array:function(k){return w(f(k),2)},Matrix:function(k){return w(k,2)},"Array, number | BigNumber | string":function(k,I){return w(f(k),I)},"Matrix, number | BigNumber | string":function(k,I){return w(k,I)}});function b(T){var k=0;return T.forEach(function(I){var O=e(I);c(O,k)&&(k=O)},!0),k}function y(T){var k;return T.forEach(function(I){var O=e(I);(!k||d(O,k))&&(k=O)},!0),k||0}function C(T,k){if(k===Number.POSITIVE_INFINITY||k==="inf")return b(T);if(k===Number.NEGATIVE_INFINITY||k==="-inf")return y(T);if(k==="fro")return w(T,2);if(typeof k=="number"&&!isNaN(k)){if(!l(k,0)){var I=0;return T.forEach(function(O){I=n(i(e(O),k),I)},!0),i(I,1/k)}return Number.POSITIVE_INFINITY}throw new Error("Unsupported parameter value")}function S(T){var k=0;return T.forEach(function(I,O){k=n(k,a(I,o(I)))}),e(s(k))}function A(T){var k=[],I=0;return T.forEach(function(O,R){var j=R[1],q=n(k[j]||0,e(O));c(q,I)&&(I=q),k[j]=q},!0),I}function x(T){var k=T.size();if(k[0]!==k[1])throw new RangeError("Invalid matrix dimensions");var I=m(T),O=a(I,T),R=p(O).values.toArray(),j=R[R.length-1];return e(s(j))}function M(T){var k=[],I=0;return T.forEach(function(O,R){var j=R[0],q=n(k[j]||0,e(O));c(q,I)&&(I=q),k[j]=q},!0),I}function E(T,k){if(k===1)return A(T);if(k===Number.POSITIVE_INFINITY||k==="inf")return M(T);if(k==="fro")return S(T);if(k===2)return x(T);throw new Error("Unsupported parameter value "+k)}function w(T,k){var I=T.size();if(I.length===1)return C(T,k);if(I.length===2){if(I[0]&&I[1])return E(T,k);throw new RangeError("Invalid matrix dimensions")}}});var HX="dot",UTe=["typed","addScalar","multiplyScalar","conj","size"],nL=F(HX,UTe,r=>{var{typed:t,addScalar:e,multiplyScalar:n,conj:i,size:o}=r;return t(HX,{"Array | DenseMatrix, Array | DenseMatrix":a,"SparseMatrix, SparseMatrix":l});function s(d,f){var m=c(d),p=c(f),b,y;if(m.length===1)b=m[0];else if(m.length===2&&m[1]===1)b=m[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+m.join(", ")+")");if(p.length===1)y=p[0];else if(p.length===2&&p[1]===1)y=p[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+p.join(", ")+")");if(b!==y)throw new RangeError("Vectors must have equal length ("+b+" != "+y+")");if(b===0)throw new RangeError("Cannot calculate the dot product of empty vectors");return b}function a(d,f){var m=s(d,f),p=_t(d)?d._data:d,b=_t(d)?d._datatype||d.getDataType():void 0,y=_t(f)?f._data:f,C=_t(f)?f._datatype||f.getDataType():void 0,S=c(d).length===2,A=c(f).length===2,x=e,M=n;if(b&&C&&b===C&&typeof b=="string"&&b!=="mixed"){var E=b;x=t.find(e,[E,E]),M=t.find(n,[E,E])}if(!S&&!A){for(var w=M(i(p[0]),y[0]),T=1;T<m;T++)w=x(w,M(i(p[T]),y[T]));return w}if(!S&&A){for(var k=M(i(p[0]),y[0][0]),I=1;I<m;I++)k=x(k,M(i(p[I]),y[I][0]));return k}if(S&&!A){for(var O=M(i(p[0][0]),y[0]),R=1;R<m;R++)O=x(O,M(i(p[R][0]),y[R]));return O}if(S&&A){for(var j=M(i(p[0][0]),y[0][0]),q=1;q<m;q++)j=x(j,M(i(p[q][0]),y[q][0]));return j}}function l(d,f){s(d,f);for(var m=d._index,p=d._values,b=f._index,y=f._values,C=0,S=e,A=n,x=0,M=0;x<m.length&&M<b.length;){var E=m[x],w=b[M];if(E<w){x++;continue}if(E>w){M++;continue}E===w&&(C=S(C,A(p[x],y[M])),x++,M++)}return C}function c(d){return _t(d)?d.size():o(d)}});var qTe="trace",WTe=["typed","matrix","add"],iL=F(qTe,WTe,r=>{var{typed:t,matrix:e,add:n}=r;return t("trace",{Array:function(a){return i(e(a))},SparseMatrix:o,DenseMatrix:i,any:Pt});function i(s){var a=s._size,l=s._data;switch(a.length){case 1:if(a[0]===1)return Pt(l[0]);throw new RangeError("Matrix must be square (size: "+Gt(a)+")");case 2:{var c=a[0],d=a[1];if(c===d){for(var f=0,m=0;m<c;m++)f=n(f,l[m][m]);return f}else throw new RangeError("Matrix must be square (size: "+Gt(a)+")")}default:throw new RangeError("Matrix must be two dimensional (size: "+Gt(a)+")")}}function o(s){var a=s._values,l=s._index,c=s._ptr,d=s._size,f=d[0],m=d[1];if(f===m){var p=0;if(a.length>0)for(var b=0;b<m;b++)for(var y=c[b],C=c[b+1],S=y;S<C;S++){var A=l[S];if(A===b){p=n(p,a[S]);break}if(A>b)break}return p}throw new RangeError("Matrix must be square (size: "+Gt(d)+")")}});var UX="index",$Te=["typed","Index"],oL=F(UX,$Te,r=>{var{typed:t,Index:e}=r;return t(UX,{"...number | string | BigNumber | Range | Array | Matrix":function(i){var o=i.map(function(a){return It(a)?a.toNumber():Gr(a)||_t(a)?a.map(function(l){return It(l)?l.toNumber():l}):a}),s=new e;return e.apply(s,o),s}})});var iD=new Set(["end"]);var GTe="Node",YTe=["mathWithTransform"],sL=F(GTe,YTe,r=>{var{mathWithTransform:t}=r;function e(i){for(var o of[...iD])if(i.has(o))throw new Error('Scope contains an illegal symbol, "'+o+'" is a reserved keyword')}class n{get type(){return"Node"}get isNode(){return!0}evaluate(o){return this.compile().evaluate(o)}compile(){var o=this._compile(t,{}),s={},a=null;function l(c){var d=xd(c);return e(d),o(d,s,a)}return{evaluate:l}}_compile(o,s){throw new Error("Method _compile must be implemented by type "+this.type)}forEach(o){throw new Error("Cannot run forEach on a Node interface")}map(o){throw new Error("Cannot run map on a Node interface")}_ifNode(o){if(!Ar(o))throw new TypeError("Callback function must return a Node");return o}traverse(o){o(this,null,null);function s(a,l){a.forEach(function(c,d,f){l(c,d,f),s(c,l)})}s(this,o)}transform(o){function s(a,l,c){var d=o(a,l,c);return d!==a?d:a.map(s)}return s(this,null,null)}filter(o){var s=[];return this.traverse(function(a,l,c){o(a,l,c)&&s.push(a)}),s}clone(){throw new Error("Cannot clone a Node interface")}cloneDeep(){return this.map(function(o){return o.cloneDeep()})}equals(o){return o?this.type===o.type&&Oa(this,o):!1}toString(o){var s=this._getCustomString(o);return typeof s<"u"?s:this._toString(o)}_toString(){throw new Error("_toString not implemented for "+this.type)}toJSON(){throw new Error("Cannot serialize object: toJSON not implemented by "+this.type)}toHTML(o){var s=this._getCustomString(o);return typeof s<"u"?s:this._toHTML(o)}_toHTML(){throw new Error("_toHTML not implemented for "+this.type)}toTex(o){var s=this._getCustomString(o);return typeof s<"u"?s:this._toTex(o)}_toTex(o){throw new Error("_toTex not implemented for "+this.type)}_getCustomString(o){if(o&&typeof o=="object")switch(typeof o.handler){case"object":case"undefined":return;case"function":return o.handler(this,o);default:throw new TypeError("Object or function expected as callback")}}getIdentifier(){return this.type}getContent(){return this}}return n},{isClass:!0,isNode:!0});function Pn(r){return r&&r.isIndexError?new fs(r.index+1,r.min+1,r.max!==void 0?r.max+1:void 0):r}function oD(r){var{subset:t}=r;return function(n,i){try{if(Array.isArray(n))return t(n,i);if(n&&typeof n.subset=="function")return n.subset(i);if(typeof n=="string")return t(n,i);if(typeof n=="object"){if(!i.isObjectProperty())throw new TypeError("Cannot apply a numeric index as object property");return ei(n,i.getObjectProperty())}else throw new TypeError("Cannot apply index: unsupported type of object")}catch(o){throw Pn(o)}}}var sD="AccessorNode",KTe=["subset","Node"],aL=F(sD,KTe,r=>{var{subset:t,Node:e}=r,n=oD({subset:t});function i(s){return!(rl(s)||cs(s)||xr(s)||da(s)||Pf(s)||us(s)||In(s))}class o extends e{constructor(a,l){if(super(),!Ar(a))throw new TypeError('Node expected for parameter "object"');if(!Fl(l))throw new TypeError('IndexNode expected for parameter "index"');this.object=a,this.index=l}get name(){return this.index?this.index.isObjectProperty()?this.index.getObjectProperty():"":this.object.name||""}get type(){return sD}get isAccessorNode(){return!0}_compile(a,l){var c=this.object._compile(a,l),d=this.index._compile(a,l);if(this.index.isObjectProperty()){var f=this.index.getObjectProperty();return function(p,b,y){return ei(c(p,b,y),f)}}else return function(p,b,y){var C=c(p,b,y),S=d(p,b,C);return n(C,S)}}forEach(a){a(this.object,"object",this),a(this.index,"index",this)}map(a){return new o(this._ifNode(a(this.object,"object",this)),this._ifNode(a(this.index,"index",this)))}clone(){return new o(this.object,this.index)}_toString(a){var l=this.object.toString(a);return i(this.object)&&(l="("+l+")"),l+this.index.toString(a)}_toHTML(a){var l=this.object.toHTML(a);return i(this.object)&&(l='<span class="math-parenthesis math-round-parenthesis">(</span>'+l+'<span class="math-parenthesis math-round-parenthesis">)</span>'),l+this.index.toHTML(a)}_toTex(a){var l=this.object.toTex(a);return i(this.object)&&(l="\\left(' + object + '\\right)"),l+this.index.toTex(a)}toJSON(){return{mathjs:sD,object:this.object,index:this.index}}static fromJSON(a){return new o(a.object,a.index)}}return an(o,"name",sD),o},{isClass:!0,isNode:!0});var aD="ArrayNode",XTe=["Node"],lL=F(aD,XTe,r=>{var{Node:t}=r;class e extends t{constructor(i){if(super(),this.items=i||[],!Array.isArray(this.items)||!this.items.every(Ar))throw new TypeError("Array containing Nodes expected")}get type(){return aD}get isArrayNode(){return!0}_compile(i,o){var s=Ll(this.items,function(c){return c._compile(i,o)}),a=i.config.matrix!=="Array";if(a){var l=i.matrix;return function(d,f,m){return l(Ll(s,function(p){return p(d,f,m)}))}}else return function(d,f,m){return Ll(s,function(p){return p(d,f,m)})}}forEach(i){for(var o=0;o<this.items.length;o++){var s=this.items[o];i(s,"items["+o+"]",this)}}map(i){for(var o=[],s=0;s<this.items.length;s++)o[s]=this._ifNode(i(this.items[s],"items["+s+"]",this));return new e(o)}clone(){return new e(this.items.slice(0))}_toString(i){var o=this.items.map(function(s){return s.toString(i)});return"["+o.join(", ")+"]"}toJSON(){return{mathjs:aD,items:this.items}}static fromJSON(i){return new e(i.items)}_toHTML(i){var o=this.items.map(function(s){return s.toHTML(i)});return'<span class="math-parenthesis math-square-parenthesis">[</span>'+o.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-square-parenthesis">]</span>'}_toTex(i){function o(s,a){var l=s.some(cs)&&!s.every(cs),c=a||l,d=c?"&":"\\\\",f=s.map(function(m){return m.items?o(m.items,!a):m.toTex(i)}).join(d);return l||!c||c&&!a?"\\begin{bmatrix}"+f+"\\end{bmatrix}":f}return o(this.items,!1)}}return an(e,"name",aD),e},{isClass:!0,isNode:!0});function qX(r){var{subset:t,matrix:e}=r;return function(i,o,s){try{if(Array.isArray(i)){var a=e(i).subset(o,s).valueOf();return a.forEach((l,c)=>{i[c]=l}),i}else{if(i&&typeof i.subset=="function")return i.subset(o,s);if(typeof i=="string")return t(i,o,s);if(typeof i=="object"){if(!o.isObjectProperty())throw TypeError("Cannot apply a numeric index as object property");return lu(i,o.getObjectProperty(),s),i}else throw new TypeError("Cannot apply index: unsupported type of object")}}catch(l){throw Pn(l)}}}var Hl=[{AssignmentNode:{},FunctionAssignmentNode:{}},{ConditionalNode:{latexLeftParens:!1,latexRightParens:!1,latexParens:!1}},{"OperatorNode:or":{op:"or",associativity:"left",associativeWith:[]}},{"OperatorNode:xor":{op:"xor",associativity:"left",associativeWith:[]}},{"OperatorNode:and":{op:"and",associativity:"left",associativeWith:[]}},{"OperatorNode:bitOr":{op:"|",associativity:"left",associativeWith:[]}},{"OperatorNode:bitXor":{op:"^|",associativity:"left",associativeWith:[]}},{"OperatorNode:bitAnd":{op:"&",associativity:"left",associativeWith:[]}},{"OperatorNode:equal":{op:"==",associativity:"left",associativeWith:[]},"OperatorNode:unequal":{op:"!=",associativity:"left",associativeWith:[]},"OperatorNode:smaller":{op:"<",associativity:"left",associativeWith:[]},"OperatorNode:larger":{op:">",associativity:"left",associativeWith:[]},"OperatorNode:smallerEq":{op:"<=",associativity:"left",associativeWith:[]},"OperatorNode:largerEq":{op:">=",associativity:"left",associativeWith:[]},RelationalNode:{associativity:"left",associativeWith:[]}},{"OperatorNode:leftShift":{op:"<<",associativity:"left",associativeWith:[]},"OperatorNode:rightArithShift":{op:">>",associativity:"left",associativeWith:[]},"OperatorNode:rightLogShift":{op:">>>",associativity:"left",associativeWith:[]}},{"OperatorNode:to":{op:"to",associativity:"left",associativeWith:[]}},{RangeNode:{}},{"OperatorNode:add":{op:"+",associativity:"left",associativeWith:["OperatorNode:add","OperatorNode:subtract"]},"OperatorNode:subtract":{op:"-",associativity:"left",associativeWith:[]}},{"OperatorNode:multiply":{op:"*",associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","Operator:dotMultiply","Operator:dotDivide"]},"OperatorNode:divide":{op:"/",associativity:"left",associativeWith:[],latexLeftParens:!1,latexRightParens:!1,latexParens:!1},"OperatorNode:dotMultiply":{op:".*",associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","OperatorNode:dotMultiply","OperatorNode:doDivide"]},"OperatorNode:dotDivide":{op:"./",associativity:"left",associativeWith:[]},"OperatorNode:mod":{op:"mod",associativity:"left",associativeWith:[]}},{"OperatorNode:multiply":{associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","Operator:dotMultiply","Operator:dotDivide"]}},{"OperatorNode:unaryPlus":{op:"+",associativity:"right"},"OperatorNode:unaryMinus":{op:"-",associativity:"right"},"OperatorNode:bitNot":{op:"~",associativity:"right"},"OperatorNode:not":{op:"not",associativity:"right"}},{"OperatorNode:pow":{op:"^",associativity:"right",associativeWith:[],latexRightParens:!1},"OperatorNode:dotPow":{op:".^",associativity:"right",associativeWith:[]}},{"OperatorNode:factorial":{op:"!",associativity:"left"}},{"OperatorNode:ctranspose":{op:"'",associativity:"left"}}];function lD(r,t){if(!t||t!=="auto")return r;for(var e=r;us(e);)e=e.content;return e}function dn(r,t,e,n){var i=r;t!=="keep"&&(i=r.getContent());for(var o=i.getIdentifier(),s=null,a=0;a<Hl.length;a++)if(o in Hl[a]){s=a;break}if(o==="OperatorNode:multiply"&&i.implicit&&e!=="show"){var l=lD(i.args[0],t);!(xr(l)&&n&&n.getIdentifier()==="OperatorNode:divide"&&ly(lD(n.args[0],t)))&&!(l.getIdentifier()==="OperatorNode:divide"&&ly(lD(l.args[0],t))&&xr(lD(l.args[1])))&&(s+=1)}return s}function cv(r,t){var e=r;t!=="keep"&&(e=r.getContent());var n=e.getIdentifier(),i=dn(e,t);if(i===null)return null;var o=Hl[i][n];if(Dt(o,"associativity")){if(o.associativity==="left")return"left";if(o.associativity==="right")return"right";throw Error("'"+n+"' has the invalid associativity '"+o.associativity+"'.")}return null}function cD(r,t,e){var n=e!=="keep"?r.getContent():r,i=e!=="keep"?r.getContent():t,o=n.getIdentifier(),s=i.getIdentifier(),a=dn(n,e);if(a===null)return null;var l=Hl[a][o];if(Dt(l,"associativeWith")&&l.associativeWith instanceof Array){for(var c=0;c<l.associativeWith.length;c++)if(l.associativeWith[c]===s)return!0;return!1}return null}function WX(r){var t="OperatorNode:"+r;for(var e of Hl)if(t in e)return e[t].op;return null}var uD="AssignmentNode",ZTe=["subset","?matrix","Node"],cL=F(uD,ZTe,r=>{var{subset:t,matrix:e,Node:n}=r,i=oD({subset:t}),o=qX({subset:t,matrix:e});function s(l,c,d){c||(c="keep");var f=dn(l,c,d),m=dn(l.value,c,d);return c==="all"||m!==null&&m<=f}class a extends n{constructor(c,d,f){if(super(),this.object=c,this.index=f?d:null,this.value=f||d,!In(c)&&!rl(c))throw new TypeError('SymbolNode or AccessorNode expected as "object"');if(In(c)&&c.name==="end")throw new Error('Cannot assign to symbol "end"');if(this.index&&!Fl(this.index))throw new TypeError('IndexNode expected as "index"');if(!Ar(this.value))throw new TypeError('Node expected as "value"')}get name(){return this.index?this.index.isObjectProperty()?this.index.getObjectProperty():"":this.object.name||""}get type(){return uD}get isAssignmentNode(){return!0}_compile(c,d){var f=this.object._compile(c,d),m=this.index?this.index._compile(c,d):null,p=this.value._compile(c,d),b=this.object.name;if(this.index)if(this.index.isObjectProperty()){var y=this.index.getObjectProperty();return function(M,E,w){var T=f(M,E,w),k=p(M,E,w);return lu(T,y,k),k}}else{if(In(this.object))return function(M,E,w){var T=f(M,E,w),k=p(M,E,w),I=m(M,E,T);return M.set(b,o(T,I,k)),k};var C=this.object.object._compile(c,d);if(this.object.index.isObjectProperty()){var S=this.object.index.getObjectProperty();return function(M,E,w){var T=C(M,E,w),k=ei(T,S),I=m(M,E,k),O=p(M,E,w);return lu(T,S,o(k,I,O)),O}}else{var A=this.object.index._compile(c,d);return function(M,E,w){var T=C(M,E,w),k=A(M,E,T),I=i(T,k),O=m(M,E,I),R=p(M,E,w);return o(T,k,o(I,O,R)),R}}}else{if(!In(this.object))throw new TypeError("SymbolNode expected as object");return function(M,E,w){var T=p(M,E,w);return M.set(b,T),T}}}forEach(c){c(this.object,"object",this),this.index&&c(this.index,"index",this),c(this.value,"value",this)}map(c){var d=this._ifNode(c(this.object,"object",this)),f=this.index?this._ifNode(c(this.index,"index",this)):null,m=this._ifNode(c(this.value,"value",this));return new a(d,f,m)}clone(){return new a(this.object,this.index,this.value)}_toString(c){var d=this.object.toString(c),f=this.index?this.index.toString(c):"",m=this.value.toString(c);return s(this,c&&c.parenthesis,c&&c.implicit)&&(m="("+m+")"),d+f+" = "+m}toJSON(){return{mathjs:uD,object:this.object,index:this.index,value:this.value}}static fromJSON(c){return new a(c.object,c.index,c.value)}_toHTML(c){var d=this.object.toHTML(c),f=this.index?this.index.toHTML(c):"",m=this.value.toHTML(c);return s(this,c&&c.parenthesis,c&&c.implicit)&&(m='<span class="math-paranthesis math-round-parenthesis">(</span>'+m+'<span class="math-paranthesis math-round-parenthesis">)</span>'),d+f+'<span class="math-operator math-assignment-operator math-variable-assignment-operator math-binary-operator">=</span>'+m}_toTex(c){var d=this.object.toTex(c),f=this.index?this.index.toTex(c):"",m=this.value.toTex(c);return s(this,c&&c.parenthesis,c&&c.implicit)&&(m="\\left(".concat(m,"\\right)")),d+f+"="+m}}return an(a,"name",uD),a},{isClass:!0,isNode:!0});var dD="BlockNode",QTe=["ResultSet","Node"],uL=F(dD,QTe,r=>{var{ResultSet:t,Node:e}=r;class n extends e{constructor(o){if(super(),!Array.isArray(o))throw new Error("Array expected");this.blocks=o.map(function(s){var a=s&&s.node,l=s&&s.visible!==void 0?s.visible:!0;if(!Ar(a))throw new TypeError('Property "node" must be a Node');if(typeof l!="boolean")throw new TypeError('Property "visible" must be a boolean');return{node:a,visible:l}})}get type(){return dD}get isBlockNode(){return!0}_compile(o,s){var a=Ll(this.blocks,function(l){return{evaluate:l.node._compile(o,s),visible:l.visible}});return function(c,d,f){var m=[];return PS(a,function(b){var y=b.evaluate(c,d,f);b.visible&&m.push(y)}),new t(m)}}forEach(o){for(var s=0;s<this.blocks.length;s++)o(this.blocks[s].node,"blocks["+s+"].node",this)}map(o){for(var s=[],a=0;a<this.blocks.length;a++){var l=this.blocks[a],c=this._ifNode(o(l.node,"blocks["+a+"].node",this));s[a]={node:c,visible:l.visible}}return new n(s)}clone(){var o=this.blocks.map(function(s){return{node:s.node,visible:s.visible}});return new n(o)}_toString(o){return this.blocks.map(function(s){return s.node.toString(o)+(s.visible?"":";")}).join(`
`)}toJSON(){return{mathjs:dD,blocks:this.blocks}}static fromJSON(o){return new n(o.blocks)}_toHTML(o){return this.blocks.map(function(s){return s.node.toHTML(o)+(s.visible?"":'<span class="math-separator">;</span>')}).join('<span class="math-separator"><br /></span>')}_toTex(o){return this.blocks.map(function(s){return s.node.toTex(o)+(s.visible?"":";")}).join(`\\;\\;
`)}}return an(n,"name",dD),n},{isClass:!0,isNode:!0});var fD="ConditionalNode",JTe=["Node"],dL=F(fD,JTe,r=>{var{Node:t}=r;function e(i){if(typeof i=="number"||typeof i=="boolean"||typeof i=="string")return!!i;if(i){if(It(i))return!i.isZero();if(ua(i))return!!(i.re||i.im);if(ls(i))return!!i.value}if(i==null)return!1;throw new TypeError('Unsupported type of condition "'+Rr(i)+'"')}class n extends t{constructor(o,s,a){if(super(),!Ar(o))throw new TypeError("Parameter condition must be a Node");if(!Ar(s))throw new TypeError("Parameter trueExpr must be a Node");if(!Ar(a))throw new TypeError("Parameter falseExpr must be a Node");this.condition=o,this.trueExpr=s,this.falseExpr=a}get type(){return fD}get isConditionalNode(){return!0}_compile(o,s){var a=this.condition._compile(o,s),l=this.trueExpr._compile(o,s),c=this.falseExpr._compile(o,s);return function(f,m,p){return e(a(f,m,p))?l(f,m,p):c(f,m,p)}}forEach(o){o(this.condition,"condition",this),o(this.trueExpr,"trueExpr",this),o(this.falseExpr,"falseExpr",this)}map(o){return new n(this._ifNode(o(this.condition,"condition",this)),this._ifNode(o(this.trueExpr,"trueExpr",this)),this._ifNode(o(this.falseExpr,"falseExpr",this)))}clone(){return new n(this.condition,this.trueExpr,this.falseExpr)}_toString(o){var s=o&&o.parenthesis?o.parenthesis:"keep",a=dn(this,s,o&&o.implicit),l=this.condition.toString(o),c=dn(this.condition,s,o&&o.implicit);(s==="all"||this.condition.type==="OperatorNode"||c!==null&&c<=a)&&(l="("+l+")");var d=this.trueExpr.toString(o),f=dn(this.trueExpr,s,o&&o.implicit);(s==="all"||this.trueExpr.type==="OperatorNode"||f!==null&&f<=a)&&(d="("+d+")");var m=this.falseExpr.toString(o),p=dn(this.falseExpr,s,o&&o.implicit);return(s==="all"||this.falseExpr.type==="OperatorNode"||p!==null&&p<=a)&&(m="("+m+")"),l+" ? "+d+" : "+m}toJSON(){return{mathjs:fD,condition:this.condition,trueExpr:this.trueExpr,falseExpr:this.falseExpr}}static fromJSON(o){return new n(o.condition,o.trueExpr,o.falseExpr)}_toHTML(o){var s=o&&o.parenthesis?o.parenthesis:"keep",a=dn(this,s,o&&o.implicit),l=this.condition.toHTML(o),c=dn(this.condition,s,o&&o.implicit);(s==="all"||this.condition.type==="OperatorNode"||c!==null&&c<=a)&&(l='<span class="math-parenthesis math-round-parenthesis">(</span>'+l+'<span class="math-parenthesis math-round-parenthesis">)</span>');var d=this.trueExpr.toHTML(o),f=dn(this.trueExpr,s,o&&o.implicit);(s==="all"||this.trueExpr.type==="OperatorNode"||f!==null&&f<=a)&&(d='<span class="math-parenthesis math-round-parenthesis">(</span>'+d+'<span class="math-parenthesis math-round-parenthesis">)</span>');var m=this.falseExpr.toHTML(o),p=dn(this.falseExpr,s,o&&o.implicit);return(s==="all"||this.falseExpr.type==="OperatorNode"||p!==null&&p<=a)&&(m='<span class="math-parenthesis math-round-parenthesis">(</span>'+m+'<span class="math-parenthesis math-round-parenthesis">)</span>'),l+'<span class="math-operator math-conditional-operator">?</span>'+d+'<span class="math-operator math-conditional-operator">:</span>'+m}_toTex(o){return"\\begin{cases} {"+this.trueExpr.toTex(o)+"}, &\\quad{\\text{if }\\;"+this.condition.toTex(o)+"}\\\\{"+this.falseExpr.toTex(o)+"}, &\\quad{\\text{otherwise}}\\end{cases}"}}return an(n,"name",fD),n},{isClass:!0,isNode:!0});var KX=Wh(GX(),1);var hL={Alpha:"A",alpha:"\\alpha",Beta:"B",beta:"\\beta",Gamma:"\\Gamma",gamma:"\\gamma",Delta:"\\Delta",delta:"\\delta",Epsilon:"E",epsilon:"\\epsilon",varepsilon:"\\varepsilon",Zeta:"Z",zeta:"\\zeta",Eta:"H",eta:"\\eta",Theta:"\\Theta",theta:"\\theta",vartheta:"\\vartheta",Iota:"I",iota:"\\iota",Kappa:"K",kappa:"\\kappa",varkappa:"\\varkappa",Lambda:"\\Lambda",lambda:"\\lambda",Mu:"M",mu:"\\mu",Nu:"N",nu:"\\nu",Xi:"\\Xi",xi:"\\xi",Omicron:"O",omicron:"o",Pi:"\\Pi",pi:"\\pi",varpi:"\\varpi",Rho:"P",rho:"\\rho",varrho:"\\varrho",Sigma:"\\Sigma",sigma:"\\sigma",varsigma:"\\varsigma",Tau:"T",tau:"\\tau",Upsilon:"\\Upsilon",upsilon:"\\upsilon",Phi:"\\Phi",phi:"\\phi",varphi:"\\varphi",Chi:"X",chi:"\\chi",Psi:"\\Psi",psi:"\\psi",Omega:"\\Omega",omega:"\\omega",true:"\\mathrm{True}",false:"\\mathrm{False}",i:"i",inf:"\\infty",Inf:"\\infty",infinity:"\\infty",Infinity:"\\infty",oo:"\\infty",lim:"\\lim",undefined:"\\mathbf{?}"},rn={transpose:"^\\top",ctranspose:"^H",factorial:"!",pow:"^",dotPow:".^\\wedge",unaryPlus:"+",unaryMinus:"-",bitNot:"\\~",not:"\\neg",multiply:"\\cdot",divide:"\\frac",dotMultiply:".\\cdot",dotDivide:".:",mod:"\\mod",add:"+",subtract:"-",to:"\\rightarrow",leftShift:"<<",rightArithShift:">>",rightLogShift:">>>",equal:"=",unequal:"\\neq",smaller:"<",larger:">",smallerEq:"\\leq",largerEq:"\\geq",bitAnd:"\\&",bitXor:"\\underline{|}",bitOr:"|",and:"\\wedge",xor:"\\veebar",or:"\\vee"},mL={abs:{1:"\\left|${args[0]}\\right|"},add:{2:"\\left(${args[0]}".concat(rn.add,"${args[1]}\\right)")},cbrt:{1:"\\sqrt[3]{${args[0]}}"},ceil:{1:"\\left\\lceil${args[0]}\\right\\rceil"},cube:{1:"\\left(${args[0]}\\right)^3"},divide:{2:"\\frac{${args[0]}}{${args[1]}}"},dotDivide:{2:"\\left(${args[0]}".concat(rn.dotDivide,"${args[1]}\\right)")},dotMultiply:{2:"\\left(${args[0]}".concat(rn.dotMultiply,"${args[1]}\\right)")},dotPow:{2:"\\left(${args[0]}".concat(rn.dotPow,"${args[1]}\\right)")},exp:{1:"\\exp\\left(${args[0]}\\right)"},expm1:"\\left(e".concat(rn.pow,"{${args[0]}}-1\\right)"),fix:{1:"\\mathrm{${name}}\\left(${args[0]}\\right)"},floor:{1:"\\left\\lfloor${args[0]}\\right\\rfloor"},gcd:"\\gcd\\left(${args}\\right)",hypot:"\\hypot\\left(${args}\\right)",log:{1:"\\ln\\left(${args[0]}\\right)",2:"\\log_{${args[1]}}\\left(${args[0]}\\right)"},log10:{1:"\\log_{10}\\left(${args[0]}\\right)"},log1p:{1:"\\ln\\left(${args[0]}+1\\right)",2:"\\log_{${args[1]}}\\left(${args[0]}+1\\right)"},log2:"\\log_{2}\\left(${args[0]}\\right)",mod:{2:"\\left(${args[0]}".concat(rn.mod,"${args[1]}\\right)")},multiply:{2:"\\left(${args[0]}".concat(rn.multiply,"${args[1]}\\right)")},norm:{1:"\\left\\|${args[0]}\\right\\|",2:void 0},nthRoot:{2:"\\sqrt[${args[1]}]{${args[0]}}"},nthRoots:{2:"\\{y : $y^{args[1]} = {${args[0]}}\\}"},pow:{2:"\\left(${args[0]}\\right)".concat(rn.pow,"{${args[1]}}")},round:{1:"\\left\\lfloor${args[0]}\\right\\rceil",2:void 0},sign:{1:"\\mathrm{${name}}\\left(${args[0]}\\right)"},sqrt:{1:"\\sqrt{${args[0]}}"},square:{1:"\\left(${args[0]}\\right)^2"},subtract:{2:"\\left(${args[0]}".concat(rn.subtract,"${args[1]}\\right)")},unaryMinus:{1:"".concat(rn.unaryMinus,"\\left(${args[0]}\\right)")},unaryPlus:{1:"".concat(rn.unaryPlus,"\\left(${args[0]}\\right)")},bitAnd:{2:"\\left(${args[0]}".concat(rn.bitAnd,"${args[1]}\\right)")},bitNot:{1:rn.bitNot+"\\left(${args[0]}\\right)"},bitOr:{2:"\\left(${args[0]}".concat(rn.bitOr,"${args[1]}\\right)")},bitXor:{2:"\\left(${args[0]}".concat(rn.bitXor,"${args[1]}\\right)")},leftShift:{2:"\\left(${args[0]}".concat(rn.leftShift,"${args[1]}\\right)")},rightArithShift:{2:"\\left(${args[0]}".concat(rn.rightArithShift,"${args[1]}\\right)")},rightLogShift:{2:"\\left(${args[0]}".concat(rn.rightLogShift,"${args[1]}\\right)")},bellNumbers:{1:"\\mathrm{B}_{${args[0]}}"},catalan:{1:"\\mathrm{C}_{${args[0]}}"},stirlingS2:{2:"\\mathrm{S}\\left(${args}\\right)"},arg:{1:"\\arg\\left(${args[0]}\\right)"},conj:{1:"\\left(${args[0]}\\right)^*"},im:{1:"\\Im\\left\\lbrace${args[0]}\\right\\rbrace"},re:{1:"\\Re\\left\\lbrace${args[0]}\\right\\rbrace"},and:{2:"\\left(${args[0]}".concat(rn.and,"${args[1]}\\right)")},not:{1:rn.not+"\\left(${args[0]}\\right)"},or:{2:"\\left(${args[0]}".concat(rn.or,"${args[1]}\\right)")},xor:{2:"\\left(${args[0]}".concat(rn.xor,"${args[1]}\\right)")},cross:{2:"\\left(${args[0]}\\right)\\times\\left(${args[1]}\\right)"},ctranspose:{1:"\\left(${args[0]}\\right)".concat(rn.ctranspose)},det:{1:"\\det\\left(${args[0]}\\right)"},dot:{2:"\\left(${args[0]}\\cdot${args[1]}\\right)"},expm:{1:"\\exp\\left(${args[0]}\\right)"},inv:{1:"\\left(${args[0]}\\right)^{-1}"},pinv:{1:"\\left(${args[0]}\\right)^{+}"},sqrtm:{1:"{${args[0]}}".concat(rn.pow,"{\\frac{1}{2}}")},trace:{1:"\\mathrm{tr}\\left(${args[0]}\\right)"},transpose:{1:"\\left(${args[0]}\\right)".concat(rn.transpose)},combinations:{2:"\\binom{${args[0]}}{${args[1]}}"},combinationsWithRep:{2:"\\left(\\!\\!{\\binom{${args[0]}}{${args[1]}}}\\!\\!\\right)"},factorial:{1:"\\left(${args[0]}\\right)".concat(rn.factorial)},gamma:{1:"\\Gamma\\left(${args[0]}\\right)"},lgamma:{1:"\\ln\\Gamma\\left(${args[0]}\\right)"},equal:{2:"\\left(${args[0]}".concat(rn.equal,"${args[1]}\\right)")},larger:{2:"\\left(${args[0]}".concat(rn.larger,"${args[1]}\\right)")},largerEq:{2:"\\left(${args[0]}".concat(rn.largerEq,"${args[1]}\\right)")},smaller:{2:"\\left(${args[0]}".concat(rn.smaller,"${args[1]}\\right)")},smallerEq:{2:"\\left(${args[0]}".concat(rn.smallerEq,"${args[1]}\\right)")},unequal:{2:"\\left(${args[0]}".concat(rn.unequal,"${args[1]}\\right)")},erf:{1:"erf\\left(${args[0]}\\right)"},max:"\\max\\left(${args}\\right)",min:"\\min\\left(${args}\\right)",variance:"\\mathrm{Var}\\left(${args}\\right)",acos:{1:"\\cos^{-1}\\left(${args[0]}\\right)"},acosh:{1:"\\cosh^{-1}\\left(${args[0]}\\right)"},acot:{1:"\\cot^{-1}\\left(${args[0]}\\right)"},acoth:{1:"\\coth^{-1}\\left(${args[0]}\\right)"},acsc:{1:"\\csc^{-1}\\left(${args[0]}\\right)"},acsch:{1:"\\mathrm{csch}^{-1}\\left(${args[0]}\\right)"},asec:{1:"\\sec^{-1}\\left(${args[0]}\\right)"},asech:{1:"\\mathrm{sech}^{-1}\\left(${args[0]}\\right)"},asin:{1:"\\sin^{-1}\\left(${args[0]}\\right)"},asinh:{1:"\\sinh^{-1}\\left(${args[0]}\\right)"},atan:{1:"\\tan^{-1}\\left(${args[0]}\\right)"},atan2:{2:"\\mathrm{atan2}\\left(${args}\\right)"},atanh:{1:"\\tanh^{-1}\\left(${args[0]}\\right)"},cos:{1:"\\cos\\left(${args[0]}\\right)"},cosh:{1:"\\cosh\\left(${args[0]}\\right)"},cot:{1:"\\cot\\left(${args[0]}\\right)"},coth:{1:"\\coth\\left(${args[0]}\\right)"},csc:{1:"\\csc\\left(${args[0]}\\right)"},csch:{1:"\\mathrm{csch}\\left(${args[0]}\\right)"},sec:{1:"\\sec\\left(${args[0]}\\right)"},sech:{1:"\\mathrm{sech}\\left(${args[0]}\\right)"},sin:{1:"\\sin\\left(${args[0]}\\right)"},sinh:{1:"\\sinh\\left(${args[0]}\\right)"},tan:{1:"\\tan\\left(${args[0]}\\right)"},tanh:{1:"\\tanh\\left(${args[0]}\\right)"},to:{2:"\\left(${args[0]}".concat(rn.to,"${args[1]}\\right)")},numeric:function(t,e){return t.args[0].toTex()},number:{0:"0",1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)${args[1]}\\right)"},string:{0:'\\mathtt{""}',1:"\\mathrm{string}\\left(${args[0]}\\right)"},bignumber:{0:"0",1:"\\left(${args[0]}\\right)"},bigint:{0:"0",1:"\\left(${args[0]}\\right)"},complex:{0:"0",1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)+".concat(hL.i,"\\cdot\\left(${args[1]}\\right)\\right)")},matrix:{0:"\\begin{bmatrix}\\end{bmatrix}",1:"\\left(${args[0]}\\right)",2:"\\left(${args[0]}\\right)"},sparse:{0:"\\begin{bsparse}\\end{bsparse}",1:"\\left(${args[0]}\\right)"},unit:{1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)${args[1]}\\right)"}},XX="\\mathrm{${name}}\\left(${args}\\right)",YX={deg:"^\\circ"};function hD(r){return(0,KX.default)(r,{preserveFormatting:!0})}function mD(r,t){return t=typeof t>"u"?!1:t,t?Dt(YX,r)?YX[r]:"\\mathrm{"+hD(r)+"}":Dt(hL,r)?hL[r]:hD(r)}var pD="ConstantNode",nIe=["Node"],pL=F(pD,nIe,r=>{var{Node:t}=r;class e extends t{constructor(i){super(),this.value=i}get type(){return pD}get isConstantNode(){return!0}_compile(i,o){var s=this.value;return function(){return s}}forEach(i){}map(i){return this.clone()}clone(){return new e(this.value)}_toString(i){return Gt(this.value,i)}_toHTML(i){var o=this._toString(i);switch(Rr(this.value)){case"number":case"bigint":case"BigNumber":case"Fraction":return'<span class="math-number">'+o+"</span>";case"string":return'<span class="math-string">'+o+"</span>";case"boolean":return'<span class="math-boolean">'+o+"</span>";case"null":return'<span class="math-null-symbol">'+o+"</span>";case"undefined":return'<span class="math-undefined">'+o+"</span>";default:return'<span class="math-symbol">'+o+"</span>"}}toJSON(){return{mathjs:pD,value:this.value}}static fromJSON(i){return new e(i.value)}_toTex(i){var o=this._toString(i),s=Rr(this.value);switch(s){case"string":return"\\mathtt{"+hD(o)+"}";case"number":case"BigNumber":{var a=s==="BigNumber"?this.value.isFinite():isFinite(this.value);if(!a)return this.value.valueOf()<0?"-\\infty":"\\infty";var l=o.toLowerCase().indexOf("e");return l!==-1?o.substring(0,l)+"\\cdot10^{"+o.substring(l+1)+"}":o}case"bigint":return o.toString();case"Fraction":return this.value.toLatex();default:return o}}}return an(e,"name",pD),e},{isClass:!0,isNode:!0});var gD="FunctionAssignmentNode",iIe=["typed","Node"],gL=F(gD,iIe,r=>{var{typed:t,Node:e}=r;function n(o,s,a){var l=dn(o,s,a),c=dn(o.expr,s,a);return s==="all"||c!==null&&c<=l}class i extends e{constructor(s,a,l){if(super(),typeof s!="string")throw new TypeError('String expected for parameter "name"');if(!Array.isArray(a))throw new TypeError('Array containing strings or objects expected for parameter "params"');if(!Ar(l))throw new TypeError('Node expected for parameter "expr"');if(iD.has(s))throw new Error('Illegal function name, "'+s+'" is a reserved keyword');var c=new Set;for(var d of a){var f=typeof d=="string"?d:d.name;if(c.has(f))throw new Error('Duplicate parameter name "'.concat(f,'"'));c.add(f)}this.name=s,this.params=a.map(function(m){return m&&m.name||m}),this.types=a.map(function(m){return m&&m.type||"any"}),this.expr=l}get type(){return gD}get isFunctionAssignmentNode(){return!0}_compile(s,a){var l=Object.create(a);PS(this.params,function(b){l[b]=!0});var c=this.expr._compile(s,l),d=this.name,f=this.params,m=QO(this.types,","),p=d+"("+QO(this.params,", ")+")";return function(y,C,S){var A={};A[m]=function(){for(var M=Object.create(C),E=0;E<f.length;E++)M[f[E]]=arguments[E];return c(y,M,S)};var x=t(d,A);return x.syntax=p,y.set(d,x),x}}forEach(s){s(this.expr,"expr",this)}map(s){var a=this._ifNode(s(this.expr,"expr",this));return new i(this.name,this.params.slice(0),a)}clone(){return new i(this.name,this.params.slice(0),this.expr)}_toString(s){var a=s&&s.parenthesis?s.parenthesis:"keep",l=this.expr.toString(s);return n(this,a,s&&s.implicit)&&(l="("+l+")"),this.name+"("+this.params.join(", ")+") = "+l}toJSON(){var s=this.types;return{mathjs:gD,name:this.name,params:this.params.map(function(a,l){return{name:a,type:s[l]}}),expr:this.expr}}static fromJSON(s){return new i(s.name,s.params,s.expr)}_toHTML(s){for(var a=s&&s.parenthesis?s.parenthesis:"keep",l=[],c=0;c<this.params.length;c++)l.push('<span class="math-symbol math-parameter">'+Oo(this.params[c])+"</span>");var d=this.expr.toHTML(s);return n(this,a,s&&s.implicit)&&(d='<span class="math-parenthesis math-round-parenthesis">(</span>'+d+'<span class="math-parenthesis math-round-parenthesis">)</span>'),'<span class="math-function">'+Oo(this.name)+'</span><span class="math-parenthesis math-round-parenthesis">(</span>'+l.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-round-parenthesis">)</span><span class="math-operator math-assignment-operator math-variable-assignment-operator math-binary-operator">=</span>'+d}_toTex(s){var a=s&&s.parenthesis?s.parenthesis:"keep",l=this.expr.toTex(s);return n(this,a,s&&s.implicit)&&(l="\\left(".concat(l,"\\right)")),"\\mathrm{"+this.name+"}\\left("+this.params.map(mD).join(",")+"\\right)="+l}}return an(i,"name",gD),i},{isClass:!0,isNode:!0});var vD="IndexNode",oIe=["Node","size"],vL=F(vD,oIe,r=>{var{Node:t,size:e}=r;class n extends t{constructor(o,s){if(super(),this.dimensions=o,this.dotNotation=s||!1,!Array.isArray(o)||!o.every(Ar))throw new TypeError('Array containing Nodes expected for parameter "dimensions"');if(this.dotNotation&&!this.isObjectProperty())throw new Error("dotNotation only applicable for object properties")}get type(){return vD}get isIndexNode(){return!0}_compile(o,s){var a=Ll(this.dimensions,function(c,d){var f=c.filter(b=>b.isSymbolNode&&b.name==="end").length>0;if(f){var m=Object.create(s);m.end=!0;var p=c._compile(o,m);return function(y,C,S){if(!_t(S)&&!Gr(S)&&!Ii(S))throw new TypeError('Cannot resolve "end": context must be a Matrix, Array, or string but is '+Rr(S));var A=e(S).valueOf(),x=Object.create(C);return x.end=A[d],p(y,x,S)}}else return c._compile(o,s)}),l=ei(o,"index");return function(d,f,m){var p=Ll(a,function(b){return b(d,f,m)});return l(...p)}}forEach(o){for(var s=0;s<this.dimensions.length;s++)o(this.dimensions[s],"dimensions["+s+"]",this)}map(o){for(var s=[],a=0;a<this.dimensions.length;a++)s[a]=this._ifNode(o(this.dimensions[a],"dimensions["+a+"]",this));return new n(s,this.dotNotation)}clone(){return new n(this.dimensions.slice(0),this.dotNotation)}isObjectProperty(){return this.dimensions.length===1&&xr(this.dimensions[0])&&typeof this.dimensions[0].value=="string"}getObjectProperty(){return this.isObjectProperty()?this.dimensions[0].value:null}_toString(o){return this.dotNotation?"."+this.getObjectProperty():"["+this.dimensions.join(", ")+"]"}toJSON(){return{mathjs:vD,dimensions:this.dimensions,dotNotation:this.dotNotation}}static fromJSON(o){return new n(o.dimensions,o.dotNotation)}_toHTML(o){for(var s=[],a=0;a<this.dimensions.length;a++)s[a]=this.dimensions[a].toHTML();return this.dotNotation?'<span class="math-operator math-accessor-operator">.</span><span class="math-symbol math-property">'+Oo(this.getObjectProperty())+"</span>":'<span class="math-parenthesis math-square-parenthesis">[</span>'+s.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-square-parenthesis">]</span>'}_toTex(o){var s=this.dimensions.map(function(a){return a.toTex(o)});return this.dotNotation?"."+this.getObjectProperty():"_{"+s.join(",")+"}"}}return an(n,"name",vD),n},{isClass:!0,isNode:!0});var bD="ObjectNode",sIe=["Node"],bL=F(bD,sIe,r=>{var{Node:t}=r;class e extends t{constructor(i){if(super(),this.properties=i||{},i&&(typeof i!="object"||!Object.keys(i).every(function(o){return Ar(i[o])})))throw new TypeError("Object containing Nodes expected")}get type(){return bD}get isObjectNode(){return!0}_compile(i,o){var s={};for(var a in this.properties)if(Dt(this.properties,a)){var l=km(a),c=JSON.parse(l),d=ei(this.properties,a);s[c]=d._compile(i,o)}return function(m,p,b){var y={};for(var C in s)Dt(s,C)&&(y[C]=s[C](m,p,b));return y}}forEach(i){for(var o in this.properties)Dt(this.properties,o)&&i(this.properties[o],"properties["+km(o)+"]",this)}map(i){var o={};for(var s in this.properties)Dt(this.properties,s)&&(o[s]=this._ifNode(i(this.properties[s],"properties["+km(s)+"]",this)));return new e(o)}clone(){var i={};for(var o in this.properties)Dt(this.properties,o)&&(i[o]=this.properties[o]);return new e(i)}_toString(i){var o=[];for(var s in this.properties)Dt(this.properties,s)&&o.push(km(s)+": "+this.properties[s].toString(i));return"{"+o.join(", ")+"}"}toJSON(){return{mathjs:bD,properties:this.properties}}static fromJSON(i){return new e(i.properties)}_toHTML(i){var o=[];for(var s in this.properties)Dt(this.properties,s)&&o.push('<span class="math-symbol math-property">'+Oo(s)+'</span><span class="math-operator math-assignment-operator math-property-assignment-operator math-binary-operator">:</span>'+this.properties[s].toHTML(i));return'<span class="math-parenthesis math-curly-parenthesis">{</span>'+o.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-curly-parenthesis">}</span>'}_toTex(i){var o=[];for(var s in this.properties)Dt(this.properties,s)&&o.push("\\mathbf{"+s+":} & "+this.properties[s].toTex(i)+"\\\\");var a="\\left\\{\\begin{array}{ll}"+o.join(`
`)+"\\end{array}\\right\\}";return a}}return an(e,"name",bD),e},{isClass:!0,isNode:!0});function Vm(r,t){return new Hg(r,new Nf(t),new Set(Object.keys(t)))}var yD="OperatorNode",aIe=["Node"],yL=F(yD,aIe,r=>{var{Node:t}=r;function e(o,s){var a=o;if(s==="auto")for(;us(a);)a=a.content;return xr(a)?!0:zn(a)?e(a.args[0],s):!1}function n(o,s,a,l,c){var d=dn(o,s,a),f=cv(o,s);if(s==="all"||l.length>2&&o.getIdentifier()!=="OperatorNode:add"&&o.getIdentifier()!=="OperatorNode:multiply")return l.map(function(O){switch(O.getContent().type){case"ArrayNode":case"ConstantNode":case"SymbolNode":case"ParenthesisNode":return!1;default:return!0}});var m;switch(l.length){case 0:m=[];break;case 1:{var p=dn(l[0],s,a,o);if(c&&p!==null){var b,y;if(s==="keep"?(b=l[0].getIdentifier(),y=o.getIdentifier()):(b=l[0].getContent().getIdentifier(),y=o.getContent().getIdentifier()),Hl[d][y].latexLeftParens===!1){m=[!1];break}if(Hl[p][b].latexParens===!1){m=[!1];break}}if(p===null){m=[!1];break}if(p<=d){m=[!0];break}m=[!1]}break;case 2:{var C,S=dn(l[0],s,a,o),A=cD(o,l[0],s);S===null?C=!1:S===d&&f==="right"&&!A||S<d?C=!0:C=!1;var x,M=dn(l[1],s,a,o),E=cD(o,l[1],s);if(M===null?x=!1:M===d&&f==="left"&&!E||M<d?x=!0:x=!1,c){var w,T,k;s==="keep"?(w=o.getIdentifier(),T=o.args[0].getIdentifier(),k=o.args[1].getIdentifier()):(w=o.getContent().getIdentifier(),T=o.args[0].getContent().getIdentifier(),k=o.args[1].getContent().getIdentifier()),S!==null&&(Hl[d][w].latexLeftParens===!1&&(C=!1),Hl[S][T].latexParens===!1&&(C=!1)),M!==null&&(Hl[d][w].latexRightParens===!1&&(x=!1),Hl[M][k].latexParens===!1&&(x=!1))}m=[C,x]}break;default:(o.getIdentifier()==="OperatorNode:add"||o.getIdentifier()==="OperatorNode:multiply")&&(m=l.map(function(O){var R=dn(O,s,a,o),j=cD(o,O,s),q=cv(O,s);return R===null?!1:d===R&&f===q&&!j?!0:R<d}));break}if(l.length>=2&&o.getIdentifier()==="OperatorNode:multiply"&&o.implicit&&s!=="all"&&a==="hide")for(var I=1;I<m.length;++I)e(l[I],s)&&!m[I-1]&&(s!=="keep"||!us(l[I-1]))&&(m[I]=!0);return m}class i extends t{constructor(s,a,l,c,d){if(super(),typeof s!="string")throw new TypeError('string expected for parameter "op"');if(typeof a!="string")throw new TypeError('string expected for parameter "fn"');if(!Array.isArray(l)||!l.every(Ar))throw new TypeError('Array containing Nodes expected for parameter "args"');this.implicit=c===!0,this.isPercentage=d===!0,this.op=s,this.fn=a,this.args=l||[]}get type(){return yD}get isOperatorNode(){return!0}_compile(s,a){if(typeof this.fn!="string"||!mS(s,this.fn))throw s[this.fn]?new Error('No access to function "'+this.fn+'"'):new Error("Function "+this.fn+' missing in provided namespace "math"');var l=ei(s,this.fn),c=Ll(this.args,function(b){return b._compile(s,a)});if(typeof l=="function"&&l.rawArgs===!0){var d=this.args;return function(y,C,S){return l(d,s,Vm(y,C))}}else if(c.length===1){var f=c[0];return function(y,C,S){return l(f(y,C,S))}}else if(c.length===2){var m=c[0],p=c[1];return function(y,C,S){return l(m(y,C,S),p(y,C,S))}}else return function(y,C,S){return l.apply(null,Ll(c,function(A){return A(y,C,S)}))}}forEach(s){for(var a=0;a<this.args.length;a++)s(this.args[a],"args["+a+"]",this)}map(s){for(var a=[],l=0;l<this.args.length;l++)a[l]=this._ifNode(s(this.args[l],"args["+l+"]",this));return new i(this.op,this.fn,a,this.implicit,this.isPercentage)}clone(){return new i(this.op,this.fn,this.args.slice(0),this.implicit,this.isPercentage)}isUnary(){return this.args.length===1}isBinary(){return this.args.length===2}_toString(s){var a=s&&s.parenthesis?s.parenthesis:"keep",l=s&&s.implicit?s.implicit:"hide",c=this.args,d=n(this,a,l,c,!1);if(c.length===1){var f=cv(this,a),m=c[0].toString(s);d[0]&&(m="("+m+")");var p=/[a-zA-Z]+/.test(this.op);return f==="right"?this.op+(p?" ":"")+m:f==="left"?m+(p?" ":"")+this.op:m+this.op}else if(c.length===2){var b=c[0].toString(s),y=c[1].toString(s);return d[0]&&(b="("+b+")"),d[1]&&(y="("+y+")"),this.implicit&&this.getIdentifier()==="OperatorNode:multiply"&&l==="hide"?b+" "+y:b+" "+this.op+" "+y}else if(c.length>2&&(this.getIdentifier()==="OperatorNode:add"||this.getIdentifier()==="OperatorNode:multiply")){var C=c.map(function(S,A){return S=S.toString(s),d[A]&&(S="("+S+")"),S});return this.implicit&&this.getIdentifier()==="OperatorNode:multiply"&&l==="hide"?C.join(" "):C.join(" "+this.op+" ")}else return this.fn+"("+this.args.join(", ")+")"}toJSON(){return{mathjs:yD,op:this.op,fn:this.fn,args:this.args,implicit:this.implicit,isPercentage:this.isPercentage}}static fromJSON(s){return new i(s.op,s.fn,s.args,s.implicit,s.isPercentage)}_toHTML(s){var a=s&&s.parenthesis?s.parenthesis:"keep",l=s&&s.implicit?s.implicit:"hide",c=this.args,d=n(this,a,l,c,!1);if(c.length===1){var f=cv(this,a),m=c[0].toHTML(s);return d[0]&&(m='<span class="math-parenthesis math-round-parenthesis">(</span>'+m+'<span class="math-parenthesis math-round-parenthesis">)</span>'),f==="right"?'<span class="math-operator math-unary-operator math-lefthand-unary-operator">'+Oo(this.op)+"</span>"+m:m+'<span class="math-operator math-unary-operator math-righthand-unary-operator">'+Oo(this.op)+"</span>"}else if(c.length===2){var p=c[0].toHTML(s),b=c[1].toHTML(s);return d[0]&&(p='<span class="math-parenthesis math-round-parenthesis">(</span>'+p+'<span class="math-parenthesis math-round-parenthesis">)</span>'),d[1]&&(b='<span class="math-parenthesis math-round-parenthesis">(</span>'+b+'<span class="math-parenthesis math-round-parenthesis">)</span>'),this.implicit&&this.getIdentifier()==="OperatorNode:multiply"&&l==="hide"?p+'<span class="math-operator math-binary-operator math-implicit-binary-operator"></span>'+b:p+'<span class="math-operator math-binary-operator math-explicit-binary-operator">'+Oo(this.op)+"</span>"+b}else{var y=c.map(function(C,S){return C=C.toHTML(s),d[S]&&(C='<span class="math-parenthesis math-round-parenthesis">(</span>'+C+'<span class="math-parenthesis math-round-parenthesis">)</span>'),C});return c.length>2&&(this.getIdentifier()==="OperatorNode:add"||this.getIdentifier()==="OperatorNode:multiply")?this.implicit&&this.getIdentifier()==="OperatorNode:multiply"&&l==="hide"?y.join('<span class="math-operator math-binary-operator math-implicit-binary-operator"></span>'):y.join('<span class="math-operator math-binary-operator math-explicit-binary-operator">'+Oo(this.op)+"</span>"):'<span class="math-function">'+Oo(this.fn)+'</span><span class="math-paranthesis math-round-parenthesis">(</span>'+y.join('<span class="math-separator">,</span>')+'<span class="math-paranthesis math-round-parenthesis">)</span>'}}_toTex(s){var a=s&&s.parenthesis?s.parenthesis:"keep",l=s&&s.implicit?s.implicit:"hide",c=this.args,d=n(this,a,l,c,!0),f=rn[this.fn];if(f=typeof f>"u"?this.op:f,c.length===1){var m=cv(this,a),p=c[0].toTex(s);return d[0]&&(p="\\left(".concat(p,"\\right)")),m==="right"?f+p:p+f}else if(c.length===2){var b=c[0],y=b.toTex(s);d[0]&&(y="\\left(".concat(y,"\\right)"));var C=c[1],S=C.toTex(s);d[1]&&(S="\\left(".concat(S,"\\right)"));var A;switch(a==="keep"?A=b.getIdentifier():A=b.getContent().getIdentifier(),this.getIdentifier()){case"OperatorNode:divide":return f+"{"+y+"}{"+S+"}";case"OperatorNode:pow":switch(y="{"+y+"}",S="{"+S+"}",A){case"ConditionalNode":case"OperatorNode:divide":y="\\left(".concat(y,"\\right)")}break;case"OperatorNode:multiply":if(this.implicit&&l==="hide")return y+"~"+S}return y+f+S}else if(c.length>2&&(this.getIdentifier()==="OperatorNode:add"||this.getIdentifier()==="OperatorNode:multiply")){var x=c.map(function(M,E){return M=M.toTex(s),d[E]&&(M="\\left(".concat(M,"\\right)")),M});return this.getIdentifier()==="OperatorNode:multiply"&&this.implicit&&l==="hide"?x.join("~"):x.join(f)}else return"\\mathrm{"+this.fn+"}\\left("+c.map(function(M){return M.toTex(s)}).join(",")+"\\right)"}getIdentifier(){return this.type+":"+this.fn}}return an(i,"name",yD),i},{isClass:!0,isNode:!0});var _D="ParenthesisNode",lIe=["Node"],_L=F(_D,lIe,r=>{var{Node:t}=r;class e extends t{constructor(i){if(super(),!Ar(i))throw new TypeError('Node expected for parameter "content"');this.content=i}get type(){return _D}get isParenthesisNode(){return!0}_compile(i,o){return this.content._compile(i,o)}getContent(){return this.content.getContent()}forEach(i){i(this.content,"content",this)}map(i){var o=i(this.content,"content",this);return new e(o)}clone(){return new e(this.content)}_toString(i){return!i||i&&!i.parenthesis||i&&i.parenthesis==="keep"?"("+this.content.toString(i)+")":this.content.toString(i)}toJSON(){return{mathjs:_D,content:this.content}}static fromJSON(i){return new e(i.content)}_toHTML(i){return!i||i&&!i.parenthesis||i&&i.parenthesis==="keep"?'<span class="math-parenthesis math-round-parenthesis">(</span>'+this.content.toHTML(i)+'<span class="math-parenthesis math-round-parenthesis">)</span>':this.content.toHTML(i)}_toTex(i){return!i||i&&!i.parenthesis||i&&i.parenthesis==="keep"?"\\left(".concat(this.content.toTex(i),"\\right)"):this.content.toTex(i)}}return an(e,"name",_D),e},{isClass:!0,isNode:!0});var xD="RangeNode",cIe=["Node"],xL=F(xD,cIe,r=>{var{Node:t}=r;function e(i,o,s){var a=dn(i,o,s),l={},c=dn(i.start,o,s);if(l.start=c!==null&&c<=a||o==="all",i.step){var d=dn(i.step,o,s);l.step=d!==null&&d<=a||o==="all"}var f=dn(i.end,o,s);return l.end=f!==null&&f<=a||o==="all",l}class n extends t{constructor(o,s,a){if(super(),!Ar(o))throw new TypeError("Node expected");if(!Ar(s))throw new TypeError("Node expected");if(a&&!Ar(a))throw new TypeError("Node expected");if(arguments.length>3)throw new Error("Too many arguments");this.start=o,this.end=s,this.step=a||null}get type(){return xD}get isRangeNode(){return!0}needsEnd(){var o=this.filter(function(s){return In(s)&&s.name==="end"});return o.length>0}_compile(o,s){var a=o.range,l=this.start._compile(o,s),c=this.end._compile(o,s);if(this.step){var d=this.step._compile(o,s);return function(m,p,b){return a(l(m,p,b),c(m,p,b),d(m,p,b))}}else return function(m,p,b){return a(l(m,p,b),c(m,p,b))}}forEach(o){o(this.start,"start",this),o(this.end,"end",this),this.step&&o(this.step,"step",this)}map(o){return new n(this._ifNode(o(this.start,"start",this)),this._ifNode(o(this.end,"end",this)),this.step&&this._ifNode(o(this.step,"step",this)))}clone(){return new n(this.start,this.end,this.step&&this.step)}_toString(o){var s=o&&o.parenthesis?o.parenthesis:"keep",a=e(this,s,o&&o.implicit),l,c=this.start.toString(o);if(a.start&&(c="("+c+")"),l=c,this.step){var d=this.step.toString(o);a.step&&(d="("+d+")"),l+=":"+d}var f=this.end.toString(o);return a.end&&(f="("+f+")"),l+=":"+f,l}toJSON(){return{mathjs:xD,start:this.start,end:this.end,step:this.step}}static fromJSON(o){return new n(o.start,o.end,o.step)}_toHTML(o){var s=o&&o.parenthesis?o.parenthesis:"keep",a=e(this,s,o&&o.implicit),l,c=this.start.toHTML(o);if(a.start&&(c='<span class="math-parenthesis math-round-parenthesis">(</span>'+c+'<span class="math-parenthesis math-round-parenthesis">)</span>'),l=c,this.step){var d=this.step.toHTML(o);a.step&&(d='<span class="math-parenthesis math-round-parenthesis">(</span>'+d+'<span class="math-parenthesis math-round-parenthesis">)</span>'),l+='<span class="math-operator math-range-operator">:</span>'+d}var f=this.end.toHTML(o);return a.end&&(f='<span class="math-parenthesis math-round-parenthesis">(</span>'+f+'<span class="math-parenthesis math-round-parenthesis">)</span>'),l+='<span class="math-operator math-range-operator">:</span>'+f,l}_toTex(o){var s=o&&o.parenthesis?o.parenthesis:"keep",a=e(this,s,o&&o.implicit),l=this.start.toTex(o);if(a.start&&(l="\\left(".concat(l,"\\right)")),this.step){var c=this.step.toTex(o);a.step&&(c="\\left(".concat(c,"\\right)")),l+=":"+c}var d=this.end.toTex(o);return a.end&&(d="\\left(".concat(d,"\\right)")),l+=":"+d,l}}return an(n,"name",xD),n},{isClass:!0,isNode:!0});var wD="RelationalNode",uIe=["Node"],wL=F(wD,uIe,r=>{var{Node:t}=r,e={equal:"==",unequal:"!=",smaller:"<",larger:">",smallerEq:"<=",largerEq:">="};class n extends t{constructor(o,s){if(super(),!Array.isArray(o))throw new TypeError("Parameter conditionals must be an array");if(!Array.isArray(s))throw new TypeError("Parameter params must be an array");if(o.length!==s.length-1)throw new TypeError("Parameter params must contain exactly one more element than parameter conditionals");this.conditionals=o,this.params=s}get type(){return wD}get isRelationalNode(){return!0}_compile(o,s){var a=this,l=this.params.map(c=>c._compile(o,s));return function(d,f,m){for(var p,b=l[0](d,f,m),y=0;y<a.conditionals.length;y++){p=b,b=l[y+1](d,f,m);var C=ei(o,a.conditionals[y]);if(!C(p,b))return!1}return!0}}forEach(o){this.params.forEach((s,a)=>o(s,"params["+a+"]",this),this)}map(o){return new n(this.conditionals.slice(),this.params.map((s,a)=>this._ifNode(o(s,"params["+a+"]",this)),this))}clone(){return new n(this.conditionals,this.params)}_toString(o){for(var s=o&&o.parenthesis?o.parenthesis:"keep",a=dn(this,s,o&&o.implicit),l=this.params.map(function(f,m){var p=dn(f,s,o&&o.implicit);return s==="all"||p!==null&&p<=a?"("+f.toString(o)+")":f.toString(o)}),c=l[0],d=0;d<this.conditionals.length;d++)c+=" "+e[this.conditionals[d]],c+=" "+l[d+1];return c}toJSON(){return{mathjs:wD,conditionals:this.conditionals,params:this.params}}static fromJSON(o){return new n(o.conditionals,o.params)}_toHTML(o){for(var s=o&&o.parenthesis?o.parenthesis:"keep",a=dn(this,s,o&&o.implicit),l=this.params.map(function(f,m){var p=dn(f,s,o&&o.implicit);return s==="all"||p!==null&&p<=a?'<span class="math-parenthesis math-round-parenthesis">(</span>'+f.toHTML(o)+'<span class="math-parenthesis math-round-parenthesis">)</span>':f.toHTML(o)}),c=l[0],d=0;d<this.conditionals.length;d++)c+='<span class="math-operator math-binary-operator math-explicit-binary-operator">'+Oo(e[this.conditionals[d]])+"</span>"+l[d+1];return c}_toTex(o){for(var s=o&&o.parenthesis?o.parenthesis:"keep",a=dn(this,s,o&&o.implicit),l=this.params.map(function(f,m){var p=dn(f,s,o&&o.implicit);return s==="all"||p!==null&&p<=a?"\\left("+f.toTex(o)+"\right)":f.toTex(o)}),c=l[0],d=0;d<this.conditionals.length;d++)c+=rn[this.conditionals[d]]+l[d+1];return c}}return an(n,"name",wD),n},{isClass:!0,isNode:!0});var dIe="SymbolNode",fIe=["math","?Unit","Node"],CL=F(dIe,fIe,r=>{var{math:t,Unit:e,Node:n}=r;function i(s){return e?e.isValuelessUnit(s):!1}class o extends n{constructor(a){if(super(),typeof a!="string")throw new TypeError('String expected for parameter "name"');this.name=a}get type(){return"SymbolNode"}get isSymbolNode(){return!0}_compile(a,l){var c=this.name;if(l[c]===!0)return function(f,m,p){return ei(m,c)};if(c in a)return function(f,m,p){return f.has(c)?f.get(c):ei(a,c)};var d=i(c);return function(f,m,p){return f.has(c)?f.get(c):d?new e(null,c):o.onUndefinedSymbol(c)}}forEach(a){}map(a){return this.clone()}static onUndefinedSymbol(a){throw new Error("Undefined symbol "+a)}clone(){return new o(this.name)}_toString(a){return this.name}_toHTML(a){var l=Oo(this.name);return l==="true"||l==="false"?'<span class="math-symbol math-boolean">'+l+"</span>":l==="i"?'<span class="math-symbol math-imaginary-symbol">'+l+"</span>":l==="Infinity"?'<span class="math-symbol math-infinity-symbol">'+l+"</span>":l==="NaN"?'<span class="math-symbol math-nan-symbol">'+l+"</span>":l==="null"?'<span class="math-symbol math-null-symbol">'+l+"</span>":l==="undefined"?'<span class="math-symbol math-undefined-symbol">'+l+"</span>":'<span class="math-symbol">'+l+"</span>"}toJSON(){return{mathjs:"SymbolNode",name:this.name}}static fromJSON(a){return new o(a.name)}_toTex(a){var l=!1;typeof t[this.name]>"u"&&i(this.name)&&(l=!0);var c=mD(this.name,l);return c[0]==="\\"?c:" "+c}}return o},{isClass:!0,isNode:!0});var CD="FunctionNode",hIe=["math","Node","SymbolNode"],SL=F(CD,hIe,r=>{var t,{math:e,Node:n,SymbolNode:i}=r,o=l=>Gt(l,{truncate:78});function s(l,c,d){for(var f="",m=/\$(?:\{([a-z_][a-z_0-9]*)(?:\[([0-9]+)\])?\}|\$)/gi,p=0,b;(b=m.exec(l))!==null;)if(f+=l.substring(p,b.index),p=b.index,b[0]==="$$")f+="$",p++;else{p+=b[0].length;var y=c[b[1]];if(!y)throw new ReferenceError("Template: Property "+b[1]+" does not exist.");if(b[2]===void 0)switch(typeof y){case"string":f+=y;break;case"object":if(Ar(y))f+=y.toTex(d);else if(Array.isArray(y))f+=y.map(function(C,S){if(Ar(C))return C.toTex(d);throw new TypeError("Template: "+b[1]+"["+S+"] is not a Node.")}).join(",");else throw new TypeError("Template: "+b[1]+" has to be a Node, String or array of Nodes");break;default:throw new TypeError("Template: "+b[1]+" has to be a Node, String or array of Nodes")}else if(Ar(y[b[2]]&&y[b[2]]))f+=y[b[2]].toTex(d);else throw new TypeError("Template: "+b[1]+"["+b[2]+"] is not a Node.")}return f+=l.slice(p),f}class a extends n{constructor(c,d){if(super(),typeof c=="string"&&(c=new i(c)),!Ar(c))throw new TypeError('Node expected as parameter "fn"');if(!Array.isArray(d)||!d.every(Ar))throw new TypeError('Array containing Nodes expected for parameter "args"');this.fn=c,this.args=d||[]}get name(){return this.fn.name||""}get type(){return CD}get isFunctionNode(){return!0}_compile(c,d){var f=this.args.map(k=>k._compile(c,d));if(In(this.fn)){var m=this.fn.name;if(d[m]){var S=this.args;return function(I,O,R){var j=ei(O,m);if(typeof j!="function")throw new TypeError("Argument '".concat(m,"' was not a function; received: ").concat(o(j)));if(j.rawArgs)return j(S,c,Vm(I,O));var q=f.map(X=>X(I,O,R));return j.apply(j,q)}}else{var p=m in c?ei(c,m):void 0,b=typeof p=="function"&&p.rawArgs===!0,y=k=>{var I;if(k.has(m))I=k.get(m);else if(m in c)I=ei(c,m);else return a.onUndefinedFunction(m);if(typeof I=="function")return I;throw new TypeError("'".concat(m,`' is not a function; its value is:
  `).concat(o(I)))};if(b){var C=this.args;return function(I,O,R){var j=y(I);if(j.rawArgs===!0)return j(C,c,Vm(I,O));var q=f.map(X=>X(I,O,R));return j(...q)}}else switch(f.length){case 0:return function(I,O,R){var j=y(I);return j()};case 1:return function(I,O,R){var j=y(I),q=f[0];return j(q(I,O,R))};case 2:return function(I,O,R){var j=y(I),q=f[0],X=f[1];return j(q(I,O,R),X(I,O,R))};default:return function(I,O,R){var j=y(I),q=f.map(X=>X(I,O,R));return j(...q)}}}}else if(rl(this.fn)&&Fl(this.fn.index)&&this.fn.index.isObjectProperty()){var A=this.fn.object._compile(c,d),x=this.fn.index.getObjectProperty(),M=this.args;return function(I,O,R){var j=A(I,O,R),q=w$(j,x);if(q!=null&&q.rawArgs)return q(M,c,Vm(I,O));var X=f.map(Y=>Y(I,O,R));return q.apply(j,X)}}else{var E=this.fn.toString(),w=this.fn._compile(c,d),T=this.args;return function(I,O,R){var j=w(I,O,R);if(typeof j!="function")throw new TypeError("Expression '".concat(E,"' did not evaluate to a function; value is:")+`
  `.concat(o(j)));if(j.rawArgs)return j(T,c,Vm(I,O));var q=f.map(X=>X(I,O,R));return j.apply(j,q)}}}forEach(c){c(this.fn,"fn",this);for(var d=0;d<this.args.length;d++)c(this.args[d],"args["+d+"]",this)}map(c){for(var d=this._ifNode(c(this.fn,"fn",this)),f=[],m=0;m<this.args.length;m++)f[m]=this._ifNode(c(this.args[m],"args["+m+"]",this));return new a(d,f)}clone(){return new a(this.fn,this.args.slice(0))}toString(c){var d,f=this.fn.toString(c);return c&&typeof c.handler=="object"&&Dt(c.handler,f)&&(d=c.handler[f](this,c)),typeof d<"u"?d:super.toString(c)}_toString(c){var d=this.args.map(function(m){return m.toString(c)}),f=cu(this.fn)?"("+this.fn.toString(c)+")":this.fn.toString(c);return f+"("+d.join(", ")+")"}toJSON(){return{mathjs:CD,fn:this.fn,args:this.args}}_toHTML(c){var d=this.args.map(function(f){return f.toHTML(c)});return'<span class="math-function">'+Oo(this.fn)+'</span><span class="math-paranthesis math-round-parenthesis">(</span>'+d.join('<span class="math-separator">,</span>')+'<span class="math-paranthesis math-round-parenthesis">)</span>'}toTex(c){var d;return c&&typeof c.handler=="object"&&Dt(c.handler,this.name)&&(d=c.handler[this.name](this,c)),typeof d<"u"?d:super.toTex(c)}_toTex(c){var d=this.args.map(function(p){return p.toTex(c)}),f;mL[this.name]&&(f=mL[this.name]),e[this.name]&&(typeof e[this.name].toTex=="function"||typeof e[this.name].toTex=="object"||typeof e[this.name].toTex=="string")&&(f=e[this.name].toTex);var m;switch(typeof f){case"function":m=f(this,c);break;case"string":m=s(f,this,c);break;case"object":switch(typeof f[d.length]){case"function":m=f[d.length](this,c);break;case"string":m=s(f[d.length],this,c);break}}return typeof m<"u"?m:s(XX,this,c)}getIdentifier(){return this.type+":"+this.name}}return t=a,an(a,"name",CD),an(a,"onUndefinedFunction",function(l){throw new Error("Undefined function "+l)}),an(a,"fromJSON",function(l){return new t(l.fn,l.args)}),a},{isClass:!0,isNode:!0});var ZX="parse",mIe=["typed","numeric","config","AccessorNode","ArrayNode","AssignmentNode","BlockNode","ConditionalNode","ConstantNode","FunctionAssignmentNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","ParenthesisNode","RangeNode","RelationalNode","SymbolNode"],DL=F(ZX,mIe,r=>{var{typed:t,numeric:e,config:n,AccessorNode:i,ArrayNode:o,AssignmentNode:s,BlockNode:a,ConditionalNode:l,ConstantNode:c,FunctionAssignmentNode:d,FunctionNode:f,IndexNode:m,ObjectNode:p,OperatorNode:b,ParenthesisNode:y,RangeNode:C,RelationalNode:S,SymbolNode:A}=r,x=t(ZX,{string:function(J){return me(J,{})},"Array | Matrix":function(J){return M(J,{})},"string, Object":function(J,_e){var Ye=_e.nodes!==void 0?_e.nodes:{};return me(J,Ye)},"Array | Matrix, Object":M});function M(B){var J=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},_e=J.nodes!==void 0?J.nodes:{};return wt(B,function(Ye){if(typeof Ye!="string")throw new TypeError("String expected");return me(Ye,_e)})}var E={NULL:0,DELIMITER:1,NUMBER:2,SYMBOL:3,UNKNOWN:4},w={",":!0,"(":!0,")":!0,"[":!0,"]":!0,"{":!0,"}":!0,'"':!0,"'":!0,";":!0,"+":!0,"-":!0,"*":!0,".*":!0,"/":!0,"./":!0,"%":!0,"^":!0,".^":!0,"~":!0,"!":!0,"&":!0,"|":!0,"^|":!0,"=":!0,":":!0,"?":!0,"==":!0,"!=":!0,"<":!0,">":!0,"<=":!0,">=":!0,"<<":!0,">>":!0,">>>":!0},T={mod:!0,to:!0,in:!0,and:!0,xor:!0,or:!0,not:!0},k={true:!0,false:!1,null:null,undefined:void 0},I=["NaN","Infinity"],O={'"':'"',"'":"'","\\":"\\","/":"/",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"};function R(){return{extraNodes:{},expression:"",comment:"",index:0,token:"",tokenType:E.NULL,nestingLevel:0,conditionalLevel:null}}function j(B,J){return B.expression.substr(B.index,J)}function q(B){return j(B,1)}function X(B){B.index++}function Y(B){return B.expression.charAt(B.index-1)}function P(B){return B.expression.charAt(B.index+1)}function L(B){for(B.tokenType=E.NULL,B.token="",B.comment="";;){if(q(B)==="#")for(;q(B)!==`
`&&q(B)!=="";)B.comment+=q(B),X(B);if(x.isWhitespace(q(B),B.nestingLevel))X(B);else break}if(q(B)===""){B.tokenType=E.DELIMITER;return}if(q(B)===`
`&&!B.nestingLevel){B.tokenType=E.DELIMITER,B.token=q(B),X(B);return}var J=q(B),_e=j(B,2),Ye=j(B,3);if(Ye.length===3&&w[Ye]){B.tokenType=E.DELIMITER,B.token=Ye,X(B),X(B),X(B);return}if(_e.length===2&&w[_e]){B.tokenType=E.DELIMITER,B.token=_e,X(B),X(B);return}if(w[J]){B.tokenType=E.DELIMITER,B.token=J,X(B);return}if(x.isDigitDot(J)){B.tokenType=E.NUMBER;var Ct=j(B,2);if(Ct==="0b"||Ct==="0o"||Ct==="0x"){for(B.token+=q(B),X(B),B.token+=q(B),X(B);x.isHexDigit(q(B));)B.token+=q(B),X(B);if(q(B)===".")for(B.token+=".",X(B);x.isHexDigit(q(B));)B.token+=q(B),X(B);else if(q(B)==="i")for(B.token+="i",X(B);x.isDigit(q(B));)B.token+=q(B),X(B);return}if(q(B)==="."){if(B.token+=q(B),X(B),!x.isDigit(q(B))){B.tokenType=E.DELIMITER;return}}else{for(;x.isDigit(q(B));)B.token+=q(B),X(B);x.isDecimalMark(q(B),P(B))&&(B.token+=q(B),X(B))}for(;x.isDigit(q(B));)B.token+=q(B),X(B);if(q(B)==="E"||q(B)==="e"){if(x.isDigit(P(B))||P(B)==="-"||P(B)==="+"){if(B.token+=q(B),X(B),(q(B)==="+"||q(B)==="-")&&(B.token+=q(B),X(B)),!x.isDigit(q(B)))throw Le(B,'Digit expected, got "'+q(B)+'"');for(;x.isDigit(q(B));)B.token+=q(B),X(B);if(x.isDecimalMark(q(B),P(B)))throw Le(B,'Digit expected, got "'+q(B)+'"')}else if(P(B)===".")throw X(B),Le(B,'Digit expected, got "'+q(B)+'"')}return}if(x.isAlpha(q(B),Y(B),P(B))){for(;x.isAlpha(q(B),Y(B),P(B))||x.isDigit(q(B));)B.token+=q(B),X(B);Dt(T,B.token)?B.tokenType=E.DELIMITER:B.tokenType=E.SYMBOL;return}for(B.tokenType=E.UNKNOWN;q(B)!=="";)B.token+=q(B),X(B);throw Le(B,'Syntax error in part "'+B.token+'"')}function Z(B){do L(B);while(B.token===`
`)}function U(B){B.nestingLevel++}function ce(B){B.nestingLevel--}x.isAlpha=function(J,_e,Ye){return x.isValidLatinOrGreek(J)||x.isValidMathSymbol(J,Ye)||x.isValidMathSymbol(_e,J)},x.isValidLatinOrGreek=function(J){return/^[a-zA-Z_$\u00C0-\u02AF\u0370-\u03FF\u2100-\u214F]$/.test(J)},x.isValidMathSymbol=function(J,_e){return/^[\uD835]$/.test(J)&&/^[\uDC00-\uDFFF]$/.test(_e)&&/^[^\uDC55\uDC9D\uDCA0\uDCA1\uDCA3\uDCA4\uDCA7\uDCA8\uDCAD\uDCBA\uDCBC\uDCC4\uDD06\uDD0B\uDD0C\uDD15\uDD1D\uDD3A\uDD3F\uDD45\uDD47-\uDD49\uDD51\uDEA6\uDEA7\uDFCC\uDFCD]$/.test(_e)},x.isWhitespace=function(J,_e){return J===" "||J==="	"||J===`
`&&_e>0},x.isDecimalMark=function(J,_e){return J==="."&&_e!=="/"&&_e!=="*"&&_e!=="^"},x.isDigitDot=function(J){return J>="0"&&J<="9"||J==="."},x.isDigit=function(J){return J>="0"&&J<="9"},x.isHexDigit=function(J){return J>="0"&&J<="9"||J>="a"&&J<="f"||J>="A"&&J<="F"};function me(B,J){var _e=R();ci(_e,{expression:B,extraNodes:J}),L(_e);var Ye=se(_e);if(_e.token!=="")throw _e.tokenType===E.DELIMITER?st(_e,"Unexpected operator "+_e.token):Le(_e,'Unexpected part "'+_e.token+'"');return Ye}function se(B){var J,_e=[],Ye;for(B.token!==""&&B.token!==`
`&&B.token!==";"&&(J=Q(B),B.comment&&(J.comment=B.comment));B.token===`
`||B.token===";";)_e.length===0&&J&&(Ye=B.token!==";",_e.push({node:J,visible:Ye})),L(B),B.token!==`
`&&B.token!==";"&&B.token!==""&&(J=Q(B),B.comment&&(J.comment=B.comment),Ye=B.token!==";",_e.push({node:J,visible:Ye}));return _e.length>0?new a(_e):(J||(J=new c(void 0),B.comment&&(J.comment=B.comment)),J)}function Q(B){var J,_e,Ye,Ct,Ht=he(B);if(B.token==="="){if(In(Ht))return J=Ht.name,Z(B),Ye=Q(B),new s(new A(J),Ye);if(rl(Ht))return Z(B),Ye=Q(B),new s(Ht.object,Ht.index,Ye);if(da(Ht)&&In(Ht.fn)&&(Ct=!0,_e=[],J=Ht.name,Ht.args.forEach(function(Lr,ys){In(Lr)?_e[ys]=Lr.name:Ct=!1}),Ct))return Z(B),Ye=Q(B),new d(J,_e,Ye);throw Le(B,"Invalid left hand side of assignment operator =")}return Ht}function he(B){for(var J=ke(B);B.token==="?";){var _e=B.conditionalLevel;B.conditionalLevel=B.nestingLevel,Z(B);var Ye=J,Ct=Q(B);if(B.token!==":")throw Le(B,"False part of conditional expression expected");B.conditionalLevel=null,Z(B);var Ht=Q(B);J=new l(Ye,Ct,Ht),B.conditionalLevel=_e}return J}function ke(B){for(var J=be(B);B.token==="or";)Z(B),J=new b("or","or",[J,be(B)]);return J}function be(B){for(var J=ee(B);B.token==="xor";)Z(B),J=new b("xor","xor",[J,ee(B)]);return J}function ee(B){for(var J=ae(B);B.token==="and";)Z(B),J=new b("and","and",[J,ae(B)]);return J}function ae(B){for(var J=le(B);B.token==="|";)Z(B),J=new b("|","bitOr",[J,le(B)]);return J}function le(B){for(var J=pe(B);B.token==="^|";)Z(B),J=new b("^|","bitXor",[J,pe(B)]);return J}function pe(B){for(var J=ve(B);B.token==="&";)Z(B),J=new b("&","bitAnd",[J,ve(B)]);return J}function ve(B){for(var J=[Ee(B)],_e=[],Ye={"==":"equal","!=":"unequal","<":"smaller",">":"larger","<=":"smallerEq",">=":"largerEq"};Dt(Ye,B.token);){var Ct={name:B.token,fn:Ye[B.token]};_e.push(Ct),Z(B),J.push(Ee(B))}return J.length===1?J[0]:J.length===2?new b(_e[0].name,_e[0].fn,J):new S(_e.map(Ht=>Ht.fn),J)}function Ee(B){var J,_e,Ye,Ct;J=Ie(B);for(var Ht={"<<":"leftShift",">>":"rightArithShift",">>>":"rightLogShift"};Dt(Ht,B.token);)_e=B.token,Ye=Ht[_e],Z(B),Ct=[J,Ie(B)],J=new b(_e,Ye,Ct);return J}function Ie(B){var J,_e,Ye,Ct;J=Ve(B);for(var Ht={to:"to",in:"to"};Dt(Ht,B.token);)_e=B.token,Ye=Ht[_e],Z(B),_e==="in"&&B.token===""?J=new b("*","multiply",[J,new A("in")],!0):(Ct=[J,Ve(B)],J=new b(_e,Ye,Ct));return J}function Ve(B){var J,_e=[];if(B.token===":"?J=new c(1):J=te(B),B.token===":"&&B.conditionalLevel!==B.nestingLevel){for(_e.push(J);B.token===":"&&_e.length<3;)Z(B),B.token===")"||B.token==="]"||B.token===","||B.token===""?_e.push(new A("end")):_e.push(te(B));_e.length===3?J=new C(_e[0],_e[2],_e[1]):J=new C(_e[0],_e[1])}return J}function te(B){var J,_e,Ye,Ct;J=re(B);for(var Ht={"+":"add","-":"subtract"};Dt(Ht,B.token);){_e=B.token,Ye=Ht[_e],Z(B);var Lr=re(B);Lr.isPercentage?Ct=[J,new b("*","multiply",[J,Lr])]:Ct=[J,Lr],J=new b(_e,Ye,Ct)}return J}function re(B){var J,_e,Ye,Ct;J=De(B),_e=J;for(var Ht={"*":"multiply",".*":"dotMultiply","/":"divide","./":"dotDivide"};Dt(Ht,B.token);)Ye=B.token,Ct=Ht[Ye],Z(B),_e=De(B),J=new b(Ye,Ct,[J,_e]);return J}function De(B){var J,_e;for(J=Ae(B),_e=J;B.tokenType===E.SYMBOL||B.token==="in"&&xr(J)||B.token==="in"&&zn(J)&&J.fn==="unaryMinus"&&xr(J.args[0])||B.tokenType===E.NUMBER&&!xr(_e)&&(!zn(_e)||_e.op==="!")||B.token==="(";)_e=Ae(B),J=new b("*","multiply",[J,_e],!0);return J}function Ae(B){for(var J=qe(B),_e=J,Ye=[];B.token==="/"&&ly(_e);)if(Ye.push(ci({},B)),Z(B),B.tokenType===E.NUMBER)if(Ye.push(ci({},B)),Z(B),B.tokenType===E.SYMBOL||B.token==="("||B.token==="in")ci(B,Ye.pop()),Ye.pop(),_e=qe(B),J=new b("/","divide",[J,_e]);else{Ye.pop(),ci(B,Ye.pop());break}else{ci(B,Ye.pop());break}return J}function qe(B){var J,_e,Ye,Ct;J=Ge(B);for(var Ht={"%":"mod",mod:"mod"};Dt(Ht,B.token);)_e=B.token,Ye=Ht[_e],Z(B),_e==="%"&&B.tokenType===E.DELIMITER&&B.token!=="("?J=new b("/","divide",[J,new c(100)],!1,!0):(Ct=[J,Ge(B)],J=new b(_e,Ye,Ct));return J}function Ge(B){var J,_e,Ye,Ct={"-":"unaryMinus","+":"unaryPlus","~":"bitNot",not:"not"};return Dt(Ct,B.token)?(Ye=Ct[B.token],J=B.token,Z(B),_e=[Ge(B)],new b(J,Ye,_e)):mt(B)}function mt(B){var J,_e,Ye,Ct;return J=yt(B),(B.token==="^"||B.token===".^")&&(_e=B.token,Ye=_e==="^"?"pow":"dotPow",Z(B),Ct=[J,Ge(B)],J=new b(_e,Ye,Ct)),J}function yt(B){var J,_e,Ye,Ct;J=tr(B);for(var Ht={"!":"factorial","'":"ctranspose"};Dt(Ht,B.token);)_e=B.token,Ye=Ht[_e],L(B),Ct=[J],J=new b(_e,Ye,Ct),J=bn(B,J);return J}function tr(B){var J=[];if(B.tokenType===E.SYMBOL&&Dt(B.extraNodes,B.token)){var _e=B.extraNodes[B.token];if(L(B),B.token==="("){if(J=[],U(B),L(B),B.token!==")")for(J.push(Q(B));B.token===",";)L(B),J.push(Q(B));if(B.token!==")")throw Le(B,"Parenthesis ) expected");ce(B),L(B)}return new _e(J)}return Yt(B)}function Yt(B){var J,_e;return B.tokenType===E.SYMBOL||B.tokenType===E.DELIMITER&&B.token in T?(_e=B.token,L(B),Dt(k,_e)?J=new c(k[_e]):I.includes(_e)?J=new c(e(_e,"number")):J=new A(_e),J=bn(B,J),J):Vr(B)}function bn(B,J,_e){for(var Ye;(B.token==="("||B.token==="["||B.token===".")&&(!_e||_e.includes(B.token));)if(Ye=[],B.token==="(")if(In(J)||rl(J)){if(U(B),L(B),B.token!==")")for(Ye.push(Q(B));B.token===",";)L(B),Ye.push(Q(B));if(B.token!==")")throw Le(B,"Parenthesis ) expected");ce(B),L(B),J=new f(J,Ye)}else return J;else if(B.token==="["){if(U(B),L(B),B.token!=="]")for(Ye.push(Q(B));B.token===",";)L(B),Ye.push(Q(B));if(B.token!=="]")throw Le(B,"Parenthesis ] expected");ce(B),L(B),J=new i(J,new m(Ye))}else{L(B);var Ct=B.tokenType===E.SYMBOL||B.tokenType===E.DELIMITER&&B.token in T;if(!Ct)throw Le(B,"Property name expected after dot");Ye.push(new c(B.token)),L(B);var Ht=!0;J=new i(J,new m(Ye,Ht))}return J}function Vr(B){var J,_e;return B.token==='"'||B.token==="'"?(_e=xi(B,B.token),J=new c(_e),J=bn(B,J),J):oi(B)}function xi(B,J){for(var _e="";q(B)!==""&&q(B)!==J;)if(q(B)==="\\"){X(B);var Ye=q(B),Ct=O[Ye];if(Ct!==void 0)_e+=Ct,B.index+=1;else if(Ye==="u"){var Ht=B.expression.slice(B.index+1,B.index+5);if(/^[0-9A-Fa-f]{4}$/.test(Ht))_e+=String.fromCharCode(parseInt(Ht,16)),B.index+=5;else throw Le(B,"Invalid unicode character \\u".concat(Ht))}else throw Le(B,"Bad escape character \\".concat(Ye))}else _e+=q(B),X(B);if(L(B),B.token!==J)throw Le(B,"End of string ".concat(J," expected"));return L(B),_e}function oi(B){var J,_e,Ye,Ct;if(B.token==="["){if(U(B),L(B),B.token!=="]"){var Ht=ue(B);if(B.token===";"){for(Ye=1,_e=[Ht];B.token===";";)L(B),B.token!=="]"&&(_e[Ye]=ue(B),Ye++);if(B.token!=="]")throw Le(B,"End of matrix ] expected");ce(B),L(B),Ct=_e[0].items.length;for(var Lr=1;Lr<Ye;Lr++)if(_e[Lr].items.length!==Ct)throw st(B,"Column dimensions mismatch ("+_e[Lr].items.length+" !== "+Ct+")");J=new o(_e)}else{if(B.token!=="]")throw Le(B,"End of matrix ] expected");ce(B),L(B),J=Ht}}else ce(B),L(B),J=new o([]);return bn(B,J)}return Ce(B)}function ue(B){for(var J=[Q(B)],_e=1;B.token===",";)L(B),B.token!=="]"&&B.token!==";"&&(J[_e]=Q(B),_e++);return new o(J)}function Ce(B){if(B.token==="{"){U(B);var J,_e={};do if(L(B),B.token!=="}"){if(B.token==='"'||B.token==="'")J=xi(B,B.token);else if(B.tokenType===E.SYMBOL||B.tokenType===E.DELIMITER&&B.token in T)J=B.token,L(B);else throw Le(B,"Symbol or string expected as object key");if(B.token!==":")throw Le(B,"Colon : expected after object key");L(B),_e[J]=Q(B)}while(B.token===",");if(B.token!=="}")throw Le(B,"Comma , or bracket } expected after object value");ce(B),L(B);var Ye=new p(_e);return Ye=bn(B,Ye),Ye}return Re(B)}function Re(B){var J;if(B.tokenType===E.NUMBER){J=B.token,L(B);var _e=Ms(J,n),Ye=e(J,_e);return new c(Ye)}return Xe(B)}function Xe(B){var J;if(B.token==="("){if(U(B),L(B),J=Q(B),B.token!==")")throw Le(B,"Parenthesis ) expected");return ce(B),L(B),J=new y(J),J=bn(B,J),J}return Qe(B)}function Qe(B){throw B.token===""?Le(B,"Unexpected end of expression"):Le(B,"Value expected")}function Je(B){return B.index-B.token.length+1}function Le(B,J){var _e=Je(B),Ye=new SyntaxError(J+" (char "+_e+")");return Ye.char=_e,Ye}function st(B,J){var _e=Je(B),Ye=new SyntaxError(J+" (char "+_e+")");return Ye.char=_e,Ye}return t.addConversion({from:"string",to:"Node",convert:x}),x});var QX="compile",pIe=["typed","parse"],EL=F(QX,pIe,r=>{var{typed:t,parse:e}=r;return t(QX,{string:function(i){return e(i).compile()},"Array | Matrix":function(i){return wt(i,function(o){return e(o).compile()})}})});var JX="evaluate",gIe=["typed","parse"],ML=F(JX,gIe,r=>{var{typed:t,parse:e}=r;return t(JX,{string:function(i){var o=Of();return e(i).compile().evaluate(o)},"string, Map | Object":function(i,o){return e(i).compile().evaluate(o)},"Array | Matrix":function(i){var o=Of();return wt(i,function(s){return e(s).compile().evaluate(o)})},"Array | Matrix, Map | Object":function(i,o){return wt(i,function(s){return e(s).compile().evaluate(o)})}})});var vIe="Parser",bIe=["evaluate","parse"],AL=F(vIe,bIe,r=>{var{evaluate:t,parse:e}=r;function n(){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");Object.defineProperty(this,"scope",{value:Of(),writable:!1})}n.prototype.type="Parser",n.prototype.isParser=!0,n.prototype.evaluate=function(o){return t(o,this.scope)},n.prototype.get=function(o){if(this.scope.has(o))return this.scope.get(o)},n.prototype.getAll=function(){return S$(this.scope)},n.prototype.getAllAsMap=function(){return this.scope};function i(o){if(o.length===0)return!1;for(var s=0;s<o.length;s++){var a=o.charAt(s-1),l=o.charAt(s),c=o.charAt(s+1),d=e.isAlpha(l,a,c)||s>0&&e.isDigit(l);if(!d)return!1}return!0}return n.prototype.set=function(o,s){if(!i(o))throw new Error("Invalid variable name: '".concat(o,"'. Variable names must follow the specified rules."));return this.scope.set(o,s),s},n.prototype.remove=function(o){this.scope.delete(o)},n.prototype.clear=function(){this.scope.clear()},n},{isClass:!0});var eZ="parser",yIe=["typed","Parser"],TL=F(eZ,yIe,r=>{var{typed:t,Parser:e}=r;return t(eZ,{"":function(){return new e}})});var tZ="lup",_Ie=["typed","matrix","abs","addScalar","divideScalar","multiplyScalar","subtractScalar","larger","equalScalar","unaryMinus","DenseMatrix","SparseMatrix","Spa"],IL=F(tZ,_Ie,r=>{var{typed:t,matrix:e,abs:n,addScalar:i,divideScalar:o,multiplyScalar:s,subtractScalar:a,larger:l,equalScalar:c,unaryMinus:d,DenseMatrix:f,SparseMatrix:m,Spa:p}=r;return t(tZ,{DenseMatrix:function(S){return b(S)},SparseMatrix:function(S){return y(S)},Array:function(S){var A=e(S),x=b(A);return{L:x.L.valueOf(),U:x.U.valueOf(),p:x.p}}});function b(C){var S=C._size[0],A=C._size[1],x=Math.min(S,A),M=Pt(C._data),E=[],w=[S,x],T=[],k=[x,A],I,O,R,j=[];for(I=0;I<S;I++)j[I]=I;for(O=0;O<A;O++){if(O>0)for(I=0;I<S;I++){var q=Math.min(I,O),X=0;for(R=0;R<q;R++)X=i(X,s(M[I][R],M[R][O]));M[I][O]=a(M[I][O],X)}var Y=O,P=0,L=0;for(I=O;I<S;I++){var Z=M[I][O],U=n(Z);l(U,P)&&(Y=I,P=U,L=Z)}if(O!==Y&&(j[O]=[j[Y],j[Y]=j[O]][0],f._swapRows(O,Y,M)),O<S)for(I=O+1;I<S;I++){var ce=M[I][O];c(ce,0)||(M[I][O]=o(M[I][O],L))}}for(O=0;O<A;O++)for(I=0;I<S;I++){if(O===0&&(I<A&&(T[I]=[]),E[I]=[]),I<O){I<A&&(T[I][O]=M[I][O]),O<S&&(E[I][O]=0);continue}if(I===O){I<A&&(T[I][O]=M[I][O]),O<S&&(E[I][O]=1);continue}I<A&&(T[I][O]=0),O<S&&(E[I][O]=M[I][O])}var me=new f({data:E,size:w}),se=new f({data:T,size:k}),Q=[];for(I=0,x=j.length;I<x;I++)Q[j[I]]=I;return{L:me,U:se,p:Q,toString:function(){return"L: "+this.L.toString()+`
U: `+this.U.toString()+`
P: `+this.p}}}function y(C){var S=C._size[0],A=C._size[1],x=Math.min(S,A),M=C._values,E=C._index,w=C._ptr,T=[],k=[],I=[],O=[S,x],R=[],j=[],q=[],X=[x,A],Y,P,L,Z=[],U=[];for(Y=0;Y<S;Y++)Z[Y]=Y,U[Y]=Y;var ce=function(Q,he){var ke=U[Q],be=U[he];Z[ke]=he,Z[be]=Q,U[Q]=be,U[he]=ke},me=function(){var Q=new p;P<S&&(I.push(T.length),T.push(1),k.push(P)),q.push(R.length);var he=w[P],ke=w[P+1];for(L=he;L<ke;L++)Y=E[L],Q.set(Z[Y],M[L]);P>0&&Q.forEach(0,P-1,function(le,pe){m._forEachRow(le,T,k,I,function(ve,Ee){ve>le&&Q.accumulate(ve,d(s(Ee,pe)))})});var be=P,ee=Q.get(P),ae=n(ee);Q.forEach(P+1,S-1,function(le,pe){var ve=n(pe);l(ve,ae)&&(be=le,ae=ve,ee=pe)}),P!==be&&(m._swapRows(P,be,O[1],T,k,I),m._swapRows(P,be,X[1],R,j,q),Q.swap(P,be),ce(P,be)),Q.forEach(0,S-1,function(le,pe){le<=P?(R.push(pe),j.push(le)):(pe=o(pe,ee),c(pe,0)||(T.push(pe),k.push(le)))})};for(P=0;P<A;P++)me();return q.push(R.length),I.push(T.length),{L:new m({values:T,index:k,ptr:I,size:O}),U:new m({values:R,index:j,ptr:q,size:X}),p:Z,toString:function(){return"L: "+this.L.toString()+`
U: `+this.U.toString()+`
P: `+this.p}}}});var rZ="qr",xIe=["typed","matrix","zeros","identity","isZero","equal","sign","sqrt","conj","unaryMinus","addScalar","divideScalar","multiplyScalar","subtractScalar","complex"],kL=F(rZ,xIe,r=>{var{typed:t,matrix:e,zeros:n,identity:i,isZero:o,equal:s,sign:a,sqrt:l,conj:c,unaryMinus:d,addScalar:f,divideScalar:m,multiplyScalar:p,subtractScalar:b,complex:y}=r;return ci(t(rZ,{DenseMatrix:function(M){return S(M)},SparseMatrix:function(M){return A(M)},Array:function(M){var E=e(M),w=S(E);return{Q:w.Q.valueOf(),R:w.R.valueOf()}}}),{_denseQRimpl:C});function C(x){var M=x._size[0],E=x._size[1],w=i([M],"dense"),T=w._data,k=x.clone(),I=k._data,O,R,j,q=n([M],"");for(j=0;j<Math.min(E,M);++j){var X=I[j][j],Y=d(s(X,0)?1:a(X)),P=c(Y),L=0;for(O=j;O<M;O++)L=f(L,p(I[O][j],c(I[O][j])));var Z=p(Y,l(L));if(!o(Z)){var U=b(X,Z);for(q[j]=1,O=j+1;O<M;O++)q[O]=m(I[O][j],U);var ce=d(c(m(U,Z))),me=void 0;for(R=j;R<E;R++){for(me=0,O=j;O<M;O++)me=f(me,p(c(q[O]),I[O][R]));for(me=p(me,ce),O=j;O<M;O++)I[O][R]=p(b(I[O][R],p(q[O],me)),P)}for(O=0;O<M;O++){for(me=0,R=j;R<M;R++)me=f(me,p(T[O][R],q[R]));for(me=p(me,ce),R=j;R<M;++R)T[O][R]=m(b(T[O][R],p(me,c(q[R]))),P)}}}return{Q:w,R:k,toString:function(){return"Q: "+this.Q.toString()+`
R: `+this.R.toString()}}}function S(x){var M=C(x),E=M.R._data;if(x._data.length>0)for(var w=E[0][0].type==="Complex"?y(0):0,T=0;T<E.length;++T)for(var k=0;k<T&&k<(E[0]||[]).length;++k)E[T][k]=w;return M}function A(x){throw new Error("qr not implemented for sparse matrices yet")}});function nZ(r,t,e,n){for(var i=r._values,o=r._index,s=r._ptr,a=r._size,l=r._datatype,c=a[0],d=a[1],f=n&&r._values?[]:null,m=[],p=[],b=0,y=0;y<d;y++){p[y]=b;for(var C=e?e[y]:y,S=s[C],A=s[C+1],x=S;x<A;x++){var M=t?t[o[x]]:o[x];m[b]=M,f&&(f[b]=i[x]),b++}}return p[d]=b,r.createSparseMatrix({values:f,index:m,ptr:p,size:[c,d],datatype:l})}function SD(r,t,e,n,i,o,s){var a=0;for(e[s]=r;a>=0;){var l=e[s+a],c=e[n+l];c===-1?(a--,o[t++]=l):(e[n+l]=e[i+c],++a,e[s+a]=c)}return t}function iZ(r,t){if(!r)return null;var e=0,n,i=[],o=[],s=0,a=t,l=2*t;for(n=0;n<t;n++)o[s+n]=-1;for(n=t-1;n>=0;n--)r[n]!==-1&&(o[a+n]=o[s+r[n]],o[s+r[n]]=n);for(n=0;n<t;n++)r[n]===-1&&(e=SD(n,e,o,s,a,i,l));return i}function oZ(r,t){if(!r)return null;var e=r._index,n=r._ptr,i=r._size,o=i[0],s=i[1],a=[],l=[],c=0,d=s,f,m;if(t)for(f=0;f<o;f++)l[d+f]=-1;for(var p=0;p<s;p++){a[p]=-1,l[c+p]=-1;for(var b=n[p],y=n[p+1],C=b;C<y;C++){var S=e[C];for(f=t?l[d+S]:S;f!==-1&&f<p;f=m)m=l[c+f],l[c+f]=p,m===-1&&(a[f]=p);t&&(l[d+S]=p)}}return a}function sZ(r,t,e){for(var n=r._values,i=r._index,o=r._ptr,s=r._size,a=s[1],l=0,c=0;c<a;c++){var d=o[c];for(o[c]=l;d<o[c+1];d++)t(i[d],c,n?n[d]:1,e)&&(i[l]=i[d],n&&(n[l]=n[d]),l++)}return o[a]=l,i.splice(l,i.length-l),n&&n.splice(l,n.length-l),l}function Ec(r){return-r-2}var wIe="csAmd",CIe=["add","multiply","transpose"],aZ=F(wIe,CIe,r=>{var{add:t,multiply:e,transpose:n}=r;return function(d,f){if(!f||d<=0||d>3)return null;var m=f._size,p=m[0],b=m[1],y=0,C=Math.max(16,10*Math.sqrt(b));C=Math.min(b-2,C);var S=i(d,f,p,b,C);sZ(S,l,null);for(var A=S._index,x=S._ptr,M=x[b],E=[],w=[],T=0,k=b+1,I=2*(b+1),O=3*(b+1),R=4*(b+1),j=5*(b+1),q=6*(b+1),X=7*(b+1),Y=E,P=o(b,x,w,T,O,Y,I,X,k,q,R,j),L=s(b,x,w,j,R,q,C,k,O,Y,I),Z=0,U,ce,me,se,Q,he,ke,be,ee,ae,le,pe,ve,Ee,Ie,Ve;L<b;){for(me=-1;Z<b&&(me=w[O+Z])===-1;Z++);w[I+me]!==-1&&(Y[w[I+me]]=-1),w[O+Z]=w[I+me];var te=w[R+me],re=w[k+me];L+=re;var De=0;w[k+me]=-re;var Ae=x[me],qe=te===0?Ae:M,Ge=qe;for(se=1;se<=te+1;se++){for(se>te?(he=me,ke=Ae,be=w[T+me]-te):(he=A[Ae++],ke=x[he],be=w[T+he]),Q=1;Q<=be;Q++)U=A[ke++],!((ee=w[k+U])<=0)&&(De+=ee,w[k+U]=-ee,A[Ge++]=U,w[I+U]!==-1&&(Y[w[I+U]]=Y[U]),Y[U]!==-1?w[I+Y[U]]=w[I+U]:w[O+w[j+U]]=w[I+U]);he!==me&&(x[he]=Ec(me),w[q+he]=0)}for(te!==0&&(M=Ge),w[j+me]=De,x[me]=qe,w[T+me]=Ge-qe,w[R+me]=-2,P=a(P,y,w,q,b),ae=qe;ae<Ge;ae++)if(U=A[ae],!((le=w[R+U])<=0)){ee=-w[k+U];var mt=P-ee;for(Ae=x[U],pe=x[U]+le-1;Ae<=pe;Ae++)he=A[Ae],w[q+he]>=P?w[q+he]-=ee:w[q+he]!==0&&(w[q+he]=w[j+he]+mt)}for(ae=qe;ae<Ge;ae++){for(U=A[ae],pe=x[U],ve=pe+w[R+U]-1,Ee=pe,Ie=0,Ve=0,Ae=pe;Ae<=ve;Ae++)if(he=A[Ae],w[q+he]!==0){var yt=w[q+he]-P;yt>0?(Ve+=yt,A[Ee++]=he,Ie+=he):(x[he]=Ec(me),w[q+he]=0)}w[R+U]=Ee-pe+1;var tr=Ee,Yt=pe+w[T+U];for(Ae=ve+1;Ae<Yt;Ae++){ce=A[Ae];var bn=w[k+ce];bn<=0||(Ve+=bn,A[Ee++]=ce,Ie+=ce)}Ve===0?(x[U]=Ec(me),ee=-w[k+U],De-=ee,re+=ee,L+=ee,w[k+U]=0,w[R+U]=-1):(w[j+U]=Math.min(w[j+U],Ve),A[Ee]=A[tr],A[tr]=A[pe],A[pe]=me,w[T+U]=Ee-pe+1,Ie=(Ie<0?-Ie:Ie)%b,w[I+U]=w[X+Ie],w[X+Ie]=U,Y[U]=Ie)}for(w[j+me]=De,y=Math.max(y,De),P=a(P+y,y,w,q,b),ae=qe;ae<Ge;ae++)if(U=A[ae],!(w[k+U]>=0))for(Ie=Y[U],U=w[X+Ie],w[X+Ie]=-1;U!==-1&&w[I+U]!==-1;U=w[I+U],P++){for(be=w[T+U],le=w[R+U],Ae=x[U]+1;Ae<=x[U]+be-1;Ae++)w[q+A[Ae]]=P;var Vr=U;for(ce=w[I+U];ce!==-1;){var xi=w[T+ce]===be&&w[R+ce]===le;for(Ae=x[ce]+1;xi&&Ae<=x[ce]+be-1;Ae++)w[q+A[Ae]]!==P&&(xi=0);xi?(x[ce]=Ec(U),w[k+U]+=w[k+ce],w[k+ce]=0,w[R+ce]=-1,ce=w[I+ce],w[I+Vr]=ce):(Vr=ce,ce=w[I+ce])}}for(Ae=qe,ae=qe;ae<Ge;ae++)U=A[ae],!((ee=-w[k+U])<=0)&&(w[k+U]=ee,Ve=w[j+U]+De-ee,Ve=Math.min(Ve,b-L-ee),w[O+Ve]!==-1&&(Y[w[O+Ve]]=U),w[I+U]=w[O+Ve],Y[U]=-1,w[O+Ve]=U,Z=Math.min(Z,Ve),w[j+U]=Ve,A[Ae++]=U);w[k+me]=re,(w[T+me]=Ae-qe)===0&&(x[me]=-1,w[q+me]=0),te!==0&&(M=Ae)}for(U=0;U<b;U++)x[U]=Ec(x[U]);for(ce=0;ce<=b;ce++)w[O+ce]=-1;for(ce=b;ce>=0;ce--)w[k+ce]>0||(w[I+ce]=w[O+x[ce]],w[O+x[ce]]=ce);for(he=b;he>=0;he--)w[k+he]<=0||x[he]!==-1&&(w[I+he]=w[O+x[he]],w[O+x[he]]=he);for(me=0,U=0;U<=b;U++)x[U]===-1&&(me=SD(U,me,w,O,I,E,q));return E.splice(E.length-1,1),E};function i(c,d,f,m,p){var b=n(d);if(c===1&&m===f)return t(d,b);if(c===2){for(var y=b._index,C=b._ptr,S=0,A=0;A<f;A++){var x=C[A];if(C[A]=S,!(C[A+1]-x>p))for(var M=C[A+1];x<M;x++)y[S++]=y[x]}return C[f]=S,d=n(b),e(b,d)}return e(b,d)}function o(c,d,f,m,p,b,y,C,S,A,x,M){for(var E=0;E<c;E++)f[m+E]=d[E+1]-d[E];f[m+c]=0;for(var w=0;w<=c;w++)f[p+w]=-1,b[w]=-1,f[y+w]=-1,f[C+w]=-1,f[S+w]=1,f[A+w]=1,f[x+w]=0,f[M+w]=f[m+w];var T=a(0,0,f,A,c);return f[x+c]=-2,d[c]=-1,f[A+c]=0,T}function s(c,d,f,m,p,b,y,C,S,A,x){for(var M=0,E=0;E<c;E++){var w=f[m+E];if(w===0)f[p+E]=-2,M++,d[E]=-1,f[b+E]=0;else if(w>y)f[C+E]=0,f[p+E]=-1,M++,d[E]=Ec(c),f[C+c]++;else{var T=f[S+w];T!==-1&&(A[T]=E),f[x+E]=f[S+w],f[S+w]=E}}return M}function a(c,d,f,m,p){if(c<2||c+d<0){for(var b=0;b<p;b++)f[m+b]!==0&&(f[m+b]=1);c=2}return c}function l(c,d){return c!==d}});function lZ(r,t,e,n,i,o,s){var a,l,c=0,d;if(r<=t||e[n+t]<=e[i+r])return-1;e[i+r]=e[n+t];var f=e[o+r];if(e[o+r]=t,f===-1)c=1,d=r;else{for(c=2,d=f;d!==e[s+d];d=e[s+d]);for(a=f;a!==d;a=l)l=e[s+a],e[s+a]=d}return{jleaf:c,q:d}}var SIe="csCounts",DIe=["transpose"],cZ=F(SIe,DIe,r=>{var{transpose:t}=r;return function(e,n,i,o){if(!e||!n||!i)return null;var s=e._size,a=s[0],l=s[1],c,d,f,m,p,b,y,C=4*l+(o?l+a+1:0),S=[],A=0,x=l,M=2*l,E=3*l,w=4*l,T=5*l+1;for(f=0;f<C;f++)S[f]=-1;var k=[],I=t(e),O=I._index,R=I._ptr;for(f=0;f<l;f++)for(d=i[f],k[d]=S[E+d]===-1?1:0;d!==-1&&S[E+d]===-1;d=n[d])S[E+d]=f;if(o){for(f=0;f<l;f++)S[i[f]]=f;for(c=0;c<a;c++){for(f=l,b=R[c],y=R[c+1],p=b;p<y;p++)f=Math.min(f,S[O[p]]);S[T+c]=S[w+f],S[w+f]=c}}for(c=0;c<l;c++)S[A+c]=c;for(f=0;f<l;f++){for(d=i[f],n[d]!==-1&&k[n[d]]--,m=o?S[w+f]:d;m!==-1;m=o?S[T+m]:-1)for(p=R[m];p<R[m+1];p++){c=O[p];var j=lZ(c,d,S,E,x,M,A);j.jleaf>=1&&k[d]++,j.jleaf===2&&k[j.q]--}n[d]!==-1&&(S[A+d]=n[d])}for(d=0;d<l;d++)n[d]!==-1&&(k[n[d]]+=k[d]);return k}});var EIe="csSqr",MIe=["add","multiply","transpose"],uZ=F(EIe,MIe,r=>{var{add:t,multiply:e,transpose:n}=r,i=aZ({add:t,multiply:e,transpose:n}),o=cZ({transpose:n});return function(l,c,d){var f=c._ptr,m=c._size,p=m[1],b,y={};if(y.q=i(l,c),l&&!y.q)return null;if(d){var C=l?nZ(c,null,y.q,0):c;y.parent=oZ(C,1);var S=iZ(y.parent,p);if(y.cp=o(C,y.parent,S,1),C&&y.parent&&y.cp&&s(C,y))for(y.unz=0,b=0;b<p;b++)y.unz+=y.cp[b]}else y.unz=4*f[p]+p,y.lnz=y.unz;return y};function s(a,l){var c=a._ptr,d=a._index,f=a._size,m=f[0],p=f[1];l.pinv=[],l.leftmost=[];var b=l.parent,y=l.pinv,C=l.leftmost,S=[],A=0,x=m,M=m+p,E=m+2*p,w,T,k,I,O;for(T=0;T<p;T++)S[x+T]=-1,S[M+T]=-1,S[E+T]=0;for(w=0;w<m;w++)C[w]=-1;for(T=p-1;T>=0;T--)for(I=c[T],O=c[T+1],k=I;k<O;k++)C[d[k]]=T;for(w=m-1;w>=0;w--)y[w]=-1,T=C[w],T!==-1&&(S[E+T]++===0&&(S[M+T]=w),S[A+w]=S[x+T],S[x+T]=w);for(l.lnz=0,l.m2=m,T=0;T<p;T++)if(w=S[x+T],l.lnz++,w<0&&(w=l.m2++),y[w]=T,!(--E[T]<=0)){l.lnz+=S[E+T];var R=b[T];R!==-1&&(S[E+R]===0&&(S[M+R]=S[M+T]),S[A+S[M+T]]=S[x+R],S[x+R]=S[A+w],S[E+R]+=S[E+T])}for(w=0;w<m;w++)y[w]<0&&(y[w]=T++);return!0}});function By(r,t){return r[t]<0}function DD(r,t){r[t]=Ec(r[t])}function NL(r){return r<0?Ec(r):r}function dZ(r,t,e,n,i){var o=t._index,s=t._ptr,a=t._size,l=a[1],c,d,f,m=0;for(n[0]=r;m>=0;){r=n[m];var p=i?i[r]:r;By(s,r)||(DD(s,r),n[l+m]=p<0?0:NL(s[p]));var b=1;for(d=n[l+m],f=p<0?0:NL(s[p+1]);d<f;d++)if(c=o[d],!By(s,c)){n[l+m]=d,n[++m]=c,b=0;break}b&&(m--,n[--e]=r)}return e}function fZ(r,t,e,n,i){var o=r._ptr,s=r._size,a=t._index,l=t._ptr,c=s[1],d,f,m,p=c;for(f=l[e],m=l[e+1],d=f;d<m;d++){var b=a[d];By(o,b)||(p=dZ(b,r,p,n,i))}for(d=p;d<c;d++)DD(o,n[d]);return p}var AIe="csSpsolve",TIe=["divideScalar","multiply","subtract"],hZ=F(AIe,TIe,r=>{var{divideScalar:t,multiply:e,subtract:n}=r;return function(o,s,a,l,c,d,f){var m=o._values,p=o._index,b=o._ptr,y=o._size,C=y[1],S=s._values,A=s._index,x=s._ptr,M,E,w,T,k=fZ(o,s,a,l,d);for(M=k;M<C;M++)c[l[M]]=0;for(E=x[a],w=x[a+1],M=E;M<w;M++)c[A[M]]=S[M];for(var I=k;I<C;I++){var O=l[I],R=d?d[O]:O;if(!(R<0))for(E=b[R],w=b[R+1],c[O]=t(c[O],m[f?E:w-1]),M=f?E+1:E,T=f?w:w-1;M<T;M++){var j=p[M];c[j]=n(c[j],e(m[M],c[O]))}}return k}});var IIe="csLu",kIe=["abs","divideScalar","multiply","subtract","larger","largerEq","SparseMatrix"],mZ=F(IIe,kIe,r=>{var{abs:t,divideScalar:e,multiply:n,subtract:i,larger:o,largerEq:s,SparseMatrix:a}=r,l=hZ({divideScalar:e,multiply:n,subtract:i});return function(d,f,m){if(!d)return null;var p=d._size,b=p[1],y,C=100,S=100;f&&(y=f.q,C=f.lnz||C,S=f.unz||S);var A=[],x=[],M=[],E=new a({values:A,index:x,ptr:M,size:[b,b]}),w=[],T=[],k=[],I=new a({values:w,index:T,ptr:k,size:[b,b]}),O=[],R,j,q=[],X=[];for(R=0;R<b;R++)q[R]=0,O[R]=-1,M[R+1]=0;C=0,S=0;for(var Y=0;Y<b;Y++){M[Y]=C,k[Y]=S;var P=y?y[Y]:Y,L=l(E,d,P,X,q,O,1),Z=-1,U=-1;for(j=L;j<b;j++)if(R=X[j],O[R]<0){var ce=t(q[R]);o(ce,U)&&(U=ce,Z=R)}else T[S]=O[R],w[S++]=q[R];if(Z===-1||U<=0)return null;O[P]<0&&s(t(q[P]),n(U,m))&&(Z=P);var me=q[Z];for(T[S]=Y,w[S++]=me,O[Z]=Y,x[C]=Z,A[C++]=1,j=L;j<b;j++)R=X[j],O[R]<0&&(x[C]=R,A[C++]=e(q[R],me)),q[R]=0}for(M[b]=C,k[b]=S,j=0;j<C;j++)x[j]=O[x[j]];return A.splice(C,A.length-C),x.splice(C,x.length-C),w.splice(S,w.length-S),T.splice(S,T.length-S),{L:E,U:I,pinv:O}}});var pZ="slu",NIe=["typed","abs","add","multiply","transpose","divideScalar","subtract","larger","largerEq","SparseMatrix"],OL=F(pZ,NIe,r=>{var{typed:t,abs:e,add:n,multiply:i,transpose:o,divideScalar:s,subtract:a,larger:l,largerEq:c,SparseMatrix:d}=r,f=uZ({add:n,multiply:i,transpose:o}),m=mZ({abs:e,divideScalar:s,multiply:i,subtract:a,larger:l,largerEq:c,SparseMatrix:d});return t(pZ,{"SparseMatrix, number, number":function(b,y,C){if(!pt(y)||y<0||y>3)throw new Error("Symbolic Ordering and Analysis order must be an integer number in the interval [0, 3]");if(C<0||C>1)throw new Error("Partial pivoting threshold must be a number from 0 to 1");var S=f(y,b,!1),A=m(b,S,C);return{L:A.L,U:A.U,p:A.pinv,q:S.q,toString:function(){return"L: "+this.L.toString()+`
U: `+this.U.toString()+`
p: `+this.p.toString()+(this.q?`
q: `+this.q.toString():"")+`
`}}}})});function FL(r,t){var e,n=t.length,i=[];if(r)for(e=0;e<n;e++)i[r[e]]=t[e];else for(e=0;e<n;e++)i[e]=t[e];return i}var gZ="lusolve",OIe=["typed","matrix","lup","slu","usolve","lsolve","DenseMatrix"],RL=F(gZ,OIe,r=>{var{typed:t,matrix:e,lup:n,slu:i,usolve:o,lsolve:s,DenseMatrix:a}=r,l=fu({DenseMatrix:a});return t(gZ,{"Array, Array | Matrix":function(m,p){m=e(m);var b=n(m),y=d(b.L,b.U,b.p,null,p);return y.valueOf()},"DenseMatrix, Array | Matrix":function(m,p){var b=n(m);return d(b.L,b.U,b.p,null,p)},"SparseMatrix, Array | Matrix":function(m,p){var b=n(m);return d(b.L,b.U,b.p,null,p)},"SparseMatrix, Array | Matrix, number, number":function(m,p,b,y){var C=i(m,b,y);return d(C.L,C.U,C.p,C.q,p)},"Object, Array | Matrix":function(m,p){return d(m.L,m.U,m.p,m.q,p)}});function c(f){if(_t(f))return f;if(Gr(f))return e(f);throw new TypeError("Invalid Matrix LU decomposition")}function d(f,m,p,b,y){f=c(f),m=c(m),p&&(y=l(f,y,!0),y._data=FL(p,y._data));var C=s(f,y),S=o(m,C);return b&&(S._data=FL(b,S._data)),S}});var vZ="polynomialRoot",FIe=["typed","isZero","equalScalar","add","subtract","multiply","divide","sqrt","unaryMinus","cbrt","typeOf","im","re"],PL=F(vZ,FIe,r=>{var{typed:t,isZero:e,equalScalar:n,add:i,subtract:o,multiply:s,divide:a,sqrt:l,unaryMinus:c,cbrt:d,typeOf:f,im:m,re:p}=r;return t(vZ,{"number|Complex, ...number|Complex":(b,y)=>{for(var C=[b,...y];C.length>0&&e(C[C.length-1]);)C.pop();if(C.length<2)throw new RangeError("Polynomial [".concat(b,", ").concat(y,"] must have a non-zero non-constant coefficient"));switch(C.length){case 2:return[c(a(C[0],C[1]))];case 3:{var[S,A,x]=C,M=s(2,x),E=s(A,A),w=s(4,x,S);if(n(E,w))return[a(c(A),M)];var T=l(o(E,w));return[a(o(T,A),M),a(o(c(T),A),M)]}case 4:{var[k,I,O,R]=C,j=c(s(3,R)),q=s(O,O),X=s(3,R,I),Y=i(s(2,O,O,O),s(27,R,R,k)),P=s(9,R,O,I);if(n(q,X)&&n(Y,P))return[a(O,j)];var L=o(q,X),Z=o(Y,P),U=i(s(18,R,O,I,k),s(O,O,I,I)),ce=i(s(4,O,O,O,k),s(4,R,I,I,I),s(27,R,R,k,k));if(n(U,ce))return[a(o(s(4,R,O,I),i(s(9,R,R,k),s(O,O,O))),s(R,L)),a(o(s(9,R,k),s(O,I)),s(2,L))];var me;n(q,X)?me=Z:me=a(i(Z,l(o(s(Z,Z),s(4,L,L,L)))),2);var se=!0,Q=d(me,se).toArray().map(he=>a(i(O,he,a(L,he)),j));return Q.map(he=>f(he)==="Complex"&&n(p(he),p(he)+m(he))?p(he):he)}default:throw new RangeError("only implemented for cubic or lower-order polynomials, not ".concat(C))}}})});var RIe="Help",PIe=["evaluate"],LL=F(RIe,PIe,r=>{var{evaluate:t}=r;function e(n){if(!(this instanceof e))throw new SyntaxError("Constructor must be called with the new operator");if(!n)throw new Error('Argument "doc" missing');this.doc=n}return e.prototype.type="Help",e.prototype.isHelp=!0,e.prototype.toString=function(){var n=this.doc||{},i=`
`;if(n.name&&(i+="Name: "+n.name+`

`),n.category&&(i+="Category: "+n.category+`

`),n.description&&(i+=`Description:
    `+n.description+`

`),n.syntax&&(i+=`Syntax:
    `+n.syntax.join(`
    `)+`

`),n.examples){i+=`Examples:
`;for(var o=!1,s=t("config()"),a={config:f=>(o=!0,t("config(newConfig)",{newConfig:f}))},l=0;l<n.examples.length;l++){var c=n.examples[l];i+="    "+c+`
`;var d=void 0;try{d=t(c,a)}catch(f){d=f}d!==void 0&&!gS(d)&&(i+="        "+Gt(d,{precision:14})+`
`)}i+=`
`,o&&t("config(originalConfig)",{originalConfig:s})}return n.mayThrow&&n.mayThrow.length&&(i+="Throws: "+n.mayThrow.join(", ")+`

`),n.seealso&&n.seealso.length&&(i+="See also: "+n.seealso.join(", ")+`
`),i},e.prototype.toJSON=function(){var n=Pt(this.doc);return n.mathjs="Help",n},e.fromJSON=function(n){var i={};return Object.keys(n).filter(o=>o!=="mathjs").forEach(o=>{i[o]=n[o]}),new e(i)},e.prototype.valueOf=e.prototype.toString,e},{isClass:!0});var LIe="Chain",BIe=["?on","math","typed"],BL=F(LIe,BIe,r=>{var{on:t,math:e,typed:n}=r;function i(c){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");vS(c)?this.value=c.value:this.value=c}i.prototype.type="Chain",i.prototype.isChain=!0,i.prototype.done=function(){return this.value},i.prototype.valueOf=function(){return this.value},i.prototype.toString=function(){return Gt(this.value)},i.prototype.toJSON=function(){return{mathjs:"Chain",value:this.value}},i.fromJSON=function(c){return new i(c.value)};function o(c,d){typeof d=="function"&&(i.prototype[c]=a(d))}function s(c,d){B$(i.prototype,c,function(){var m=d();if(typeof m=="function")return a(m)})}function a(c){return function(){if(arguments.length===0)return new i(c(this.value));for(var d=[this.value],f=0;f<arguments.length;f++)d[f+1]=arguments[f];if(n.isTypedFunction(c)){var m=n.resolve(c,d);if(m.params.length===1)throw new Error("chain function "+c.name+" cannot match rest parameter between chain value and additional arguments.");return new i(m.implementation.apply(c,d))}return new i(c.apply(c,d))}}i.createProxy=function(c,d){if(typeof c=="string")o(c,d);else{var f=function(b){Dt(c,b)&&l[b]===void 0&&s(b,()=>c[b])};for(var m in c)f(m)}};var l={expression:!0,docs:!0,type:!0,classes:!0,json:!0,error:!0,isChain:!0};return i.createProxy(e),t&&t("import",function(c,d,f){f||s(c,d)}),i},{isClass:!0});var VL={name:"e",category:"Constants",syntax:["e"],description:"Euler's number, the base of the natural logarithm. Approximately equal to 2.71828",examples:["e","e ^ 2","exp(2)","log(e)"],seealso:["exp"]};var bZ={name:"false",category:"Constants",syntax:["false"],description:"Boolean value false",examples:["false"],seealso:["true"]};var yZ={name:"i",category:"Constants",syntax:["i"],description:"Imaginary unit, defined as i*i=-1. A complex number is described as a + b*i, where a is the real part, and b is the imaginary part.",examples:["i","i * i","sqrt(-1)"],seealso:[]};var _Z={name:"Infinity",category:"Constants",syntax:["Infinity"],description:"Infinity, a number which is larger than the maximum number that can be handled by a floating point number.",examples:["Infinity","1 / 0"],seealso:[]};var xZ={name:"LN10",category:"Constants",syntax:["LN10"],description:"Returns the natural logarithm of 10, approximately equal to 2.302",examples:["LN10","log(10)"],seealso:[]};var wZ={name:"LN2",category:"Constants",syntax:["LN2"],description:"Returns the natural logarithm of 2, approximately equal to 0.693",examples:["LN2","log(2)"],seealso:[]};var CZ={name:"LOG10E",category:"Constants",syntax:["LOG10E"],description:"Returns the base-10 logarithm of E, approximately equal to 0.434",examples:["LOG10E","log(e, 10)"],seealso:[]};var SZ={name:"LOG2E",category:"Constants",syntax:["LOG2E"],description:"Returns the base-2 logarithm of E, approximately equal to 1.442",examples:["LOG2E","log(e, 2)"],seealso:[]};var DZ={name:"NaN",category:"Constants",syntax:["NaN"],description:"Not a number",examples:["NaN","0 / 0"],seealso:[]};var EZ={name:"null",category:"Constants",syntax:["null"],description:"Value null",examples:["null"],seealso:["true","false"]};var MZ={name:"phi",category:"Constants",syntax:["phi"],description:"Phi is the golden ratio. Two quantities are in the golden ratio if their ratio is the same as the ratio of their sum to the larger of the two quantities. Phi is defined as `(1 + sqrt(5)) / 2` and is approximately 1.618034...",examples:["phi"],seealso:[]};var zL={name:"pi",category:"Constants",syntax:["pi"],description:"The number pi is a mathematical constant that is the ratio of a circle's circumference to its diameter, and is approximately equal to 3.14159",examples:["pi","sin(pi/2)"],seealso:["tau"]};var AZ={name:"SQRT1_2",category:"Constants",syntax:["SQRT1_2"],description:"Returns the square root of 1/2, approximately equal to 0.707",examples:["SQRT1_2","sqrt(1/2)"],seealso:[]};var TZ={name:"SQRT2",category:"Constants",syntax:["SQRT2"],description:"Returns the square root of 2, approximately equal to 1.414",examples:["SQRT2","sqrt(2)"],seealso:[]};var IZ={name:"tau",category:"Constants",syntax:["tau"],description:"Tau is the ratio constant of a circle's circumference to radius, equal to 2 * pi, approximately 6.2832.",examples:["tau","2 * pi"],seealso:["pi"]};var kZ={name:"true",category:"Constants",syntax:["true"],description:"Boolean value true",examples:["true"],seealso:["false"]};var NZ={name:"version",category:"Constants",syntax:["version"],description:"A string with the version number of math.js",examples:["version"],seealso:[]};var OZ={name:"bignumber",category:"Construction",syntax:["bignumber(x)"],description:"Create a big number from a number or string.",examples:["0.1 + 0.2","bignumber(0.1) + bignumber(0.2)",'bignumber("7.2")','bignumber("7.2e500")',"bignumber([0.1, 0.2, 0.3])"],seealso:["boolean","bigint","complex","fraction","index","matrix","string","unit"]};var FZ={name:"bigint",category:"Construction",syntax:["bigint(x)"],description:"Create a bigint, an integer with an arbitrary number of digits, from a number or string.",examples:["123123123123123123 # a large number will lose digits",'bigint("123123123123123123")','bignumber(["1", "3", "5"])'],seealso:["boolean","bignumber","number","complex","fraction","index","matrix","string","unit"]};var RZ={name:"boolean",category:"Construction",syntax:["x","boolean(x)"],description:"Convert a string or number into a boolean.",examples:["boolean(0)","boolean(1)","boolean(3)",'boolean("true")','boolean("false")',"boolean([1, 0, 1, 1])"],seealso:["bignumber","complex","index","matrix","number","string","unit"]};var PZ={name:"complex",category:"Construction",syntax:["complex()","complex(re, im)","complex(string)"],description:"Create a complex number.",examples:["complex()","complex(2, 3)",'complex("7 - 2i")'],seealso:["bignumber","boolean","index","matrix","number","string","unit"]};var LZ={name:"createUnit",category:"Construction",syntax:["createUnit(definitions)","createUnit(name, definition)"],description:"Create a user-defined unit and register it with the Unit type.",examples:['createUnit("foo")','createUnit("knot", {definition: "0.514444444 m/s", aliases: ["knots", "kt", "kts"]})','createUnit("mph", "1 mile/hour")'],seealso:["unit","splitUnit"]};var BZ={name:"fraction",category:"Construction",syntax:["fraction(num)","fraction(matrix)","fraction(num,den)","fraction({n: num, d: den})"],description:"Create a fraction from a number or from integer numerator and denominator.",examples:["fraction(0.125)","fraction(1, 3) + fraction(2, 5)","fraction({n: 333, d: 53})","fraction([sqrt(9), sqrt(10), sqrt(11)])"],seealso:["bignumber","boolean","complex","index","matrix","string","unit"]};var VZ={name:"index",category:"Construction",syntax:["[start]","[start:end]","[start:step:end]","[start1, start 2, ...]","[start1:end1, start2:end2, ...]","[start1:step1:end1, start2:step2:end2, ...]"],description:"Create an index to get or replace a subset of a matrix",examples:["A = [1, 2, 3; 4, 5, 6]","A[1, :]","A[1, 2] = 50","A[1:2, 1:2] = 1","B = [1, 2, 3]","B[B>1 and B<3]"],seealso:["bignumber","boolean","complex","matrix,","number","range","string","unit"]};var zZ={name:"matrix",category:"Construction",syntax:["[]","[a1, b1, ...; a2, b2, ...]","matrix()",'matrix("dense")',"matrix([...])"],description:"Create a matrix.",examples:["[]","[1, 2, 3]","[1, 2, 3; 4, 5, 6]","matrix()","matrix([3, 4])",'matrix([3, 4; 5, 6], "sparse")','matrix([3, 4; 5, 6], "sparse", "number")'],seealso:["bignumber","boolean","complex","index","number","string","unit","sparse"]};var jZ={name:"number",category:"Construction",syntax:["x","number(x)","number(unit, valuelessUnit)"],description:"Create a number or convert a string or boolean into a number.",examples:["2","2e3","4.05","number(2)",'number("7.2")',"number(true)","number([true, false, true, true])",'number(unit("52cm"), "m")'],seealso:["bignumber","bigint","boolean","complex","fraction","index","matrix","string","unit"]};var HZ={name:"sparse",category:"Construction",syntax:["sparse()","sparse([a1, b1, ...; a1, b2, ...])",'sparse([a1, b1, ...; a1, b2, ...], "number")'],description:"Create a sparse matrix.",examples:["sparse()","sparse([3, 4; 5, 6])",'sparse([3, 0; 5, 0], "number")'],seealso:["bignumber","boolean","complex","index","number","string","unit","matrix"]};var UZ={name:"splitUnit",category:"Construction",syntax:["splitUnit(unit: Unit, parts: Unit[])"],description:"Split a unit in an array of units whose sum is equal to the original unit.",examples:['splitUnit(1 m, ["feet", "inch"])'],seealso:["unit","createUnit"]};var qZ={name:"string",category:"Construction",syntax:['"text"',"string(x)"],description:"Create a string or convert a value to a string",examples:['"Hello World!"',"string(4.2)","string(3 + 2i)"],seealso:["bignumber","boolean","complex","index","matrix","number","unit"]};var WZ={name:"unit",category:"Construction",syntax:["value unit","unit(value, unit)","unit(string)"],description:"Create a unit.",examples:["5.5 mm","3 inch",'unit(7.1, "kilogram")','unit("23 deg")'],seealso:["bignumber","boolean","complex","index","matrix","number","string"]};var $Z={name:"config",category:"Core",syntax:["config()","config(options)"],description:"Get configuration or change configuration.",examples:["config()","1/3 + 1/4",'config({number: "Fraction"})',"1/3 + 1/4"],seealso:[]};var GZ={name:"import",category:"Core",syntax:["import(functions)","import(functions, options)"],description:"Import functions or constants from an object.",examples:["import({myFn: f(x)=x^2, myConstant: 32 })","myFn(2)","myConstant"],seealso:[]};var YZ={name:"typed",category:"Core",syntax:["typed(signatures)","typed(name, signatures)"],description:"Create a typed function.",examples:['double = typed({ "number": f(x)=x+x, "string": f(x)=concat(x,x) })',"double(2)",'double("hello")'],seealso:[]};var KZ={name:"derivative",category:"Algebra",syntax:["derivative(expr, variable)","derivative(expr, variable, {simplify: boolean})"],description:"Takes the derivative of an expression expressed in parser Nodes. The derivative will be taken over the supplied variable in the second parameter. If there are multiple variables in the expression, it will return a partial derivative.",examples:['derivative("2x^3", "x")','derivative("2x^3", "x", {simplify: false})','derivative("2x^2 + 3x + 4", "x")','derivative("sin(2x)", "x")','f = parse("x^2 + x")','x = parse("x")',"df = derivative(f, x)","df.evaluate({x: 3})"],seealso:["simplify","parse","evaluate"]};var XZ={name:"leafCount",category:"Algebra",syntax:["leafCount(expr)"],description:"Computes the number of leaves in the parse tree of the given expression",examples:['leafCount("e^(i*pi)-1")','leafCount(parse("{a: 22/7, b: 10^(1/2)}"))'],seealso:["simplify"]};var ZZ={name:"lsolve",category:"Algebra",syntax:["x=lsolve(L, b)"],description:"Finds one solution of the linear system L * x = b where L is an [n x n] lower triangular matrix and b is a [n] column vector.",examples:["a = [-2, 3; 2, 1]","b = [11, 9]","x = lsolve(a, b)"],seealso:["lsolveAll","lup","lusolve","usolve","matrix","sparse"]};var QZ={name:"lsolveAll",category:"Algebra",syntax:["x=lsolveAll(L, b)"],description:"Finds all solutions of the linear system L * x = b where L is an [n x n] lower triangular matrix and b is a [n] column vector.",examples:["a = [-2, 3; 2, 1]","b = [11, 9]","x = lsolve(a, b)"],seealso:["lsolve","lup","lusolve","usolve","matrix","sparse"]};var JZ={name:"lup",category:"Algebra",syntax:["lup(m)"],description:"Calculate the Matrix LU decomposition with partial pivoting. Matrix A is decomposed in three matrices (L, U, P) where P * A = L * U",examples:["lup([[2, 1], [1, 4]])","lup(matrix([[2, 1], [1, 4]]))","lup(sparse([[2, 1], [1, 4]]))"],seealso:["lusolve","lsolve","usolve","matrix","sparse","slu","qr"]};var eQ={name:"lusolve",category:"Algebra",syntax:["x=lusolve(A, b)","x=lusolve(lu, b)"],description:"Solves the linear system A * x = b where A is an [n x n] matrix and b is a [n] column vector.",examples:["a = [-2, 3; 2, 1]","b = [11, 9]","x = lusolve(a, b)"],seealso:["lup","slu","lsolve","usolve","matrix","sparse"]};var tQ={name:"polynomialRoot",category:"Algebra",syntax:["x=polynomialRoot(-6, 3)","x=polynomialRoot(4, -4, 1)","x=polynomialRoot(-8, 12, -6, 1)"],description:"Finds the roots of a univariate polynomial given by its coefficients starting from constant, linear, and so on, increasing in degree.",examples:["a = polynomialRoot(-6, 11, -6, 1)"],seealso:["cbrt","sqrt"]};var rQ={name:"qr",category:"Algebra",syntax:["qr(A)"],description:"Calculates the Matrix QR decomposition. Matrix `A` is decomposed in two matrices (`Q`, `R`) where `Q` is an orthogonal matrix and `R` is an upper triangular matrix.",examples:["qr([[1, -1,  4], [1,  4, -2], [1,  4,  2], [1,  -1, 0]])"],seealso:["lup","slu","matrix"]};var nQ={name:"rationalize",category:"Algebra",syntax:["rationalize(expr)","rationalize(expr, scope)","rationalize(expr, scope, detailed)"],description:"Transform a rationalizable expression in a rational fraction. If rational fraction is one variable polynomial then converts the numerator and denominator in canonical form, with decreasing exponents, returning the coefficients of numerator.",examples:['rationalize("2x/y - y/(x+1)")','rationalize("2x/y - y/(x+1)", true)'],seealso:["simplify"]};var iQ={name:"resolve",category:"Algebra",syntax:["resolve(node, scope)"],description:"Recursively substitute variables in an expression tree.",examples:['resolve(parse("1 + x"), { x: 7 })','resolve(parse("size(text)"), { text: "Hello World" })','resolve(parse("x + y"), { x: parse("3z") })','resolve(parse("3x"), { x: parse("y+z"), z: parse("w^y") })'],seealso:["simplify","evaluate"],mayThrow:["ReferenceError"]};var oQ={name:"simplify",category:"Algebra",syntax:["simplify(expr)","simplify(expr, rules)"],description:"Simplify an expression tree.",examples:['simplify("3 + 2 / 4")','simplify("2x + x")','f = parse("x * (x + 2 + x)")',"simplified = simplify(f)","simplified.evaluate({x: 2})"],seealso:["simplifyCore","derivative","evaluate","parse","rationalize","resolve"]};var sQ={name:"simplifyConstant",category:"Algebra",syntax:["simplifyConstant(expr)","simplifyConstant(expr, options)"],description:"Replace constant subexpressions of node with their values.",examples:['simplifyConstant("(3-3)*x")','simplifyConstant(parse("z-cos(tau/8)"))'],seealso:["simplify","simplifyCore","evaluate"]};var aQ={name:"simplifyCore",category:"Algebra",syntax:["simplifyCore(node)"],description:"Perform simple one-pass simplifications on an expression tree.",examples:['simplifyCore(parse("0*x"))','simplifyCore(parse("(x+0)*2"))'],seealso:["simplify","simplifyConstant","evaluate"]};var lQ={name:"slu",category:"Algebra",syntax:["slu(A, order, threshold)"],description:"Calculate the Matrix LU decomposition with full pivoting. Matrix A is decomposed in two matrices (L, U) and two permutation vectors (pinv, q) where P * A * Q = L * U",examples:["slu(sparse([4.5, 0, 3.2, 0; 3.1, 2.9, 0, 0.9; 0, 1.7, 3, 0; 3.5, 0.4, 0, 1]), 1, 0.001)"],seealso:["lusolve","lsolve","usolve","matrix","sparse","lup","qr"]};var cQ={name:"symbolicEqual",category:"Algebra",syntax:["symbolicEqual(expr1, expr2)","symbolicEqual(expr1, expr2, options)"],description:"Returns true if the difference of the expressions simplifies to 0",examples:['symbolicEqual("x*y","y*x")','symbolicEqual("abs(x^2)", "x^2")','symbolicEqual("abs(x)", "x", {context: {abs: {trivial: true}}})'],seealso:["simplify","evaluate"]};var uQ={name:"usolve",category:"Algebra",syntax:["x=usolve(U, b)"],description:"Finds one solution of the linear system U * x = b where U is an [n x n] upper triangular matrix and b is a [n] column vector.",examples:["x=usolve(sparse([1, 1, 1, 1; 0, 1, 1, 1; 0, 0, 1, 1; 0, 0, 0, 1]), [1; 2; 3; 4])"],seealso:["usolveAll","lup","lusolve","lsolve","matrix","sparse"]};var dQ={name:"usolveAll",category:"Algebra",syntax:["x=usolve(U, b)"],description:"Finds all solutions of the linear system U * x = b where U is an [n x n] upper triangular matrix and b is a [n] column vector.",examples:["x=usolve(sparse([1, 1, 1, 1; 0, 1, 1, 1; 0, 0, 1, 1; 0, 0, 0, 1]), [1; 2; 3; 4])"],seealso:["usolve","lup","lusolve","lsolve","matrix","sparse"]};var fQ={name:"abs",category:"Arithmetic",syntax:["abs(x)"],description:"Compute the absolute value.",examples:["abs(3.5)","abs(-4.2)"],seealso:["sign"]};var hQ={name:"add",category:"Operators",syntax:["x + y","add(x, y)"],description:"Add two values.",examples:["a = 2.1 + 3.6","a - 3.6","3 + 2i","3 cm + 2 inch",'"2.3" + "4"'],seealso:["subtract"]};var mQ={name:"cbrt",category:"Arithmetic",syntax:["cbrt(x)","cbrt(x, allRoots)"],description:"Compute the cubic root value. If x = y * y * y, then y is the cubic root of x. When `x` is a number or complex number, an optional second argument `allRoots` can be provided to return all three cubic roots. If not provided, the principal root is returned",examples:["cbrt(64)","cube(4)","cbrt(-8)","cbrt(2 + 3i)","cbrt(8i)","cbrt(8i, true)","cbrt(27 m^3)"],seealso:["square","sqrt","cube","multiply"]};var pQ={name:"ceil",category:"Arithmetic",syntax:["ceil(x)"],description:"Round a value towards plus infinity. If x is complex, both real and imaginary part are rounded towards plus infinity.",examples:["ceil(3.2)","ceil(3.8)","ceil(-4.2)"],seealso:["floor","fix","round"]};var gQ={name:"cube",category:"Arithmetic",syntax:["cube(x)"],description:"Compute the cube of a value. The cube of x is x * x * x.",examples:["cube(2)","2^3","2 * 2 * 2"],seealso:["multiply","square","pow"]};var vQ={name:"divide",category:"Operators",syntax:["x / y","divide(x, y)"],description:"Divide two values.",examples:["a = 2 / 3","a * 3","4.5 / 2","3 + 4 / 2","(3 + 4) / 2","18 km / 4.5"],seealso:["multiply"]};var bQ={name:"dotDivide",category:"Operators",syntax:["x ./ y","dotDivide(x, y)"],description:"Divide two values element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","b = [2, 1, 1; 3, 2, 5]","a ./ b"],seealso:["multiply","dotMultiply","divide"]};var yQ={name:"dotMultiply",category:"Operators",syntax:["x .* y","dotMultiply(x, y)"],description:"Multiply two values element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","b = [2, 1, 1; 3, 2, 5]","a .* b"],seealso:["multiply","divide","dotDivide"]};var _Q={name:"dotPow",category:"Operators",syntax:["x .^ y","dotPow(x, y)"],description:"Calculates the power of x to y element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","a .^ 2"],seealso:["pow"]};var xQ={name:"exp",category:"Arithmetic",syntax:["exp(x)"],description:"Calculate the exponent of a value.",examples:["exp(1.3)","e ^ 1.3","log(exp(1.3))","x = 2.4","(exp(i*x) == cos(x) + i*sin(x))   # Euler's formula"],seealso:["expm","expm1","pow","log"]};var wQ={name:"expm",category:"Arithmetic",syntax:["exp(x)"],description:"Compute the matrix exponential, expm(A) = e^A. The matrix must be square. Not to be confused with exp(a), which performs element-wise exponentiation.",examples:["expm([[0,2],[0,0]])"],seealso:["exp"]};var CQ={name:"expm1",category:"Arithmetic",syntax:["expm1(x)"],description:"Calculate the value of subtracting 1 from the exponential value.",examples:["expm1(2)","pow(e, 2) - 1","log(expm1(2) + 1)"],seealso:["exp","pow","log"]};var SQ={name:"fix",category:"Arithmetic",syntax:["fix(x)"],description:"Round a value towards zero. If x is complex, both real and imaginary part are rounded towards zero.",examples:["fix(3.2)","fix(3.8)","fix(-4.2)","fix(-4.8)"],seealso:["ceil","floor","round"]};var DQ={name:"floor",category:"Arithmetic",syntax:["floor(x)"],description:"Round a value towards minus infinity.If x is complex, both real and imaginary part are rounded towards minus infinity.",examples:["floor(3.2)","floor(3.8)","floor(-4.2)"],seealso:["ceil","fix","round"]};var EQ={name:"gcd",category:"Arithmetic",syntax:["gcd(a, b)","gcd(a, b, c, ...)"],description:"Compute the greatest common divisor.",examples:["gcd(8, 12)","gcd(-4, 6)","gcd(25, 15, -10)"],seealso:["lcm","xgcd"]};var MQ={name:"hypot",category:"Arithmetic",syntax:["hypot(a, b, c, ...)","hypot([a, b, c, ...])"],description:"Calculate the hypotenuse of a list with values.",examples:["hypot(3, 4)","sqrt(3^2 + 4^2)","hypot(-2)","hypot([3, 4, 5])"],seealso:["abs","norm"]};var AQ={name:"invmod",category:"Arithmetic",syntax:["invmod(a, b)"],description:"Calculate the (modular) multiplicative inverse of a modulo b. Solution to the equation ax \u2263 1 (mod b)",examples:["invmod(8, 12)","invmod(7, 13)","invmod(15151, 15122)"],seealso:["gcd","xgcd"]};var TQ={name:"lcm",category:"Arithmetic",syntax:["lcm(x, y)"],description:"Compute the least common multiple.",examples:["lcm(4, 6)","lcm(6, 21)","lcm(6, 21, 5)"],seealso:["gcd"]};var IQ={name:"log",category:"Arithmetic",syntax:["log(x)","log(x, base)"],description:"Compute the logarithm of a value. If no base is provided, the natural logarithm of x is calculated. If base if provided, the logarithm is calculated for the specified base. log(x, base) is defined as log(x) / log(base).",examples:["log(3.5)","a = log(2.4)","exp(a)","10 ^ 4","log(10000, 10)","log(10000) / log(10)","b = log(1024, 2)","2 ^ b"],seealso:["exp","log1p","log2","log10"]};var kQ={name:"log10",category:"Arithmetic",syntax:["log10(x)"],description:"Compute the 10-base logarithm of a value.",examples:["log10(0.00001)","log10(10000)","10 ^ 4","log(10000) / log(10)","log(10000, 10)"],seealso:["exp","log"]};var NQ={name:"log1p",category:"Arithmetic",syntax:["log1p(x)","log1p(x, base)"],description:"Calculate the logarithm of a `value+1`",examples:["log1p(2.5)","exp(log1p(1.4))","pow(10, 4)","log1p(9999, 10)","log1p(9999) / log(10)"],seealso:["exp","log","log2","log10"]};var OQ={name:"log2",category:"Arithmetic",syntax:["log2(x)"],description:"Calculate the 2-base of a value. This is the same as calculating `log(x, 2)`.",examples:["log2(0.03125)","log2(16)","log2(16) / log2(2)","pow(2, 4)"],seealso:["exp","log1p","log","log10"]};var FQ={name:"mod",category:"Operators",syntax:["x % y","x mod y","mod(x, y)"],description:"Calculates the modulus, the remainder of an integer division.",examples:["7 % 3","11 % 2","10 mod 4","isOdd(x) = x % 2","isOdd(2)","isOdd(3)"],seealso:["divide"]};var RQ={name:"multiply",category:"Operators",syntax:["x * y","multiply(x, y)"],description:"multiply two values.",examples:["a = 2.1 * 3.4","a / 3.4","2 * 3 + 4","2 * (3 + 4)","3 * 2.1 km"],seealso:["divide"]};var PQ={name:"norm",category:"Arithmetic",syntax:["norm(x)","norm(x, p)"],description:"Calculate the norm of a number, vector or matrix.",examples:["abs(-3.5)","norm(-3.5)","norm(3 - 4i)","norm([1, 2, -3], Infinity)","norm([1, 2, -3], -Infinity)","norm([3, 4], 2)","norm([[1, 2], [3, 4]], 1)",'norm([[1, 2], [3, 4]], "inf")','norm([[1, 2], [3, 4]], "fro")']};var LQ={name:"nthRoot",category:"Arithmetic",syntax:["nthRoot(a)","nthRoot(a, root)"],description:'Calculate the nth root of a value. The principal nth root of a positive real number A, is the positive real solution of the equation "x^root = A".',examples:["4 ^ 3","nthRoot(64, 3)","nthRoot(9, 2)","sqrt(9)"],seealso:["nthRoots","pow","sqrt"]};var BQ={name:"nthRoots",category:"Arithmetic",syntax:["nthRoots(A)","nthRoots(A, root)"],description:'Calculate the nth roots of a value. An nth root of a positive real number A, is a positive real solution of the equation "x^root = A". This function returns an array of complex values.',examples:["nthRoots(1)","nthRoots(1, 3)"],seealso:["sqrt","pow","nthRoot"]};var VQ={name:"pow",category:"Operators",syntax:["x ^ y","pow(x, y)"],description:"Calculates the power of x to y, x^y.",examples:["2^3","2*2*2","1 + e ^ (pi * i)","pow([[1, 2], [4, 3]], 2)","pow([[1, 2], [4, 3]], -1)"],seealso:["multiply","nthRoot","nthRoots","sqrt"]};var zQ={name:"round",category:"Arithmetic",syntax:["round(x)","round(x, n)","round(unit, valuelessUnit)","round(unit, n, valuelessUnit)"],description:"round a value towards the nearest integer.If x is complex, both real and imaginary part are rounded towards the nearest integer. When n is specified, the value is rounded to n decimals.",examples:["round(3.2)","round(3.8)","round(-4.2)","round(-4.8)","round(pi, 3)","round(123.45678, 2)","round(3.241cm, 2, cm)","round([3.2, 3.8, -4.7])"],seealso:["ceil","floor","fix"]};var jQ={name:"sign",category:"Arithmetic",syntax:["sign(x)"],description:"Compute the sign of a value. The sign of a value x is 1 when x>1, -1 when x<0, and 0 when x=0.",examples:["sign(3.5)","sign(-4.2)","sign(0)"],seealso:["abs"]};var HQ={name:"sqrt",category:"Arithmetic",syntax:["sqrt(x)"],description:"Compute the square root value. If x = y * y, then y is the square root of x.",examples:["sqrt(25)","5 * 5","sqrt(-1)"],seealso:["square","sqrtm","multiply","nthRoot","nthRoots","pow"]};var UQ={name:"sqrtm",category:"Arithmetic",syntax:["sqrtm(x)"],description:"Calculate the principal square root of a square matrix. The principal square root matrix `X` of another matrix `A` is such that `X * X = A`.",examples:["sqrtm([[33, 24], [48, 57]])"],seealso:["sqrt","abs","square","multiply"]};var qQ={name:"sylvester",category:"Algebra",syntax:["sylvester(A,B,C)"],description:"Solves the real-valued Sylvester equation AX+XB=C for X",examples:["sylvester([[-1, -2], [1, 1]], [[-2, 1], [-1, 2]], [[-3, 2], [3, 0]])","A = [[-1, -2], [1, 1]]; B = [[2, -1], [1, -2]]; C = [[-3, 2], [3, 0]]","sylvester(A, B, C)"],seealso:["schur","lyap"]};var WQ={name:"schur",category:"Algebra",syntax:["schur(A)"],description:"Performs a real Schur decomposition of the real matrix A = UTU'",examples:["schur([[1, 0], [-4, 3]])","A = [[1, 0], [-4, 3]]","schur(A)"],seealso:["lyap","sylvester"]};var $Q={name:"lyap",category:"Algebra",syntax:["lyap(A,Q)"],description:"Solves the Continuous-time Lyapunov equation AP+PA'+Q=0 for P",examples:["lyap([[-2, 0], [1, -4]], [[3, 1], [1, 3]])","A = [[-2, 0], [1, -4]]","Q = [[3, 1], [1, 3]]","lyap(A,Q)"],seealso:["schur","sylvester"]};var GQ={name:"square",category:"Arithmetic",syntax:["square(x)"],description:"Compute the square of a value. The square of x is x * x.",examples:["square(3)","sqrt(9)","3^2","3 * 3"],seealso:["multiply","pow","sqrt","cube"]};var YQ={name:"subtract",category:"Operators",syntax:["x - y","subtract(x, y)"],description:"subtract two values.",examples:["a = 5.3 - 2","a + 2","2/3 - 1/6","2 * 3 - 3","2.1 km - 500m"],seealso:["add"]};var KQ={name:"unaryMinus",category:"Operators",syntax:["-x","unaryMinus(x)"],description:"Inverse the sign of a value. Converts booleans and strings to numbers.",examples:["-4.5","-(-5.6)",'-"22"'],seealso:["add","subtract","unaryPlus"]};var XQ={name:"unaryPlus",category:"Operators",syntax:["+x","unaryPlus(x)"],description:"Converts booleans and strings to numbers.",examples:["+true",'+"2"'],seealso:["add","subtract","unaryMinus"]};var ZQ={name:"xgcd",category:"Arithmetic",syntax:["xgcd(a, b)"],description:"Calculate the extended greatest common divisor for two values. The result is an array [d, x, y] with 3 entries, where d is the greatest common divisor, and d = x * a + y * b.",examples:["xgcd(8, 12)","gcd(8, 12)","xgcd(36163, 21199)"],seealso:["gcd","lcm"]};var QQ={name:"bitAnd",category:"Bitwise",syntax:["x & y","bitAnd(x, y)"],description:"Bitwise AND operation. Performs the logical AND operation on each pair of the corresponding bits of the two given values by multiplying them. If both bits in the compared position are 1, the bit in the resulting binary representation is 1, otherwise, the result is 0",examples:["5 & 3","bitAnd(53, 131)","[1, 12, 31] & 42"],seealso:["bitNot","bitOr","bitXor","leftShift","rightArithShift","rightLogShift"]};var JQ={name:"bitNot",category:"Bitwise",syntax:["~x","bitNot(x)"],description:"Bitwise NOT operation. Performs a logical negation on each bit of the given value. Bits that are 0 become 1, and those that are 1 become 0.",examples:["~1","~2","bitNot([2, -3, 4])"],seealso:["bitAnd","bitOr","bitXor","leftShift","rightArithShift","rightLogShift"]};var eJ={name:"bitOr",category:"Bitwise",syntax:["x | y","bitOr(x, y)"],description:"Bitwise OR operation. Performs the logical inclusive OR operation on each pair of corresponding bits of the two given values. The result in each position is 1 if the first bit is 1 or the second bit is 1 or both bits are 1, otherwise, the result is 0.",examples:["5 | 3","bitOr([1, 2, 3], 4)"],seealso:["bitAnd","bitNot","bitXor","leftShift","rightArithShift","rightLogShift"]};var tJ={name:"bitXor",category:"Bitwise",syntax:["bitXor(x, y)"],description:"Bitwise XOR operation, exclusive OR. Performs the logical exclusive OR operation on each pair of corresponding bits of the two given values. The result in each position is 1 if only the first bit is 1 or only the second bit is 1, but will be 0 if both are 0 or both are 1.",examples:["bitOr(1, 2)","bitXor([2, 3, 4], 4)"],seealso:["bitAnd","bitNot","bitOr","leftShift","rightArithShift","rightLogShift"]};var rJ={name:"leftShift",category:"Bitwise",syntax:["x << y","leftShift(x, y)"],description:"Bitwise left logical shift of a value x by y number of bits.",examples:["4 << 1","8 >> 1"],seealso:["bitAnd","bitNot","bitOr","bitXor","rightArithShift","rightLogShift"]};var nJ={name:"rightArithShift",category:"Bitwise",syntax:["x >> y","rightArithShift(x, y)"],description:"Bitwise right arithmetic shift of a value x by y number of bits.",examples:["8 >> 1","4 << 1","-12 >> 2"],seealso:["bitAnd","bitNot","bitOr","bitXor","leftShift","rightLogShift"]};var iJ={name:"rightLogShift",category:"Bitwise",syntax:["x >>> y","rightLogShift(x, y)"],description:"Bitwise right logical shift of a value x by y number of bits.",examples:["8 >>> 1","4 << 1","-12 >>> 2"],seealso:["bitAnd","bitNot","bitOr","bitXor","leftShift","rightArithShift"]};var oJ={name:"bellNumbers",category:"Combinatorics",syntax:["bellNumbers(n)"],description:"The Bell Numbers count the number of partitions of a set. A partition is a pairwise disjoint subset of S whose union is S. `bellNumbers` only takes integer arguments. The following condition must be enforced: n >= 0.",examples:["bellNumbers(3)","bellNumbers(8)"],seealso:["stirlingS2"]};var sJ={name:"catalan",category:"Combinatorics",syntax:["catalan(n)"],description:"The Catalan Numbers enumerate combinatorial structures of many different types. catalan only takes integer arguments. The following condition must be enforced: n >= 0.",examples:["catalan(3)","catalan(8)"],seealso:["bellNumbers"]};var aJ={name:"composition",category:"Combinatorics",syntax:["composition(n, k)"],description:"The composition counts of n into k parts. composition only takes integer arguments. The following condition must be enforced: k <= n.",examples:["composition(5, 3)"],seealso:["combinations"]};var lJ={name:"stirlingS2",category:"Combinatorics",syntax:["stirlingS2(n, k)"],description:"he Stirling numbers of the second kind, counts the number of ways to partition a set of n labelled objects into k nonempty unlabelled subsets. `stirlingS2` only takes integer arguments. The following condition must be enforced: k <= n. If n = k or k = 1, then s(n,k) = 1.",examples:["stirlingS2(5, 3)"],seealso:["bellNumbers"]};var cJ={name:"arg",category:"Complex",syntax:["arg(x)"],description:"Compute the argument of a complex value. If x = a+bi, the argument is computed as atan2(b, a).",examples:["arg(2 + 2i)","atan2(3, 2)","arg(2 + 3i)"],seealso:["re","im","conj","abs"]};var uJ={name:"conj",category:"Complex",syntax:["conj(x)"],description:"Compute the complex conjugate of a complex value. If x = a+bi, the complex conjugate is a-bi.",examples:["conj(2 + 3i)","conj(2 - 3i)","conj(-5.2i)"],seealso:["re","im","abs","arg"]};var dJ={name:"im",category:"Complex",syntax:["im(x)"],description:"Get the imaginary part of a complex number.",examples:["im(2 + 3i)","re(2 + 3i)","im(-5.2i)","im(2.4)"],seealso:["re","conj","abs","arg"]};var fJ={name:"re",category:"Complex",syntax:["re(x)"],description:"Get the real part of a complex number.",examples:["re(2 + 3i)","im(2 + 3i)","re(-5.2i)","re(2.4)"],seealso:["im","conj","abs","arg"]};var hJ={name:"evaluate",category:"Expression",syntax:["evaluate(expression)","evaluate(expression, scope)","evaluate([expr1, expr2, expr3, ...])","evaluate([expr1, expr2, expr3, ...], scope)"],description:"Evaluate an expression or an array with expressions.",examples:['evaluate("2 + 3")','evaluate("sqrt(16)")','evaluate("2 inch to cm")','evaluate("sin(x * pi)", { "x": 1/2 })','evaluate(["width=2", "height=4","width*height"])'],seealso:[]};var mJ={name:"help",category:"Expression",syntax:["help(object)","help(string)"],description:"Display documentation on a function or data type.",examples:["help(sqrt)",'help("complex")'],seealso:[]};var pJ={name:"distance",category:"Geometry",syntax:["distance([x1, y1], [x2, y2])","distance([[x1, y1], [x2, y2]])"],description:"Calculates the Euclidean distance between two points.",examples:["distance([0,0], [4,4])","distance([[0,0], [4,4]])"],seealso:[]};var gJ={name:"intersect",category:"Geometry",syntax:["intersect(expr1, expr2, expr3, expr4)","intersect(expr1, expr2, expr3)"],description:"Computes the intersection point of lines and/or planes.",examples:["intersect([0, 0], [10, 10], [10, 0], [0, 10])","intersect([1, 0, 1],  [4, -2, 2], [1, 1, 1, 6])"],seealso:[]};var vJ={name:"and",category:"Logical",syntax:["x and y","and(x, y)"],description:"Logical and. Test whether two values are both defined with a nonzero/nonempty value.",examples:["true and false","true and true","2 and 4"],seealso:["not","or","xor"]};var bJ={name:"not",category:"Logical",syntax:["not x","not(x)"],description:"Logical not. Flips the boolean value of given argument.",examples:["not true","not false","not 2","not 0"],seealso:["and","or","xor"]};var yJ={name:"or",category:"Logical",syntax:["x or y","or(x, y)"],description:"Logical or. Test if at least one value is defined with a nonzero/nonempty value.",examples:["true or false","false or false","0 or 4"],seealso:["not","and","xor"]};var _J={name:"xor",category:"Logical",syntax:["x xor y","xor(x, y)"],description:"Logical exclusive or, xor. Test whether one and only one value is defined with a nonzero/nonempty value.",examples:["true xor false","false xor false","true xor true","0 xor 4"],seealso:["not","and","or"]};var xJ={name:"column",category:"Matrix",syntax:["column(x, index)"],description:"Return a column from a matrix or array.",examples:["A = [[1, 2], [3, 4]]","column(A, 1)","column(A, 2)"],seealso:["row","matrixFromColumns"]};var wJ={name:"concat",category:"Matrix",syntax:["concat(A, B, C, ...)","concat(A, B, C, ..., dim)"],description:"Concatenate matrices. By default, the matrices are concatenated by the last dimension. The dimension on which to concatenate can be provided as last argument.",examples:["A = [1, 2; 5, 6]","B = [3, 4; 7, 8]","concat(A, B)","concat(A, B, 1)","concat(A, B, 2)"],seealso:["det","diag","identity","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]};var CJ={name:"count",category:"Matrix",syntax:["count(x)"],description:"Count the number of elements of a matrix, array or string.",examples:["a = [1, 2; 3, 4; 5, 6]","count(a)","size(a)",'count("hello world")'],seealso:["size"]};var SJ={name:"cross",category:"Matrix",syntax:["cross(A, B)"],description:"Calculate the cross product for two vectors in three dimensional space.",examples:["cross([1, 1, 0],  [0, 1, 1])","cross([3, -3, 1], [4, 9, 2])","cross([2, 3, 4],  [5, 6, 7])"],seealso:["multiply","dot"]};var DJ={name:"ctranspose",category:"Matrix",syntax:["x'","ctranspose(x)"],description:"Complex Conjugate and Transpose a matrix",examples:["a = [1, 2, 3; 4, 5, 6]","a'","ctranspose(a)"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","trace","zeros"]};var EJ={name:"det",category:"Matrix",syntax:["det(x)"],description:"Calculate the determinant of a matrix",examples:["det([1, 2; 3, 4])","det([-2, 2, 3; -1, 1, 3; 2, 0, -1])"],seealso:["concat","diag","identity","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]};var MJ={name:"diag",category:"Matrix",syntax:["diag(x)","diag(x, k)"],description:"Create a diagonal matrix or retrieve the diagonal of a matrix. When x is a vector, a matrix with the vector values on the diagonal will be returned. When x is a matrix, a vector with the diagonal values of the matrix is returned. When k is provided, the k-th diagonal will be filled in or retrieved, if k is positive, the values are placed on the super diagonal. When k is negative, the values are placed on the sub diagonal.",examples:["diag(1:3)","diag(1:3, 1)","a = [1, 2, 3; 4, 5, 6; 7, 8, 9]","diag(a)"],seealso:["concat","det","identity","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]};var AJ={name:"diff",category:"Matrix",syntax:["diff(arr)","diff(arr, dim)"],description:["Create a new matrix or array with the difference of the passed matrix or array.","Dim parameter is optional and used to indicate the dimension of the array/matrix to apply the difference","If no dimension parameter is passed it is assumed as dimension 0","Dimension is zero-based in javascript and one-based in the parser","Arrays must be 'rectangular' meaning arrays like [1, 2]","If something is passed as a matrix it will be returned as a matrix but other than that all matrices are converted to arrays"],examples:["A = [1, 2, 4, 7, 0]","diff(A)","diff(A, 1)","B = [[1, 2], [3, 4]]","diff(B)","diff(B, 1)","diff(B, 2)","diff(B, bignumber(2))","diff([[1, 2], matrix([3, 4])], 2)"],seealso:["subtract","partitionSelect"]};var TJ={name:"dot",category:"Matrix",syntax:["dot(A, B)","A * B"],description:"Calculate the dot product of two vectors. The dot product of A = [a1, a2, a3, ..., an] and B = [b1, b2, b3, ..., bn] is defined as dot(A, B) = a1 * b1 + a2 * b2 + a3 * b3 + ... + an * bn",examples:["dot([2, 4, 1], [2, 2, 3])","[2, 4, 1] * [2, 2, 3]"],seealso:["multiply","cross"]};var IJ={name:"eigs",category:"Matrix",syntax:["eigs(x)"],description:"Calculate the eigenvalues and optionally eigenvectors of a square matrix",examples:["eigs([[5, 2.3], [2.3, 1]])","eigs([[1, 2, 3], [4, 5, 6], [7, 8, 9]], { precision: 1e-6, eigenvectors: false })"],seealso:["inv"]};var kJ={name:"filter",category:"Matrix",syntax:["filter(x, test)"],description:"Filter items in a matrix.",examples:["isPositive(x) = x > 0","filter([6, -2, -1, 4, 3], isPositive)","filter([6, -2, 0, 1, 0], x != 0)"],seealso:["sort","map","forEach"]};var NJ={name:"flatten",category:"Matrix",syntax:["flatten(x)"],description:"Flatten a multi dimensional matrix into a single dimensional matrix.",examples:["a = [1, 2, 3; 4, 5, 6]","size(a)","b = flatten(a)","size(b)"],seealso:["concat","resize","size","squeeze"]};var OJ={name:"forEach",category:"Matrix",syntax:["forEach(x, callback)"],description:"Iterates over all elements of a matrix/array, and executes the given callback function.",examples:["numberOfPets = {}","addPet(n) = numberOfPets[n] = (numberOfPets[n] ? numberOfPets[n]:0 ) + 1;",'forEach(["Dog","Cat","Cat"], addPet)',"numberOfPets"],seealso:["map","sort","filter"]};var FJ={name:"getMatrixDataType",category:"Matrix",syntax:["getMatrixDataType(x)"],description:'Find the data type of all elements in a matrix or array, for example "number" if all items are a number and "Complex" if all values are complex numbers. If a matrix contains more than one data type, it will return "mixed".',examples:["getMatrixDataType([1, 2, 3])","getMatrixDataType([[5 cm], [2 inch]])",'getMatrixDataType([1, "text"])',"getMatrixDataType([1, bignumber(4)])"],seealso:["matrix","sparse","typeOf"]};var RJ={name:"identity",category:"Matrix",syntax:["identity(n)","identity(m, n)","identity([m, n])"],description:"Returns the identity matrix with size m-by-n. The matrix has ones on the diagonal and zeros elsewhere.",examples:["identity(3)","identity(3, 5)","a = [1, 2, 3; 4, 5, 6]","identity(size(a))"],seealso:["concat","det","diag","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]};var PJ={name:"inv",category:"Matrix",syntax:["inv(x)"],description:"Calculate the inverse of a matrix",examples:["inv([1, 2; 3, 4])","inv(4)","1 / 4"],seealso:["concat","det","diag","identity","ones","range","size","squeeze","subset","trace","transpose","zeros"]};var LJ={name:"pinv",category:"Matrix",syntax:["pinv(x)"],description:"Calculate the Moore\u2013Penrose inverse of a matrix",examples:["pinv([1, 2; 3, 4])","pinv([[1, 0], [0, 1], [0, 1]])","pinv(4)"],seealso:["inv"]};var BJ={name:"kron",category:"Matrix",syntax:["kron(x, y)"],description:"Calculates the Kronecker product of 2 matrices or vectors.",examples:["kron([[1, 0], [0, 1]], [[1, 2], [3, 4]])","kron([1,1], [2,3,4])"],seealso:["multiply","dot","cross"]};var VJ={name:"map",category:"Matrix",syntax:["map(x, callback)","map(x, y, ..., callback)"],description:"Create a new matrix or array with the results of the callback function executed on each entry of the matrix/array or the matrices/arrays.",examples:["map([1, 2, 3], square)","map([1, 2], [3, 4], f(a,b) = a + b)"],seealso:["filter","forEach"]};var zJ={name:"matrixFromColumns",category:"Matrix",syntax:["matrixFromColumns(...arr)","matrixFromColumns(row1, row2)","matrixFromColumns(row1, row2, row3)"],description:"Create a dense matrix from vectors as individual columns.",examples:["matrixFromColumns([1, 2, 3], [[4],[5],[6]])"],seealso:["matrix","matrixFromRows","matrixFromFunction","zeros"]};var jJ={name:"matrixFromFunction",category:"Matrix",syntax:["matrixFromFunction(size, fn)","matrixFromFunction(size, fn, format)","matrixFromFunction(size, fn, format, datatype)","matrixFromFunction(size, format, fn)","matrixFromFunction(size, format, datatype, fn)"],description:"Create a matrix by evaluating a generating function at each index.",examples:["f(I) = I[1] - I[2]","matrixFromFunction([3,3], f)","g(I) = I[1] - I[2] == 1 ? 4 : 0",'matrixFromFunction([100, 100], "sparse", g)',"matrixFromFunction([5], random)"],seealso:["matrix","matrixFromRows","matrixFromColumns","zeros"]};var HJ={name:"matrixFromRows",category:"Matrix",syntax:["matrixFromRows(...arr)","matrixFromRows(row1, row2)","matrixFromRows(row1, row2, row3)"],description:"Create a dense matrix from vectors as individual rows.",examples:["matrixFromRows([1, 2, 3], [[4],[5],[6]])"],seealso:["matrix","matrixFromColumns","matrixFromFunction","zeros"]};var UJ={name:"ones",category:"Matrix",syntax:["ones(m)","ones(m, n)","ones(m, n, p, ...)","ones([m])","ones([m, n])","ones([m, n, p, ...])"],description:"Create a matrix containing ones.",examples:["ones(3)","ones(3, 5)","ones([2,3]) * 4.5","a = [1, 2, 3; 4, 5, 6]","ones(size(a))"],seealso:["concat","det","diag","identity","inv","range","size","squeeze","subset","trace","transpose","zeros"]};var qJ={name:"partitionSelect",category:"Matrix",syntax:["partitionSelect(x, k)","partitionSelect(x, k, compare)"],description:"Partition-based selection of an array or 1D matrix. Will find the kth smallest value, and mutates the input array. Uses Quickselect.",examples:["partitionSelect([5, 10, 1], 2)",'partitionSelect(["C", "B", "A", "D"], 1, compareText)',"arr = [5, 2, 1]","partitionSelect(arr, 0) # returns 1, arr is now: [1, 2, 5]","arr","partitionSelect(arr, 1, 'desc') # returns 2, arr is now: [5, 2, 1]","arr"],seealso:["sort"]};var WJ={name:"range",category:"Type",syntax:["start:end","start:step:end","range(start, end)","range(start, end, step)","range(string)"],description:"Create a range. Lower bound of the range is included, upper bound is excluded.",examples:["1:5","3:-1:-3","range(3, 7)","range(0, 12, 2)",'range("4:10")',"range(1m, 1m, 3m)","a = [1, 2, 3, 4; 5, 6, 7, 8]","a[1:2, 1:2]"],seealso:["concat","det","diag","identity","inv","ones","size","squeeze","subset","trace","transpose","zeros"]};var $J={name:"reshape",category:"Matrix",syntax:["reshape(x, sizes)"],description:"Reshape a multi dimensional array to fit the specified dimensions.",examples:["reshape([1, 2, 3, 4, 5, 6], [2, 3])","reshape([[1, 2], [3, 4]], [1, 4])","reshape([[1, 2], [3, 4]], [4])","reshape([1, 2, 3, 4], [-1, 2])"],seealso:["size","squeeze","resize"]};var GJ={name:"resize",category:"Matrix",syntax:["resize(x, size)","resize(x, size, defaultValue)"],description:"Resize a matrix.",examples:["resize([1,2,3,4,5], [3])","resize([1,2,3], [5])","resize([1,2,3], [5], -1)","resize(2, [2, 3])",'resize("hello", [8], "!")'],seealso:["size","subset","squeeze","reshape"]};var YJ={name:"rotate",category:"Matrix",syntax:["rotate(w, theta)","rotate(w, theta, v)"],description:"Returns a 2-D rotation matrix (2x2) for a given angle (in radians). Returns a 2-D rotation matrix (3x3) of a given angle (in radians) around given axis.",examples:["rotate([1, 0], pi / 2)",'rotate(matrix([1, 0]), unit("35deg"))','rotate([1, 0, 0], unit("90deg"), [0, 0, 1])','rotate(matrix([1, 0, 0]), unit("90deg"), matrix([0, 0, 1]))'],seealso:["matrix","rotationMatrix"]};var KJ={name:"rotationMatrix",category:"Matrix",syntax:["rotationMatrix(theta)","rotationMatrix(theta, v)","rotationMatrix(theta, v, format)"],description:"Returns a 2-D rotation matrix (2x2) for a given angle (in radians). Returns a 2-D rotation matrix (3x3) of a given angle (in radians) around given axis.",examples:["rotationMatrix(pi / 2)",'rotationMatrix(unit("45deg"), [0, 0, 1])','rotationMatrix(1, matrix([0, 0, 1]), "sparse")'],seealso:["cos","sin"]};var XJ={name:"row",category:"Matrix",syntax:["row(x, index)"],description:"Return a row from a matrix or array.",examples:["A = [[1, 2], [3, 4]]","row(A, 1)","row(A, 2)"],seealso:["column","matrixFromRows"]};var ZJ={name:"size",category:"Matrix",syntax:["size(x)"],description:"Calculate the size of a matrix.",examples:["size(2.3)",'size("hello world")',"a = [1, 2; 3, 4; 5, 6]","size(a)","size(1:6)"],seealso:["concat","count","det","diag","identity","inv","ones","range","squeeze","subset","trace","transpose","zeros"]};var QJ={name:"sort",category:"Matrix",syntax:["sort(x)","sort(x, compare)"],description:'Sort the items in a matrix. Compare can be a string "asc", "desc", "natural", or a custom sort function.',examples:["sort([5, 10, 1])",'sort(["C", "B", "A", "D"], "natural")',"sortByLength(a, b) = size(a)[1] - size(b)[1]",'sort(["Langdon", "Tom", "Sara"], sortByLength)','sort(["10", "1", "2"], "natural")'],seealso:["map","filter","forEach"]};var JJ={name:"squeeze",category:"Matrix",syntax:["squeeze(x)"],description:"Remove inner and outer singleton dimensions from a matrix.",examples:["a = zeros(3,2,1)","size(squeeze(a))","b = zeros(1,1,3)","size(squeeze(b))"],seealso:["concat","det","diag","identity","inv","ones","range","size","subset","trace","transpose","zeros"]};var eee={name:"subset",category:"Matrix",syntax:["value(index)","value(index) = replacement","subset(value, [index])","subset(value, [index], replacement)"],description:"Get or set a subset of the entries of a matrix or characters of a string. Indexes are one-based. There should be one index specification for each dimension of the target. Each specification can be a single index, a list of indices, or a range in colon notation `l:u`. In a range, both the lower bound l and upper bound u are included; and if a bound is omitted it defaults to the most extreme valid value. The cartesian product of the indices specified in each dimension determines the target of the operation.",examples:["d = [1, 2; 3, 4]","e = []","e[1, 1:2] = [5, 6]","e[2, :] = [7, 8]","f = d * e","f[2, 1]","f[:, 1]","f[[1,2], [1,3]] = [9, 10; 11, 12]","f"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","trace","transpose","zeros"]};var tee={name:"trace",category:"Matrix",syntax:["trace(A)"],description:"Calculate the trace of a matrix: the sum of the elements on the main diagonal of a square matrix.",examples:["A = [1, 2, 3; -1, 2, 3; 2, 0, 3]","trace(A)"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","transpose","zeros"]};var ree={name:"transpose",category:"Matrix",syntax:["x'","transpose(x)"],description:"Transpose a matrix",examples:["a = [1, 2, 3; 4, 5, 6]","a'","transpose(a)"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","trace","zeros"]};var nee={name:"zeros",category:"Matrix",syntax:["zeros(m)","zeros(m, n)","zeros(m, n, p, ...)","zeros([m])","zeros([m, n])","zeros([m, n, p, ...])"],description:"Create a matrix containing zeros.",examples:["zeros(3)","zeros(3, 5)","a = [1, 2, 3; 4, 5, 6]","zeros(size(a))"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","trace","transpose"]};var iee={name:"fft",category:"Matrix",syntax:["fft(x)"],description:"Calculate N-dimensional Fourier transform",examples:["fft([[1, 0], [1, 0]])"],seealso:["ifft"]};var oee={name:"ifft",category:"Matrix",syntax:["ifft(x)"],description:"Calculate N-dimensional inverse Fourier transform",examples:["ifft([[2, 2], [0, 0]])"],seealso:["fft"]};var see={name:"combinations",category:"Probability",syntax:["combinations(n, k)"],description:"Compute the number of combinations of n items taken k at a time",examples:["combinations(7, 5)"],seealso:["combinationsWithRep","permutations","factorial"]};var aee={name:"combinationsWithRep",category:"Probability",syntax:["combinationsWithRep(n, k)"],description:"Compute the number of combinations of n items taken k at a time with replacements.",examples:["combinationsWithRep(7, 5)"],seealso:["combinations","permutations","factorial"]};var lee={name:"factorial",category:"Probability",syntax:["n!","factorial(n)"],description:"Compute the factorial of a value",examples:["5!","5 * 4 * 3 * 2 * 1","3!"],seealso:["combinations","combinationsWithRep","permutations","gamma"]};var cee={name:"gamma",category:"Probability",syntax:["gamma(n)"],description:"Compute the gamma function. For small values, the Lanczos approximation is used, and for large values the extended Stirling approximation.",examples:["gamma(4)","3!","gamma(1/2)","sqrt(pi)"],seealso:["factorial"]};var uee={name:"lgamma",category:"Probability",syntax:["lgamma(n)"],description:"Logarithm of the gamma function for real, positive numbers and complex numbers, using Lanczos approximation for numbers and Stirling series for complex numbers.",examples:["lgamma(4)","lgamma(1/2)","lgamma(i)","lgamma(complex(1.1, 2))"],seealso:["gamma"]};var dee={name:"kldivergence",category:"Probability",syntax:["kldivergence(x, y)"],description:"Calculate the Kullback-Leibler (KL) divergence  between two distributions.",examples:["kldivergence([0.7,0.5,0.4], [0.2,0.9,0.5])"],seealso:[]};var fee={name:"multinomial",category:"Probability",syntax:["multinomial(A)"],description:"Multinomial Coefficients compute the number of ways of picking a1, a2, ..., ai unordered outcomes from `n` possibilities. multinomial takes one array of integers as an argument. The following condition must be enforced: every ai > 0.",examples:["multinomial([1, 2, 1])"],seealso:["combinations","factorial"]};var hee={name:"permutations",category:"Probability",syntax:["permutations(n)","permutations(n, k)"],description:"Compute the number of permutations of n items taken k at a time",examples:["permutations(5)","permutations(5, 3)"],seealso:["combinations","combinationsWithRep","factorial"]};var mee={name:"pickRandom",category:"Probability",syntax:["pickRandom(array)","pickRandom(array, number)","pickRandom(array, weights)","pickRandom(array, number, weights)","pickRandom(array, weights, number)"],description:"Pick a random entry from a given array.",examples:["pickRandom(0:10)","pickRandom([1, 3, 1, 6])","pickRandom([1, 3, 1, 6], 2)","pickRandom([1, 3, 1, 6], [2, 3, 2, 1])","pickRandom([1, 3, 1, 6], 2, [2, 3, 2, 1])","pickRandom([1, 3, 1, 6], [2, 3, 2, 1], 2)"],seealso:["random","randomInt"]};var pee={name:"random",category:"Probability",syntax:["random()","random(max)","random(min, max)","random(size)","random(size, max)","random(size, min, max)"],description:"Return a random number.",examples:["random()","random(10, 20)","random([2, 3])"],seealso:["pickRandom","randomInt"]};var gee={name:"randomInt",category:"Probability",syntax:["randomInt(max)","randomInt(min, max)","randomInt(size)","randomInt(size, max)","randomInt(size, min, max)"],description:"Return a random integer number",examples:["randomInt(10, 20)","randomInt([2, 3], 10)"],seealso:["pickRandom","random"]};var vee={name:"compare",category:"Relational",syntax:["compare(x, y)"],description:"Compare two values. Returns 1 when x > y, -1 when x < y, and 0 when x == y.",examples:["compare(2, 3)","compare(3, 2)","compare(2, 2)","compare(5cm, 40mm)","compare(2, [1, 2, 3])"],seealso:["equal","unequal","smaller","smallerEq","largerEq","compareNatural","compareText"]};var bee={name:"compareNatural",category:"Relational",syntax:["compareNatural(x, y)"],description:"Compare two values of any type in a deterministic, natural way. Returns 1 when x > y, -1 when x < y, and 0 when x == y.",examples:["compareNatural(2, 3)","compareNatural(3, 2)","compareNatural(2, 2)","compareNatural(5cm, 40mm)",'compareNatural("2", "10")',"compareNatural(2 + 3i, 2 + 4i)","compareNatural([1, 2, 4], [1, 2, 3])","compareNatural([1, 5], [1, 2, 3])","compareNatural([1, 2], [1, 2])","compareNatural({a: 2}, {a: 4})"],seealso:["equal","unequal","smaller","smallerEq","largerEq","compare","compareText"]};var yee={name:"compareText",category:"Relational",syntax:["compareText(x, y)"],description:"Compare two strings lexically. Comparison is case sensitive. Returns 1 when x > y, -1 when x < y, and 0 when x == y.",examples:['compareText("B", "A")','compareText("A", "B")','compareText("A", "A")','compareText("2", "10")','compare("2", "10")',"compare(2, 10)",'compareNatural("2", "10")','compareText("B", ["A", "B", "C"])'],seealso:["compare","compareNatural"]};var _ee={name:"deepEqual",category:"Relational",syntax:["deepEqual(x, y)"],description:"Check equality of two matrices element wise. Returns true if the size of both matrices is equal and when and each of the elements are equal.",examples:["deepEqual([1,3,4], [1,3,4])","deepEqual([1,3,4], [1,3])"],seealso:["equal","unequal","smaller","larger","smallerEq","largerEq","compare"]};var xee={name:"equal",category:"Relational",syntax:["x == y","equal(x, y)"],description:"Check equality of two values. Returns true if the values are equal, and false if not.",examples:["2+2 == 3","2+2 == 4","a = 3.2","b = 6-2.8","a == b","50cm == 0.5m"],seealso:["unequal","smaller","larger","smallerEq","largerEq","compare","deepEqual","equalText"]};var wee={name:"equalText",category:"Relational",syntax:["equalText(x, y)"],description:"Check equality of two strings. Comparison is case sensitive. Returns true if the values are equal, and false if not.",examples:['equalText("Hello", "Hello")','equalText("a", "A")','equal("2e3", "2000")','equalText("2e3", "2000")','equalText("B", ["A", "B", "C"])'],seealso:["compare","compareNatural","compareText","equal"]};var Cee={name:"larger",category:"Relational",syntax:["x > y","larger(x, y)"],description:"Check if value x is larger than y. Returns true if x is larger than y, and false if not.",examples:["2 > 3","5 > 2*2","a = 3.3","b = 6-2.8","(a > b)","(b < a)","5 cm > 2 inch"],seealso:["equal","unequal","smaller","smallerEq","largerEq","compare"]};var See={name:"largerEq",category:"Relational",syntax:["x >= y","largerEq(x, y)"],description:"Check if value x is larger or equal to y. Returns true if x is larger or equal to y, and false if not.",examples:["2 >= 1+1","2 > 1+1","a = 3.2","b = 6-2.8","(a >= b)"],seealso:["equal","unequal","smallerEq","smaller","compare"]};var Dee={name:"smaller",category:"Relational",syntax:["x < y","smaller(x, y)"],description:"Check if value x is smaller than value y. Returns true if x is smaller than y, and false if not.",examples:["2 < 3","5 < 2*2","a = 3.3","b = 6-2.8","(a < b)","5 cm < 2 inch"],seealso:["equal","unequal","larger","smallerEq","largerEq","compare"]};var Eee={name:"smallerEq",category:"Relational",syntax:["x <= y","smallerEq(x, y)"],description:"Check if value x is smaller or equal to value y. Returns true if x is smaller than y, and false if not.",examples:["2 <= 1+1","2 < 1+1","a = 3.2","b = 6-2.8","(a <= b)"],seealso:["equal","unequal","larger","smaller","largerEq","compare"]};var Mee={name:"unequal",category:"Relational",syntax:["x != y","unequal(x, y)"],description:"Check unequality of two values. Returns true if the values are unequal, and false if they are equal.",examples:["2+2 != 3","2+2 != 4","a = 3.2","b = 6-2.8","a != b","50cm != 0.5m","5 cm != 2 inch"],seealso:["equal","smaller","larger","smallerEq","largerEq","compare","deepEqual"]};var Aee={name:"setCartesian",category:"Set",syntax:["setCartesian(set1, set2)"],description:"Create the cartesian product of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays and the values will be sorted in ascending order before the operation.",examples:["setCartesian([1, 2], [3, 4])"],seealso:["setUnion","setIntersect","setDifference","setPowerset"]};var Tee={name:"setDifference",category:"Set",syntax:["setDifference(set1, set2)"],description:"Create the difference of two (multi)sets: every element of set1, that is not the element of set2. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setDifference([1, 2, 3, 4], [3, 4, 5, 6])","setDifference([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setUnion","setIntersect","setSymDifference"]};var Iee={name:"setDistinct",category:"Set",syntax:["setDistinct(set)"],description:"Collect the distinct elements of a multiset. A multi-dimension array will be converted to a single-dimension array before the operation.",examples:["setDistinct([1, 1, 1, 2, 2, 3])"],seealso:["setMultiplicity"]};var kee={name:"setIntersect",category:"Set",syntax:["setIntersect(set1, set2)"],description:"Create the intersection of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setIntersect([1, 2, 3, 4], [3, 4, 5, 6])","setIntersect([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setUnion","setDifference"]};var Nee={name:"setIsSubset",category:"Set",syntax:["setIsSubset(set1, set2)"],description:"Check whether a (multi)set is a subset of another (multi)set: every element of set1 is the element of set2. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setIsSubset([1, 2], [3, 4, 5, 6])","setIsSubset([3, 4], [3, 4, 5, 6])"],seealso:["setUnion","setIntersect","setDifference"]};var Oee={name:"setMultiplicity",category:"Set",syntax:["setMultiplicity(element, set)"],description:"Count the multiplicity of an element in a multiset. A multi-dimension array will be converted to a single-dimension array before the operation.",examples:["setMultiplicity(1, [1, 2, 2, 4])","setMultiplicity(2, [1, 2, 2, 4])"],seealso:["setDistinct","setSize"]};var Fee={name:"setPowerset",category:"Set",syntax:["setPowerset(set)"],description:"Create the powerset of a (multi)set: the powerset contains very possible subsets of a (multi)set. A multi-dimension array will be converted to a single-dimension array before the operation.",examples:["setPowerset([1, 2, 3])"],seealso:["setCartesian"]};var Ree={name:"setSize",category:"Set",syntax:["setSize(set)","setSize(set, unique)"],description:'Count the number of elements of a (multi)set. When the second parameter "unique" is true, count only the unique values. A multi-dimension array will be converted to a single-dimension array before the operation.',examples:["setSize([1, 2, 2, 4])","setSize([1, 2, 2, 4], true)"],seealso:["setUnion","setIntersect","setDifference"]};var Pee={name:"setSymDifference",category:"Set",syntax:["setSymDifference(set1, set2)"],description:"Create the symmetric difference of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setSymDifference([1, 2, 3, 4], [3, 4, 5, 6])","setSymDifference([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setUnion","setIntersect","setDifference"]};var Lee={name:"setUnion",category:"Set",syntax:["setUnion(set1, set2)"],description:"Create the union of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setUnion([1, 2, 3, 4], [3, 4, 5, 6])","setUnion([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setIntersect","setDifference"]};var Bee={name:"zpk2tf",category:"Signal",syntax:["zpk2tf(z, p, k)"],description:"Compute the transfer function of a zero-pole-gain model.",examples:["zpk2tf([1, 2], [-1, -2], 1)","zpk2tf([1, 2], [-1, -2])","zpk2tf([1 - 3i, 2 + 2i], [-1, -2])"],seealso:[]};var Vee={name:"freqz",category:"Signal",syntax:["freqz(b, a)","freqz(b, a, w)"],description:"Calculates the frequency response of a filter given its numerator and denominator coefficients.",examples:["freqz([1, 2], [1, 2, 3])","freqz([1, 2], [1, 2, 3], [0, 1])","freqz([1, 2], [1, 2, 3], 512)"],seealso:[]};var zee={name:"erf",category:"Special",syntax:["erf(x)"],description:"Compute the erf function of a value using a rational Chebyshev approximations for different intervals of x",examples:["erf(0.2)","erf(-0.5)","erf(4)"],seealso:[]};var jee={name:"zeta",category:"Special",syntax:["zeta(s)"],description:"Compute the Riemann Zeta Function using an infinite series and Riemann's Functional Equation for the entire complex plane",examples:["zeta(0.2)","zeta(-0.5)","zeta(4)"],seealso:[]};var Hee={name:"mad",category:"Statistics",syntax:["mad(a, b, c, ...)","mad(A)"],description:"Compute the median absolute deviation of a matrix or a list with values. The median absolute deviation is defined as the median of the absolute deviations from the median.",examples:["mad(10, 20, 30)","mad([1, 2, 3])"],seealso:["mean","median","std","abs"]};var Uee={name:"max",category:"Statistics",syntax:["max(a, b, c, ...)","max(A)","max(A, dimension)"],description:"Compute the maximum value of a list of values.",examples:["max(2, 3, 4, 1)","max([2, 3, 4, 1])","max([2, 5; 4, 3])","max([2, 5; 4, 3], 1)","max([2, 5; 4, 3], 2)","max(2.7, 7.1, -4.5, 2.0, 4.1)","min(2.7, 7.1, -4.5, 2.0, 4.1)"],seealso:["mean","median","min","prod","std","sum","variance"]};var qee={name:"mean",category:"Statistics",syntax:["mean(a, b, c, ...)","mean(A)","mean(A, dimension)"],description:"Compute the arithmetic mean of a list of values.",examples:["mean(2, 3, 4, 1)","mean([2, 3, 4, 1])","mean([2, 5; 4, 3])","mean([2, 5; 4, 3], 1)","mean([2, 5; 4, 3], 2)","mean([1.0, 2.7, 3.2, 4.0])"],seealso:["max","median","min","prod","std","sum","variance"]};var Wee={name:"median",category:"Statistics",syntax:["median(a, b, c, ...)","median(A)"],description:"Compute the median of all values. The values are sorted and the middle value is returned. In case of an even number of values, the average of the two middle values is returned.",examples:["median(5, 2, 7)","median([3, -1, 5, 7])"],seealso:["max","mean","min","prod","std","sum","variance","quantileSeq"]};var $ee={name:"min",category:"Statistics",syntax:["min(a, b, c, ...)","min(A)","min(A, dimension)"],description:"Compute the minimum value of a list of values.",examples:["min(2, 3, 4, 1)","min([2, 3, 4, 1])","min([2, 5; 4, 3])","min([2, 5; 4, 3], 1)","min([2, 5; 4, 3], 2)","min(2.7, 7.1, -4.5, 2.0, 4.1)","max(2.7, 7.1, -4.5, 2.0, 4.1)"],seealso:["max","mean","median","prod","std","sum","variance"]};var Gee={name:"mode",category:"Statistics",syntax:["mode(a, b, c, ...)","mode(A)","mode(A, a, b, B, c, ...)"],description:"Computes the mode of all values as an array. In case mode being more than one, multiple values are returned in an array.",examples:["mode(2, 1, 4, 3, 1)","mode([1, 2.7, 3.2, 4, 2.7])","mode(1, 4, 6, 1, 6)"],seealso:["max","mean","min","median","prod","std","sum","variance"]};var Yee={name:"prod",category:"Statistics",syntax:["prod(a, b, c, ...)","prod(A)"],description:"Compute the product of all values.",examples:["prod(2, 3, 4)","prod([2, 3, 4])","prod([2, 5; 4, 3])"],seealso:["max","mean","min","median","min","std","sum","variance"]};var Kee={name:"quantileSeq",category:"Statistics",syntax:["quantileSeq(A, prob[, sorted])","quantileSeq(A, [prob1, prob2, ...][, sorted])","quantileSeq(A, N[, sorted])"],description:`Compute the prob order quantile of a matrix or a list with values. The sequence is sorted and the middle value is returned. Supported types of sequence values are: Number, BigNumber, Unit Supported types of probability are: Number, BigNumber. 

In case of a (multi dimensional) array or matrix, the prob order quantile of all elements will be calculated.`,examples:["quantileSeq([3, -1, 5, 7], 0.5)","quantileSeq([3, -1, 5, 7], [1/3, 2/3])","quantileSeq([3, -1, 5, 7], 2)","quantileSeq([-1, 3, 5, 7], 0.5, true)"],seealso:["mean","median","min","max","prod","std","sum","variance"]};var Xee={name:"std",category:"Statistics",syntax:["std(a, b, c, ...)","std(A)","std(A, dimension)","std(A, normalization)","std(A, dimension, normalization)"],description:'Compute the standard deviation of all values, defined as std(A) = sqrt(variance(A)). Optional parameter normalization can be "unbiased" (default), "uncorrected", or "biased".',examples:["std(2, 4, 6)","std([2, 4, 6, 8])",'std([2, 4, 6, 8], "uncorrected")','std([2, 4, 6, 8], "biased")',"std([1, 2, 3; 4, 5, 6])"],seealso:["max","mean","min","median","prod","sum","variance"]};var Zee={name:"cumsum",category:"Statistics",syntax:["cumsum(a, b, c, ...)","cumsum(A)"],description:"Compute the cumulative sum of all values.",examples:["cumsum(2, 3, 4, 1)","cumsum([2, 3, 4, 1])","cumsum([1, 2; 3, 4])","cumsum([1, 2; 3, 4], 1)","cumsum([1, 2; 3, 4], 2)"],seealso:["max","mean","median","min","prod","std","sum","variance"]};var Qee={name:"sum",category:"Statistics",syntax:["sum(a, b, c, ...)","sum(A)","sum(A, dimension)"],description:"Compute the sum of all values.",examples:["sum(2, 3, 4, 1)","sum([2, 3, 4, 1])","sum([2, 5; 4, 3])"],seealso:["max","mean","median","min","prod","std","sum","variance"]};var Jee={name:"variance",category:"Statistics",syntax:["variance(a, b, c, ...)","variance(A)","variance(A, dimension)","variance(A, normalization)","variance(A, dimension, normalization)"],description:'Compute the variance of all values. Optional parameter normalization can be "unbiased" (default), "uncorrected", or "biased".',examples:["variance(2, 4, 6)","variance([2, 4, 6, 8])",'variance([2, 4, 6, 8], "uncorrected")','variance([2, 4, 6, 8], "biased")',"variance([1, 2, 3; 4, 5, 6])"],seealso:["max","mean","min","median","min","prod","std","sum"]};var ete={name:"corr",category:"Statistics",syntax:["corr(A,B)"],description:"Compute the correlation coefficient of a two list with values, For matrices, the matrix correlation coefficient is calculated.",examples:["corr([2, 4, 6, 8],[1, 2, 3, 6])","corr(matrix([[1, 2.2, 3, 4.8, 5], [1, 2, 3, 4, 5]]), matrix([[4, 5.3, 6.6, 7, 8], [1, 2, 3, 4, 5]]))"],seealso:["max","mean","min","median","min","prod","std","sum"]};var tte={name:"acos",category:"Trigonometry",syntax:["acos(x)"],description:"Compute the inverse cosine of a value in radians.",examples:["acos(0.5)","acos(cos(2.3))"],seealso:["cos","atan","asin"]};var rte={name:"acosh",category:"Trigonometry",syntax:["acosh(x)"],description:"Calculate the hyperbolic arccos of a value, defined as `acosh(x) = ln(sqrt(x^2 - 1) + x)`.",examples:["acosh(1.5)"],seealso:["cosh","asinh","atanh"]};var nte={name:"acot",category:"Trigonometry",syntax:["acot(x)"],description:"Calculate the inverse cotangent of a value.",examples:["acot(0.5)","acot(cot(0.5))","acot(2)"],seealso:["cot","atan"]};var ite={name:"acoth",category:"Trigonometry",syntax:["acoth(x)"],description:"Calculate the inverse hyperbolic tangent of a value, defined as `acoth(x) = (ln((x+1)/x) + ln(x/(x-1))) / 2`.",examples:["acoth(2)","acoth(0.5)"],seealso:["acsch","asech"]};var ote={name:"acsc",category:"Trigonometry",syntax:["acsc(x)"],description:"Calculate the inverse cotangent of a value.",examples:["acsc(2)","acsc(csc(0.5))","acsc(0.5)"],seealso:["csc","asin","asec"]};var ste={name:"acsch",category:"Trigonometry",syntax:["acsch(x)"],description:"Calculate the inverse hyperbolic cosecant of a value, defined as `acsch(x) = ln(1/x + sqrt(1/x^2 + 1))`.",examples:["acsch(0.5)"],seealso:["asech","acoth"]};var ate={name:"asec",category:"Trigonometry",syntax:["asec(x)"],description:"Calculate the inverse secant of a value.",examples:["asec(0.5)","asec(sec(0.5))","asec(2)"],seealso:["acos","acot","acsc"]};var lte={name:"asech",category:"Trigonometry",syntax:["asech(x)"],description:"Calculate the inverse secant of a value.",examples:["asech(0.5)"],seealso:["acsch","acoth"]};var cte={name:"asin",category:"Trigonometry",syntax:["asin(x)"],description:"Compute the inverse sine of a value in radians.",examples:["asin(0.5)","asin(sin(0.5))"],seealso:["sin","acos","atan"]};var ute={name:"asinh",category:"Trigonometry",syntax:["asinh(x)"],description:"Calculate the hyperbolic arcsine of a value, defined as `asinh(x) = ln(x + sqrt(x^2 + 1))`.",examples:["asinh(0.5)"],seealso:["acosh","atanh"]};var dte={name:"atan",category:"Trigonometry",syntax:["atan(x)"],description:"Compute the inverse tangent of a value in radians.",examples:["atan(0.5)","atan(tan(0.5))"],seealso:["tan","acos","asin"]};var fte={name:"atan2",category:"Trigonometry",syntax:["atan2(y, x)"],description:"Computes the principal value of the arc tangent of y/x in radians.",examples:["atan2(2, 2) / pi","angle = 60 deg in rad","x = cos(angle)","y = sin(angle)","atan2(y, x)"],seealso:["sin","cos","tan"]};var hte={name:"atanh",category:"Trigonometry",syntax:["atanh(x)"],description:"Calculate the hyperbolic arctangent of a value, defined as `atanh(x) = ln((1 + x)/(1 - x)) / 2`.",examples:["atanh(0.5)"],seealso:["acosh","asinh"]};var mte={name:"cos",category:"Trigonometry",syntax:["cos(x)"],description:"Compute the cosine of x in radians.",examples:["cos(2)","cos(pi / 4) ^ 2","cos(180 deg)","cos(60 deg)","sin(0.2)^2 + cos(0.2)^2"],seealso:["acos","sin","tan"]};var pte={name:"cosh",category:"Trigonometry",syntax:["cosh(x)"],description:"Compute the hyperbolic cosine of x in radians.",examples:["cosh(0.5)"],seealso:["sinh","tanh","coth"]};var gte={name:"cot",category:"Trigonometry",syntax:["cot(x)"],description:"Compute the cotangent of x in radians. Defined as 1/tan(x)",examples:["cot(2)","1 / tan(2)"],seealso:["sec","csc","tan"]};var vte={name:"coth",category:"Trigonometry",syntax:["coth(x)"],description:"Compute the hyperbolic cotangent of x in radians.",examples:["coth(2)","1 / tanh(2)"],seealso:["sech","csch","tanh"]};var bte={name:"csc",category:"Trigonometry",syntax:["csc(x)"],description:"Compute the cosecant of x in radians. Defined as 1/sin(x)",examples:["csc(2)","1 / sin(2)"],seealso:["sec","cot","sin"]};var yte={name:"csch",category:"Trigonometry",syntax:["csch(x)"],description:"Compute the hyperbolic cosecant of x in radians. Defined as 1/sinh(x)",examples:["csch(2)","1 / sinh(2)"],seealso:["sech","coth","sinh"]};var _te={name:"sec",category:"Trigonometry",syntax:["sec(x)"],description:"Compute the secant of x in radians. Defined as 1/cos(x)",examples:["sec(2)","1 / cos(2)"],seealso:["cot","csc","cos"]};var xte={name:"sech",category:"Trigonometry",syntax:["sech(x)"],description:"Compute the hyperbolic secant of x in radians. Defined as 1/cosh(x)",examples:["sech(2)","1 / cosh(2)"],seealso:["coth","csch","cosh"]};var wte={name:"sin",category:"Trigonometry",syntax:["sin(x)"],description:"Compute the sine of x in radians.",examples:["sin(2)","sin(pi / 4) ^ 2","sin(90 deg)","sin(30 deg)","sin(0.2)^2 + cos(0.2)^2"],seealso:["asin","cos","tan"]};var Cte={name:"sinh",category:"Trigonometry",syntax:["sinh(x)"],description:"Compute the hyperbolic sine of x in radians.",examples:["sinh(0.5)"],seealso:["cosh","tanh"]};var Ste={name:"tan",category:"Trigonometry",syntax:["tan(x)"],description:"Compute the tangent of x in radians.",examples:["tan(0.5)","sin(0.5) / cos(0.5)","tan(pi / 4)","tan(45 deg)"],seealso:["atan","sin","cos"]};var Dte={name:"tanh",category:"Trigonometry",syntax:["tanh(x)"],description:"Compute the hyperbolic tangent of x in radians.",examples:["tanh(0.5)","sinh(0.5) / cosh(0.5)"],seealso:["sinh","cosh"]};var Ete={name:"to",category:"Units",syntax:["x to unit","to(x, unit)"],description:"Change the unit of a value.",examples:["5 inch to cm","3.2kg to g","16 bytes in bits"],seealso:[]};var Mte={name:"bin",category:"Utils",syntax:["bin(value)"],description:"Format a number as binary",examples:["bin(2)"],seealso:["oct","hex"]};var Ate={name:"clone",category:"Utils",syntax:["clone(x)"],description:"Clone a variable. Creates a copy of primitive variables, and a deep copy of matrices",examples:["clone(3.5)","clone(2 - 4i)","clone(45 deg)","clone([1, 2; 3, 4])",'clone("hello world")'],seealso:[]};var Tte={name:"format",category:"Utils",syntax:["format(value)","format(value, precision)"],description:"Format a value of any type as string.",examples:["format(2.3)","format(3 - 4i)","format([])","format(pi, 3)"],seealso:["print"]};var Ite={name:"hasNumericValue",category:"Utils",syntax:["hasNumericValue(x)"],description:"Test whether a value is an numeric value. In case of a string, true is returned if the string contains a numeric value.",examples:["hasNumericValue(2)",'hasNumericValue("2")','isNumeric("2")',"hasNumericValue(0)","hasNumericValue(bignumber(500))","hasNumericValue(fraction(0.125))","hasNumericValue(2 + 3i)",'hasNumericValue([2.3, "foo", false])'],seealso:["isInteger","isZero","isNegative","isPositive","isNaN","isNumeric"]};var kte={name:"hex",category:"Utils",syntax:["hex(value)"],description:"Format a number as hexadecimal",examples:["hex(240)"],seealso:["bin","oct"]};var Nte={name:"isInteger",category:"Utils",syntax:["isInteger(x)"],description:"Test whether a value is an integer number.",examples:["isInteger(2)","isInteger(3.5)","isInteger([3, 0.5, -2])"],seealso:["isNegative","isNumeric","isPositive","isZero"]};var Ote={name:"isNaN",category:"Utils",syntax:["isNaN(x)"],description:"Test whether a value is NaN (not a number)",examples:["isNaN(2)","isNaN(0 / 0)","isNaN(NaN)","isNaN(Infinity)"],seealso:["isNegative","isNumeric","isPositive","isZero"]};var Fte={name:"isNegative",category:"Utils",syntax:["isNegative(x)"],description:"Test whether a value is negative: smaller than zero.",examples:["isNegative(2)","isNegative(0)","isNegative(-4)","isNegative([3, 0.5, -2])"],seealso:["isInteger","isNumeric","isPositive","isZero"]};var Rte={name:"isNumeric",category:"Utils",syntax:["isNumeric(x)"],description:"Test whether a value is a numeric value. Returns true when the input is a number, BigNumber, Fraction, or boolean.",examples:["isNumeric(2)",'isNumeric("2")','hasNumericValue("2")',"isNumeric(0)","isNumeric(bignumber(500))","isNumeric(fraction(0.125))","isNumeric(2 + 3i)",'isNumeric([2.3, "foo", false])'],seealso:["isInteger","isZero","isNegative","isPositive","isNaN","hasNumericValue"]};var Pte={name:"isPositive",category:"Utils",syntax:["isPositive(x)"],description:"Test whether a value is positive: larger than zero.",examples:["isPositive(2)","isPositive(0)","isPositive(-4)","isPositive([3, 0.5, -2])"],seealso:["isInteger","isNumeric","isNegative","isZero"]};var Lte={name:"isPrime",category:"Utils",syntax:["isPrime(x)"],description:"Test whether a value is prime: has no divisors other than itself and one.",examples:["isPrime(3)","isPrime(-2)","isPrime([2, 17, 100])"],seealso:["isInteger","isNumeric","isNegative","isZero"]};var Bte={name:"isZero",category:"Utils",syntax:["isZero(x)"],description:"Test whether a value is zero.",examples:["isZero(2)","isZero(0)","isZero(-4)","isZero([3, 0, -2, 0])"],seealso:["isInteger","isNumeric","isNegative","isPositive"]};var Vte={name:"numeric",category:"Utils",syntax:["numeric(x)"],description:"Convert a numeric input to a specific numeric type: number, BigNumber, bigint, or Fraction.",examples:['numeric("4")','numeric("4", "number")','numeric("4", "bigint")','numeric("4", "BigNumber")','numeric("4", "Fraction")','numeric(4, "Fraction")','numeric(fraction(2, 5), "number")'],seealso:["number","bigint","fraction","bignumber","string","format"]};var zte={name:"oct",category:"Utils",syntax:["oct(value)"],description:"Format a number as octal",examples:["oct(56)"],seealso:["bin","hex"]};var jte={name:"print",category:"Utils",syntax:["print(template, values)","print(template, values, precision)"],description:"Interpolate values into a string template.",examples:['print("Lucy is $age years old", {age: 5})','print("The value of pi is $pi", {pi: pi}, 3)','print("Hello, $user.name!", {user: {name: "John"}})','print("Values: $1, $2, $3", [6, 9, 4])'],seealso:["format"]};var Hte={name:"typeOf",category:"Utils",syntax:["typeOf(x)"],description:"Get the type of a variable.",examples:["typeOf(3.5)","typeOf(2 - 4i)","typeOf(45 deg)",'typeOf("hello world")'],seealso:["getMatrixDataType"]};var Ute={name:"solveODE",category:"Numeric",syntax:["solveODE(func, tspan, y0)","solveODE(func, tspan, y0, options)"],description:"Numerical Integration of Ordinary Differential Equations.",examples:["f(t,y) = y","tspan = [0, 4]","solveODE(f, tspan, 1)","solveODE(f, tspan, [1, 2])",'solveODE(f, tspan, 1, { method:"RK23", maxStep:0.1 })'],seealso:["derivative","simplifyCore"]};var qte={bignumber:OZ,bigint:FZ,boolean:RZ,complex:PZ,createUnit:LZ,fraction:BZ,index:VZ,matrix:zZ,number:jZ,sparse:HZ,splitUnit:UZ,string:qZ,unit:WZ,e:VL,E:VL,false:bZ,i:yZ,Infinity:_Z,LN2:wZ,LN10:xZ,LOG2E:SZ,LOG10E:CZ,NaN:DZ,null:EZ,pi:zL,PI:zL,phi:MZ,SQRT1_2:AZ,SQRT2:TZ,tau:IZ,true:kZ,version:NZ,speedOfLight:{description:"Speed of light in vacuum",examples:["speedOfLight"]},gravitationConstant:{description:"Newtonian constant of gravitation",examples:["gravitationConstant"]},planckConstant:{description:"Planck constant",examples:["planckConstant"]},reducedPlanckConstant:{description:"Reduced Planck constant",examples:["reducedPlanckConstant"]},magneticConstant:{description:"Magnetic constant (vacuum permeability)",examples:["magneticConstant"]},electricConstant:{description:"Electric constant (vacuum permeability)",examples:["electricConstant"]},vacuumImpedance:{description:"Characteristic impedance of vacuum",examples:["vacuumImpedance"]},coulomb:{description:"Coulomb's constant",examples:["coulomb"]},elementaryCharge:{description:"Elementary charge",examples:["elementaryCharge"]},bohrMagneton:{description:"Bohr magneton",examples:["bohrMagneton"]},conductanceQuantum:{description:"Conductance quantum",examples:["conductanceQuantum"]},inverseConductanceQuantum:{description:"Inverse conductance quantum",examples:["inverseConductanceQuantum"]},magneticFluxQuantum:{description:"Magnetic flux quantum",examples:["magneticFluxQuantum"]},nuclearMagneton:{description:"Nuclear magneton",examples:["nuclearMagneton"]},klitzing:{description:"Von Klitzing constant",examples:["klitzing"]},bohrRadius:{description:"Bohr radius",examples:["bohrRadius"]},classicalElectronRadius:{description:"Classical electron radius",examples:["classicalElectronRadius"]},electronMass:{description:"Electron mass",examples:["electronMass"]},fermiCoupling:{description:"Fermi coupling constant",examples:["fermiCoupling"]},fineStructure:{description:"Fine-structure constant",examples:["fineStructure"]},hartreeEnergy:{description:"Hartree energy",examples:["hartreeEnergy"]},protonMass:{description:"Proton mass",examples:["protonMass"]},deuteronMass:{description:"Deuteron Mass",examples:["deuteronMass"]},neutronMass:{description:"Neutron mass",examples:["neutronMass"]},quantumOfCirculation:{description:"Quantum of circulation",examples:["quantumOfCirculation"]},rydberg:{description:"Rydberg constant",examples:["rydberg"]},thomsonCrossSection:{description:"Thomson cross section",examples:["thomsonCrossSection"]},weakMixingAngle:{description:"Weak mixing angle",examples:["weakMixingAngle"]},efimovFactor:{description:"Efimov factor",examples:["efimovFactor"]},atomicMass:{description:"Atomic mass constant",examples:["atomicMass"]},avogadro:{description:"Avogadro's number",examples:["avogadro"]},boltzmann:{description:"Boltzmann constant",examples:["boltzmann"]},faraday:{description:"Faraday constant",examples:["faraday"]},firstRadiation:{description:"First radiation constant",examples:["firstRadiation"]},loschmidt:{description:"Loschmidt constant at T=273.15 K and p=101.325 kPa",examples:["loschmidt"]},gasConstant:{description:"Gas constant",examples:["gasConstant"]},molarPlanckConstant:{description:"Molar Planck constant",examples:["molarPlanckConstant"]},molarVolume:{description:"Molar volume of an ideal gas at T=273.15 K and p=101.325 kPa",examples:["molarVolume"]},sackurTetrode:{description:"Sackur-Tetrode constant at T=1 K and p=101.325 kPa",examples:["sackurTetrode"]},secondRadiation:{description:"Second radiation constant",examples:["secondRadiation"]},stefanBoltzmann:{description:"Stefan-Boltzmann constant",examples:["stefanBoltzmann"]},wienDisplacement:{description:"Wien displacement law constant",examples:["wienDisplacement"]},molarMass:{description:"Molar mass constant",examples:["molarMass"]},molarMassC12:{description:"Molar mass constant of carbon-12",examples:["molarMassC12"]},gravity:{description:"Standard acceleration of gravity (standard acceleration of free-fall on Earth)",examples:["gravity"]},planckLength:{description:"Planck length",examples:["planckLength"]},planckMass:{description:"Planck mass",examples:["planckMass"]},planckTime:{description:"Planck time",examples:["planckTime"]},planckCharge:{description:"Planck charge",examples:["planckCharge"]},planckTemperature:{description:"Planck temperature",examples:["planckTemperature"]},derivative:KZ,lsolve:ZZ,lsolveAll:QZ,lup:JZ,lusolve:eQ,leafCount:XZ,polynomialRoot:tQ,resolve:iQ,simplify:oQ,simplifyConstant:sQ,simplifyCore:aQ,symbolicEqual:cQ,rationalize:nQ,slu:lQ,usolve:uQ,usolveAll:dQ,qr:rQ,abs:fQ,add:hQ,cbrt:mQ,ceil:pQ,cube:gQ,divide:vQ,dotDivide:bQ,dotMultiply:yQ,dotPow:_Q,exp:xQ,expm:wQ,expm1:CQ,fix:SQ,floor:DQ,gcd:EQ,hypot:MQ,lcm:TQ,log:IQ,log2:OQ,log1p:NQ,log10:kQ,mod:FQ,multiply:RQ,norm:PQ,nthRoot:LQ,nthRoots:BQ,pow:VQ,round:zQ,sign:jQ,sqrt:HQ,sqrtm:UQ,square:GQ,subtract:YQ,unaryMinus:KQ,unaryPlus:XQ,xgcd:ZQ,invmod:AQ,bitAnd:QQ,bitNot:JQ,bitOr:eJ,bitXor:tJ,leftShift:rJ,rightArithShift:nJ,rightLogShift:iJ,bellNumbers:oJ,catalan:sJ,composition:aJ,stirlingS2:lJ,config:$Z,import:GZ,typed:YZ,arg:cJ,conj:uJ,re:fJ,im:dJ,evaluate:hJ,help:mJ,distance:pJ,intersect:gJ,and:vJ,not:bJ,or:yJ,xor:_J,concat:wJ,count:CJ,cross:SJ,column:xJ,ctranspose:DJ,det:EJ,diag:MJ,diff:AJ,dot:TJ,getMatrixDataType:FJ,identity:RJ,filter:kJ,flatten:NJ,forEach:OJ,inv:PJ,pinv:LJ,eigs:IJ,kron:BJ,matrixFromFunction:jJ,matrixFromRows:HJ,matrixFromColumns:zJ,map:VJ,ones:UJ,partitionSelect:qJ,range:WJ,resize:GJ,reshape:$J,rotate:YJ,rotationMatrix:KJ,row:XJ,size:ZJ,sort:QJ,squeeze:JJ,subset:eee,trace:tee,transpose:ree,zeros:nee,fft:iee,ifft:oee,sylvester:qQ,schur:WQ,lyap:$Q,solveODE:Ute,combinations:see,combinationsWithRep:aee,factorial:lee,gamma:cee,kldivergence:dee,lgamma:uee,multinomial:fee,permutations:hee,pickRandom:mee,random:pee,randomInt:gee,compare:vee,compareNatural:bee,compareText:yee,deepEqual:_ee,equal:xee,equalText:wee,larger:Cee,largerEq:See,smaller:Dee,smallerEq:Eee,unequal:Mee,setCartesian:Aee,setDifference:Tee,setDistinct:Iee,setIntersect:kee,setIsSubset:Nee,setMultiplicity:Oee,setPowerset:Fee,setSize:Ree,setSymDifference:Pee,setUnion:Lee,zpk2tf:Bee,freqz:Vee,erf:zee,zeta:jee,cumsum:Zee,mad:Hee,max:Uee,mean:qee,median:Wee,min:$ee,mode:Gee,prod:Yee,quantileSeq:Kee,std:Xee,sum:Qee,variance:Jee,corr:ete,acos:tte,acosh:rte,acot:nte,acoth:ite,acsc:ote,acsch:ste,asec:ate,asech:lte,asin:cte,asinh:ute,atan:dte,atanh:hte,atan2:fte,cos:mte,cosh:pte,cot:gte,coth:vte,csc:bte,csch:yte,sec:_te,sech:xte,sin:wte,sinh:Cte,tan:Ste,tanh:Dte,to:Ete,clone:Ate,format:Tte,bin:Mte,oct:zte,hex:kte,isNaN:Ote,isInteger:Nte,isNegative:Fte,isNumeric:Rte,hasNumericValue:Ite,isPositive:Pte,isPrime:Lte,isZero:Bte,print:jte,typeOf:Hte,numeric:Vte};var Wte="help",VIe=["typed","mathWithTransform","Help"],jL=F(Wte,VIe,r=>{var{typed:t,mathWithTransform:e,Help:n}=r;return t(Wte,{any:function(o){var s,a=o;if(typeof o!="string"){for(s in e)if(Dt(e,s)&&o===e[s]){a=s;break}}var l=ei(qte,a);if(!l){var c=typeof a=="function"?a.name:a;throw new Error('No documentation found on "'+c+'"')}return new n(l)}})});var $te="chain",zIe=["typed","Chain"],HL=F($te,zIe,r=>{var{typed:t,Chain:e}=r;return t($te,{"":function(){return new e},any:function(i){return new e(i)}})});var Gte="det",jIe=["typed","matrix","subtractScalar","multiply","divideScalar","isZero","unaryMinus"],UL=F(Gte,jIe,r=>{var{typed:t,matrix:e,subtractScalar:n,multiply:i,divideScalar:o,isZero:s,unaryMinus:a}=r;return t(Gte,{any:function(d){return Pt(d)},"Array | Matrix":function(d){var f;switch(_t(d)?f=d.size():Array.isArray(d)?(d=e(d),f=d.size()):f=[],f.length){case 0:return Pt(d);case 1:if(f[0]===1)return Pt(d.valueOf()[0]);if(f[0]===0)return 1;throw new RangeError("Matrix must be square (size: "+Gt(f)+")");case 2:{var m=f[0],p=f[1];if(m===p)return l(d.clone().valueOf(),m,p);if(p===0)return 1;throw new RangeError("Matrix must be square (size: "+Gt(f)+")")}default:throw new RangeError("Matrix must be two dimensional (size: "+Gt(f)+")")}}});function l(c,d,f){if(d===1)return Pt(c[0][0]);if(d===2)return n(i(c[0][0],c[1][1]),i(c[1][0],c[0][1]));for(var m=!1,p=new Array(d).fill(0).map((T,k)=>k),b=0;b<d;b++){var y=p[b];if(s(c[y][b])){var C=void 0;for(C=b+1;C<d;C++)if(!s(c[p[C]][b])){y=p[C],p[C]=p[b],p[b]=y,m=!m;break}if(C===d)return c[y][b]}for(var S=c[y][b],A=b===0?1:c[p[b-1]][b-1],x=b+1;x<d;x++)for(var M=p[x],E=b+1;E<d;E++)c[M][E]=o(n(i(c[M][E],S),i(c[M][b],c[y][E])),A)}var w=c[p[d-1]][d-1];return m?a(w):w}});var Yte="inv",HIe=["typed","matrix","divideScalar","addScalar","multiply","unaryMinus","det","identity","abs"],qL=F(Yte,HIe,r=>{var{typed:t,matrix:e,divideScalar:n,addScalar:i,multiply:o,unaryMinus:s,det:a,identity:l,abs:c}=r;return t(Yte,{"Array | Matrix":function(m){var p=_t(m)?m.size():Ot(m);switch(p.length){case 1:if(p[0]===1)return _t(m)?e([n(1,m.valueOf()[0])]):[n(1,m[0])];throw new RangeError("Matrix must be square (size: "+Gt(p)+")");case 2:{var b=p[0],y=p[1];if(b===y)return _t(m)?e(d(m.valueOf(),b,y),m.storage()):d(m,b,y);throw new RangeError("Matrix must be square (size: "+Gt(p)+")")}default:throw new RangeError("Matrix must be two dimensional (size: "+Gt(p)+")")}},any:function(m){return n(1,m)}});function d(f,m,p){var b,y,C,S,A;if(m===1){if(S=f[0][0],S===0)throw Error("Cannot calculate inverse, determinant is zero");return[[n(1,S)]]}else if(m===2){var x=a(f);if(x===0)throw Error("Cannot calculate inverse, determinant is zero");return[[n(f[1][1],x),n(s(f[0][1]),x)],[n(s(f[1][0]),x),n(f[0][0],x)]]}else{var M=f.concat();for(b=0;b<m;b++)M[b]=M[b].concat();for(var E=l(m).valueOf(),w=0;w<p;w++){var T=c(M[w][w]),k=w;for(b=w+1;b<m;)c(M[b][w])>T&&(T=c(M[b][w]),k=b),b++;if(T===0)throw Error("Cannot calculate inverse, determinant is zero");b=k,b!==w&&(A=M[w],M[w]=M[b],M[b]=A,A=E[w],E[w]=E[b],E[b]=A);var I=M[w],O=E[w];for(b=0;b<m;b++){var R=M[b],j=E[b];if(b!==w){if(R[w]!==0){for(C=n(s(R[w]),I[w]),y=w;y<p;y++)R[y]=i(R[y],o(C,I[y]));for(y=0;y<p;y++)j[y]=i(j[y],o(C,O[y]))}}else{for(C=I[w],y=w;y<p;y++)R[y]=n(R[y],C);for(y=0;y<p;y++)j[y]=n(j[y],C)}}}return E}}});var Kte="pinv",UIe=["typed","matrix","inv","deepEqual","equal","dotDivide","dot","ctranspose","divideScalar","multiply","add","Complex"],WL=F(Kte,UIe,r=>{var{typed:t,matrix:e,inv:n,deepEqual:i,equal:o,dotDivide:s,dot:a,ctranspose:l,divideScalar:c,multiply:d,add:f,Complex:m}=r;return t(Kte,{"Array | Matrix":function(x){var M=_t(x)?x.size():Ot(x);switch(M.length){case 1:return S(x)?l(x):M[0]===1?n(x):s(l(x),a(x,x));case 2:{if(S(x))return l(x);var E=M[0],w=M[1];if(E===w)try{return n(x)}catch(T){if(!(T instanceof Error&&T.message.match(/Cannot calculate inverse, determinant is zero/)))throw T}return _t(x)?e(p(x.valueOf(),E,w),x.storage()):p(x,E,w)}default:throw new RangeError("Matrix must be two dimensional (size: "+Gt(M)+")")}},any:function(x){return o(x,0)?Pt(x):c(1,x)}});function p(A,x,M){var{C:E,F:w}=y(A,x,M),T=d(n(d(l(E),E)),l(E)),k=d(l(w),n(d(w,l(w))));return d(k,T)}function b(A,x,M){for(var E=Pt(A),w=0,T=0;T<x;T++){if(M<=w)return E;for(var k=T;C(E[k][w]);)if(k++,x===k&&(k=T,w++,M===w))return E;[E[k],E[T]]=[E[T],E[k]];for(var I=E[T][w],O=0;O<M;O++)E[T][O]=s(E[T][O],I);for(var R=0;R<x;R++)if(R!==T){I=E[R][w];for(var j=0;j<M;j++)E[R][j]=f(E[R][j],d(-1,d(I,E[T][j])))}w++}return E}function y(A,x,M){var E=b(A,x,M),w=A.map((k,I)=>k.filter((O,R)=>R<x&&!C(a(E[R],E[R])))),T=E.filter((k,I)=>!C(a(E[I],E[I])));return{C:w,F:T}}function C(A){return o(f(A,m(1,1)),f(0,m(1,1)))}function S(A){return i(f(A,m(1,1)),f(d(A,0),m(1,1)))}});function Xte(r){var{addScalar:t,subtract:e,flatten:n,multiply:i,multiplyScalar:o,divideScalar:s,sqrt:a,abs:l,bignumber:c,diag:d,size:f,reshape:m,inv:p,qr:b,usolve:y,usolveAll:C,equal:S,complex:A,larger:x,smaller:M,matrixFromColumns:E,dot:w}=r;function T(se,Q,he,ke){var be=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,ee=k(se,Q,he,ke,be);I(se,Q,he,ke,be,ee);var{values:ae,C:le}=O(se,Q,he,ke,be);if(be){var pe=R(se,Q,le,ee,ae,he,ke);return{values:ae,eigenvectors:pe}}return{values:ae}}function k(se,Q,he,ke,be){var ee=ke==="BigNumber",ae=ke==="Complex",le=ee?c(0):0,pe=ee?c(1):ae?A(1):1,ve=ee?c(1):1,Ee=ee?c(10):2,Ie=o(Ee,Ee),Ve;be&&(Ve=Array(Q).fill(pe));for(var te=!1;!te;){te=!0;for(var re=0;re<Q;re++){for(var De=le,Ae=le,qe=0;qe<Q;qe++)re!==qe&&(De=t(De,l(se[qe][re])),Ae=t(Ae,l(se[re][qe])));if(!S(De,0)&&!S(Ae,0)){for(var Ge=ve,mt=De,yt=s(Ae,Ee),tr=o(Ae,Ee);M(mt,yt);)mt=o(mt,Ie),Ge=o(Ge,Ee);for(;x(mt,tr);)mt=s(mt,Ie),Ge=s(Ge,Ee);var Yt=M(s(t(mt,Ae),Ge),o(t(De,Ae),.95));if(Yt){te=!1;for(var bn=s(1,Ge),Vr=0;Vr<Q;Vr++)re!==Vr&&(se[re][Vr]=o(se[re][Vr],bn),se[Vr][re]=o(se[Vr][re],Ge));be&&(Ve[re]=o(Ve[re],bn))}}}}return be?d(Ve):null}function I(se,Q,he,ke,be,ee){var ae=ke==="BigNumber",le=ke==="Complex",pe=ae?c(0):le?A(0):0;ae&&(he=c(he));for(var ve=0;ve<Q-2;ve++){for(var Ee=0,Ie=pe,Ve=ve+1;Ve<Q;Ve++){var te=se[Ve][ve];M(l(Ie),l(te))&&(Ie=te,Ee=Ve)}if(!M(l(Ie),he)){if(Ee!==ve+1){var re=se[Ee];se[Ee]=se[ve+1],se[ve+1]=re;for(var De=0;De<Q;De++){var Ae=se[De][Ee];se[De][Ee]=se[De][ve+1],se[De][ve+1]=Ae}if(be){var qe=ee[Ee];ee[Ee]=ee[ve+1],ee[ve+1]=qe}}for(var Ge=ve+2;Ge<Q;Ge++){var mt=s(se[Ge][ve],Ie);if(mt!==0){for(var yt=0;yt<Q;yt++)se[Ge][yt]=e(se[Ge][yt],o(mt,se[ve+1][yt]));for(var tr=0;tr<Q;tr++)se[tr][ve+1]=t(se[tr][ve+1],o(mt,se[tr][Ge]));if(be)for(var Yt=0;Yt<Q;Yt++)ee[Ge][Yt]=e(ee[Ge][Yt],o(mt,ee[ve+1][Yt]))}}}}return ee}function O(se,Q,he,ke,be){var ee=ke==="BigNumber",ae=ke==="Complex",le=ee?c(1):ae?A(1):1;ee&&(he=c(he));for(var pe=Pt(se),ve=[],Ee=Q,Ie=[],Ve=be?d(Array(Q).fill(le)):void 0,te=be?d(Array(Ee).fill(le)):void 0,re=0;re<=100;){re+=1;for(var De=pe[Ee-1][Ee-1],Ae=0;Ae<Ee;Ae++)pe[Ae][Ae]=e(pe[Ae][Ae],De);var{Q:qe,R:Ge}=b(pe);pe=i(Ge,qe);for(var mt=0;mt<Ee;mt++)pe[mt][mt]=t(pe[mt][mt],De);if(be&&(te=i(te,qe)),Ee===1||M(l(pe[Ee-1][Ee-2]),he)){re=0,ve.push(pe[Ee-1][Ee-1]),be&&(Ie.unshift([[1]]),X(te,Q),Ve=i(Ve,te),Ee>1&&(te=d(Array(Ee-1).fill(le)))),Ee-=1,pe.pop();for(var yt=0;yt<Ee;yt++)pe[yt].pop()}else if(Ee===2||M(l(pe[Ee-2][Ee-3]),he)){re=0;var tr=j(pe[Ee-2][Ee-2],pe[Ee-2][Ee-1],pe[Ee-1][Ee-2],pe[Ee-1][Ee-1]);ve.push(...tr),be&&(Ie.unshift(q(pe[Ee-2][Ee-2],pe[Ee-2][Ee-1],pe[Ee-1][Ee-2],pe[Ee-1][Ee-1],tr[0],tr[1],he,ke)),X(te,Q),Ve=i(Ve,te),Ee>2&&(te=d(Array(Ee-2).fill(le)))),Ee-=2,pe.pop(),pe.pop();for(var Yt=0;Yt<Ee;Yt++)pe[Yt].pop(),pe[Yt].pop()}if(Ee===0)break}if(ve.sort((xi,oi)=>+e(l(xi),l(oi))),re>100){var bn=Error("The eigenvalues failed to converge. Only found these eigenvalues: "+ve.join(", "));throw bn.values=ve,bn.vectors=[],bn}var Vr=be?i(Ve,Y(Ie,Q)):void 0;return{values:ve,C:Vr}}function R(se,Q,he,ke,be,ee,ae){var le=p(he),pe=i(le,se,he),ve=ae==="BigNumber",Ee=ae==="Complex",Ie=ve?c(0):Ee?A(0):0,Ve=ve?c(1):Ee?A(1):1,te=[],re=[];for(var De of be){var Ae=P(te,De,S);Ae===-1?(te.push(De),re.push(1)):re[Ae]+=1}for(var qe=[],Ge=te.length,mt=Array(Q).fill(Ie),yt=d(Array(Q).fill(Ve)),tr=function(){var Vr=te[Yt],xi=e(pe,i(Vr,yt)),oi=C(xi,mt);for(oi.shift();oi.length<re[Yt];){var ue=L(xi,Q,oi,ee,ae);if(ue===null)break;oi.push(ue)}var Ce=i(p(ke),he);oi=oi.map(Re=>i(Ce,Re)),qe.push(...oi.map(Re=>({value:Vr,vector:n(Re)})))},Yt=0;Yt<Ge;Yt++)tr();return qe}function j(se,Q,he,ke){var be=t(se,ke),ee=e(o(se,ke),o(Q,he)),ae=o(be,.5),le=o(a(e(o(be,be),o(4,ee))),.5);return[t(ae,le),e(ae,le)]}function q(se,Q,he,ke,be,ee,ae,le){var pe=le==="BigNumber",ve=le==="Complex",Ee=pe?c(0):ve?A(0):0,Ie=pe?c(1):ve?A(1):1;if(M(l(he),ae))return[[Ie,Ee],[Ee,Ie]];if(x(l(e(be,ee)),ae))return[[e(be,ke),e(ee,ke)],[he,he]];var Ve=e(se,be),te=e(ke,be);return M(l(Q),ae)&&M(l(te),ae)?[[Ve,Ie],[he,Ee]]:[[Q,Ee],[te,Ie]]}function X(se,Q){for(var he=0;he<se.length;he++)se[he].push(...Array(Q-se[he].length).fill(0));for(var ke=se.length;ke<Q;ke++)se.push(Array(Q).fill(0)),se[ke][ke]=1;return se}function Y(se,Q){for(var he=[],ke=0;ke<Q;ke++)he[ke]=Array(Q).fill(0);var be=0;for(var ee of se){for(var ae=ee.length,le=0;le<ae;le++)for(var pe=0;pe<ae;pe++)he[be+le][be+pe]=ee[le][pe];be+=ae}return he}function P(se,Q,he){for(var ke=0;ke<se.length;ke++)if(he(se[ke],Q))return ke;return-1}function L(se,Q,he,ke,be){for(var ee=be==="BigNumber"?c(1e3):1e3,ae,le=0;le<5;++le){ae=Z(Q,he,be);try{ae=y(se,ae)}catch{continue}if(x(ce(ae),ee))break}if(le>=5)return null;for(le=0;;){var pe=y(se,ae);if(M(ce(U(ae,[pe])),ke))break;if(++le>=10)return null;ae=me(pe)}return ae}function Z(se,Q,he){var ke=he==="BigNumber",be=he==="Complex",ee=Array(se).fill(0).map(ae=>2*Math.random()-1);return ke&&(ee=ee.map(ae=>c(ae))),be&&(ee=ee.map(ae=>A(ae))),ee=U(ee,Q),me(ee,he)}function U(se,Q){var he=f(se);for(var ke of Q)ke=m(ke,he),se=e(se,i(s(w(ke,se),w(ke,ke)),ke));return se}function ce(se){return l(a(w(se,se)))}function me(se,Q){var he=Q==="BigNumber",ke=Q==="Complex",be=he?c(1):ke?A(1):1;return i(s(be,ce(se)),se)}return T}function Zte(r){var{config:t,addScalar:e,subtract:n,abs:i,atan:o,cos:s,sin:a,multiplyScalar:l,inv:c,bignumber:d,multiply:f,add:m}=r;function p(I,O){var R=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t.relTol,j=arguments.length>3?arguments[3]:void 0,q=arguments.length>4?arguments[4]:void 0;if(j==="number")return b(I,R,q);if(j==="BigNumber")return y(I,R,q);throw TypeError("Unsupported data type: "+j)}function b(I,O,R){var j=I.length,q=Math.abs(O/j),X,Y;if(R){Y=new Array(j);for(var P=0;P<j;P++)Y[P]=Array(j).fill(0),Y[P][P]=1}for(var L=w(I);Math.abs(L[1])>=Math.abs(q);){var Z=L[0][0],U=L[0][1];X=C(I[Z][Z],I[U][U],I[Z][U]),I=E(I,X,Z,U),R&&(Y=A(Y,X,Z,U)),L=w(I)}for(var ce=Array(j).fill(0),me=0;me<j;me++)ce[me]=I[me][me];return k(Pt(ce),Y,R)}function y(I,O,R){var j=I.length,q=i(O/j),X,Y;if(R){Y=new Array(j);for(var P=0;P<j;P++)Y[P]=Array(j).fill(0),Y[P][P]=1}for(var L=T(I);i(L[1])>=i(q);){var Z=L[0][0],U=L[0][1];X=S(I[Z][Z],I[U][U],I[Z][U]),I=M(I,X,Z,U),R&&(Y=x(Y,X,Z,U)),L=T(I)}for(var ce=Array(j).fill(0),me=0;me<j;me++)ce[me]=I[me][me];return k(Pt(ce),Y,R)}function C(I,O,R){var j=O-I;return Math.abs(j)<=t.relTol?Math.PI/4:.5*Math.atan(2*R/(O-I))}function S(I,O,R){var j=n(O,I);return i(j)<=t.relTol?d(-1).acos().div(4):l(.5,o(f(2,R,c(j))))}function A(I,O,R,j){for(var q=I.length,X=Math.cos(O),Y=Math.sin(O),P=Array(q).fill(0),L=Array(q).fill(0),Z=0;Z<q;Z++)P[Z]=X*I[Z][R]-Y*I[Z][j],L[Z]=Y*I[Z][R]+X*I[Z][j];for(var U=0;U<q;U++)I[U][R]=P[U],I[U][j]=L[U];return I}function x(I,O,R,j){for(var q=I.length,X=s(O),Y=a(O),P=Array(q).fill(d(0)),L=Array(q).fill(d(0)),Z=0;Z<q;Z++)P[Z]=n(l(X,I[Z][R]),l(Y,I[Z][j])),L[Z]=e(l(Y,I[Z][R]),l(X,I[Z][j]));for(var U=0;U<q;U++)I[U][R]=P[U],I[U][j]=L[U];return I}function M(I,O,R,j){for(var q=I.length,X=d(s(O)),Y=d(a(O)),P=l(X,X),L=l(Y,Y),Z=Array(q).fill(d(0)),U=Array(q).fill(d(0)),ce=f(d(2),X,Y,I[R][j]),me=e(n(l(P,I[R][R]),ce),l(L,I[j][j])),se=m(l(L,I[R][R]),ce,l(P,I[j][j])),Q=0;Q<q;Q++)Z[Q]=n(l(X,I[R][Q]),l(Y,I[j][Q])),U[Q]=e(l(Y,I[R][Q]),l(X,I[j][Q]));I[R][R]=me,I[j][j]=se,I[R][j]=d(0),I[j][R]=d(0);for(var he=0;he<q;he++)he!==R&&he!==j&&(I[R][he]=Z[he],I[he][R]=Z[he],I[j][he]=U[he],I[he][j]=U[he]);return I}function E(I,O,R,j){for(var q=I.length,X=Math.cos(O),Y=Math.sin(O),P=X*X,L=Y*Y,Z=Array(q).fill(0),U=Array(q).fill(0),ce=P*I[R][R]-2*X*Y*I[R][j]+L*I[j][j],me=L*I[R][R]+2*X*Y*I[R][j]+P*I[j][j],se=0;se<q;se++)Z[se]=X*I[R][se]-Y*I[j][se],U[se]=Y*I[R][se]+X*I[j][se];I[R][R]=ce,I[j][j]=me,I[R][j]=0,I[j][R]=0;for(var Q=0;Q<q;Q++)Q!==R&&Q!==j&&(I[R][Q]=Z[Q],I[Q][R]=Z[Q],I[j][Q]=U[Q],I[Q][j]=U[Q]);return I}function w(I){for(var O=I.length,R=0,j=[0,1],q=0;q<O;q++)for(var X=q+1;X<O;X++)Math.abs(R)<Math.abs(I[q][X])&&(R=Math.abs(I[q][X]),j=[q,X]);return[j,R]}function T(I){for(var O=I.length,R=0,j=[0,1],q=0;q<O;q++)for(var X=q+1;X<O;X++)i(R)<i(I[q][X])&&(R=i(I[q][X]),j=[q,X]);return[j,R]}function k(I,O,R){var j=I.length,q=Array(j),X;if(R){X=Array(j);for(var Y=0;Y<j;Y++)X[Y]=Array(j)}for(var P=0;P<j;P++){for(var L=0,Z=I[0],U=0;U<I.length;U++)i(I[U])<i(Z)&&(L=U,Z=I[L]);if(q[P]=I.splice(L,1)[0],R)for(var ce=0;ce<j;ce++)X[P][ce]=O[ce][L],O[ce].splice(L,1)}if(!R)return{values:q};var me=X.map((se,Q)=>({value:q[Q],vector:se}));return{values:q,eigenvectors:me}}return p}var qIe="eigs",WIe=["config","typed","matrix","addScalar","equal","subtract","abs","atan","cos","sin","multiplyScalar","divideScalar","inv","bignumber","multiply","add","larger","column","flatten","number","complex","sqrt","diag","size","reshape","qr","usolve","usolveAll","im","re","smaller","matrixFromColumns","dot"],$L=F(qIe,WIe,r=>{var{config:t,typed:e,matrix:n,addScalar:i,subtract:o,equal:s,abs:a,atan:l,cos:c,sin:d,multiplyScalar:f,divideScalar:m,inv:p,bignumber:b,multiply:y,add:C,larger:S,column:A,flatten:x,number:M,complex:E,sqrt:w,diag:T,size:k,reshape:I,qr:O,usolve:R,usolveAll:j,im:q,re:X,smaller:Y,matrixFromColumns:P,dot:L}=r,Z=Zte({config:t,addScalar:i,subtract:o,column:A,flatten:x,equal:s,abs:a,atan:l,cos:c,sin:d,multiplyScalar:f,inv:p,bignumber:b,complex:E,multiply:y,add:C}),U=Xte({config:t,addScalar:i,subtract:o,multiply:y,multiplyScalar:f,flatten:x,divideScalar:m,sqrt:w,abs:a,bignumber:b,diag:T,size:k,reshape:I,qr:O,inv:p,usolve:R,usolveAll:j,equal:s,complex:E,larger:S,smaller:Y,matrixFromColumns:P,dot:L});return e("eigs",{Array:function(ee){return ce(n(ee))},"Array, number|BigNumber":function(ee,ae){return ce(n(ee),{precision:ae})},"Array, Object"(be,ee){return ce(n(be),ee)},Matrix:function(ee){return ce(ee,{matricize:!0})},"Matrix, number|BigNumber":function(ee,ae){return ce(ee,{precision:ae,matricize:!0})},"Matrix, Object":function(ee,ae){var le={matricize:!0};return ci(le,ae),ce(ee,le)}});function ce(be){var ee,ae=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},le="eigenvectors"in ae?ae.eigenvectors:!0,pe=(ee=ae.precision)!==null&&ee!==void 0?ee:t.relTol,ve=me(be,pe,le);return ae.matricize&&(ve.values=n(ve.values),le&&(ve.eigenvectors=ve.eigenvectors.map(Ee=>{var{value:Ie,vector:Ve}=Ee;return{value:Ie,vector:n(Ve)}}))),le&&Object.defineProperty(ve,"vectors",{enumerable:!1,get:()=>{throw new Error("eigs(M).vectors replaced with eigs(M).eigenvectors")}}),ve}function me(be,ee,ae){var le=be.toArray(),pe=be.size();if(pe.length!==2||pe[0]!==pe[1])throw new RangeError("Matrix must be square (size: ".concat(Gt(pe),")"));var ve=pe[0];if(Q(le,ve,ee)&&(he(le,ve),se(le,ve,ee))){var Ee=ke(be,le,ve);return Z(le,ve,ee,Ee,ae)}var Ie=ke(be,le,ve);return U(le,ve,ee,Ie,ae)}function se(be,ee,ae){for(var le=0;le<ee;le++)for(var pe=le;pe<ee;pe++)if(S(b(a(o(be[le][pe],be[pe][le]))),ae))return!1;return!0}function Q(be,ee,ae){for(var le=0;le<ee;le++)for(var pe=0;pe<ee;pe++)if(S(b(a(q(be[le][pe]))),ae))return!1;return!0}function he(be,ee){for(var ae=0;ae<ee;ae++)for(var le=0;le<ee;le++)be[ae][le]=X(be[ae][le])}function ke(be,ee,ae){var le=be.datatype();if(le==="number"||le==="BigNumber"||le==="Complex")return le;for(var pe=!1,ve=!1,Ee=!1,Ie=0;Ie<ae;Ie++)for(var Ve=0;Ve<ae;Ve++){var te=ee[Ie][Ve];if(Bt(te)||wd(te))pe=!0;else if(It(te))ve=!0;else if(ua(te))Ee=!0;else throw TypeError("Unsupported type in Matrix: "+Rr(te))}if(ve&&Ee&&console.warn("Complex BigNumbers not supported, this operation will lose precission."),Ee){for(var re=0;re<ae;re++)for(var De=0;De<ae;De++)ee[re][De]=E(ee[re][De]);return"Complex"}if(ve){for(var Ae=0;Ae<ae;Ae++)for(var qe=0;qe<ae;qe++)ee[Ae][qe]=b(ee[Ae][qe]);return"BigNumber"}if(pe){for(var Ge=0;Ge<ae;Ge++)for(var mt=0;mt<ae;mt++)ee[Ge][mt]=M(ee[Ge][mt]);return"number"}else throw TypeError("Matrix contains unsupported types only.")}});var Qte="expm",$Ie=["typed","abs","add","identity","inv","multiply"],GL=F(Qte,$Ie,r=>{var{typed:t,abs:e,add:n,identity:i,inv:o,multiply:s}=r;return t(Qte,{Matrix:function(f){var m=f.size();if(m.length!==2||m[0]!==m[1])throw new RangeError("Matrix must be square (size: "+Gt(m)+")");for(var p=m[0],b=1e-15,y=a(f),C=l(y,b),S=C.q,A=C.j,x=s(f,Math.pow(2,-A)),M=i(p),E=i(p),w=1,T=x,k=-1,I=1;I<=S;I++)I>1&&(T=s(T,x),k=-k),w=w*(S-I+1)/((2*S-I+1)*I),M=n(M,s(w,T)),E=n(E,s(w*k,T));for(var O=s(o(E),M),R=0;R<A;R++)O=s(O,O);return xc(f)?f.createSparseMatrix(O):O}});function a(d){for(var f=d.size()[0],m=0,p=0;p<f;p++){for(var b=0,y=0;y<f;y++)b+=e(d.get([p,y]));m=Math.max(b,m)}return m}function l(d,f){for(var m=30,p=0;p<m;p++)for(var b=0;b<=p;b++){var y=p-b;if(c(d,b,y)<f)return{q:b,j:y}}throw new Error("Could not find acceptable parameters to compute the matrix exponential (try increasing maxSearchSize in expm.js)")}function c(d,f,m){for(var p=1,b=2;b<=f;b++)p*=b;for(var y=p,C=f+1;C<=2*f;C++)y*=C;var S=y*(2*f+1);return 8*Math.pow(d/Math.pow(2,m),2*f)*p*p/(y*S)}});var Jte="sqrtm",GIe=["typed","abs","add","multiply","map","sqrt","subtract","inv","size","max","identity"],YL=F(Jte,GIe,r=>{var{typed:t,abs:e,add:n,multiply:i,map:o,sqrt:s,subtract:a,inv:l,size:c,max:d,identity:f}=r,m=1e3,p=1e-6;function b(y){var C,S=0,A=y,x=f(c(y));do{var M=A;if(A=i(.5,n(M,l(x))),x=i(.5,n(x,l(M))),C=d(e(a(A,M))),C>p&&++S>m)throw new Error("computing square root of matrix: iterative method could not converge")}while(C>p);return A}return t(Jte,{"Array | Matrix":function(C){var S=_t(C)?C.size():Ot(C);switch(S.length){case 1:if(S[0]===1)return o(C,s);throw new RangeError("Matrix must be square (size: "+Gt(S)+")");case 2:{var A=S[0],x=S[1];if(A===x)return b(C);throw new RangeError("Matrix must be square (size: "+Gt(S)+")")}default:throw new RangeError("Matrix must be at most two dimensional (size: "+Gt(S)+")")}}})});var ere="sylvester",YIe=["typed","schur","matrixFromColumns","matrix","multiply","range","concat","transpose","index","subset","add","subtract","identity","lusolve","abs"],KL=F(ere,YIe,r=>{var{typed:t,schur:e,matrixFromColumns:n,matrix:i,multiply:o,range:s,concat:a,transpose:l,index:c,subset:d,add:f,subtract:m,identity:p,lusolve:b,abs:y}=r;return t(ere,{"Matrix, Matrix, Matrix":C,"Array, Matrix, Matrix":function(A,x,M){return C(i(A),x,M)},"Array, Array, Matrix":function(A,x,M){return C(i(A),i(x),M)},"Array, Matrix, Array":function(A,x,M){return C(i(A),x,i(M))},"Matrix, Array, Matrix":function(A,x,M){return C(A,i(x),M)},"Matrix, Array, Array":function(A,x,M){return C(A,i(x),i(M))},"Matrix, Matrix, Array":function(A,x,M){return C(A,x,i(M))},"Array, Array, Array":function(A,x,M){return C(i(A),i(x),i(M)).toArray()}});function C(S,A,x){for(var M=A.size()[0],E=S.size()[0],w=e(S),T=w.T,k=w.U,I=e(o(-1,A)),O=I.T,R=I.U,j=o(o(l(k),x),R),q=s(0,E),X=[],Y=(Ee,Ie)=>a(Ee,Ie,1),P=(Ee,Ie)=>a(Ee,Ie,0),L=0;L<M;L++)if(L<M-1&&y(d(O,c(L+1,L)))>1e-5){for(var Z=P(d(j,c(q,L)),d(j,c(q,L+1))),U=0;U<L;U++)Z=f(Z,P(o(X[U],d(O,c(U,L))),o(X[U],d(O,c(U,L+1)))));var ce=o(p(E),o(-1,d(O,c(L,L)))),me=o(p(E),o(-1,d(O,c(L+1,L)))),se=o(p(E),o(-1,d(O,c(L,L+1)))),Q=o(p(E),o(-1,d(O,c(L+1,L+1)))),he=P(Y(f(T,ce),me),Y(se,f(T,Q))),ke=b(he,Z);X[L]=ke.subset(c(s(0,E),0)),X[L+1]=ke.subset(c(s(E,2*E),0)),L++}else{for(var be=d(j,c(q,L)),ee=0;ee<L;ee++)be=f(be,o(X[ee],d(O,c(ee,L))));var ae=d(O,c(L,L)),le=m(T,o(ae,p(E)));X[L]=b(le,be)}var pe=i(n(...X)),ve=o(k,o(pe,l(R)));return ve}});var tre="schur",KIe=["typed","matrix","identity","multiply","qr","norm","subtract"],XL=F(tre,KIe,r=>{var{typed:t,matrix:e,identity:n,multiply:i,qr:o,norm:s,subtract:a}=r;return t(tre,{Array:function(d){var f=l(e(d));return{U:f.U.valueOf(),T:f.T.valueOf()}},Matrix:function(d){return l(d)}});function l(c){var d=c.size()[0],f=c,m=n(d),p=0,b;do{b=f;var y=o(f),C=y.Q,S=y.R;if(f=i(S,C),m=i(m,C),p++>100)break}while(s(a(f,b))>1e-4);return{U:m,T:f}}});var rre="lyap",XIe=["typed","matrix","sylvester","multiply","transpose"],ZL=F(rre,XIe,r=>{var{typed:t,matrix:e,sylvester:n,multiply:i,transpose:o}=r;return t(rre,{"Matrix, Matrix":function(a,l){return n(a,o(a),i(-1,l))},"Array, Matrix":function(a,l){return n(e(a),o(e(a)),i(-1,l))},"Matrix, Array":function(a,l){return n(a,o(e(a)),e(i(-1,l)))},"Array, Array":function(a,l){return n(e(a),o(e(a)),e(i(-1,l))).toArray()}})});var ZIe="divide",QIe=["typed","matrix","multiply","equalScalar","divideScalar","inv"],QL=F(ZIe,QIe,r=>{var{typed:t,matrix:e,multiply:n,equalScalar:i,divideScalar:o,inv:s}=r,a=mn({typed:t,equalScalar:i}),l=Wi({typed:t});return t("divide",bS({"Array | Matrix, Array | Matrix":function(d,f){return n(d,s(f))},"DenseMatrix, any":function(d,f){return l(d,f,o,!1)},"SparseMatrix, any":function(d,f){return a(d,f,o,!1)},"Array, any":function(d,f){return l(e(d),f,o,!1).valueOf()},"any, Array | Matrix":function(d,f){return n(d,s(f))}},o.signatures))});var nre="distance",JIe=["typed","addScalar","subtractScalar","divideScalar","multiplyScalar","deepEqual","sqrt","abs"],JL=F(nre,JIe,r=>{var{typed:t,addScalar:e,subtractScalar:n,multiplyScalar:i,divideScalar:o,deepEqual:s,sqrt:a,abs:l}=r;return t(nre,{"Array, Array, Array":function(E,w,T){if(E.length===2&&w.length===2&&T.length===2){if(!d(E))throw new TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!d(w))throw new TypeError("Array with 2 numbers or BigNumbers expected for second argument");if(!d(T))throw new TypeError("Array with 2 numbers or BigNumbers expected for third argument");if(s(w,T))throw new TypeError("LinePoint1 should not be same with LinePoint2");var k=n(T[1],w[1]),I=n(w[0],T[0]),O=n(i(T[0],w[1]),i(w[0],T[1]));return C(E[0],E[1],k,I,O)}else throw new TypeError("Invalid Arguments: Try again")},"Object, Object, Object":function(E,w,T){if(Object.keys(E).length===2&&Object.keys(w).length===2&&Object.keys(T).length===2){if(!d(E))throw new TypeError("Values of pointX and pointY should be numbers or BigNumbers");if(!d(w))throw new TypeError("Values of lineOnePtX and lineOnePtY should be numbers or BigNumbers");if(!d(T))throw new TypeError("Values of lineTwoPtX and lineTwoPtY should be numbers or BigNumbers");if(s(b(w),b(T)))throw new TypeError("LinePoint1 should not be same with LinePoint2");if("pointX"in E&&"pointY"in E&&"lineOnePtX"in w&&"lineOnePtY"in w&&"lineTwoPtX"in T&&"lineTwoPtY"in T){var k=n(T.lineTwoPtY,w.lineOnePtY),I=n(w.lineOnePtX,T.lineTwoPtX),O=n(i(T.lineTwoPtX,w.lineOnePtY),i(w.lineOnePtX,T.lineTwoPtY));return C(E.pointX,E.pointY,k,I,O)}else throw new TypeError("Key names do not match")}else throw new TypeError("Invalid Arguments: Try again")},"Array, Array":function(E,w){if(E.length===2&&w.length===3){if(!d(E))throw new TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!f(w))throw new TypeError("Array with 3 numbers or BigNumbers expected for second argument");return C(E[0],E[1],w[0],w[1],w[2])}else if(E.length===3&&w.length===6){if(!f(E))throw new TypeError("Array with 3 numbers or BigNumbers expected for first argument");if(!p(w))throw new TypeError("Array with 6 numbers or BigNumbers expected for second argument");return S(E[0],E[1],E[2],w[0],w[1],w[2],w[3],w[4],w[5])}else if(E.length===w.length&&E.length>0){if(!m(E))throw new TypeError("All values of an array should be numbers or BigNumbers");if(!m(w))throw new TypeError("All values of an array should be numbers or BigNumbers");return A(E,w)}else throw new TypeError("Invalid Arguments: Try again")},"Object, Object":function(E,w){if(Object.keys(E).length===2&&Object.keys(w).length===3){if(!d(E))throw new TypeError("Values of pointX and pointY should be numbers or BigNumbers");if(!f(w))throw new TypeError("Values of xCoeffLine, yCoeffLine and constant should be numbers or BigNumbers");if("pointX"in E&&"pointY"in E&&"xCoeffLine"in w&&"yCoeffLine"in w&&"constant"in w)return C(E.pointX,E.pointY,w.xCoeffLine,w.yCoeffLine,w.constant);throw new TypeError("Key names do not match")}else if(Object.keys(E).length===3&&Object.keys(w).length===6){if(!f(E))throw new TypeError("Values of pointX, pointY and pointZ should be numbers or BigNumbers");if(!p(w))throw new TypeError("Values of x0, y0, z0, a, b and c should be numbers or BigNumbers");if("pointX"in E&&"pointY"in E&&"x0"in w&&"y0"in w&&"z0"in w&&"a"in w&&"b"in w&&"c"in w)return S(E.pointX,E.pointY,E.pointZ,w.x0,w.y0,w.z0,w.a,w.b,w.c);throw new TypeError("Key names do not match")}else if(Object.keys(E).length===2&&Object.keys(w).length===2){if(!d(E))throw new TypeError("Values of pointOneX and pointOneY should be numbers or BigNumbers");if(!d(w))throw new TypeError("Values of pointTwoX and pointTwoY should be numbers or BigNumbers");if("pointOneX"in E&&"pointOneY"in E&&"pointTwoX"in w&&"pointTwoY"in w)return A([E.pointOneX,E.pointOneY],[w.pointTwoX,w.pointTwoY]);throw new TypeError("Key names do not match")}else if(Object.keys(E).length===3&&Object.keys(w).length===3){if(!f(E))throw new TypeError("Values of pointOneX, pointOneY and pointOneZ should be numbers or BigNumbers");if(!f(w))throw new TypeError("Values of pointTwoX, pointTwoY and pointTwoZ should be numbers or BigNumbers");if("pointOneX"in E&&"pointOneY"in E&&"pointOneZ"in E&&"pointTwoX"in w&&"pointTwoY"in w&&"pointTwoZ"in w)return A([E.pointOneX,E.pointOneY,E.pointOneZ],[w.pointTwoX,w.pointTwoY,w.pointTwoZ]);throw new TypeError("Key names do not match")}else throw new TypeError("Invalid Arguments: Try again")},Array:function(E){if(!y(E))throw new TypeError("Incorrect array format entered for pairwise distance calculation");return x(E)}});function c(M){return typeof M=="number"||It(M)}function d(M){return M.constructor!==Array&&(M=b(M)),c(M[0])&&c(M[1])}function f(M){return M.constructor!==Array&&(M=b(M)),c(M[0])&&c(M[1])&&c(M[2])}function m(M){return Array.isArray(M)||(M=b(M)),M.every(c)}function p(M){return M.constructor!==Array&&(M=b(M)),c(M[0])&&c(M[1])&&c(M[2])&&c(M[3])&&c(M[4])&&c(M[5])}function b(M){for(var E=Object.keys(M),w=[],T=0;T<E.length;T++)w.push(M[E[T]]);return w}function y(M){if(M[0].length===2&&c(M[0][0])&&c(M[0][1])){if(M.some(E=>E.length!==2||!c(E[0])||!c(E[1])))return!1}else if(M[0].length===3&&c(M[0][0])&&c(M[0][1])&&c(M[0][2])){if(M.some(E=>E.length!==3||!c(E[0])||!c(E[1])||!c(E[2])))return!1}else return!1;return!0}function C(M,E,w,T,k){var I=l(e(e(i(w,M),i(T,E)),k)),O=a(e(i(w,w),i(T,T)));return o(I,O)}function S(M,E,w,T,k,I,O,R,j){var q=[n(i(n(k,E),j),i(n(I,w),R)),n(i(n(I,w),O),i(n(T,M),j)),n(i(n(T,M),R),i(n(k,E),O))];q=a(e(e(i(q[0],q[0]),i(q[1],q[1])),i(q[2],q[2])));var X=a(e(e(i(O,O),i(R,R)),i(j,j)));return o(q,X)}function A(M,E){for(var w=M.length,T=0,k=0,I=0;I<w;I++)k=n(M[I],E[I]),T=e(i(k,k),T);return a(T)}function x(M){for(var E=[],w=[],T=[],k=0;k<M.length-1;k++)for(var I=k+1;I<M.length;I++)M[0].length===2?(w=[M[k][0],M[k][1]],T=[M[I][0],M[I][1]]):M[0].length===3&&(w=[M[k][0],M[k][1],M[k][2]],T=[M[I][0],M[I][1],M[I][2]]),E.push(A(w,T));return E}});var eke="intersect",tke=["typed","config","abs","add","addScalar","matrix","multiply","multiplyScalar","divideScalar","subtract","smaller","equalScalar","flatten","isZero","isNumeric"],eB=F(eke,tke,r=>{var{typed:t,config:e,abs:n,add:i,addScalar:o,matrix:s,multiply:a,multiplyScalar:l,divideScalar:c,subtract:d,smaller:f,equalScalar:m,flatten:p,isZero:b,isNumeric:y}=r;return t("intersect",{"Array, Array, Array":C,"Array, Array, Array, Array":S,"Matrix, Matrix, Matrix":function(R,j,q){var X=C(R.valueOf(),j.valueOf(),q.valueOf());return X===null?null:s(X)},"Matrix, Matrix, Matrix, Matrix":function(R,j,q,X){var Y=S(R.valueOf(),j.valueOf(),q.valueOf(),X.valueOf());return Y===null?null:s(Y)}});function C(O,R,j){if(O=A(O),R=A(R),j=A(j),!M(O))throw new TypeError("Array with 3 numbers or BigNumbers expected for first argument");if(!M(R))throw new TypeError("Array with 3 numbers or BigNumbers expected for second argument");if(!E(j))throw new TypeError("Array with 4 numbers expected as third argument");return I(O[0],O[1],O[2],R[0],R[1],R[2],j[0],j[1],j[2],j[3])}function S(O,R,j,q){if(O=A(O),R=A(R),j=A(j),q=A(q),O.length===2){if(!x(O))throw new TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!x(R))throw new TypeError("Array with 2 numbers or BigNumbers expected for second argument");if(!x(j))throw new TypeError("Array with 2 numbers or BigNumbers expected for third argument");if(!x(q))throw new TypeError("Array with 2 numbers or BigNumbers expected for fourth argument");return w(O,R,j,q)}else if(O.length===3){if(!M(O))throw new TypeError("Array with 3 numbers or BigNumbers expected for first argument");if(!M(R))throw new TypeError("Array with 3 numbers or BigNumbers expected for second argument");if(!M(j))throw new TypeError("Array with 3 numbers or BigNumbers expected for third argument");if(!M(q))throw new TypeError("Array with 3 numbers or BigNumbers expected for fourth argument");return k(O[0],O[1],O[2],R[0],R[1],R[2],j[0],j[1],j[2],q[0],q[1],q[2])}else throw new TypeError("Arrays with two or thee dimensional points expected")}function A(O){return O.length===1?O[0]:O.length>1&&Array.isArray(O[0])&&O.every(R=>Array.isArray(R)&&R.length===1)?p(O):O}function x(O){return O.length===2&&y(O[0])&&y(O[1])}function M(O){return O.length===3&&y(O[0])&&y(O[1])&&y(O[2])}function E(O){return O.length===4&&y(O[0])&&y(O[1])&&y(O[2])&&y(O[3])}function w(O,R,j,q){var X=O,Y=j,P=d(X,R),L=d(Y,q),Z=d(l(P[0],L[1]),l(L[0],P[1]));if(b(Z)||f(n(Z),e.relTol))return null;var U=l(L[0],X[1]),ce=l(L[1],X[0]),me=l(L[0],Y[1]),se=l(L[1],Y[0]),Q=c(o(d(d(U,ce),me),se),Z);return i(a(P,Q),X)}function T(O,R,j,q,X,Y,P,L,Z,U,ce,me){var se=l(d(O,R),d(j,q)),Q=l(d(X,Y),d(P,L)),he=l(d(Z,U),d(ce,me));return o(o(se,Q),he)}function k(O,R,j,q,X,Y,P,L,Z,U,ce,me){var se=T(O,P,U,P,R,L,ce,L,j,Z,me,Z),Q=T(U,P,q,O,ce,L,X,R,me,Z,Y,j),he=T(O,P,q,O,R,L,X,R,j,Z,Y,j),ke=T(U,P,U,P,ce,L,ce,L,me,Z,me,Z),be=T(q,O,q,O,X,R,X,R,Y,j,Y,j),ee=d(l(se,Q),l(he,ke)),ae=d(l(be,ke),l(Q,Q));if(b(ae))return null;var le=c(ee,ae),pe=c(o(se,l(le,Q)),ke),ve=o(O,l(le,d(q,O))),Ee=o(R,l(le,d(X,R))),Ie=o(j,l(le,d(Y,j))),Ve=o(P,l(pe,d(U,P))),te=o(L,l(pe,d(ce,L))),re=o(Z,l(pe,d(me,Z)));return m(ve,Ve)&&m(Ee,te)&&m(Ie,re)?[ve,Ee,Ie]:null}function I(O,R,j,q,X,Y,P,L,Z,U){var ce=l(O,P),me=l(q,P),se=l(R,L),Q=l(X,L),he=l(j,Z),ke=l(Y,Z),be=d(d(d(U,ce),se),he),ee=d(d(d(o(o(me,Q),ke),ce),se),he),ae=c(be,ee),le=o(O,l(ae,d(q,O))),pe=o(R,l(ae,d(X,R))),ve=o(j,l(ae,d(Y,j)));return[le,pe,ve]}});var ire="sum",rke=["typed","config","add","numeric"],Vy=F(ire,rke,r=>{var{typed:t,config:e,add:n,numeric:i}=r;return t(ire,{"Array | Matrix":o,"Array | Matrix, number | BigNumber":s,"...":function(l){if(Vl(l))throw new TypeError("Scalar values expected in function sum");return o(l)}});function o(a){var l;return Is(a,function(c){try{l=l===void 0?c:n(l,c)}catch(d){throw Ni(d,"sum",c)}}),l===void 0&&(l=i(0,e.number)),typeof l=="string"&&(l=i(l,Ms(l,e))),l}function s(a,l){try{var c=jf(a,l,n);return c}catch(d){throw Ni(d,"sum")}}});var ED="cumsum",nke=["typed","add","unaryPlus"],zy=F(ED,nke,r=>{var{typed:t,add:e,unaryPlus:n}=r;return t(ED,{Array:i,Matrix:function(c){return c.create(i(c.valueOf(),c.datatype()))},"Array, number | BigNumber":s,"Matrix, number | BigNumber":function(c,d){return c.create(s(c.valueOf(),d),c.datatype())},"...":function(c){if(Vl(c))throw new TypeError("All values expected to be scalar in function cumsum");return i(c)}});function i(l){try{return o(l)}catch(c){throw Ni(c,ED)}}function o(l){if(l.length===0)return[];for(var c=[n(l[0])],d=1;d<l.length;++d)c.push(e(c[d-1],l[d]));return c}function s(l,c){var d=Ot(l);if(c<0||c>=d.length)throw new fs(c,d.length);try{return a(l,c)}catch(f){throw Ni(f,ED)}}function a(l,c){var d,f,m;if(c<=0){var p=l[0][0];if(Array.isArray(p)){for(m=LS(l),f=[],d=0;d<m.length;d++)f[d]=a(m[d],c-1);return f}else return o(l)}else{for(f=[],d=0;d<l.length;d++)f[d]=a(l[d],c-1);return f}}});var ore="mean",ike=["typed","add","divide"],jy=F(ore,ike,r=>{var{typed:t,add:e,divide:n}=r;return t(ore,{"Array | Matrix":o,"Array | Matrix, number | BigNumber":i,"...":function(a){if(Vl(a))throw new TypeError("Scalar values expected in function mean");return o(a)}});function i(s,a){try{var l=jf(s,a,e),c=Array.isArray(s)?Ot(s):s.size();return n(l,c[a])}catch(d){throw Ni(d,"mean")}}function o(s){var a,l=0;if(Is(s,function(c){try{a=a===void 0?c:e(a,c),l++}catch(d){throw Ni(d,"mean",c)}}),l===0)throw new Error("Cannot calculate the mean of an empty array");return n(a,l)}});var sre="median",oke=["typed","add","divide","compare","partitionSelect"],tB=F(sre,oke,r=>{var{typed:t,add:e,divide:n,compare:i,partitionSelect:o}=r;function s(c){try{c=mr(c.valueOf());var d=c.length;if(d===0)throw new Error("Cannot calculate median of an empty array");if(d%2===0){for(var f=d/2-1,m=o(c,f+1),p=c[f],b=0;b<f;++b)i(c[b],p)>0&&(p=c[b]);return l(p,m)}else{var y=o(c,(d-1)/2);return a(y)}}catch(C){throw Ni(C,"median")}}var a=t({"number | BigNumber | Complex | Unit":function(d){return d}}),l=t({"number | BigNumber | Complex | Unit, number | BigNumber | Complex | Unit":function(d,f){return n(e(d,f),2)}});return t(sre,{"Array | Matrix":s,"Array | Matrix, number | BigNumber":function(d,f){throw new Error("median(A, dim) is not yet supported")},"...":function(d){if(Vl(d))throw new TypeError("Scalar values expected in function median");return s(d)}})});var are="mad",ske=["typed","abs","map","median","subtract"],rB=F(are,ske,r=>{var{typed:t,abs:e,map:n,median:i,subtract:o}=r;return t(are,{"Array | Matrix":s,"...":function(l){return s(l)}});function s(a){if(a=mr(a.valueOf()),a.length===0)throw new Error("Cannot calculate median absolute deviation (mad) of an empty array");try{var l=i(a);return i(n(a,function(c){return e(o(c,l))}))}catch(c){throw c instanceof TypeError&&c.message.includes("median")?new TypeError(c.message.replace("median","mad")):Ni(c,"mad")}}});var nB="unbiased",lre="variance",ake=["typed","add","subtract","multiply","divide","apply","isNaN"],Hy=F(lre,ake,r=>{var{typed:t,add:e,subtract:n,multiply:i,divide:o,apply:s,isNaN:a}=r;return t(lre,{"Array | Matrix":function(f){return l(f,nB)},"Array | Matrix, string":l,"Array | Matrix, number | BigNumber":function(f,m){return c(f,m,nB)},"Array | Matrix, number | BigNumber, string":c,"...":function(f){return l(f,nB)}});function l(d,f){var m,p=0;if(d.length===0)throw new SyntaxError("Function variance requires one or more parameters (0 provided)");if(Is(d,function(C){try{m=m===void 0?C:e(m,C),p++}catch(S){throw Ni(S,"variance",C)}}),p===0)throw new Error("Cannot calculate variance of an empty array");var b=o(m,p);if(m=void 0,Is(d,function(C){var S=n(C,b);m=m===void 0?i(S,S):e(m,i(S,S))}),a(m))return m;switch(f){case"uncorrected":return o(m,p);case"biased":return o(m,p+1);case"unbiased":{var y=It(m)?m.mul(0):0;return p===1?y:o(m,p-1)}default:throw new Error('Unknown normalization "'+f+'". Choose "unbiased" (default), "uncorrected", or "biased".')}}function c(d,f,m){try{if(d.length===0)throw new SyntaxError("Function variance requires one or more parameters (0 provided)");return s(d,f,p=>l(p,m))}catch(p){throw Ni(p,"variance")}}});var cre="quantileSeq",lke=["typed","?bignumber","add","subtract","divide","multiply","partitionSelect","compare","isInteger","smaller","smallerEq","larger"],Uy=F(cre,lke,r=>{var{typed:t,bignumber:e,add:n,subtract:i,divide:o,multiply:s,partitionSelect:a,compare:l,isInteger:c,smaller:d,smallerEq:f,larger:m}=r,p=Rm({typed:t,isInteger:c});return t(cre,{"Array | Matrix, number | BigNumber":(A,x)=>y(A,x,!1),"Array | Matrix, number | BigNumber, number":(A,x,M)=>b(A,x,!1,M,y),"Array | Matrix, number | BigNumber, boolean":y,"Array | Matrix, number | BigNumber, boolean, number":(A,x,M,E)=>b(A,x,M,E,y),"Array | Matrix, Array | Matrix":(A,x)=>C(A,x,!1),"Array | Matrix, Array | Matrix, number":(A,x,M)=>b(A,x,!1,M,C),"Array | Matrix, Array | Matrix, boolean":C,"Array | Matrix, Array | Matrix, boolean, number":(A,x,M,E)=>b(A,x,M,E,C)});function b(A,x,M,E,w){return p(A,E,T=>w(T,x,M))}function y(A,x,M){var E,w=A.valueOf();if(d(x,0))throw new Error("N/prob must be non-negative");if(f(x,1))return Bt(x)?S(w,x,M):e(S(w,x,M));if(m(x,1)){if(!c(x))throw new Error("N must be a positive integer");if(m(x,4294967295))throw new Error("N must be less than or equal to 2^32-1, as that is the maximum length of an Array");var T=n(x,1);E=[];for(var k=0;d(k,x);k++){var I=o(k+1,T);E.push(S(w,I,M))}return Bt(x)?E:e(E)}}function C(A,x,M){for(var E=A.valueOf(),w=x.valueOf(),T=[],k=0;k<w.length;++k)T.push(S(E,w[k],M));return T}function S(A,x,M){var E=mr(A),w=E.length;if(w===0)throw new Error("Cannot calculate quantile of an empty sequence");var T=Bt(x)?x*(w-1):x.times(w-1),k=Bt(x)?Math.floor(T):T.floor().toNumber(),I=Bt(x)?T%1:T.minus(k);if(c(T))return M?E[T]:a(E,Bt(x)?T:T.valueOf());var O,R;if(M)O=E[k],R=E[k+1];else{R=a(E,k+1),O=E[k];for(var j=0;j<k;++j)l(E[j],O)>0&&(O=E[j])}return n(s(O,i(1,I)),s(R,I))}});var ure="std",cke=["typed","map","sqrt","variance"],qy=F(ure,cke,r=>{var{typed:t,map:e,sqrt:n,variance:i}=r;return t(ure,{"Array | Matrix":o,"Array | Matrix, string":o,"Array | Matrix, number | BigNumber":o,"Array | Matrix, number | BigNumber, string":o,"...":function(a){return o(a)}});function o(s,a){if(s.length===0)throw new SyntaxError("Function std requires one or more parameters (0 provided)");try{var l=i.apply(null,arguments);return Bi(l)?e(l,n):n(l)}catch(c){throw c instanceof TypeError&&c.message.includes(" variance")?new TypeError(c.message.replace(" variance"," std")):c}}});var dre="corr",uke=["typed","matrix","mean","sqrt","sum","add","subtract","multiply","pow","divide"],iB=F(dre,uke,r=>{var{typed:t,matrix:e,sqrt:n,sum:i,add:o,subtract:s,multiply:a,pow:l,divide:c}=r;return t(dre,{"Array, Array":function(p,b){return d(p,b)},"Matrix, Matrix":function(p,b){var y=d(p.toArray(),b.toArray());return Array.isArray(y)?e(y):y}});function d(m,p){var b=[];if(Array.isArray(m[0])&&Array.isArray(p[0])){if(m.length!==p.length)throw new SyntaxError("Dimension mismatch. Array A and B must have the same length.");for(var y=0;y<m.length;y++){if(m[y].length!==p[y].length)throw new SyntaxError("Dimension mismatch. Array A and B must have the same number of elements.");b.push(f(m[y],p[y]))}return b}else{if(m.length!==p.length)throw new SyntaxError("Dimension mismatch. Array A and B must have the same number of elements.");return f(m,p)}}function f(m,p){var b=m.length,y=i(m),C=i(p),S=m.reduce((w,T,k)=>o(w,a(T,p[k])),0),A=i(m.map(w=>l(w,2))),x=i(p.map(w=>l(w,2))),M=s(a(b,S),a(y,C)),E=n(a(s(a(b,A),l(y,2)),s(a(b,x),l(C,2))));return c(M,E)}});var fre="combinations",dke=["typed"],oB=F(fre,dke,r=>{var{typed:t}=r;return t(fre,{"number, number":AF,"BigNumber, BigNumber":function(n,i){var o=n.constructor,s,a,l=n.minus(i),c=new o(1);if(!hre(n)||!hre(i))throw new TypeError("Positive integer value expected in function combinations");if(i.gt(n))throw new TypeError("k must be less than n in function combinations");if(s=c,i.lt(l))for(a=c;a.lte(l);a=a.plus(c))s=s.times(i.plus(a)).dividedBy(a);else for(a=c;a.lte(i);a=a.plus(c))s=s.times(l.plus(a)).dividedBy(a);return s}})});function hre(r){return r.isInteger()&&r.gte(0)}var mre="combinationsWithRep",fke=["typed"],sB=F(mre,fke,r=>{var{typed:t}=r;return t(mre,{"number, number":function(n,i){if(!pt(n)||n<0)throw new TypeError("Positive integer value expected in function combinationsWithRep");if(!pt(i)||i<0)throw new TypeError("Positive integer value expected in function combinationsWithRep");if(n<1)throw new TypeError("k must be less than or equal to n + k - 1");if(i<n-1){var o=il(n,n+i-1);return o/il(1,i)}var s=il(i+1,n+i-1);return s/il(1,n-1)},"BigNumber, BigNumber":function(n,i){var o=n.constructor,s,a,l=new o(1),c=n.minus(l);if(!pre(n)||!pre(i))throw new TypeError("Positive integer value expected in function combinationsWithRep");if(n.lt(l))throw new TypeError("k must be less than or equal to n + k - 1 in function combinationsWithRep");if(s=l,i.lt(c))for(a=l;a.lte(c);a=a.plus(l))s=s.times(i.plus(a)).dividedBy(a);else for(a=l;a.lte(i);a=a.plus(l))s=s.times(c.plus(a)).dividedBy(a);return s}})});function pre(r){return r.isInteger()&&r.gte(0)}var gre="gamma",hke=["typed","config","multiplyScalar","pow","BigNumber","Complex"],aB=F(gre,hke,r=>{var{typed:t,config:e,multiplyScalar:n,pow:i,BigNumber:o,Complex:s}=r;function a(c){if(c.im===0)return gy(c.re);if(c.re<.5){var d=new s(1-c.re,-c.im),f=new s(Math.PI*c.re,Math.PI*c.im);return new s(Math.PI).div(f.sin()).div(a(d))}c=new s(c.re-1,c.im);for(var m=new s(Fm[0],0),p=1;p<Fm.length;++p){var b=new s(Fm[p],0);m=m.add(b.div(c.add(p)))}var y=new s(c.re+kF+.5,c.im),C=Math.sqrt(2*Math.PI),S=y.pow(c.add(.5)),A=y.neg().exp();return m.mul(C).mul(S).mul(A)}return t(gre,{number:gy,Complex:a,BigNumber:function(d){if(d.isInteger())return d.isNegative()||d.isZero()?new o(1/0):l(d.minus(1));if(!d.isFinite())return new o(d.isNegative()?NaN:1/0);throw new Error("Integer BigNumber expected")}});function l(c){if(c<8)return new o([1,1,2,6,24,120,720,5040][c]);var d=e.precision+(Math.log(c.toNumber())|0),f=o.clone({precision:d});if(c%2===1)return c.times(l(new o(c-1)));for(var m=c,p=new f(c),b=c.toNumber();m>2;)m-=2,b+=m,p=p.times(b);return new o(p.toPrecision(o.precision))}});var vre="lgamma",mke=["Complex","typed"],lB=F(vre,mke,r=>{var{Complex:t,typed:e}=r,n=7,i=7,o=[-.029550653594771242,.00641025641025641,-.0019175269175269176,.0008417508417508417,-.0005952380952380953,.0007936507936507937,-.002777777777777778,.08333333333333333];return e(vre,{number:vy,Complex:s,BigNumber:function(){throw new Error("mathjs doesn't yet provide an implementation of the algorithm lgamma for BigNumber")}});function s(c){var d=6.283185307179586,f=1.1447298858494002,m=.1;if(c.isNaN())return new t(NaN,NaN);if(c.im===0)return new t(vy(c.re),0);if(c.re>=n||Math.abs(c.im)>=i)return a(c);if(c.re<=m){var p=eG(d,c.im)*Math.floor(.5*c.re+.25),b=c.mul(Math.PI).sin().log(),y=s(new t(1-c.re,-c.im));return new t(f,p).sub(b).sub(y)}else return c.im>=0?l(c):l(c.conjugate()).conjugate()}function a(c){for(var d=c.sub(.5).mul(c.log()).sub(c).add(NF),f=new t(1,0).div(c),m=f.div(c),p=o[0],b=o[1],y=2*m.re,C=m.re*m.re+m.im*m.im,S=2;S<8;S++){var A=b;b=-C*p+o[S],p=y*p+A}var x=f.mul(m.mul(p).add(b));return d.add(x)}function l(c){var d=0,f=0,m=c;for(c=c.add(1);c.re<=n;){m=m.mul(c);var p=m.im<0?1:0;p!==0&&f===0&&d++,f=p,c=c.add(1)}return a(c).sub(m.log()).sub(new t(0,d*2*Math.PI*1))}});var bre="factorial",pke=["typed","gamma"],cB=F(bre,pke,r=>{var{typed:t,gamma:e}=r;return t(bre,{number:function(i){if(i<0)throw new Error("Value must be non-negative");return e(i+1)},BigNumber:function(i){if(i.isNegative())throw new Error("Value must be non-negative");return e(i.plus(1))},"Array | Matrix":t.referToSelf(n=>i=>wt(i,n))})});var yre="kldivergence",gke=["typed","matrix","divide","sum","multiply","map","dotDivide","log","isNumeric"],uB=F(yre,gke,r=>{var{typed:t,matrix:e,divide:n,sum:i,multiply:o,map:s,dotDivide:a,log:l,isNumeric:c}=r;return t(yre,{"Array, Array":function(m,p){return d(e(m),e(p))},"Matrix, Array":function(m,p){return d(m,e(p))},"Array, Matrix":function(m,p){return d(e(m),p)},"Matrix, Matrix":function(m,p){return d(m,p)}});function d(f,m){var p=m.size().length,b=f.size().length;if(p>1)throw new Error("first object must be one dimensional");if(b>1)throw new Error("second object must be one dimensional");if(p!==b)throw new Error("Length of two vectors must be equal");var y=i(f);if(y===0)throw new Error("Sum of elements in first object must be non zero");var C=i(m);if(C===0)throw new Error("Sum of elements in second object must be non zero");var S=n(f,i(f)),A=n(m,i(m)),x=i(o(S,s(a(S,A),M=>l(M))));return c(x)?x:Number.NaN}});var _re="multinomial",vke=["typed","add","divide","multiply","factorial","isInteger","isPositive"],dB=F(_re,vke,r=>{var{typed:t,add:e,divide:n,multiply:i,factorial:o,isInteger:s,isPositive:a}=r;return t(_re,{"Array | Matrix":function(c){var d=0,f=1;return Is(c,function(m){if(!s(m)||!a(m))throw new TypeError("Positive integer value expected in function multinomial");d=e(d,m),f=i(f,o(m))}),n(o(d),f)}})});var xre="permutations",bke=["typed","factorial"],fB=F(xre,bke,r=>{var{typed:t,factorial:e}=r;return t(xre,{"number | BigNumber":e,"number, number":function(i,o){if(!pt(i)||i<0)throw new TypeError("Positive integer value expected in function permutations");if(!pt(o)||o<0)throw new TypeError("Positive integer value expected in function permutations");if(o>i)throw new TypeError("second argument k must be less than or equal to first argument n");return il(i-o+1,i)},"BigNumber, BigNumber":function(i,o){var s,a;if(!wre(i)||!wre(o))throw new TypeError("Positive integer value expected in function permutations");if(o.gt(i))throw new TypeError("second argument k must be less than or equal to first argument n");var l=i.mul(0).add(1);for(s=l,a=i.minus(o).plus(1);a.lte(i);a=a.plus(1))s=s.times(a);return s}})});function wre(r){return r.isInteger()&&r.gte(0)}var yB=Wh(Vre(),1),Dke=(0,yB.default)(Date.now());function Td(r){var t;function e(i){t=i===null?Dke:(0,yB.default)(String(i))}e(r);function n(){return t()}return n}var zre="pickRandom",Eke=["typed","config","?on"],_B=F(zre,Eke,r=>{var{typed:t,config:e,on:n}=r,i=Td(e.randomSeed);return n&&n("config",function(s,a){s.randomSeed!==a.randomSeed&&(i=Td(s.randomSeed))}),t(zre,{"Array | Matrix":function(a){return o(a,{})},"Array | Matrix, Object":function(a,l){return o(a,l)},"Array | Matrix, number":function(a,l){return o(a,{number:l})},"Array | Matrix, Array | Matrix":function(a,l){return o(a,{weights:l})},"Array | Matrix, Array | Matrix, number":function(a,l,c){return o(a,{number:c,weights:l})},"Array | Matrix, number, Array | Matrix":function(a,l,c){return o(a,{number:l,weights:c})}});function o(s,a){var{number:l,weights:c,elementWise:d=!0}=a,f=typeof l>"u";f&&(l=1);var m=_t(s)?s.create:_t(c)?c.create:null;s=s.valueOf(),c&&(c=c.valueOf()),d===!0&&(s=mr(s),c=mr(c));var p=0;if(typeof c<"u"){if(c.length!==s.length)throw new Error("Weights must have the same length as possibles");for(var b=0,y=c.length;b<y;b++){if(!Bt(c[b])||c[b]<0)throw new Error("Weights must be an array of positive numbers");p+=c[b]}}for(var C=s.length,S=[],A;S.length<l;){if(typeof c>"u")A=s[Math.floor(i()*C)];else for(var x=i()*p,M=0,E=s.length;M<E;M++)if(x-=c[M],x<0){A=s[M];break}S.push(A)}return f?S[0]:m?m(S):S}});function Wy(r,t){var e=[];if(r=r.slice(0),r.length>1)for(var n=0,i=r.shift();n<i;n++)e.push(Wy(r,t));else for(var o=0,s=r.shift();o<s;o++)e.push(t());return e}var jre="random",Mke=["typed","config","?on"],xB=F(jre,Mke,r=>{var{typed:t,config:e,on:n}=r,i=Td(e.randomSeed);return n&&n("config",function(a,l){a.randomSeed!==l.randomSeed&&(i=Td(a.randomSeed))}),t(jre,{"":()=>s(0,1),number:a=>s(0,a),"number, number":(a,l)=>s(a,l),"Array | Matrix":a=>o(a,0,1),"Array | Matrix, number":(a,l)=>o(a,0,l),"Array | Matrix, number, number":(a,l,c)=>o(a,l,c)});function o(a,l,c){var d=Wy(a.valueOf(),()=>s(l,c));return _t(a)?a.create(d,"number"):d}function s(a,l){return a+i()*(l-a)}});var Hre="randomInt",Ake=["typed","config","?on"],wB=F(Hre,Ake,r=>{var{typed:t,config:e,on:n}=r,i=Td(e.randomSeed);return n&&n("config",function(a,l){a.randomSeed!==l.randomSeed&&(i=Td(a.randomSeed))}),t(Hre,{"":()=>s(0,1),number:a=>s(0,a),"number, number":(a,l)=>s(a,l),"Array | Matrix":a=>o(a,0,1),"Array | Matrix, number":(a,l)=>o(a,0,l),"Array | Matrix, number, number":(a,l,c)=>o(a,l,c)});function o(a,l,c){var d=Wy(a.valueOf(),()=>s(l,c));return _t(a)?a.create(d,"number"):d}function s(a,l){return Math.floor(a+i()*(l-a))}});var Ure="stirlingS2",Tke=["typed","addScalar","subtractScalar","multiplyScalar","divideScalar","pow","factorial","combinations","isNegative","isInteger","number","?bignumber","larger"],CB=F(Ure,Tke,r=>{var{typed:t,addScalar:e,subtractScalar:n,multiplyScalar:i,divideScalar:o,pow:s,factorial:a,combinations:l,isNegative:c,isInteger:d,number:f,bignumber:m,larger:p}=r,b=[],y=[];return t(Ure,{"number | BigNumber, number | BigNumber":function(S,A){if(!d(S)||c(S)||!d(A)||c(A))throw new TypeError("Non-negative integer value expected in function stirlingS2");if(p(A,S))throw new TypeError("k must be less than or equal to n in function stirlingS2");var x=!(Bt(S)&&Bt(A)),M=x?y:b,E=x?m:f,w=f(S),T=f(A);if(M[w]&&M[w].length>T)return M[w][T];for(var k=0;k<=w;++k)if(M[k]||(M[k]=[E(k===0?1:0)]),k!==0)for(var I=M[k],O=M[k-1],R=I.length;R<=k&&R<=T;++R)R===k?I[R]=1:I[R]=e(i(E(R),O[R]),O[R-1]);return M[w][T]}})});var qre="bellNumbers",Ike=["typed","addScalar","isNegative","isInteger","stirlingS2"],SB=F(qre,Ike,r=>{var{typed:t,addScalar:e,isNegative:n,isInteger:i,stirlingS2:o}=r;return t(qre,{"number | BigNumber":function(a){if(!i(a)||n(a))throw new TypeError("Non-negative integer value expected in function bellNumbers");for(var l=0,c=0;c<=a;c++)l=e(l,o(a,c));return l}})});var Wre="catalan",kke=["typed","addScalar","divideScalar","multiplyScalar","combinations","isNegative","isInteger"],DB=F(Wre,kke,r=>{var{typed:t,addScalar:e,divideScalar:n,multiplyScalar:i,combinations:o,isNegative:s,isInteger:a}=r;return t(Wre,{"number | BigNumber":function(c){if(!a(c)||s(c))throw new TypeError("Non-negative integer value expected in function catalan");return n(o(i(c,2),c),e(c,1))}})});var $re="composition",Nke=["typed","addScalar","combinations","isNegative","isPositive","isInteger","larger"],EB=F($re,Nke,r=>{var{typed:t,addScalar:e,combinations:n,isPositive:i,isNegative:o,isInteger:s,larger:a}=r;return t($re,{"number | BigNumber, number | BigNumber":function(c,d){if(!s(c)||!i(c)||!s(d)||!i(d))throw new TypeError("Positive integer value expected in function composition");if(a(d,c))throw new TypeError("k must be less than or equal to n in function composition");return n(e(c,-1),e(d,-1))}})});var Gre="leafCount",Oke=["parse","typed"],MB=F(Gre,Oke,r=>{var{parse:t,typed:e}=r;function n(i){var o=0;return i.forEach(s=>{o+=n(s)}),o||1}return e(Gre,{Node:function(o){return n(o)}})});function AB(r){return xr(r)||zn(r)&&r.isUnary()&&xr(r.args[0])}function $y(r){return!!(xr(r)||(da(r)||zn(r))&&r.args.every($y)||us(r)&&$y(r.content))}function Yre(r,t){var e=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),e.push.apply(e,n)}return e}function TB(r){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?Yre(Object(e),!0).forEach(function(n){an(r,n,e[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(e)):Yre(Object(e)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(e,n))})}return r}var Fke="simplifyUtil",Rke=["FunctionNode","OperatorNode","SymbolNode"],uv=F(Fke,Rke,r=>{var{FunctionNode:t,OperatorNode:e,SymbolNode:n}=r,i=!0,o=!1,s="defaultF",a={add:{trivial:i,total:i,commutative:i,associative:i},unaryPlus:{trivial:i,total:i,commutative:i,associative:i},subtract:{trivial:o,total:i,commutative:o,associative:o},multiply:{trivial:i,total:i,commutative:i,associative:i},divide:{trivial:o,total:i,commutative:o,associative:o},paren:{trivial:i,total:i,commutative:i,associative:o},defaultF:{trivial:o,total:i,commutative:o,associative:o}},l={divide:{total:o},log:{total:o}},c={subtract:{total:o},abs:{trivial:i},log:{total:i}};function d(x,M){var E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:a,w=s;if(typeof x=="string"?w=x:zn(x)?w=x.fn.toString():da(x)?w=x.name:us(x)&&(w="paren"),Dt(E,w)){var T=E[w];if(Dt(T,M))return T[M];if(Dt(a,w))return a[w][M]}if(Dt(E,s)){var k=E[s];return Dt(k,M)?k[M]:a[s][M]}if(Dt(a,w)){var I=a[w];if(Dt(I,M))return I[M]}return a[s][M]}function f(x){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:a;return d(x,"commutative",M)}function m(x){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:a;return d(x,"associative",M)}function p(x,M){var E=TB({},x);for(var w in M)Dt(x,w)?E[w]=TB(TB({},M[w]),x[w]):E[w]=M[w];return E}function b(x,M){if(!x.args||x.args.length===0)return x;x.args=y(x,M);for(var E=0;E<x.args.length;E++)b(x.args[E],M)}function y(x,M){var E,w=[],T=function(I){for(var O=0;O<I.args.length;O++){var R=I.args[O];zn(R)&&E===R.op?T(R):w.push(R)}};return m(x,M)?(E=x.op,T(x),w):x.args}function C(x,M){if(!(!x.args||x.args.length===0)){for(var E=A(x),w=x.args.length,T=0;T<w;T++)C(x.args[T],M);if(w>2&&m(x,M)){for(var k=x.args.pop();x.args.length>0;)k=E([x.args.pop(),k]);x.args=k.args}}}function S(x,M){if(!(!x.args||x.args.length===0)){for(var E=A(x),w=x.args.length,T=0;T<w;T++)S(x.args[T],M);if(w>2&&m(x,M)){for(var k=x.args.shift();x.args.length>0;)k=E([k,x.args.shift()]);x.args=k.args}}}function A(x){return zn(x)?function(M){try{return new e(x.op,x.fn,M,x.implicit)}catch(E){return console.error(E),[]}}:function(M){return new t(new n(x.name),M)}}return{createMakeNodeFunction:A,hasProperty:d,isCommutative:f,isAssociative:m,mergeContext:p,flatten:b,allChildren:y,unflattenr:C,unflattenl:S,defaultContext:a,realContext:l,positiveContext:c}});var Pke="simplify",Lke=["typed","parse","equal","resolve","simplifyConstant","simplifyCore","AccessorNode","ArrayNode","ConstantNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","ParenthesisNode","SymbolNode"],IB=F(Pke,Lke,r=>{var{typed:t,parse:e,equal:n,resolve:i,simplifyConstant:o,simplifyCore:s,AccessorNode:a,ArrayNode:l,ConstantNode:c,FunctionNode:d,IndexNode:f,ObjectNode:m,OperatorNode:p,ParenthesisNode:b,SymbolNode:y}=r,{hasProperty:C,isCommutative:S,isAssociative:A,mergeContext:x,flatten:M,unflattenr:E,unflattenl:w,createMakeNodeFunction:T,defaultContext:k,realContext:I,positiveContext:O}=uv({FunctionNode:d,OperatorNode:p,SymbolNode:y});t.addConversion({from:"Object",to:"Map",convert:xd});var R=t("simplify",{Node:Z,"Node, Map":(ee,ae)=>Z(ee,!1,ae),"Node, Map, Object":(ee,ae,le)=>Z(ee,!1,ae,le),"Node, Array":Z,"Node, Array, Map":Z,"Node, Array, Map, Object":Z});t.removeConversion({from:"Object",to:"Map",convert:xd}),R.defaultContext=k,R.realContext=I,R.positiveContext=O;function j(ee){return ee.transform(function(ae){return us(ae)?j(ae.content):ae})}var q={true:!0,false:!0,e:!0,i:!0,Infinity:!0,LN2:!0,LN10:!0,LOG2E:!0,LOG10E:!0,NaN:!0,phi:!0,pi:!0,SQRT1_2:!0,SQRT2:!0,tau:!0};R.rules=[s,{l:"log(e)",r:"1"},{s:"n-n1 -> n+-n1",assuming:{subtract:{total:!0}}},{s:"n-n -> 0",assuming:{subtract:{total:!1}}},{s:"-(cl*v) -> v * (-cl)",assuming:{multiply:{commutative:!0},subtract:{total:!0}}},{s:"-(cl*v) -> (-cl) * v",assuming:{multiply:{commutative:!1},subtract:{total:!0}}},{s:"-(v*cl) -> v * (-cl)",assuming:{multiply:{commutative:!1},subtract:{total:!0}}},{l:"-(n1/n2)",r:"-n1/n2"},{l:"-v",r:"v * (-1)"},{l:"(n1 + n2)*(-1)",r:"n1*(-1) + n2*(-1)",repeat:!0},{l:"n/n1^n2",r:"n*n1^-n2"},{l:"n/n1",r:"n*n1^-1"},{s:"(n1*n2)^n3 -> n1^n3 * n2^n3",assuming:{multiply:{commutative:!0}}},{s:"(n1*n2)^(-1) -> n2^(-1) * n1^(-1)",assuming:{multiply:{commutative:!1}}},{s:"(n ^ n1) ^ n2 -> n ^ (n1 * n2)",assuming:{divide:{total:!0}}},{l:" vd   * ( vd   * n1 + n2)",r:"vd^2       * n1 +  vd   * n2"},{s:" vd   * (vd^n4 * n1 + n2)   ->  vd^(1+n4)  * n1 +  vd   * n2",assuming:{divide:{total:!0}}},{s:"vd^n3 * ( vd   * n1 + n2)   ->  vd^(n3+1)  * n1 + vd^n3 * n2",assuming:{divide:{total:!0}}},{s:"vd^n3 * (vd^n4 * n1 + n2)   ->  vd^(n3+n4) * n1 + vd^n3 * n2",assuming:{divide:{total:!0}}},{l:"n*n",r:"n^2"},{s:"n * n^n1 -> n^(n1+1)",assuming:{divide:{total:!0}}},{s:"n^n1 * n^n2 -> n^(n1+n2)",assuming:{divide:{total:!0}}},o,{s:"n+n -> 2*n",assuming:{add:{total:!0}}},{l:"n+-n",r:"0"},{l:"vd*n + vd",r:"vd*(n+1)"},{l:"n3*n1 + n3*n2",r:"n3*(n1+n2)"},{l:"n3^(-n4)*n1 +   n3  * n2",r:"n3^(-n4)*(n1 + n3^(n4+1) *n2)"},{l:"n3^(-n4)*n1 + n3^n5 * n2",r:"n3^(-n4)*(n1 + n3^(n4+n5)*n2)"},{s:"n*vd + vd -> (n+1)*vd",assuming:{multiply:{commutative:!1}}},{s:"vd + n*vd -> (1+n)*vd",assuming:{multiply:{commutative:!1}}},{s:"n1*n3 + n2*n3 -> (n1+n2)*n3",assuming:{multiply:{commutative:!1}}},{s:"n^n1 * n -> n^(n1+1)",assuming:{divide:{total:!0},multiply:{commutative:!1}}},{s:"n1*n3^(-n4) + n2 * n3    -> (n1 + n2*n3^(n4 +  1))*n3^(-n4)",assuming:{multiply:{commutative:!1}}},{s:"n1*n3^(-n4) + n2 * n3^n5 -> (n1 + n2*n3^(n4 + n5))*n3^(-n4)",assuming:{multiply:{commutative:!1}}},{l:"n*cd + cd",r:"(n+1)*cd"},{s:"cd*n + cd -> cd*(n+1)",assuming:{multiply:{commutative:!1}}},{s:"cd + cd*n -> cd*(1+n)",assuming:{multiply:{commutative:!1}}},o,{s:"(-n)*n1 -> -(n*n1)",assuming:{subtract:{total:!0}}},{s:"n1*(-n) -> -(n1*n)",assuming:{subtract:{total:!0},multiply:{commutative:!1}}},{s:"ce+ve -> ve+ce",assuming:{add:{commutative:!0}},imposeContext:{add:{commutative:!1}}},{s:"vd*cd -> cd*vd",assuming:{multiply:{commutative:!0}},imposeContext:{multiply:{commutative:!1}}},{l:"n+-n1",r:"n-n1"},{l:"n+-(n1)",r:"n-(n1)"},{s:"n*(n1^-1) -> n/n1",assuming:{multiply:{commutative:!0}}},{s:"n*n1^-n2 -> n/n1^n2",assuming:{multiply:{commutative:!0}}},{s:"n^-1 -> 1/n",assuming:{multiply:{commutative:!0}}},{l:"n^1",r:"n"},{s:"n*(n1/n2) -> (n*n1)/n2",assuming:{multiply:{associative:!0}}},{s:"n-(n1+n2) -> n-n1-n2",assuming:{addition:{associative:!0,commutative:!0}}},{l:"1*n",r:"n",imposeContext:{multiply:{commutative:!0}}},{s:"n1/(n2/n3) -> (n1*n3)/n2",assuming:{multiply:{associative:!0}}},{l:"n1/(-n2)",r:"-n1/n2"}];function X(ee,ae){var le={};if(ee.s){var pe=ee.s.split("->");if(pe.length===2)le.l=pe[0],le.r=pe[1];else throw SyntaxError("Could not parse rule: "+ee.s)}else le.l=ee.l,le.r=ee.r;le.l=j(e(le.l)),le.r=j(e(le.r));for(var ve of["imposeContext","repeat","assuming"])ve in ee&&(le[ve]=ee[ve]);if(ee.evaluate&&(le.evaluate=e(ee.evaluate)),A(le.l,ae)){var Ee=!S(le.l,ae),Ie;Ee&&(Ie=L());var Ve=T(le.l),te=L();le.expanded={},le.expanded.l=Ve([le.l,te]),M(le.expanded.l,ae),E(le.expanded.l,ae),le.expanded.r=Ve([le.r,te]),Ee&&(le.expandedNC1={},le.expandedNC1.l=Ve([Ie,le.l]),le.expandedNC1.r=Ve([Ie,le.r]),le.expandedNC2={},le.expandedNC2.l=Ve([Ie,le.expanded.l]),le.expandedNC2.r=Ve([Ie,le.expanded.r]))}return le}function Y(ee,ae){for(var le=[],pe=0;pe<ee.length;pe++){var ve=ee[pe],Ee=void 0,Ie=typeof ve;switch(Ie){case"string":ve={s:ve};case"object":Ee=X(ve,ae);break;case"function":Ee=ve;break;default:throw TypeError("Unsupported type of rule: "+Ie)}le.push(Ee)}return le}var P=0;function L(){return new y("_p"+P++)}function Z(ee,ae){var le=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Of(),pe=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},ve=pe.consoleDebug;ae=Y(ae||R.rules,pe.context);var Ee=i(ee,le);Ee=j(Ee);for(var Ie={},Ve=Ee.toString({parenthesis:"all"});!Ie[Ve];){Ie[Ve]=!0,P=0;var te=Ve;ve&&console.log("Working on: ",Ve);for(var re=0;re<ae.length;re++){var De="";if(typeof ae[re]=="function"?(Ee=ae[re](Ee,pe),ve&&(De=ae[re].name)):(M(Ee,pe.context),Ee=ce(Ee,ae[re],pe.context),ve&&(De="".concat(ae[re].l.toString()," -> ").concat(ae[re].r.toString()))),ve){var Ae=Ee.toString({parenthesis:"all"});Ae!==te&&(console.log("Applying",De,"produced",Ae),te=Ae)}w(Ee,pe.context)}Ve=Ee.toString({parenthesis:"all"})}return Ee}function U(ee,ae,le){var pe=ee;if(ee)for(var ve=0;ve<ee.length;++ve){var Ee=ce(ee[ve],ae,le);Ee!==ee[ve]&&(pe===ee&&(pe=ee.slice()),pe[ve]=Ee)}return pe}function ce(ee,ae,le){if(ae.assuming){for(var pe in ae.assuming)for(var ve in ae.assuming[pe])if(C(pe,ve,le)!==ae.assuming[pe][ve])return ee}var Ee=x(ae.imposeContext,le),Ie=ee;if(Ie instanceof p||Ie instanceof d){var Ve=U(Ie.args,ae,le);Ve!==Ie.args&&(Ie=Ie.clone(),Ie.args=Ve)}else if(Ie instanceof b){if(Ie.content){var te=ce(Ie.content,ae,le);te!==Ie.content&&(Ie=new b(te))}}else if(Ie instanceof l){var re=U(Ie.items,ae,le);re!==Ie.items&&(Ie=new l(re))}else if(Ie instanceof a){var De=Ie.object;Ie.object&&(De=ce(Ie.object,ae,le));var Ae=Ie.index;Ie.index&&(Ae=ce(Ie.index,ae,le)),(De!==Ie.object||Ae!==Ie.index)&&(Ie=new a(De,Ae))}else if(Ie instanceof f){var qe=U(Ie.dimensions,ae,le);qe!==Ie.dimensions&&(Ie=new f(qe))}else if(Ie instanceof m){var Ge=!1,mt={};for(var yt in Ie.properties)mt[yt]=ce(Ie.properties[yt],ae,le),mt[yt]!==Ie.properties[yt]&&(Ge=!0);Ge&&(Ie=new m(mt))}var tr=ae.r,Yt=ke(ae.l,Ie,Ee)[0];if(!Yt&&ae.expanded&&(tr=ae.expanded.r,Yt=ke(ae.expanded.l,Ie,Ee)[0]),!Yt&&ae.expandedNC1&&(tr=ae.expandedNC1.r,Yt=ke(ae.expandedNC1.l,Ie,Ee)[0],Yt||(tr=ae.expandedNC2.r,Yt=ke(ae.expandedNC2.l,Ie,Ee)[0])),Yt){var bn=Ie.implicit;Ie=tr.clone(),bn&&"implicit"in tr&&(Ie.implicit=!0),Ie=Ie.transform(function(Vr){return Vr.isSymbolNode&&Dt(Yt.placeholders,Vr.name)?Yt.placeholders[Vr.name].clone():Vr})}return ae.repeat&&Ie!==ee&&(Ie=ce(Ie,ae,le)),Ie}function me(ee,ae){var le=[],pe,ve,Ee=T(ee);if(S(ee,ae))for(var Ie=0;Ie<ee.args.length;Ie++)ve=ee.args.slice(0),ve.splice(Ie,1),pe=ve.length===1?ve[0]:Ee(ve),le.push(Ee([ee.args[Ie],pe]));else for(var Ve=1;Ve<ee.args.length;Ve++){var te=ee.args[0];Ve>1&&(te=Ee(ee.args.slice(0,Ve))),ve=ee.args.slice(Ve),pe=ve.length===1?ve[0]:Ee(ve),le.push(Ee([te,pe]))}return le}function se(ee,ae){var le={placeholders:{}};if(!ee.placeholders&&!ae.placeholders)return le;if(ee.placeholders){if(!ae.placeholders)return ee}else return ae;for(var pe in ee.placeholders)if(Dt(ee.placeholders,pe)&&(le.placeholders[pe]=ee.placeholders[pe],Dt(ae.placeholders,pe)&&!be(ee.placeholders[pe],ae.placeholders[pe])))return null;for(var ve in ae.placeholders)Dt(ae.placeholders,ve)&&(le.placeholders[ve]=ae.placeholders[ve]);return le}function Q(ee,ae){var le=[];if(ee.length===0||ae.length===0)return le;for(var pe,ve=0;ve<ee.length;ve++)for(var Ee=0;Ee<ae.length;Ee++)pe=se(ee[ve],ae[Ee]),pe&&le.push(pe);return le}function he(ee){if(ee.length===0)return ee;for(var ae=ee.reduce(Q),le=[],pe={},ve=0;ve<ae.length;ve++){var Ee=JSON.stringify(ae[ve]);pe[Ee]||(pe[Ee]=!0,le.push(ae[ve]))}return le}function ke(ee,ae,le,pe){var ve=[{placeholders:{}}];if(ee instanceof p&&ae instanceof p||ee instanceof d&&ae instanceof d){if(ee instanceof p){if(ee.op!==ae.op||ee.fn!==ae.fn)return[]}else if(ee instanceof d&&ee.name!==ae.name)return[];if(ae.args.length===1&&ee.args.length===1||!A(ae,le)&&ae.args.length===ee.args.length||pe){for(var Ee=[],Ie=0;Ie<ee.args.length;Ie++){var Ve=ke(ee.args[Ie],ae.args[Ie],le);if(Ve.length===0)break;Ee.push(Ve)}if(Ee.length!==ee.args.length){if(!S(ae,le)||ee.args.length===1)return[];if(ee.args.length>2)throw new Error("permuting >2 commutative non-associative rule arguments not yet implemented");var te=ke(ee.args[0],ae.args[1],le);if(te.length===0)return[];var re=ke(ee.args[1],ae.args[0],le);if(re.length===0)return[];Ee=[te,re]}ve=he(Ee)}else if(ae.args.length>=2&&ee.args.length===2){for(var De=me(ae,le),Ae=[],qe=0;qe<De.length;qe++){var Ge=ke(ee,De[qe],le,!0);Ae=Ae.concat(Ge)}return Ae}else{if(ee.args.length>2)throw Error("Unexpected non-binary associative function: "+ee.toString());return[]}}else if(ee instanceof y){if(ee.name.length===0)throw new Error("Symbol in rule has 0 length...!?");if(q[ee.name]){if(ee.name!==ae.name)return[]}else switch(ee.name[1]>="a"&&ee.name[1]<="z"?ee.name.substring(0,2):ee.name[0]){case"n":case"_p":ve[0].placeholders[ee.name]=ae;break;case"c":case"cl":if(xr(ae))ve[0].placeholders[ee.name]=ae;else return[];break;case"v":if(!xr(ae))ve[0].placeholders[ee.name]=ae;else return[];break;case"vl":if(In(ae))ve[0].placeholders[ee.name]=ae;else return[];break;case"cd":if(AB(ae))ve[0].placeholders[ee.name]=ae;else return[];break;case"vd":if(!AB(ae))ve[0].placeholders[ee.name]=ae;else return[];break;case"ce":if($y(ae))ve[0].placeholders[ee.name]=ae;else return[];break;case"ve":if(!$y(ae))ve[0].placeholders[ee.name]=ae;else return[];break;default:throw new Error("Invalid symbol in rule: "+ee.name)}}else if(ee instanceof c){if(!n(ee.value,ae.value))return[]}else return[];return ve}function be(ee,ae){if(ee instanceof c&&ae instanceof c){if(!n(ee.value,ae.value))return!1}else if(ee instanceof y&&ae instanceof y){if(ee.name!==ae.name)return!1}else if(ee instanceof p&&ae instanceof p||ee instanceof d&&ae instanceof d){if(ee instanceof p){if(ee.op!==ae.op||ee.fn!==ae.fn)return!1}else if(ee instanceof d&&ee.name!==ae.name)return!1;if(ee.args.length!==ae.args.length)return!1;for(var le=0;le<ee.args.length;le++)if(!be(ee.args[le],ae.args[le]))return!1}else return!1;return!0}return R});var Bke="simplifyConstant",Vke=["typed","config","mathWithTransform","matrix","?fraction","?bignumber","AccessorNode","ArrayNode","ConstantNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","SymbolNode"],kB=F(Bke,Vke,r=>{var{typed:t,config:e,mathWithTransform:n,matrix:i,fraction:o,bignumber:s,AccessorNode:a,ArrayNode:l,ConstantNode:c,FunctionNode:d,IndexNode:f,ObjectNode:m,OperatorNode:p,SymbolNode:b}=r,{isCommutative:y,isAssociative:C,allChildren:S,createMakeNodeFunction:A}=uv({FunctionNode:d,OperatorNode:p,SymbolNode:b}),x=t("simplifyConstant",{Node:Y=>T(X(Y,{})),"Node, Object":function(P,L){return T(X(P,L))}});function M(Y){return wd(Y)?Y.valueOf():Y instanceof Array?Y.map(M):_t(Y)?i(M(Y.valueOf())):Y}function E(Y,P,L){try{return n[Y].apply(null,P)}catch{return P=P.map(M),I(n[Y].apply(null,P),L)}}var w=t({Fraction:R,number:function(P){return P<0?O(new c(-P)):new c(P)},BigNumber:function(P){return P<0?O(new c(-P)):new c(P)},bigint:function(P){return P<0n?O(new c(-P)):new c(P)},Complex:function(P){throw new Error("Cannot convert Complex number to Node")},string:function(P){return new c(P)},Matrix:function(P){return new l(P.valueOf().map(L=>w(L)))}});function T(Y){return Ar(Y)?Y:w(Y)}function k(Y,P){var L=P&&P.exactFractions!==!1;if(L&&isFinite(Y)&&o){var Z=o(Y),U=P&&typeof P.fractionsLimit=="number"?P.fractionsLimit:1/0;if(Z.valueOf()===Y&&Z.n<U&&Z.d<U)return Z}return Y}var I=t({"string, Object":function(P,L){var Z=Ms(P,e);if(Z==="BigNumber")return s===void 0&&iv(),s(P);if(Z==="bigint")return BigInt(P);if(Z==="Fraction")return o===void 0&&GS(),o(P);var U=parseFloat(P);return k(U,L)},"Fraction, Object":function(P,L){return P},"BigNumber, Object":function(P,L){return P},"number, Object":function(P,L){return k(P,L)},"bigint, Object":function(P,L){return P},"Complex, Object":function(P,L){return P.im!==0?P:k(P.re,L)},"Matrix, Object":function(P,L){return i(k(P.valueOf()))},"Array, Object":function(P,L){return P.map(k)}});function O(Y){return new p("-","unaryMinus",[Y])}function R(Y){var P,L=Y.s*Y.n;return L<0?P=new p("-","unaryMinus",[new c(-L)]):P=new c(L),Y.d===1?P:new p("/","divide",[P,new c(Y.d)])}function j(Y,P,L){if(!Fl(P))return new a(T(Y),T(P));if(cs(Y)||_t(Y)){for(var Z=Array.from(P.dimensions);Z.length>0;)if(xr(Z[0])&&typeof Z[0].value!="string"){var U=I(Z.shift().value,L);cs(Y)?Y=Y.items[U-1]:(Y=Y.valueOf()[U-1],Y instanceof Array&&(Y=i(Y)))}else if(Z.length>1&&xr(Z[1])&&typeof Z[1].value!="string"){var ce=I(Z[1].value,L),me=[],se=cs(Y)?Y.items:Y.valueOf();for(var Q of se)if(cs(Q))me.push(Q.items[ce-1]);else if(_t(Y))me.push(Q[ce-1]);else break;if(me.length===se.length)cs(Y)?Y=new l(me):Y=i(me),Z.splice(1,1);else break}else break;return Z.length===P.dimensions.length?new a(T(Y),P):Z.length>0?(P=new f(Z),new a(T(Y),P)):Y}if(Pf(Y)&&P.dimensions.length===1&&xr(P.dimensions[0])){var he=P.dimensions[0].value;return he in Y.properties?Y.properties[he]:new c}return new a(T(Y),P)}function q(Y,P,L,Z){var U=P.shift(),ce=P.reduce((me,se)=>{if(!Ar(se)){var Q=me.pop();if(Ar(Q))return[Q,se];try{return me.push(E(Y,[Q,se],Z)),me}catch{me.push(Q)}}me.push(T(me.pop()));var he=me.length===1?me[0]:L(me);return[L([he,T(se)])]},[U]);return ce.length===1?ce[0]:L([ce[0],w(ce[1])])}function X(Y,P){switch(Y.type){case"SymbolNode":return Y;case"ConstantNode":switch(typeof Y.value){case"number":return I(Y.value,P);case"bigint":return I(Y.value,P);case"string":return Y.value;default:if(!isNaN(Y.value))return I(Y.value,P)}return Y;case"FunctionNode":if(n[Y.name]&&n[Y.name].rawArgs)return Y;{var L=["add","multiply"];if(!L.includes(Y.name)){var Z=Y.args.map(ve=>X(ve,P));if(!Z.some(Ar))try{return E(Y.name,Z,P)}catch{}if(Y.name==="size"&&Z.length===1&&cs(Z[0])){for(var U=[],ce=Z[0];cs(ce);)U.push(ce.items.length),ce=ce.items[0];return i(U)}return new d(Y.name,Z.map(T))}}case"OperatorNode":{var me=Y.fn.toString(),se,Q,he=A(Y);if(zn(Y)&&Y.isUnary())se=[X(Y.args[0],P)],Ar(se[0])?Q=he(se):Q=E(me,se,P);else if(C(Y,P.context))if(se=S(Y,P.context),se=se.map(ve=>X(ve,P)),y(me,P.context)){for(var ke=[],be=[],ee=0;ee<se.length;ee++)Ar(se[ee])?be.push(se[ee]):ke.push(se[ee]);ke.length>1?(Q=q(me,ke,he,P),be.unshift(Q),Q=q(me,be,he,P)):Q=q(me,se,he,P)}else Q=q(me,se,he,P);else se=Y.args.map(ve=>X(ve,P)),Q=q(me,se,he,P);return Q}case"ParenthesisNode":return X(Y.content,P);case"AccessorNode":return j(X(Y.object,P),X(Y.index,P),P);case"ArrayNode":{var ae=Y.items.map(ve=>X(ve,P));return ae.some(Ar)?new l(ae.map(T)):i(ae)}case"IndexNode":return new f(Y.dimensions.map(ve=>x(ve,P)));case"ObjectNode":{var le={};for(var pe in Y.properties)le[pe]=x(Y.properties[pe],P);return new m(le)}case"AssignmentNode":case"BlockNode":case"FunctionAssignmentNode":case"RangeNode":case"ConditionalNode":default:throw new Error("Unimplemented node type in simplifyConstant: ".concat(Y.type))}}return x});var Kre="simplifyCore",zke=["typed","parse","equal","isZero","add","subtract","multiply","divide","pow","AccessorNode","ArrayNode","ConstantNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","ParenthesisNode","SymbolNode"],NB=F(Kre,zke,r=>{var{typed:t,parse:e,equal:n,isZero:i,add:o,subtract:s,multiply:a,divide:l,pow:c,AccessorNode:d,ArrayNode:f,ConstantNode:m,FunctionNode:p,IndexNode:b,ObjectNode:y,OperatorNode:C,ParenthesisNode:S,SymbolNode:A}=r,x=new m(0),M=new m(1),E=new m(!0),w=new m(!1);function T(R){return zn(R)&&["and","not","or"].includes(R.op)}var{hasProperty:k,isCommutative:I}=uv({FunctionNode:p,OperatorNode:C,SymbolNode:A});function O(R){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},q=j?j.context:void 0;if(k(R,"trivial",q)){if(da(R)&&R.args.length===1)return O(R.args[0],j);var X=!1,Y=0;if(R.forEach(be=>{++Y,Y===1&&(X=O(be,j))}),Y===1)return X}var P=R;if(da(P)){var L=WX(P.name);if(L){if(P.args.length>2&&k(P,"associative",q))for(;P.args.length>2;){var Z=P.args.pop(),U=P.args.pop();P.args.push(new C(L,P.name,[Z,U]))}P=new C(L,P.name,P.args)}else return new p(O(P.fn),P.args.map(be=>O(be,j)))}if(zn(P)&&P.isUnary()){var ce=O(P.args[0],j);if(P.op==="~"&&zn(ce)&&ce.isUnary()&&ce.op==="~"||P.op==="not"&&zn(ce)&&ce.isUnary()&&ce.op==="not"&&T(ce.args[0]))return ce.args[0];var me=!0;if(P.op==="-"&&zn(ce)&&(ce.isBinary()&&ce.fn==="subtract"&&(P=new C("-","subtract",[ce.args[1],ce.args[0]]),me=!1),ce.isUnary()&&ce.op==="-"))return ce.args[0];if(me)return new C(P.op,P.fn,[ce])}if(zn(P)&&P.isBinary()){var se=O(P.args[0],j),Q=O(P.args[1],j);if(P.op==="+"){if(xr(se)&&i(se.value))return Q;if(xr(Q)&&i(Q.value))return se;zn(Q)&&Q.isUnary()&&Q.op==="-"&&(Q=Q.args[0],P=new C("-","subtract",[se,Q]))}if(P.op==="-")return zn(Q)&&Q.isUnary()&&Q.op==="-"?O(new C("+","add",[se,Q.args[0]]),j):xr(se)&&i(se.value)?O(new C("-","unaryMinus",[Q])):xr(Q)&&i(Q.value)?se:new C(P.op,P.fn,[se,Q]);if(P.op==="*"){if(xr(se)){if(i(se.value))return x;if(n(se.value,1))return Q}if(xr(Q)){if(i(Q.value))return x;if(n(Q.value,1))return se;if(I(P,q))return new C(P.op,P.fn,[Q,se],P.implicit)}return new C(P.op,P.fn,[se,Q],P.implicit)}if(P.op==="/")return xr(se)&&i(se.value)?x:xr(Q)&&n(Q.value,1)?se:new C(P.op,P.fn,[se,Q]);if(P.op==="^"&&xr(Q)){if(i(Q.value))return M;if(n(Q.value,1))return se}if(P.op==="and"){if(xr(se))if(se.value){if(T(Q))return Q;if(xr(Q))return Q.value?E:w}else return w;if(xr(Q))if(Q.value){if(T(se))return se}else return w}if(P.op==="or"){if(xr(se)){if(se.value)return E;if(T(Q))return Q}if(xr(Q)){if(Q.value)return E;if(T(se))return se}}return new C(P.op,P.fn,[se,Q])}if(zn(P))return new C(P.op,P.fn,P.args.map(be=>O(be,j)));if(cs(P))return new f(P.items.map(be=>O(be,j)));if(rl(P))return new d(O(P.object,j),O(P.index,j));if(Fl(P))return new b(P.dimensions.map(be=>O(be,j)));if(Pf(P)){var he={};for(var ke in P.properties)he[ke]=O(P.properties[ke],j);return new y(he)}return P}return t(Kre,{Node:O,"Node,Object":O})});var jke="resolve",Hke=["typed","parse","ConstantNode","FunctionNode","OperatorNode","ParenthesisNode"],OB=F(jke,Hke,r=>{var{typed:t,parse:e,ConstantNode:n,FunctionNode:i,OperatorNode:o,ParenthesisNode:s}=r;function a(l,c){var d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:new Set;if(!c)return l;if(In(l)){if(d.has(l.name)){var f=Array.from(d).join(", ");throw new ReferenceError("recursive loop of variable definitions among {".concat(f,"}"))}var m=c.get(l.name);if(Ar(m)){var p=new Set(d);return p.add(l.name),a(m,c,p)}else return typeof m=="number"?e(String(m)):m!==void 0?new n(m):l}else if(zn(l)){var b=l.args.map(function(C){return a(C,c,d)});return new o(l.op,l.fn,b,l.implicit)}else{if(us(l))return new s(a(l.content,c,d));if(da(l)){var y=l.args.map(function(C){return a(C,c,d)});return new i(l.name,y)}}return l.map(C=>a(C,c,d))}return t("resolve",{Node:a,"Node, Map | null | undefined":a,"Node, Object":(l,c)=>a(l,xd(c)),"Array | Matrix":t.referToSelf(l=>c=>c.map(d=>l(d))),"Array | Matrix, null | undefined":t.referToSelf(l=>c=>c.map(d=>l(d))),"Array, Object":t.referTo("Array,Map",l=>(c,d)=>l(c,xd(d))),"Matrix, Object":t.referTo("Matrix,Map",l=>(c,d)=>l(c,xd(d))),"Array | Matrix, Map":t.referToSelf(l=>(c,d)=>c.map(f=>l(f,d)))})});var Xre="symbolicEqual",Uke=["parse","simplify","typed","OperatorNode"],FB=F(Xre,Uke,r=>{var{parse:t,simplify:e,typed:n,OperatorNode:i}=r;function o(s,a){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},c=new i("-","subtract",[s,a]),d=e(c,{},l);return xr(d)&&!d.value}return n(Xre,{"Node, Node":o,"Node, Node, Object":o})});var Zre="derivative",qke=["typed","config","parse","simplify","equal","isZero","numeric","ConstantNode","FunctionNode","OperatorNode","ParenthesisNode","SymbolNode"],RB=F(Zre,qke,r=>{var{typed:t,config:e,parse:n,simplify:i,equal:o,isZero:s,numeric:a,ConstantNode:l,FunctionNode:c,OperatorNode:d,ParenthesisNode:f,SymbolNode:m}=r;function p(M,E){var w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{simplify:!0},T={};S(T,M,E.name);var k=A(M,T);return w.simplify?i(k):k}function b(M){var E=n(M);if(!E.isSymbolNode)throw new TypeError("Invalid variable. "+"Cannot parse ".concat(JSON.stringify(M)," into a variable in function derivative"));return E}var y=t(Zre,{"Node, SymbolNode":p,"Node, SymbolNode, Object":p,"Node, string":(M,E)=>p(M,b(E)),"Node, string, Object":(M,E,w)=>p(M,b(E),w)});y._simplify=!0,y.toTex=function(M){return C.apply(null,M.args)};var C=t("_derivTex",{"Node, SymbolNode":function(E,w){return xr(E)&&Rr(E.value)==="string"?C(n(E.value).toString(),w.toString(),1):C(E.toTex(),w.toString(),1)},"Node, ConstantNode":function(E,w){if(Rr(w.value)==="string")return C(E,n(w.value));throw new Error("The second parameter to 'derivative' is a non-string constant")},"Node, SymbolNode, ConstantNode":function(E,w,T){return C(E.toString(),w.name,T.value)},"string, string, number":function(E,w,T){var k;return T===1?k="{d\\over d"+w+"}":k="{d^{"+T+"}\\over d"+w+"^{"+T+"}}",k+"\\left[".concat(E,"\\right]")}}),S=t("constTag",{"Object, ConstantNode, string":function(E,w){return E[w]=!0,!0},"Object, SymbolNode, string":function(E,w,T){return w.name!==T?(E[w]=!0,!0):!1},"Object, ParenthesisNode, string":function(E,w,T){return S(E,w.content,T)},"Object, FunctionAssignmentNode, string":function(E,w,T){return w.params.includes(T)?S(E,w.expr,T):(E[w]=!0,!0)},"Object, FunctionNode | OperatorNode, string":function(E,w,T){if(w.args.length>0){for(var k=S(E,w.args[0],T),I=1;I<w.args.length;++I)k=S(E,w.args[I],T)&&k;if(k)return E[w]=!0,!0}return!1}}),A=t("_derivative",{"ConstantNode, Object":function(E){return x(0)},"SymbolNode, Object":function(E,w){return w[E]!==void 0?x(0):x(1)},"ParenthesisNode, Object":function(E,w){return new f(A(E.content,w))},"FunctionAssignmentNode, Object":function(E,w){return w[E]!==void 0?x(0):A(E.expr,w)},"FunctionNode, Object":function(E,w){if(w[E]!==void 0)return x(0);var T=E.args[0],k,I=!1,O=!1,R;switch(E.name){case"cbrt":I=!0,R=new d("*","multiply",[x(3),new d("^","pow",[T,new d("/","divide",[x(2),x(3)])])]);break;case"sqrt":case"nthRoot":if(E.args.length===1)I=!0,R=new d("*","multiply",[x(2),new c("sqrt",[T])]);else if(E.args.length===2)return k=new d("/","divide",[x(1),E.args[1]]),w[k]=w[E.args[1]],A(new d("^","pow",[T,k]),w);break;case"log10":k=x(10);case"log":if(!k&&E.args.length===1)R=T.clone(),I=!0;else if(E.args.length===1&&k||E.args.length===2&&w[E.args[1]]!==void 0)R=new d("*","multiply",[T.clone(),new c("log",[k||E.args[1]])]),I=!0;else if(E.args.length===2)return A(new d("/","divide",[new c("log",[T]),new c("log",[E.args[1]])]),w);break;case"pow":if(E.args.length===2)return w[k]=w[E.args[1]],A(new d("^","pow",[T,E.args[1]]),w);break;case"exp":R=new c("exp",[T.clone()]);break;case"sin":R=new c("cos",[T.clone()]);break;case"cos":R=new d("-","unaryMinus",[new c("sin",[T.clone()])]);break;case"tan":R=new d("^","pow",[new c("sec",[T.clone()]),x(2)]);break;case"sec":R=new d("*","multiply",[E,new c("tan",[T.clone()])]);break;case"csc":O=!0,R=new d("*","multiply",[E,new c("cot",[T.clone()])]);break;case"cot":O=!0,R=new d("^","pow",[new c("csc",[T.clone()]),x(2)]);break;case"asin":I=!0,R=new c("sqrt",[new d("-","subtract",[x(1),new d("^","pow",[T.clone(),x(2)])])]);break;case"acos":I=!0,O=!0,R=new c("sqrt",[new d("-","subtract",[x(1),new d("^","pow",[T.clone(),x(2)])])]);break;case"atan":I=!0,R=new d("+","add",[new d("^","pow",[T.clone(),x(2)]),x(1)]);break;case"asec":I=!0,R=new d("*","multiply",[new c("abs",[T.clone()]),new c("sqrt",[new d("-","subtract",[new d("^","pow",[T.clone(),x(2)]),x(1)])])]);break;case"acsc":I=!0,O=!0,R=new d("*","multiply",[new c("abs",[T.clone()]),new c("sqrt",[new d("-","subtract",[new d("^","pow",[T.clone(),x(2)]),x(1)])])]);break;case"acot":I=!0,O=!0,R=new d("+","add",[new d("^","pow",[T.clone(),x(2)]),x(1)]);break;case"sinh":R=new c("cosh",[T.clone()]);break;case"cosh":R=new c("sinh",[T.clone()]);break;case"tanh":R=new d("^","pow",[new c("sech",[T.clone()]),x(2)]);break;case"sech":O=!0,R=new d("*","multiply",[E,new c("tanh",[T.clone()])]);break;case"csch":O=!0,R=new d("*","multiply",[E,new c("coth",[T.clone()])]);break;case"coth":O=!0,R=new d("^","pow",[new c("csch",[T.clone()]),x(2)]);break;case"asinh":I=!0,R=new c("sqrt",[new d("+","add",[new d("^","pow",[T.clone(),x(2)]),x(1)])]);break;case"acosh":I=!0,R=new c("sqrt",[new d("-","subtract",[new d("^","pow",[T.clone(),x(2)]),x(1)])]);break;case"atanh":I=!0,R=new d("-","subtract",[x(1),new d("^","pow",[T.clone(),x(2)])]);break;case"asech":I=!0,O=!0,R=new d("*","multiply",[T.clone(),new c("sqrt",[new d("-","subtract",[x(1),new d("^","pow",[T.clone(),x(2)])])])]);break;case"acsch":I=!0,O=!0,R=new d("*","multiply",[new c("abs",[T.clone()]),new c("sqrt",[new d("+","add",[new d("^","pow",[T.clone(),x(2)]),x(1)])])]);break;case"acoth":I=!0,O=!0,R=new d("-","subtract",[x(1),new d("^","pow",[T.clone(),x(2)])]);break;case"abs":R=new d("/","divide",[new c(new m("abs"),[T.clone()]),T.clone()]);break;case"gamma":default:throw new Error('Cannot process function "'+E.name+'" in derivative: the function is not supported, undefined, or the number of arguments passed to it are not supported')}var j,q;I?(j="/",q="divide"):(j="*",q="multiply");var X=A(T,w);return O&&(X=new d("-","unaryMinus",[X])),new d(j,q,[X,R])},"OperatorNode, Object":function(E,w){if(w[E]!==void 0)return x(0);if(E.op==="+")return new d(E.op,E.fn,E.args.map(function(P){return A(P,w)}));if(E.op==="-"){if(E.isUnary())return new d(E.op,E.fn,[A(E.args[0],w)]);if(E.isBinary())return new d(E.op,E.fn,[A(E.args[0],w),A(E.args[1],w)])}if(E.op==="*"){var T=E.args.filter(function(P){return w[P]!==void 0});if(T.length>0){var k=E.args.filter(function(P){return w[P]===void 0}),I=k.length===1?k[0]:new d("*","multiply",k),O=T.concat(A(I,w));return new d("*","multiply",O)}return new d("+","add",E.args.map(function(P){return new d("*","multiply",E.args.map(function(L){return L===P?A(L,w):L.clone()}))}))}if(E.op==="/"&&E.isBinary()){var R=E.args[0],j=E.args[1];return w[j]!==void 0?new d("/","divide",[A(R,w),j]):w[R]!==void 0?new d("*","multiply",[new d("-","unaryMinus",[R]),new d("/","divide",[A(j,w),new d("^","pow",[j.clone(),x(2)])])]):new d("/","divide",[new d("-","subtract",[new d("*","multiply",[A(R,w),j.clone()]),new d("*","multiply",[R.clone(),A(j,w)])]),new d("^","pow",[j.clone(),x(2)])])}if(E.op==="^"&&E.isBinary()){var q=E.args[0],X=E.args[1];if(w[q]!==void 0)return xr(q)&&(s(q.value)||o(q.value,1))?x(0):new d("*","multiply",[E,new d("*","multiply",[new c("log",[q.clone()]),A(X.clone(),w)])]);if(w[X]!==void 0){if(xr(X)){if(s(X.value))return x(0);if(o(X.value,1))return A(q,w)}var Y=new d("^","pow",[q.clone(),new d("-","subtract",[X,x(1)])]);return new d("*","multiply",[X.clone(),new d("*","multiply",[A(q,w),Y])])}return new d("*","multiply",[new d("^","pow",[q.clone(),X.clone()]),new d("+","add",[new d("*","multiply",[A(q,w),new d("/","divide",[X.clone(),q.clone()])]),new d("*","multiply",[A(X,w),new c("log",[q.clone()])])])])}throw new Error('Cannot process operator "'+E.op+'" in derivative: the operator is not supported, undefined, or the number of arguments passed to it are not supported')}});function x(M,E){return new l(a(M,E||Ms(String(M),e)))}return y});var Qre="rationalize",Wke=["config","typed","equal","isZero","add","subtract","multiply","divide","pow","parse","simplifyConstant","simplifyCore","simplify","?bignumber","?fraction","mathWithTransform","matrix","AccessorNode","ArrayNode","ConstantNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","SymbolNode","ParenthesisNode"],PB=F(Qre,Wke,r=>{var{config:t,typed:e,equal:n,isZero:i,add:o,subtract:s,multiply:a,divide:l,pow:c,parse:d,simplifyConstant:f,simplifyCore:m,simplify:p,fraction:b,bignumber:y,mathWithTransform:C,matrix:S,AccessorNode:A,ArrayNode:x,ConstantNode:M,FunctionNode:E,IndexNode:w,ObjectNode:T,OperatorNode:k,SymbolNode:I,ParenthesisNode:O}=r;function R(P){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,U=q(),ce=j(P,L,!0,U.firstRules),me=ce.variables.length,se={exactFractions:!1},Q={exactFractions:!0};if(P=ce.expression,me>=1){P=X(P);var he,ke,be=!0,ee=!1;P=p(P,U.firstRules,{},se);for(var ae;ke=be?U.distrDivRules:U.sucDivRules,P=p(P,ke,{},Q),be=!be,ae=P.toString(),ae!==he;)ee=!0,he=ae;ee&&(P=p(P,U.firstRulesAgain,{},se)),P=p(P,U.finalRules,{},se)}var le=[],pe={};return P.type==="OperatorNode"&&P.isBinary()&&P.op==="/"?(me===1&&(P.args[0]=Y(P.args[0],le),P.args[1]=Y(P.args[1])),Z&&(pe.numerator=P.args[0],pe.denominator=P.args[1])):(me===1&&(P=Y(P,le)),Z&&(pe.numerator=P,pe.denominator=null)),Z?(pe.coefficients=le,pe.variables=ce.variables,pe.expression=P,pe):P}return e(Qre,{Node:R,"Node, boolean":(P,L)=>R(P,{},L),"Node, Object":R,"Node, Object, boolean":R});function j(P,L,Z,U){var ce=[],me=p(P,U,L,{exactFractions:!1});Z=!!Z;var se="+-*"+(Z?"/":"");he(me);var Q={};return Q.expression=me,Q.variables=ce,Q;function he(ke){var be=ke.type;if(be==="FunctionNode")throw new Error("There is an unsolved function call");if(be==="OperatorNode")if(ke.op==="^"){if(ke.args[1].type!=="ConstantNode"||!pt(parseFloat(ke.args[1].value)))throw new Error("There is a non-integer exponent");he(ke.args[0])}else{if(!se.includes(ke.op))throw new Error("Operator "+ke.op+" invalid in polynomial expression");for(var ee=0;ee<ke.args.length;ee++)he(ke.args[ee])}else if(be==="SymbolNode"){var ae=ke.name,le=ce.indexOf(ae);le===-1&&ce.push(ae)}else if(be==="ParenthesisNode")he(ke.content);else if(be!=="ConstantNode")throw new Error("type "+be+" is not allowed in polynomial expression")}}function q(){var P=[m,{l:"n+n",r:"2*n"},{l:"n+-n",r:"0"},f,{l:"n*(n1^-1)",r:"n/n1"},{l:"n*n1^-n2",r:"n/n1^n2"},{l:"n1^-1",r:"1/n1"},{l:"n*(n1/n2)",r:"(n*n1)/n2"},{l:"1*n",r:"n"}],L=[{l:"(-n1)/(-n2)",r:"n1/n2"},{l:"(-n1)*(-n2)",r:"n1*n2"},{l:"n1--n2",r:"n1+n2"},{l:"n1-n2",r:"n1+(-n2)"},{l:"(n1+n2)*n3",r:"(n1*n3 + n2*n3)"},{l:"n1*(n2+n3)",r:"(n1*n2+n1*n3)"},{l:"c1*n + c2*n",r:"(c1+c2)*n"},{l:"c1*n + n",r:"(c1+1)*n"},{l:"c1*n - c2*n",r:"(c1-c2)*n"},{l:"c1*n - n",r:"(c1-1)*n"},{l:"v/c",r:"(1/c)*v"},{l:"v/-c",r:"-(1/c)*v"},{l:"-v*-c",r:"c*v"},{l:"-v*c",r:"-c*v"},{l:"v*-c",r:"-c*v"},{l:"v*c",r:"c*v"},{l:"-(-n1*n2)",r:"(n1*n2)"},{l:"-(n1*n2)",r:"(-n1*n2)"},{l:"-(-n1+n2)",r:"(n1-n2)"},{l:"-(n1+n2)",r:"(-n1-n2)"},{l:"(n1^n2)^n3",r:"(n1^(n2*n3))"},{l:"-(-n1/n2)",r:"(n1/n2)"},{l:"-(n1/n2)",r:"(-n1/n2)"}],Z=[{l:"(n1/n2 + n3/n4)",r:"((n1*n4 + n3*n2)/(n2*n4))"},{l:"(n1/n2 + n3)",r:"((n1 + n3*n2)/n2)"},{l:"(n1 + n2/n3)",r:"((n1*n3 + n2)/n3)"}],U=[{l:"(n1/(n2/n3))",r:"((n1*n3)/n2)"},{l:"(n1/n2/n3)",r:"(n1/(n2*n3))"}],ce={};return ce.firstRules=P.concat(L,U),ce.distrDivRules=Z,ce.sucDivRules=U,ce.firstRulesAgain=P.concat(L),ce.finalRules=[m,{l:"n*-n",r:"-n^2"},{l:"n*n",r:"n^2"},f,{l:"n*-n^n1",r:"-n^(n1+1)"},{l:"n*n^n1",r:"n^(n1+1)"},{l:"n^n1*-n^n2",r:"-n^(n1+n2)"},{l:"n^n1*n^n2",r:"n^(n1+n2)"},{l:"n^n1*-n",r:"-n^(n1+1)"},{l:"n^n1*n",r:"n^(n1+1)"},{l:"n^n1/-n",r:"-n^(n1-1)"},{l:"n^n1/n",r:"n^(n1-1)"},{l:"n/-n^n1",r:"-n^(1-n1)"},{l:"n/n^n1",r:"n^(1-n1)"},{l:"n^n1/-n^n2",r:"n^(n1-n2)"},{l:"n^n1/n^n2",r:"n^(n1-n2)"},{l:"n1+(-n2*n3)",r:"n1-n2*n3"},{l:"v*(-c)",r:"-c*v"},{l:"n1+-n2",r:"n1-n2"},{l:"v*c",r:"c*v"},{l:"(n1^n2)^n3",r:"(n1^(n2*n3))"}],ce}function X(P,L,Z){var U=P.type,ce=arguments.length>1;if(U==="OperatorNode"&&P.isBinary()){var me=!1,se;if(P.op==="^"&&(P.args[0].type==="ParenthesisNode"||P.args[0].type==="OperatorNode")&&P.args[1].type==="ConstantNode"&&(se=parseFloat(P.args[1].value),me=se>=2&&pt(se)),me){if(se>2){var Q=P.args[0],he=new k("^","pow",[P.args[0].cloneDeep(),new M(se-1)]);P=new k("*","multiply",[Q,he])}else P=new k("*","multiply",[P.args[0],P.args[0].cloneDeep()]);ce&&(Z==="content"?L.content=P:L.args[Z]=P)}}if(U==="ParenthesisNode")X(P.content,P,"content");else if(U!=="ConstantNode"&&U!=="SymbolNode")for(var ke=0;ke<P.args.length;ke++)X(P.args[ke],P,ke);if(!ce)return P}function Y(P,L){L===void 0&&(L=[]),L[0]=0;var Z={};Z.cte=1,Z.oper="+",Z.fire="";var U=0,ce="";ae(P,null,Z),U=L.length-1;for(var me=!0,se,Q=U;Q>=0;Q--)if(L[Q]!==0){var he=new M(me?L[Q]:Math.abs(L[Q])),ke=L[Q]<0?"-":"+";if(Q>0){var be=new I(ce);if(Q>1){var ee=new M(Q);be=new k("^","pow",[be,ee])}L[Q]===-1&&me?he=new k("-","unaryMinus",[be]):Math.abs(L[Q])===1?he=be:he=new k("*","multiply",[he,be])}me?se=he:ke==="+"?se=new k("+","add",[se,he]):se=new k("-","subtract",[se,he]),me=!1}if(me)return new M(0);return se;function ae(le,pe,ve){var Ee=le.type;if(Ee==="FunctionNode")throw new Error("There is an unsolved function call");if(Ee==="OperatorNode"){if(!"+-*^".includes(le.op))throw new Error("Operator "+le.op+" invalid");if(pe!==null){if((le.fn==="unaryMinus"||le.fn==="pow")&&pe.fn!=="add"&&pe.fn!=="subtract"&&pe.fn!=="multiply")throw new Error("Invalid "+le.op+" placing");if((le.fn==="subtract"||le.fn==="add"||le.fn==="multiply")&&pe.fn!=="add"&&pe.fn!=="subtract")throw new Error("Invalid "+le.op+" placing");if((le.fn==="subtract"||le.fn==="add"||le.fn==="unaryMinus")&&ve.noFil!==0)throw new Error("Invalid "+le.op+" placing")}(le.op==="^"||le.op==="*")&&(ve.fire=le.op);for(var Ie=0;Ie<le.args.length;Ie++)le.fn==="unaryMinus"&&(ve.oper="-"),(le.op==="+"||le.fn==="subtract")&&(ve.fire="",ve.cte=1,ve.oper=Ie===0?"+":le.op),ve.noFil=Ie,ae(le.args[Ie],le,ve)}else if(Ee==="SymbolNode"){if(le.name!==ce&&ce!=="")throw new Error("There is more than one variable");if(ce=le.name,pe===null){L[1]=1;return}if(pe.op==="^"&&ve.noFil!==0)throw new Error("In power the variable should be the first parameter");if(pe.op==="*"&&ve.noFil!==1)throw new Error("In multiply the variable should be the second parameter");(ve.fire===""||ve.fire==="*")&&(U<1&&(L[1]=0),L[1]+=ve.cte*(ve.oper==="+"?1:-1),U=Math.max(1,U))}else if(Ee==="ConstantNode"){var Ve=parseFloat(le.value);if(pe===null){L[0]=Ve;return}if(pe.op==="^"){if(ve.noFil!==1)throw new Error("Constant cannot be powered");if(!pt(Ve)||Ve<=0)throw new Error("Non-integer exponent is not allowed");for(var te=U+1;te<Ve;te++)L[te]=0;Ve>U&&(L[Ve]=0),L[Ve]+=ve.cte*(ve.oper==="+"?1:-1),U=Math.max(Ve,U);return}ve.cte=Ve,ve.fire===""&&(L[0]+=ve.cte*(ve.oper==="+"?1:-1))}else throw new Error("Type "+Ee+" is not allowed")}}});var Jre="zpk2tf",$ke=["typed","add","multiply","Complex","number"],LB=F(Jre,$ke,r=>{var{typed:t,add:e,multiply:n,Complex:i,number:o}=r;return t(Jre,{"Array,Array,number":function(c,d,f){return s(c,d,f)},"Array,Array":function(c,d){return s(c,d,1)},"Matrix,Matrix,number":function(c,d,f){return s(c.valueOf(),d.valueOf(),f)},"Matrix,Matrix":function(c,d){return s(c.valueOf(),d.valueOf(),1)}});function s(l,c,d){l.some(A=>A.type==="BigNumber")&&(l=l.map(A=>o(A))),c.some(A=>A.type==="BigNumber")&&(c=c.map(A=>o(A)));for(var f=[i(1,0)],m=[i(1,0)],p=0;p<l.length;p++){var b=l[p];typeof b=="number"&&(b=i(b,0)),f=a(f,[i(1,0),i(-b.re,-b.im)])}for(var y=0;y<c.length;y++){var C=c[y];typeof C=="number"&&(C=i(C,0)),m=a(m,[i(1,0),i(-C.re,-C.im)])}for(var S=0;S<f.length;S++)f[S]=n(f[S],d);return[f,m]}function a(l,c){for(var d=[],f=0;f<l.length+c.length-1;f++){d[f]=i(0,0);for(var m=0;m<l.length;m++)f-m>=0&&f-m<c.length&&(d[f]=e(d[f],n(l[m],c[f-m])))}return d}});var ene="freqz",Gke=["typed","add","multiply","Complex","divide","matrix"],BB=F(ene,Gke,r=>{var{typed:t,add:e,multiply:n,Complex:i,divide:o,matrix:s}=r;return t(ene,{"Array, Array":function(d,f){var m=l(512);return a(d,f,m)},"Array, Array, Array":function(d,f,m){return a(d,f,m)},"Array, Array, number":function(d,f,m){if(m<0)throw new Error("w must be a positive number");var p=l(m);return a(d,f,p)},"Matrix, Matrix":function(d,f){var m=l(512),{w:p,h:b}=a(d.valueOf(),f.valueOf(),m);return{w:s(p),h:s(b)}},"Matrix, Matrix, Matrix":function(d,f,m){var{h:p}=a(d.valueOf(),f.valueOf(),m.valueOf());return{h:s(p),w:s(m)}},"Matrix, Matrix, number":function(d,f,m){if(m<0)throw new Error("w must be a positive number");var p=l(m),{h:b}=a(d.valueOf(),f.valueOf(),p);return{h:s(b),w:s(p)}}});function a(c,d,f){for(var m=[],p=[],b=0;b<f.length;b++){for(var y=i(0,0),C=i(0,0),S=0;S<c.length;S++)y=e(y,n(c[S],i(Math.cos(-S*f[b]),Math.sin(-S*f[b]))));for(var A=0;A<d.length;A++)C=e(C,n(d[A],i(Math.cos(-A*f[b]),Math.sin(-A*f[b]))));m.push(y),p.push(C)}for(var x=[],M=0;M<m.length;M++)x.push(o(m[M],p[M]));return{h:x,w:f}}function l(c){for(var d=[],f=0;f<c;f++)d.push(f/c*Math.PI);return d}});var Yke="reviver",Kke=["classes"],VB=F(Yke,Kke,r=>{var{classes:t}=r;return function(n,i){var o=t[i&&i.mathjs];return o&&typeof o.fromJSON=="function"?o.fromJSON(i):i}});var Xke="replacer",Zke=[],zB=F(Xke,Zke,()=>function(t,e){return typeof e=="number"&&(!isFinite(e)||isNaN(e))?{mathjs:"number",value:String(e)}:typeof e=="bigint"?{mathjs:"bigint",value:String(e)}:e});var tne="13.2.3";var jB=F("true",[],()=>!0),HB=F("false",[],()=>!1),UB=F("null",[],()=>null),qB=ol("Infinity",["config","?BigNumber"],r=>{var{config:t,BigNumber:e}=r;return t.number==="BigNumber"?new e(1/0):1/0}),WB=ol("NaN",["config","?BigNumber"],r=>{var{config:t,BigNumber:e}=r;return t.number==="BigNumber"?new e(NaN):NaN}),$B=ol("pi",["config","?BigNumber"],r=>{var{config:t,BigNumber:e}=r;return t.number==="BigNumber"?Ly(e):FG}),GB=ol("tau",["config","?BigNumber"],r=>{var{config:t,BigNumber:e}=r;return t.number==="BigNumber"?rX(e):RG}),YB=ol("e",["config","?BigNumber"],r=>{var{config:t,BigNumber:e}=r;return t.number==="BigNumber"?eX(e):PG}),KB=ol("phi",["config","?BigNumber"],r=>{var{config:t,BigNumber:e}=r;return t.number==="BigNumber"?tX(e):LG}),XB=ol("LN2",["config","?BigNumber"],r=>{var{config:t,BigNumber:e}=r;return t.number==="BigNumber"?new e(2).ln():Math.LN2}),ZB=ol("LN10",["config","?BigNumber"],r=>{var{config:t,BigNumber:e}=r;return t.number==="BigNumber"?new e(10).ln():Math.LN10}),QB=ol("LOG2E",["config","?BigNumber"],r=>{var{config:t,BigNumber:e}=r;return t.number==="BigNumber"?new e(1).div(new e(2).ln()):Math.LOG2E}),JB=ol("LOG10E",["config","?BigNumber"],r=>{var{config:t,BigNumber:e}=r;return t.number==="BigNumber"?new e(1).div(new e(10).ln()):Math.LOG10E}),e3=ol("SQRT1_2",["config","?BigNumber"],r=>{var{config:t,BigNumber:e}=r;return t.number==="BigNumber"?new e("0.5").sqrt():Math.SQRT1_2}),t3=ol("SQRT2",["config","?BigNumber"],r=>{var{config:t,BigNumber:e}=r;return t.number==="BigNumber"?new e(2).sqrt():Math.SQRT2}),r3=ol("i",["Complex"],r=>{var{Complex:t}=r;return t.I});var n3=F("version",[],()=>tne);function ol(r,t,e){return F(r,t,e,{recreateOnConfigChange:!0})}var i3=Ir("speedOfLight","299792458","m s^-1"),o3=Ir("gravitationConstant","6.67430e-11","m^3 kg^-1 s^-2"),s3=Ir("planckConstant","6.62607015e-34","J s"),a3=Ir("reducedPlanckConstant","1.0545718176461565e-34","J s"),l3=Ir("magneticConstant","1.25663706212e-6","N A^-2"),c3=Ir("electricConstant","8.8541878128e-12","F m^-1"),u3=Ir("vacuumImpedance","376.730313667","ohm"),d3=Ir("coulomb","8.987551792261171e9","N m^2 C^-2"),f3=Ir("elementaryCharge","1.602176634e-19","C"),h3=Ir("bohrMagneton","9.2740100783e-24","J T^-1"),m3=Ir("conductanceQuantum","7.748091729863649e-5","S"),p3=Ir("inverseConductanceQuantum","12906.403729652257","ohm"),g3=Ir("magneticFluxQuantum","2.0678338484619295e-15","Wb"),v3=Ir("nuclearMagneton","5.0507837461e-27","J T^-1"),b3=Ir("klitzing","25812.807459304513","ohm");var y3=Ir("bohrRadius","5.29177210903e-11","m"),_3=Ir("classicalElectronRadius","2.8179403262e-15","m"),x3=Ir("electronMass","9.1093837015e-31","kg"),w3=Ir("fermiCoupling","1.1663787e-5","GeV^-2"),C3=AD("fineStructure",.0072973525693),S3=Ir("hartreeEnergy","4.3597447222071e-18","J"),D3=Ir("protonMass","1.67262192369e-27","kg"),E3=Ir("deuteronMass","3.3435830926e-27","kg"),M3=Ir("neutronMass","1.6749271613e-27","kg"),A3=Ir("quantumOfCirculation","3.6369475516e-4","m^2 s^-1"),T3=Ir("rydberg","10973731.568160","m^-1"),I3=Ir("thomsonCrossSection","6.6524587321e-29","m^2"),k3=AD("weakMixingAngle",.2229),N3=AD("efimovFactor",22.7),O3=Ir("atomicMass","1.66053906660e-27","kg"),F3=Ir("avogadro","6.02214076e23","mol^-1"),R3=Ir("boltzmann","1.380649e-23","J K^-1"),P3=Ir("faraday","96485.33212331001","C mol^-1"),L3=Ir("firstRadiation","3.7417718521927573e-16","W m^2"),B3=Ir("loschmidt","2.686780111798444e25","m^-3"),V3=Ir("gasConstant","8.31446261815324","J K^-1 mol^-1"),z3=Ir("molarPlanckConstant","3.990312712893431e-10","J s mol^-1"),j3=Ir("molarVolume","0.022413969545014137","m^3 mol^-1"),H3=AD("sackurTetrode",-1.16487052358),U3=Ir("secondRadiation","0.014387768775039337","m K"),q3=Ir("stefanBoltzmann","5.67037441918443e-8","W m^-2 K^-4"),W3=Ir("wienDisplacement","2.897771955e-3","m K"),$3=Ir("molarMass","0.99999999965e-3","kg mol^-1"),G3=Ir("molarMassC12","11.9999999958e-3","kg mol^-1"),Y3=Ir("gravity","9.80665","m s^-2"),K3=Ir("planckLength","1.616255e-35","m"),X3=Ir("planckMass","2.176435e-8","kg"),Z3=Ir("planckTime","5.391245e-44","s"),Q3=Ir("planckCharge","1.87554603778e-18","C"),J3=Ir("planckTemperature","1.416785e+32","K");function Ir(r,t,e){var n=["config","Unit","BigNumber"];return F(r,n,i=>{var{config:o,Unit:s,BigNumber:a}=i,l=o.number==="BigNumber"?new a(t):parseFloat(t),c=new s(l,e);return c.fixPrefix=!0,c})}function AD(r,t){var e=["config","BigNumber"];return F(r,e,n=>{var{config:i,BigNumber:o}=n;return i.number==="BigNumber"?new o(t):t})}var Qke="apply",Jke=["typed","isInteger"],eV=F(Qke,Jke,r=>{var{typed:t,isInteger:e}=r,n=Rm({typed:t,isInteger:e});return t("apply",{"...any":function(o){var s=o[1];Bt(s)?o[1]=s-1:It(s)&&(o[1]=s.minus(1));try{return n.apply(null,o)}catch(a){throw Pn(a)}}})},{isTransformFunction:!0});var eNe="column",tNe=["typed","Index","matrix","range"],tV=F(eNe,tNe,r=>{var{typed:t,Index:e,matrix:n,range:i}=r,o=Dy({typed:t,Index:e,matrix:n,range:i});return t("column",{"...any":function(a){var l=a.length-1,c=a[l];Bt(c)&&(a[l]=c-1);try{return o.apply(null,a)}catch(d){throw Pn(d)}}})},{isTransformFunction:!0});function dv(r,t,e){var n=r.filter(function(l){return In(l)&&!(l.name in t)&&!e.has(l.name)})[0];if(!n)throw new Error('No undefined variable found in inline expression "'+r+'"');var i=n.name,o=new Map,s=new Hg(e,o,new Set([i])),a=r.compile();return function(c){return o.set(i,c),a.evaluate(s)}}var rNe="transformCallback",nNe=["typed"],fv=F(rNe,nNe,r=>{var{typed:t}=r;return function(n,i){return t.isTypedFunction(n)?e(n,i):rne(n,n.length,i)};function e(n,i){var o=Object.fromEntries(Object.entries(n.signatures).map(s=>{var[a,l]=s,c=a.split(",").length;return t.isTypedFunction(l)?[a,e(l,i)]:[a,rne(l,c,i)]}));return typeof n.name=="string"?t(n.name,o):t(o)}});function rne(r,t,e){return t===e?r:t===e+1?function(){for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];var s=i.slice(0,e),a=nne(i[e]);return r(...s,a)}:t>e+1?function(){for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];var s=i.slice(0,e),a=nne(i[e]),l=i.slice(e+1);return r(...s,a,...l)}:r}function nne(r){return r.map(t=>t+1)}var iNe="filter",oNe=["typed"],rV=F(iNe,oNe,r=>{var{typed:t}=r;function e(i,o,s){var a=Ey({typed:t}),l=fv({typed:t});if(i.length===0)return a();var c=i[0];if(i.length===1)return a(c);var d=i.length-1,f=i[d];return c&&(c=n(c,s)),f&&(In(f)||cu(f)?f=n(f,s):f=dv(f,o,s)),a(c,l(f,d))}e.rawArgs=!0;function n(i,o){return i.compile().evaluate(o)}return e},{isTransformFunction:!0});var sNe="forEach",aNe=["typed"],nV=F(sNe,aNe,r=>{var{typed:t}=r,e=My({typed:t}),n=fv({typed:t});function i(s,a,l){if(s.length===0)return e();var c=s[0];if(s.length===1)return e(c);var d=s.length-1,f=s[d];return c&&(c=o(c,l)),f&&(In(f)||cu(f)?f=o(f,l):f=dv(f,a,l)),e(c,n(f,d))}i.rawArgs=!0;function o(s,a){return s.compile().evaluate(a)}return i},{isTransformFunction:!0});var lNe="index",cNe=["Index","getMatrixDataType"],iV=F(lNe,cNe,r=>{var{Index:t,getMatrixDataType:e}=r;return function(){for(var i=[],o=0,s=arguments.length;o<s;o++){var a=arguments[o];if(Ug(a))a.start--,a.end-=a.step>0?0:2;else if(a&&a.isSet===!0)a=a.map(function(c){return c-1});else if(Gr(a)||_t(a))e(a)!=="boolean"&&(a=a.map(function(c){return c-1}));else if(Bt(a))a--;else if(It(a))a=a.toNumber()-1;else if(typeof a!="string")throw new TypeError("Dimension must be an Array, Matrix, number, string, or Range");i[o]=a}var l=new t;return t.apply(l,i),l}},{isTransformFunction:!0});var uNe="map",dNe=["typed"],oV=F(uNe,dNe,r=>{var{typed:t}=r,e=Ay({typed:t}),n=fv({typed:t});function i(o,s,a){if(o.length===0)return e();if(o.length===1)return e(o[0]);var l=o.length-1,c=o.slice(0,l),d=o[l];return c=c.map(m=>f(m,a)),d&&(In(d)||cu(d)?d=f(d,a):d=dv(d,s,a)),e(...c,n(d,l));function f(m,p){return m.compile().evaluate(p)}}return i.rawArgs=!0,i},{isTransformFunction:!0});function ine(r){return Bt(r)?r-1:It(r)?r.minus(1):r}function one(r){return Bt(r)||It(r)}function Ns(r){if(r.length===2&&Bi(r[0])){r=r.slice();var t=r[1];one(t)&&(r[1]=ine(t))}return r}var fNe="max",hNe=["typed","config","numeric","larger"],sV=F(fNe,hNe,r=>{var{typed:t,config:e,numeric:n,larger:i}=r,o=Ry({typed:t,config:e,numeric:n,larger:i});return t("max",{"...any":function(a){a=Ns(a);try{return o.apply(null,a)}catch(l){throw Pn(l)}}})},{isTransformFunction:!0});var mNe="mean",pNe=["typed","add","divide"],aV=F(mNe,pNe,r=>{var{typed:t,add:e,divide:n}=r,i=jy({typed:t,add:e,divide:n});return t("mean",{"...any":function(s){s=Ns(s);try{return i.apply(null,s)}catch(a){throw Pn(a)}}})},{isTransformFunction:!0});var gNe="min",vNe=["typed","config","numeric","smaller"],lV=F(gNe,vNe,r=>{var{typed:t,config:e,numeric:n,smaller:i}=r,o=Py({typed:t,config:e,numeric:n,smaller:i});return t("min",{"...any":function(a){a=Ns(a);try{return o.apply(null,a)}catch(l){throw Pn(l)}}})},{isTransformFunction:!0});var bNe="range",yNe=["typed","config","?matrix","?bignumber","smaller","smallerEq","larger","largerEq","add","isPositive"],cV=F(bNe,yNe,r=>{var{typed:t,config:e,matrix:n,bignumber:i,smaller:o,smallerEq:s,larger:a,largerEq:l,add:c,isPositive:d}=r,f=Iy({typed:t,config:e,matrix:n,bignumber:i,smaller:o,smallerEq:s,larger:a,largerEq:l,add:c,isPositive:d});return t("range",{"...any":function(p){var b=p.length-1,y=p[b];return typeof y!="boolean"&&p.push(!0),f.apply(null,p)}})},{isTransformFunction:!0});var _Ne="row",xNe=["typed","Index","matrix","range"],uV=F(_Ne,xNe,r=>{var{typed:t,Index:e,matrix:n,range:i}=r,o=ky({typed:t,Index:e,matrix:n,range:i});return t("row",{"...any":function(a){var l=a.length-1,c=a[l];Bt(c)&&(a[l]=c-1);try{return o.apply(null,a)}catch(d){throw Pn(d)}}})},{isTransformFunction:!0});var wNe="subset",CNe=["typed","matrix","zeros","add"],dV=F(wNe,CNe,r=>{var{typed:t,matrix:e,zeros:n,add:i}=r,o=Ny({typed:t,matrix:e,zeros:n,add:i});return t("subset",{"...any":function(a){try{return o.apply(null,a)}catch(l){throw Pn(l)}}})},{isTransformFunction:!0});var SNe="concat",DNe=["typed","matrix","isInteger"],fV=F(SNe,DNe,r=>{var{typed:t,matrix:e,isInteger:n}=r,i=Sy({typed:t,matrix:e,isInteger:n});return t("concat",{"...any":function(s){var a=s.length-1,l=s[a];Bt(l)?s[a]=l-1:It(l)&&(s[a]=l.minus(1));try{return i.apply(null,s)}catch(c){throw Pn(c)}}})},{isTransformFunction:!0});var sne="diff",ENe=["typed","matrix","subtract","number","bignumber"],hV=F(sne,ENe,r=>{var{typed:t,matrix:e,subtract:n,number:i,bignumber:o}=r,s=Ty({typed:t,matrix:e,subtract:n,number:i,bignumber:o});return t(sne,{"...any":function(l){l=Ns(l);try{return s.apply(null,l)}catch(c){throw Pn(c)}}})},{isTransformFunction:!0});var MNe="std",ANe=["typed","map","sqrt","variance"],mV=F(MNe,ANe,r=>{var{typed:t,map:e,sqrt:n,variance:i}=r,o=qy({typed:t,map:e,sqrt:n,variance:i});return t("std",{"...any":function(a){a=Ns(a);try{return o.apply(null,a)}catch(l){throw Pn(l)}}})},{isTransformFunction:!0});var ane="sum",TNe=["typed","config","add","numeric"],pV=F(ane,TNe,r=>{var{typed:t,config:e,add:n,numeric:i}=r,o=Vy({typed:t,config:e,add:n,numeric:i});return t(ane,{"...any":function(a){a=Ns(a);try{return o.apply(null,a)}catch(l){throw Pn(l)}}})},{isTransformFunction:!0});var INe="quantileSeq",kNe=["typed","bignumber","add","subtract","divide","multiply","partitionSelect","compare","isInteger","smaller","smallerEq","larger"],gV=F(INe,kNe,r=>{var{typed:t,bignumber:e,add:n,subtract:i,divide:o,multiply:s,partitionSelect:a,compare:l,isInteger:c,smaller:d,smallerEq:f,larger:m}=r,p=Uy({typed:t,bignumber:e,add:n,subtract:i,divide:o,multiply:s,partitionSelect:a,compare:l,isInteger:c,smaller:d,smallerEq:f,larger:m});return t("quantileSeq",{"Array | Matrix, number | BigNumber":p,"Array | Matrix, number | BigNumber, number":(y,C,S)=>p(y,C,b(S)),"Array | Matrix, number | BigNumber, boolean":p,"Array | Matrix, number | BigNumber, boolean, number":(y,C,S,A)=>p(y,C,S,b(A)),"Array | Matrix, Array | Matrix":p,"Array | Matrix, Array | Matrix, number":(y,C,S)=>p(y,C,b(S)),"Array | Matrix, Array | Matrix, boolean":p,"Array | Matrix, Array | Matrix, boolean, number":(y,C,S,A)=>p(y,C,S,b(A))});function b(y){return Ns([[],y])[1]}},{isTransformFunction:!0});var lne="cumsum",NNe=["typed","add","unaryPlus"],vV=F(lne,NNe,r=>{var{typed:t,add:e,unaryPlus:n}=r,i=zy({typed:t,add:e,unaryPlus:n});return t(lne,{"...any":function(s){if(s.length===2&&Bi(s[0])){var a=s[1];Bt(a)?s[1]=a-1:It(a)&&(s[1]=a.minus(1))}try{return i.apply(null,s)}catch(l){throw Pn(l)}}})},{isTransformFunction:!0});var cne="variance",ONe=["typed","add","subtract","multiply","divide","apply","isNaN"],bV=F(cne,ONe,r=>{var{typed:t,add:e,subtract:n,multiply:i,divide:o,apply:s,isNaN:a}=r,l=Hy({typed:t,add:e,subtract:n,multiply:i,divide:o,apply:s,isNaN:a});return t(cne,{"...any":function(d){d=Ns(d);try{return l.apply(null,d)}catch(f){throw Pn(f)}}})},{isTransformFunction:!0});var une="print",FNe=["typed","matrix","zeros","add"],yV=F(une,FNe,r=>{var{typed:t,matrix:e,zeros:n,add:i}=r,o=Oy({typed:t,matrix:e,zeros:n,add:i});return t(une,{"string, Object | Array":function(l,c){return o(s(l),c)},"string, Object | Array, number | Object":function(l,c,d){return o(s(l),c,d)}});function s(a){return a.replace(KS,l=>{var c=l.slice(1).split("."),d=c.map(function(f){return!isNaN(f)&&f.length>0?parseInt(f)-1:f});return"$"+d.join(".")})}},{isTransformFunction:!0});var RNe="and",PNe=["typed","matrix","zeros","add","equalScalar","not","concat"],_V=F(RNe,PNe,r=>{var{typed:t,matrix:e,equalScalar:n,zeros:i,not:o,concat:s}=r,a=Fy({typed:t,matrix:e,equalScalar:n,zeros:i,not:o,concat:s});function l(c,d,f){var m=c[0].compile().evaluate(f);if(!Bi(m)&&!a(m,!0))return!1;var p=c[1].compile().evaluate(f);return a(m,p)}return l.rawArgs=!0,l},{isTransformFunction:!0});var LNe="or",BNe=["typed","matrix","equalScalar","DenseMatrix","concat"],xV=F(LNe,BNe,r=>{var{typed:t,matrix:e,equalScalar:n,DenseMatrix:i,concat:o}=r,s=Cy({typed:t,matrix:e,equalScalar:n,DenseMatrix:i,concat:o});function a(l,c,d){var f=l[0].compile().evaluate(d);if(!Bi(f)&&s(f,!1))return!0;var m=l[1].compile().evaluate(d);return s(f,m)}return a.rawArgs=!0,a},{isTransformFunction:!0});var VNe="bitAnd",zNe=["typed","matrix","zeros","add","equalScalar","not","concat"],wV=F(VNe,zNe,r=>{var{typed:t,matrix:e,equalScalar:n,zeros:i,not:o,concat:s}=r,a=xy({typed:t,matrix:e,equalScalar:n,zeros:i,not:o,concat:s});function l(c,d,f){var m=c[0].compile().evaluate(f);if(!Bi(m)){if(isNaN(m))return NaN;if(m===0||m===!1)return 0}var p=c[1].compile().evaluate(f);return a(m,p)}return l.rawArgs=!0,l},{isTransformFunction:!0});var jNe="bitOr",HNe=["typed","matrix","equalScalar","DenseMatrix","concat"],CV=F(jNe,HNe,r=>{var{typed:t,matrix:e,equalScalar:n,DenseMatrix:i,concat:o}=r,s=wy({typed:t,matrix:e,equalScalar:n,DenseMatrix:i,concat:o});function a(l,c,d){var f=l[0].compile().evaluate(d);if(!Bi(f)){if(isNaN(f))return NaN;if(f===-1)return-1;if(f===!0)return 1}var m=l[1].compile().evaluate(d);return s(f,m)}return a.rawArgs=!0,a},{isTransformFunction:!0});var ht=zO({config:We}),Ln=UO({}),SV=YB({BigNumber:ht,config:We}),dne=HB({}),fne=C3({BigNumber:ht,config:We}),qf=WO({}),DV=r3({Complex:Ln}),hne=qB({BigNumber:ht,config:We}),mne=ZB({BigNumber:ht,config:We}),pne=JB({BigNumber:ht,config:We}),Gy=GO({}),gne=WB({BigNumber:ht,config:We}),vne=UB({}),bne=KB({BigNumber:ht,config:We}),yne=$O({}),EV=OO({}),_ne=e3({BigNumber:ht,config:We}),xne=H3({BigNumber:ht,config:We}),MV=GB({BigNumber:ht,config:We}),wne=jB({}),Cne=n3({}),Nr=tF({Matrix:Gy}),Sne=N3({BigNumber:ht,config:We}),Dne=XB({BigNumber:ht,config:We}),TD=$B({BigNumber:ht,config:We}),Ene=zB({}),Mne=t3({BigNumber:ht,config:We}),de=NO({BigNumber:ht,Complex:Ln,DenseMatrix:Nr,Fraction:qf}),Ane=k3({BigNumber:ht,config:We}),Os=x2({typed:de}),Tne=yP({Complex:Ln,config:We,typed:de}),Ine=xP({BigNumber:ht,typed:de}),kne=CP({BigNumber:ht,Complex:Ln,config:We,typed:de}),po=w2({typed:de}),Nne=Z2({typed:de}),One=EP({BigNumber:ht,Complex:Ln,config:We,typed:de}),Fne=AP({typed:de}),AV=TP({typed:de}),Rne=kP({Complex:Ln,config:We,typed:de}),Pne=l2({typed:de}),Lne=K2({typed:de}),Bne=u2({typed:de}),ID=rF({typed:de}),Yy=oB({typed:de}),Ky=f2({Complex:Ln,typed:de}),Wf=Q2({typed:de}),kD=NP({typed:de}),Vne=FP({BigNumber:ht,typed:de}),zne=PP({BigNumber:ht,typed:de}),jne=M2({typed:de}),Br=o2({config:We,typed:de}),Hne=DR({typed:de}),TV=A2({typed:de}),Une=T2({Complex:Ln,typed:de}),qne=Ey({typed:de}),hv=sR({typed:de}),Wne=My({typed:de}),mv=TR({typed:de}),ND=lR({typed:de}),$ne=NR({format:mv,typed:de}),OD=J2({typed:de}),fa=iF({typed:de}),Id=QF({config:We,typed:de}),$f=t2({config:We,typed:de}),Mc=r2({equalScalar:Br,typed:de}),Gne=QB({BigNumber:ht,config:We}),Yne=lB({Complex:Ln,typed:de}),Kne=P2({Complex:Ln,config:We,typed:de}),IV=L2({Complex:Ln,config:We,typed:de}),Gf=Ay({typed:de}),zi=B2({typed:de}),Xy=tR({typed:de}),hu=a2({typed:de}),Xne=kR({format:mv,typed:de}),Zne=_B({config:We,typed:de}),Qne=Oy({typed:de}),Jne=xB({config:We,typed:de}),FD=eR({typed:de}),eie=BP({BigNumber:ht,typed:de}),kV=j2({BigNumber:ht,Fraction:qf,complex:Ky,typed:de}),Zy=zP({typed:de}),mu=s2({Matrix:Gy,equalScalar:Br,typed:de}),tie=b2({typed:de}),rie=U2({typed:de}),nie=c2({typed:de}),sl=C2({typed:de}),iie=HP({typed:de}),NV=i2({typed:de}),oie=_P({Complex:Ln,config:We,typed:de}),sie=SP({BigNumber:ht,typed:de}),RD=Rm({isInteger:fa,typed:de}),aie=DP({BigNumber:ht,Complex:Ln,config:We,typed:de}),al=d2({BigNumber:ht,typed:de}),lie=sB({typed:de}),cie=OP({typed:de}),uie=LP({BigNumber:ht,typed:de}),pv=n2({typed:de}),die=FR({typed:de}),fie=wB({config:We,typed:de}),hie=VP({BigNumber:ht,typed:de}),mie=jP({typed:de}),pie=vP({SparseMatrix:mu,typed:de}),Ul=H2({Complex:Ln,config:We,typed:de}),gie=bR({typed:de}),vie=UP({typed:de}),Ac=y2({typed:de}),bie=wP({BigNumber:ht,Complex:Ln,config:We,typed:de}),yie=IR({format:mv,typed:de}),_ie=RP({BigNumber:ht,typed:de}),gv=h2({Fraction:qf,typed:de}),Yf=JF({typed:de}),dt=m2({DenseMatrix:Nr,Matrix:Gy,SparseMatrix:mu,typed:de}),xie=p2({isZero:Mc,matrix:dt,typed:de}),wie=MR({isNaN:pv,isNumeric:Yf,typed:de}),ll=RR({bignumber:al,fraction:gv,number:hu}),OV=AR({config:We,multiplyScalar:zi,numeric:ll,typed:de}),FV=hR({isInteger:fa,matrix:dt,typed:de}),Yo=vR({matrix:dt,config:We,typed:de}),vv=yR({matrix:dt,typed:de}),RV=W2({BigNumber:ht,config:We,matrix:dt,typed:de}),Ko=xR({BigNumber:ht,config:We,matrix:dt,typed:de}),Cie=MP({Complex:Ln,config:We,typed:de}),PV=S2({BigNumber:ht,Complex:Ln,Fraction:qf,config:We,isNegative:Id,matrix:dt,typed:de,unaryMinus:Ac}),nn=Sy({isInteger:fa,matrix:dt,typed:de}),Sie=nR({prod:OV,size:Yo,typed:de}),PD=_R({conj:Wf,transpose:vv,typed:de}),LV=oR({DenseMatrix:Nr,SparseMatrix:mu,matrix:dt,typed:de}),yi=PR({numeric:ll,typed:de}),bv=UR({DenseMatrix:Nr,concat:nn,divideScalar:yi,equalScalar:Br,matrix:dt,typed:de}),cl=eP({DenseMatrix:Nr,concat:nn,equalScalar:Br,matrix:dt,typed:de}),Die=e2({isNumeric:Yf,typed:de}),kd=cR({BigNumber:ht,DenseMatrix:Nr,SparseMatrix:mu,config:We,matrix:dt,typed:de}),Eie=uR({matrix:dt,multiplyScalar:zi,typed:de}),Qy=oP({DenseMatrix:Nr,concat:nn,config:We,matrix:dt,typed:de}),Mie=YR({DenseMatrix:Nr,concat:nn,equalScalar:Br,matrix:dt,typed:de,zeros:Ko}),BV=qR({DenseMatrix:Nr,divideScalar:yi,equalScalar:Br,matrix:dt,multiplyScalar:zi,subtractScalar:sl,typed:de}),LD=v2({flatten:hv,matrix:dt,size:Yo,typed:de}),Aie=z2({BigNumber:ht,concat:nn,equalScalar:Br,matrix:dt,typed:de}),Tie=fR({BigNumber:ht,config:We,matrix:dt,typed:de}),BD=kL({addScalar:po,complex:Ky,conj:Wf,divideScalar:yi,equal:cl,identity:kd,isZero:Mc,matrix:dt,multiplyScalar:zi,sign:kV,sqrt:Ul,subtractScalar:sl,typed:de,unaryMinus:Ac,zeros:Ko}),Iie=mR({config:We,matrix:dt}),kie=KR({DenseMatrix:Nr,concat:nn,equalScalar:Br,matrix:dt,typed:de,zeros:Ko}),jm=BR({BigNumber:ht,DenseMatrix:Nr,config:We,equalScalar:Br,matrix:dt,typed:de,zeros:Ko}),Fs=rP({DenseMatrix:Nr,concat:nn,config:We,matrix:dt,typed:de}),Gi=q2({DenseMatrix:Nr,concat:nn,equalScalar:Br,matrix:dt,subtractScalar:sl,typed:de,unaryMinus:Ac}),Nie=OR({concat:nn,matrix:dt,typed:de}),VD=_2({config:We,numeric:ll,typed:de}),zD=WR({DenseMatrix:Nr,divideScalar:yi,equalScalar:Br,matrix:dt,multiplyScalar:zi,subtractScalar:sl,typed:de}),Oie=rR({DenseMatrix:Nr,concat:nn,matrix:dt,typed:de}),Zr=eL({DenseMatrix:Nr,SparseMatrix:mu,addScalar:po,concat:nn,equalScalar:Br,matrix:dt,typed:de}),Fie=IP({BigNumber:ht,DenseMatrix:Nr,concat:nn,equalScalar:Br,matrix:dt,typed:de}),Rie=xy({concat:nn,equalScalar:Br,matrix:dt,typed:de}),Pie=wy({DenseMatrix:Nr,concat:nn,equalScalar:Br,matrix:dt,typed:de}),Lie=X2({DenseMatrix:Nr,concat:nn,matrix:dt,typed:de}),Bie=DB({addScalar:po,combinations:Yy,divideScalar:yi,isInteger:fa,isNegative:Id,multiplyScalar:zi,typed:de}),Kf=ZR({BigNumber:ht,DenseMatrix:Nr,Fraction:qf,concat:nn,config:We,equalScalar:Br,matrix:dt,typed:de}),VV=JR({concat:nn,matrix:dt,typed:de}),Vie=zy({add:Zr,typed:de,unaryPlus:VD}),jD=sP({equal:cl,typed:de}),zie=Ty({matrix:dt,number:hu,subtract:Gi,typed:de}),jie=JL({abs:Os,addScalar:po,deepEqual:jD,divideScalar:yi,multiplyScalar:zi,sqrt:Ul,subtractScalar:sl,typed:de}),Jy=nL({addScalar:po,conj:Wf,multiplyScalar:zi,size:Yo,typed:de}),Hie=tP({compareText:VV,isZero:Mc,typed:de}),zV=yy({DenseMatrix:Nr,config:We,equalScalar:Br,matrix:dt,round:jm,typed:de,zeros:Ko}),Uie=F2({BigNumber:ht,DenseMatrix:Nr,concat:nn,config:We,equalScalar:Br,matrix:dt,round:jm,typed:de,zeros:Ko}),qie=tL({abs:Os,addScalar:po,divideScalar:yi,isPositive:$f,multiplyScalar:zi,smaller:Fs,sqrt:Ul,typed:de}),jV=uP({DenseMatrix:Nr,smaller:Fs}),hs=dP({ImmutableDenseMatrix:jV,getMatrixDataType:ND}),Rs=iP({DenseMatrix:Nr,concat:nn,config:We,matrix:dt,typed:de}),HD=VR({Complex:Ln,config:We,divideScalar:yi,typed:de}),Wie=$R({DenseMatrix:Nr,divideScalar:yi,equalScalar:Br,matrix:dt,multiplyScalar:zi,subtractScalar:sl,typed:de}),$ie=g2({flatten:hv,matrix:dt,size:Yo,typed:de}),Gie=Py({config:We,numeric:ll,smaller:Fs,typed:de}),HV=_y({DenseMatrix:Nr,concat:nn,config:We,equalScalar:Br,matrix:dt,round:jm,typed:de,zeros:Ko}),Sn=V2({addScalar:po,dot:Jy,equalScalar:Br,matrix:dt,multiplyScalar:zi,typed:de}),Yie=jR({Complex:Ln,config:We,divideScalar:yi,typed:de}),Kie=Cy({DenseMatrix:Nr,concat:nn,equalScalar:Br,matrix:dt,typed:de}),e_=lP({compare:Kf,isNaN:pv,isNumeric:Yf,typed:de}),Xie=XR({DenseMatrix:Nr,concat:nn,equalScalar:Br,matrix:dt,typed:de,zeros:Ko}),UV=OL({SparseMatrix:mu,abs:Os,add:Zr,divideScalar:yi,larger:Rs,largerEq:Qy,multiply:Sn,subtract:Gi,transpose:vv,typed:de}),La=Ny({add:Zr,matrix:dt,typed:de,zeros:Ko}),UD=Vy({add:Zr,config:We,numeric:ll,typed:de}),Zie=iL({add:Zr,matrix:dt,typed:de}),qV=GR({DenseMatrix:Nr,divideScalar:yi,equalScalar:Br,matrix:dt,multiplyScalar:zi,subtractScalar:sl,typed:de}),Qie=LB({Complex:Ln,add:Zr,multiply:Sn,number:hu,typed:de}),qD=E2({DenseMatrix:Nr,config:We,equalScalar:Br,matrix:dt,round:jm,typed:de,zeros:Ko}),Tc=QR({compare:Kf,typed:de}),Jie=EB({addScalar:po,combinations:Yy,isInteger:fa,isNegative:Id,isPositive:$f,larger:Rs,typed:de}),eoe=iR({matrix:dt,multiply:Sn,subtract:Gi,typed:de}),WV=UL({divideScalar:yi,isZero:Mc,matrix:dt,multiply:Sn,subtractScalar:sl,typed:de,unaryMinus:Ac}),toe=G2({concat:nn,equalScalar:Br,matrix:dt,multiplyScalar:zi,typed:de}),$V=fP({larger:Rs,smaller:Fs}),GV=k2({Complex:Ln,DenseMatrix:Nr,ceil:qD,equalScalar:Br,floor:zV,matrix:dt,typed:de,zeros:Ko}),YV=oL({Index:hs,typed:de}),roe=eB({abs:Os,add:Zr,addScalar:po,config:We,divideScalar:yi,equalScalar:Br,flatten:hv,isNumeric:Yf,isZero:Mc,matrix:dt,multiply:Sn,multiplyScalar:zi,smaller:Fs,subtract:Gi,typed:de}),noe=$2({BigNumber:ht,add:Zr,config:We,equal:cl,isInteger:fa,mod:HV,smaller:Fs,typed:de,xgcd:RV}),ioe=R2({concat:nn,equalScalar:Br,matrix:dt,typed:de}),ooe=zR({Complex:Ln,config:We,divideScalar:yi,log:HD,typed:de}),WD=Ry({config:We,larger:Rs,numeric:ll,typed:de}),soe=qP({DenseMatrix:Nr,Index:hs,compareNatural:Tc,size:Yo,subset:La,typed:de}),aoe=$P({DenseMatrix:Nr,Index:hs,compareNatural:Tc,size:Yo,subset:La,typed:de}),loe=YP({Index:hs,compareNatural:Tc,size:Yo,subset:La,typed:de}),coe=XP({Index:hs,compareNatural:Tc,size:Yo,subset:La,typed:de}),Hm=nP({DenseMatrix:Nr,concat:nn,config:We,matrix:dt,typed:de}),uoe=cP({compare:Kf,compareNatural:Tc,matrix:dt,typed:de}),doe=aP({DenseMatrix:Nr,concat:nn,config:We,equalScalar:Br,matrix:dt,typed:de}),foe=Fy({concat:nn,equalScalar:Br,matrix:dt,not:Xy,typed:de,zeros:Ko}),Um=Iy({bignumber:al,matrix:dt,add:Zr,config:We,isPositive:$f,larger:Rs,largerEq:Qy,smaller:Fs,smallerEq:Hm,typed:de}),hoe=ky({Index:hs,matrix:dt,range:Um,typed:de}),KV=WP({DenseMatrix:Nr,Index:hs,compareNatural:Tc,size:Yo,subset:La,typed:de}),moe=KP({Index:hs,compareNatural:Tc,size:Yo,subset:La,typed:de}),XV=QP({Index:hs,concat:nn,setDifference:KV,size:Yo,subset:La,typed:de}),ZV=hP({FibonacciHeap:$V,addScalar:po,equalScalar:Br}),QV=Dy({Index:hs,matrix:dt,range:Um,typed:de}),Xf=qL({abs:Os,addScalar:po,det:WV,divideScalar:yi,identity:kd,matrix:dt,multiply:Sn,typed:de,unaryMinus:Ac}),JV=IL({DenseMatrix:Nr,Spa:ZV,SparseMatrix:mu,abs:Os,addScalar:po,divideScalar:yi,equalScalar:Br,larger:Rs,matrix:dt,multiplyScalar:zi,subtractScalar:sl,typed:de,unaryMinus:Ac}),poe=WL({Complex:Ln,add:Zr,ctranspose:PD,deepEqual:jD,divideScalar:yi,dot:Jy,dotDivide:bv,equal:cl,inv:Xf,matrix:dt,multiply:Sn,typed:de}),ql=LR({Complex:Ln,config:We,fraction:gv,identity:kd,inv:Xf,matrix:dt,multiply:Sn,number:hu,typed:de}),ez=GP({DenseMatrix:Nr,Index:hs,compareNatural:Tc,size:Yo,subset:La,typed:de}),goe=JP({Index:hs,concat:nn,setIntersect:ez,setSymDifference:XV,size:Yo,subset:La,typed:de}),voe=YL({abs:Os,add:Zr,identity:kd,inv:Xf,map:Gf,max:WD,multiply:Sn,size:Yo,sqrt:Ul,subtract:Gi,typed:de}),br=pP({BigNumber:ht,Complex:Ln,Fraction:qf,abs:Os,addScalar:po,config:We,divideScalar:yi,equal:cl,fix:GV,format:mv,isNumeric:Yf,multiplyScalar:zi,number:hu,pow:ql,round:jm,subtractScalar:sl}),boe=u3({BigNumber:ht,Unit:br,config:We}),yoe=W3({BigNumber:ht,Unit:br,config:We}),_oe=O3({BigNumber:ht,Unit:br,config:We}),xoe=h3({BigNumber:ht,Unit:br,config:We}),woe=R3({BigNumber:ht,Unit:br,config:We}),Coe=m3({BigNumber:ht,Unit:br,config:We}),Soe=d3({BigNumber:ht,Unit:br,config:We}),Doe=E3({BigNumber:ht,Unit:br,config:We}),Eoe=HR({DenseMatrix:Nr,concat:nn,equalScalar:Br,matrix:dt,pow:ql,typed:de}),Moe=c3({BigNumber:ht,Unit:br,config:We}),Aoe=f3({BigNumber:ht,Unit:br,config:We}),Toe=GL({abs:Os,add:Zr,identity:kd,inv:Xf,multiply:Sn,typed:de}),Ioe=P3({BigNumber:ht,Unit:br,config:We}),tz=wR({addScalar:po,ceil:qD,conj:Wf,divideScalar:yi,dotDivide:bv,exp:TV,i:DV,log2:IV,matrix:dt,multiplyScalar:zi,pow:ql,tau:MV,typed:de}),$D=aB({BigNumber:ht,Complex:Ln,config:We,multiplyScalar:zi,pow:ql,typed:de}),koe=o3({BigNumber:ht,Unit:br,config:We}),Noe=S3({BigNumber:ht,Unit:br,config:We}),Ooe=CR({conj:Wf,dotDivide:bv,fft:tz,typed:de}),Foe=b3({BigNumber:ht,Unit:br,config:We}),Roe=B3({BigNumber:ht,Unit:br,config:We}),Poe=l3({BigNumber:ht,Unit:br,config:We}),Loe=$3({BigNumber:ht,Unit:br,config:We}),Boe=z3({BigNumber:ht,Unit:br,config:We}),Voe=M3({BigNumber:ht,Unit:br,config:We}),zoe=v3({BigNumber:ht,Unit:br,config:We}),joe=Q3({BigNumber:ht,Unit:br,config:We}),Hoe=K3({BigNumber:ht,Unit:br,config:We}),Uoe=J3({BigNumber:ht,Unit:br,config:We}),qoe=D3({BigNumber:ht,Unit:br,config:We}),Woe=A3({BigNumber:ht,Unit:br,config:We}),$oe=a3({BigNumber:ht,Unit:br,config:We}),Goe=T3({BigNumber:ht,Unit:br,config:We}),Yoe=U3({BigNumber:ht,Unit:br,config:We}),Koe=i3({BigNumber:ht,Unit:br,config:We}),Xoe=q3({BigNumber:ht,Unit:br,config:We}),Zoe=I3({BigNumber:ht,Unit:br,config:We}),Qoe=F3({BigNumber:ht,Unit:br,config:We}),Joe=y3({BigNumber:ht,Unit:br,config:We}),ese=bP({Unit:br,typed:de}),Xo=QL({divideScalar:yi,equalScalar:Br,inv:Xf,matrix:dt,multiply:Sn,typed:de}),tse=x3({BigNumber:ht,Unit:br,config:We}),yv=cB({gamma:$D,typed:de}),rse=L3({BigNumber:ht,Unit:br,config:We}),nse=Y3({BigNumber:ht,Unit:br,config:We}),ise=p3({BigNumber:ht,Unit:br,config:We}),rz=RL({DenseMatrix:Nr,lsolve:BV,lup:JV,matrix:dt,slu:UV,typed:de,usolve:zD}),ose=g3({BigNumber:ht,Unit:br,config:We}),sse=G3({BigNumber:ht,Unit:br,config:We}),ase=dB({add:Zr,divide:Xo,factorial:yv,isInteger:fa,isPositive:$f,multiply:Sn,typed:de}),lse=fB({factorial:yv,typed:de}),cse=X3({BigNumber:ht,Unit:br,config:We}),use=PL({add:Zr,cbrt:PV,divide:Xo,equalScalar:Br,im:OD,isZero:Mc,multiply:Sn,re:FD,sqrt:Ul,subtract:Gi,typeOf:NV,typed:de,unaryMinus:Ac}),dse=ZP({compareNatural:Tc,typed:de}),fse=SR({abs:Os,add:Zr,bignumber:al,divide:Xo,isNegative:Id,isPositive:$f,larger:Rs,map:Gf,matrix:dt,max:WD,multiply:Sn,smaller:Fs,subtract:Gi,typed:de,unaryMinus:Ac}),nz=CB({bignumber:al,addScalar:po,combinations:Yy,divideScalar:yi,factorial:yv,isInteger:fa,isNegative:Id,larger:Rs,multiplyScalar:zi,number:hu,pow:ql,subtractScalar:sl,typed:de}),hse=gP({Unit:br,typed:de}),mse=SB({addScalar:po,isInteger:fa,isNegative:Id,stirlingS2:nz,typed:de}),iz=$L({abs:Os,add:Zr,addScalar:po,atan:AV,bignumber:al,column:QV,complex:Ky,config:We,cos:kD,diag:LV,divideScalar:yi,dot:Jy,equal:cl,flatten:hv,im:OD,inv:Xf,larger:Rs,matrix:dt,matrixFromColumns:LD,multiply:Sn,multiplyScalar:zi,number:hu,qr:BD,re:FD,reshape:FV,sin:Zy,size:Yo,smaller:Fs,sqrt:Ul,subtract:Gi,typed:de,usolve:zD,usolveAll:qV}),pse=w3({BigNumber:ht,Unit:br,config:We}),gse=V3({BigNumber:ht,Unit:br,config:We}),vse=uB({divide:Xo,dotDivide:bv,isNumeric:Yf,log:HD,map:Gf,matrix:dt,multiply:Sn,sum:UD,typed:de}),oz=jy({add:Zr,divide:Xo,typed:de}),bse=j3({BigNumber:ht,Unit:br,config:We}),yse=s3({BigNumber:ht,Unit:br,config:We}),_se=Uy({bignumber:al,add:Zr,compare:Kf,divide:Xo,isInteger:fa,larger:Rs,multiply:Sn,partitionSelect:e_,smaller:Fs,smallerEq:Hm,subtract:Gi,typed:de}),GD=Hy({add:Zr,apply:RD,divide:Xo,isNaN:pv,multiply:Sn,subtract:Gi,typed:de}),xse=_3({BigNumber:ht,Unit:br,config:We}),sz=tB({add:Zr,compare:Kf,divide:Xo,partitionSelect:e_,typed:de}),wse=iB({add:Zr,divide:Xo,matrix:dt,mean:oz,multiply:Sn,pow:ql,sqrt:Ul,subtract:Gi,sum:UD,typed:de}),Cse=BB({Complex:Ln,add:Zr,divide:Xo,matrix:dt,multiply:Sn,typed:de}),Sse=rB({abs:Os,map:Gf,median:sz,subtract:Gi,typed:de}),Dse=qy({map:Gf,sqrt:Ul,typed:de,variance:GD}),Ese=ER({BigNumber:ht,Complex:Ln,add:Zr,config:We,divide:Xo,equal:cl,factorial:yv,gamma:$D,isNegative:Id,multiply:Sn,pi:TD,pow:ql,sin:Zy,smallerEq:Hm,subtract:Gi,typed:de}),YD=rL({abs:Os,add:Zr,conj:Wf,ctranspose:PD,eigs:iz,equalScalar:Br,larger:Rs,matrix:dt,multiply:Sn,pow:ql,smaller:Fs,sqrt:Ul,typed:de}),az=gR({BigNumber:ht,DenseMatrix:Nr,SparseMatrix:mu,addScalar:po,config:We,cos:kD,matrix:dt,multiplyScalar:zi,norm:YD,sin:Zy,typed:de,unaryMinus:Ac}),Mse=Z3({BigNumber:ht,Unit:br,config:We}),lz=XL({identity:kd,matrix:dt,multiply:Sn,norm:YD,qr:BD,subtract:Gi,typed:de}),Ase=pR({multiply:Sn,rotationMatrix:az,typed:de}),cz=KL({abs:Os,add:Zr,concat:nn,identity:kd,index:YV,lusolve:rz,matrix:dt,matrixFromColumns:LD,multiply:Sn,range:Um,schur:lz,subset:La,subtract:Gi,transpose:vv,typed:de}),Tse=ZL({matrix:dt,multiply:Sn,sylvester:cz,transpose:vv,typed:de});var _v={},t_={},Ise={},Ps=sL({mathWithTransform:t_}),xv=bL({Node:Ps}),Nd=yL({Node:Ps}),qm=_L({Node:Ps}),kse=wL({Node:Ps}),wv=lL({Node:Ps}),Nse=uL({Node:Ps,ResultSet:EV}),Ose=dL({Node:Ps}),Zf=pL({Node:Ps}),Fse=xL({Node:Ps}),UNe=VB({classes:Ise}),uz=BL({math:_v,typed:de}),Rse=gL({Node:Ps,typed:de}),qNe=HL({Chain:uz,typed:de}),Cv=vL({Node:Ps,size:Yo}),Sv=aL({Node:Ps,subset:La}),Pse=cL({matrix:dt,Node:Ps,subset:La}),Qf=CL({Unit:br,Node:Ps,math:_v}),Jf=SL({Node:Ps,SymbolNode:Qf,math:_v}),Ic=DL({AccessorNode:Sv,ArrayNode:wv,AssignmentNode:Pse,BlockNode:Nse,ConditionalNode:Ose,ConstantNode:Zf,FunctionAssignmentNode:Rse,FunctionNode:Jf,IndexNode:Cv,ObjectNode:xv,OperatorNode:Nd,ParenthesisNode:qm,RangeNode:Fse,RelationalNode:kse,SymbolNode:Qf,config:We,numeric:ll,typed:de}),Lse=OB({ConstantNode:Zf,FunctionNode:Jf,OperatorNode:Nd,ParenthesisNode:qm,parse:Ic,typed:de}),dz=kB({bignumber:al,fraction:gv,AccessorNode:Sv,ArrayNode:wv,ConstantNode:Zf,FunctionNode:Jf,IndexNode:Cv,ObjectNode:xv,OperatorNode:Nd,SymbolNode:Qf,config:We,mathWithTransform:t_,matrix:dt,typed:de}),WNe=EL({parse:Ic,typed:de}),fz=NB({AccessorNode:Sv,ArrayNode:wv,ConstantNode:Zf,FunctionNode:Jf,IndexNode:Cv,ObjectNode:xv,OperatorNode:Nd,ParenthesisNode:qm,SymbolNode:Qf,add:Zr,divide:Xo,equal:cl,isZero:Mc,multiply:Sn,parse:Ic,pow:ql,subtract:Gi,typed:de}),Dv=ML({parse:Ic,typed:de}),Bse=LL({evaluate:Dv}),Vse=AL({evaluate:Dv,parse:Ic}),KD=IB({AccessorNode:Sv,ArrayNode:wv,ConstantNode:Zf,FunctionNode:Jf,IndexNode:Cv,ObjectNode:xv,OperatorNode:Nd,ParenthesisNode:qm,SymbolNode:Qf,equal:cl,parse:Ic,resolve:Lse,simplifyConstant:dz,simplifyCore:fz,typed:de}),$Ne=FB({OperatorNode:Nd,parse:Ic,simplify:KD,typed:de}),GNe=MB({parse:Ic,typed:de}),YNe=TL({Parser:Vse,typed:de}),KNe=PB({bignumber:al,fraction:gv,AccessorNode:Sv,ArrayNode:wv,ConstantNode:Zf,FunctionNode:Jf,IndexNode:Cv,ObjectNode:xv,OperatorNode:Nd,ParenthesisNode:qm,SymbolNode:Qf,add:Zr,config:We,divide:Xo,equal:cl,isZero:Mc,mathWithTransform:t_,matrix:dt,multiply:Sn,parse:Ic,pow:ql,simplify:KD,simplifyConstant:dz,simplifyCore:fz,subtract:Gi,typed:de}),XNe=RB({ConstantNode:Zf,FunctionNode:Jf,OperatorNode:Nd,ParenthesisNode:qm,SymbolNode:Qf,config:We,equal:cl,isZero:Mc,numeric:ll,parse:Ic,simplify:KD,typed:de}),ZNe=jL({Help:Bse,mathWithTransform:t_,typed:de});ci(_v,{e:SV,false:dne,fineStructure:fne,i:DV,Infinity:hne,LN10:mne,LOG10E:pne,NaN:gne,null:vne,phi:bne,SQRT1_2:_ne,sackurTetrode:xne,tau:MV,true:wne,E:SV,version:Cne,efimovFactor:Sne,LN2:Dne,pi:TD,replacer:Ene,reviver:UNe,SQRT2:Mne,typed:de,PI:TD,weakMixingAngle:Ane,abs:Os,acos:Tne,acot:Ine,acsc:kne,addScalar:po,arg:Nne,asech:One,asinh:Fne,atan:AV,atanh:Rne,bigint:Pne,bitNot:Lne,boolean:Bne,clone:ID,combinations:Yy,complex:Ky,conj:Wf,cos:kD,cot:Vne,csc:zne,cube:jne,equalScalar:Br,erf:Hne,exp:TV,expm1:Une,filter:qne,flatten:hv,forEach:Wne,format:mv,getMatrixDataType:ND,hex:$ne,im:OD,isInteger:fa,isNegative:Id,isPositive:$f,isZero:Mc,LOG2E:Gne,lgamma:Yne,log10:Kne,log2:IV,map:Gf,multiplyScalar:zi,not:Xy,number:hu,oct:Xne,pickRandom:Zne,print:Qne,random:Jne,re:FD,sec:eie,sign:kV,sin:Zy,splitUnit:tie,square:rie,string:nie,subtractScalar:sl,tan:iie,typeOf:NV,acosh:oie,acsch:sie,apply:RD,asec:aie,bignumber:al,chain:qNe,combinationsWithRep:lie,cosh:cie,csch:uie,isNaN:pv,isPrime:die,randomInt:fie,sech:hie,sinh:mie,sparse:pie,sqrt:Ul,squeeze:gie,tanh:vie,unaryMinus:Ac,acoth:bie,bin:yie,coth:_ie,fraction:gv,isNumeric:Yf,matrix:dt,matrixFromFunction:xie,mode:wie,numeric:ll,prod:OV,reshape:FV,size:Yo,transpose:vv,xgcd:RV,zeros:Ko,asin:Cie,cbrt:PV,concat:nn,count:Sie,ctranspose:PD,diag:LV,divideScalar:yi,dotDivide:bv,equal:cl,hasNumericValue:Die,identity:kd,kron:Eie,largerEq:Qy,leftShift:Mie,lsolve:BV,matrixFromColumns:LD,nthRoot:Aie,ones:Tie,qr:BD,resize:Iie,rightArithShift:kie,round:jm,smaller:Fs,subtract:Gi,to:Nie,unaryPlus:VD,usolve:zD,xor:Oie,add:Zr,atan2:Fie,bitAnd:Rie,bitOr:Pie,bitXor:Lie,catalan:Bie,compare:Kf,compareText:VV,cumsum:Vie,deepEqual:jD,diff:zie,distance:jie,dot:Jy,equalText:Hie,floor:zV,gcd:Uie,hypot:qie,larger:Rs,log:HD,lsolveAll:Wie,matrixFromRows:$ie,min:Gie,mod:HV,multiply:Sn,nthRoots:Yie,or:Kie,partitionSelect:e_,rightLogShift:Xie,slu:UV,subset:La,sum:UD,trace:Zie,usolveAll:qV,zpk2tf:Qie,ceil:qD,compareNatural:Tc,composition:Jie,cross:eoe,det:WV,dotMultiply:toe,fix:GV,index:YV,intersect:roe,invmod:noe,lcm:ioe,log1p:ooe,max:WD,setCartesian:soe,setDistinct:aoe,setIsSubset:loe,setPowerset:coe,smallerEq:Hm,sort:uoe,unequal:doe,and:foe,range:Um,row:hoe,setDifference:KV,setMultiplicity:moe,setSymDifference:XV,column:QV,inv:Xf,lup:JV,pinv:poe,pow:ql,setIntersect:ez,setUnion:goe,sqrtm:voe,vacuumImpedance:boe,wienDisplacement:yoe,atomicMass:_oe,bohrMagneton:xoe,boltzmann:woe,conductanceQuantum:Coe,coulomb:Soe,deuteronMass:Doe,dotPow:Eoe,electricConstant:Moe,elementaryCharge:Aoe,expm:Toe,faraday:Ioe,fft:tz,gamma:$D,gravitationConstant:koe,hartreeEnergy:Noe,ifft:Ooe,klitzing:Foe,loschmidt:Roe,magneticConstant:Poe,molarMass:Loe,molarPlanckConstant:Boe,neutronMass:Voe,nuclearMagneton:zoe,planckCharge:joe,planckLength:Hoe,planckTemperature:Uoe,protonMass:qoe,quantumOfCirculation:Woe,reducedPlanckConstant:$oe,rydberg:Goe,secondRadiation:Yoe,speedOfLight:Koe,stefanBoltzmann:Xoe,thomsonCrossSection:Zoe,avogadro:Qoe,bohrRadius:Joe,createUnit:ese,divide:Xo,electronMass:tse,factorial:yv,firstRadiation:rse,gravity:nse,inverseConductanceQuantum:ise,lusolve:rz,magneticFluxQuantum:ose,molarMassC12:sse,multinomial:ase,parse:Ic,permutations:lse,planckMass:cse,polynomialRoot:use,resolve:Lse,setSize:dse,simplifyConstant:dz,solveODE:fse,stirlingS2:nz,unit:hse,bellNumbers:mse,compile:WNe,eigs:iz,fermiCoupling:pse,gasConstant:gse,kldivergence:vse,mean:oz,molarVolume:bse,planckConstant:yse,quantileSeq:_se,simplifyCore:fz,variance:GD,classicalElectronRadius:xse,evaluate:Dv,median:sz,simplify:KD,symbolicEqual:$Ne,corr:wse,freqz:Cse,leafCount:GNe,mad:Sse,parser:YNe,rationalize:KNe,std:Dse,zeta:Ese,derivative:XNe,norm:YD,rotationMatrix:az,help:ZNe,planckTime:Mse,schur:lz,rotate:Ase,sylvester:cz,lyap:Tse,config:We});ci(t_,_v,{filter:rV({typed:de}),forEach:nV({typed:de}),map:oV({typed:de}),apply:eV({isInteger:fa,typed:de}),or:xV({DenseMatrix:Nr,concat:nn,equalScalar:Br,matrix:dt,typed:de}),and:_V({add:Zr,concat:nn,equalScalar:Br,matrix:dt,not:Xy,typed:de,zeros:Ko}),concat:fV({isInteger:fa,matrix:dt,typed:de}),max:sV({config:We,larger:Rs,numeric:ll,typed:de}),print:yV({add:Zr,matrix:dt,typed:de,zeros:Ko}),bitAnd:wV({add:Zr,concat:nn,equalScalar:Br,matrix:dt,not:Xy,typed:de,zeros:Ko}),diff:hV({bignumber:al,matrix:dt,number:hu,subtract:Gi,typed:de}),min:lV({config:We,numeric:ll,smaller:Fs,typed:de}),subset:dV({add:Zr,matrix:dt,typed:de,zeros:Ko}),bitOr:CV({DenseMatrix:Nr,concat:nn,equalScalar:Br,matrix:dt,typed:de}),cumsum:vV({add:Zr,typed:de,unaryPlus:VD}),index:iV({Index:hs,getMatrixDataType:ND}),sum:pV({add:Zr,config:We,numeric:ll,typed:de}),range:cV({bignumber:al,matrix:dt,add:Zr,config:We,isPositive:$f,larger:Rs,largerEq:Qy,smaller:Fs,smallerEq:Hm,typed:de}),row:uV({Index:hs,matrix:dt,range:Um,typed:de}),column:tV({Index:hs,matrix:dt,range:Um,typed:de}),mean:aV({add:Zr,divide:Xo,typed:de}),quantileSeq:gV({add:Zr,bignumber:al,compare:Kf,divide:Xo,isInteger:fa,larger:Rs,multiply:Sn,partitionSelect:e_,smaller:Fs,smallerEq:Hm,subtract:Gi,typed:de}),variance:bV({add:Zr,apply:RD,divide:Xo,isNaN:pv,multiply:Sn,subtract:Gi,typed:de}),std:mV({map:Gf,sqrt:Ul,typed:de,variance:GD})});ci(Ise,{BigNumber:ht,Complex:Ln,Fraction:qf,Matrix:Gy,Node:Ps,ObjectNode:xv,OperatorNode:Nd,ParenthesisNode:qm,Range:yne,RelationalNode:kse,ResultSet:EV,ArrayNode:wv,BlockNode:Nse,ConditionalNode:Ose,ConstantNode:Zf,DenseMatrix:Nr,RangeNode:Fse,Chain:uz,FunctionAssignmentNode:Rse,SparseMatrix:mu,IndexNode:Cv,ImmutableDenseMatrix:jV,Index:hs,AccessorNode:Sv,AssignmentNode:Pse,FibonacciHeap:$V,Spa:ZV,Unit:br,SymbolNode:Qf,FunctionNode:Jf,Help:Bse,Parser:Vse});uz.createProxy(_v);var eh=(()=>{class r{constructor(){}compare(e,n){try{let i=this._compareWithOperator(e,n);return i!=null||(i=this._compareWithExpression(e,n),i!=null)?i:e==n}catch(i){console.error(i)}return!1}_compareWithExpression(e,n){if(new RegExp("(%value%)").test(n.trim())){let s=n.replaceAll("%value%",e);return Dv(s)}return null}_compareWithOperator(e,n){return new RegExp("^(>|<|=)").test(n.trim())?Dv(+e+n):null}static{this.\u0275fac=function(n){return new(n||r)}}static{this.\u0275prov=Fe({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();var XD=class{constructor(){this.type="string",this.mask="%value%"}};function QNe(r,t){if(r&1&&(W(0,"span",2),ge(1),$()),r&2){let e=ie();K(),sn(" ",e.unit(),"")}}var Ev=(()=>{class r{constructor(){this.value=Ne.required(),this.unit=Ne("")}static{this.\u0275fac=function(n){return new(n||r)}}static{this.\u0275cmp=Be({type:r,selectors:[["jee-value-unit"]],inputs:{value:[1,"value"],unit:[1,"unit"]},decls:4,vars:2,consts:[[1,"jee-value-unit"],[1,"value"],[1,"unit"]],template:function(n,i){n&1&&(W(0,"div",0)(1,"div",1),ge(2),$(),Oe(3,QNe,2,1,"span",2),$()),n&2&&(K(2),zt(i.value()),K(),Pe(i.unit()?3:-1))},styles:[".jee-value-unit[_ngcontent-%COMP%]{display:flex;font-size:1em}.jee-value-unit[_ngcontent-%COMP%]   .unit[_ngcontent-%COMP%]{font-size:.8em}"]})}}return r})();var Wl=(()=>{class r{constructor(){this.font=Ne(Mr.LabelFont(),{transform:e=>e||Mr.LabelFont()}),this.text=Ne("",{transform:e=>e!=null&&e!=null?e:""}),this.value="",this.fontSize=""}ngOnChanges(e){let n=this.font();n.tranform=n.tranform||new XD,this.value=this.transform(),n.size?this.fontSize=n.size?n.size+(n.sizeUnit||"px"):"":this.fontSize=`min(${n.cqmin}cqmin, ${n.maxSize}px)`,this.fontSize=n.size?n.size+(n.sizeUnit||"px"):""}ngOnInit(){}transform(){let e=this.font();return e.tranform?e.tranform.mask.replace("%value%",this.text()):this.text()}static{this.\u0275fac=function(n){return new(n||r)}}static{this.\u0275cmp=Be({type:r,selectors:[["text-font"]],inputs:{font:[1,"font"],text:[1,"text"]},features:[cr],decls:2,vars:10,consts:[[3,"value","unit"]],template:function(n,i){n&1&&(W(0,"span"),Te(1,"jee-value-unit",0),$()),n&2&&(hn("color",i.font().color)("font-size",i.fontSize)("font-weight",i.font().weight)("text-decoration",i.font().decoration),K(),oe("value",i.value)("unit",i.font().unit))},dependencies:[Ev],styles:["[_nghost-%COMP%]{line-height:initial}"]})}}return r})();var ha=class{constructor(t){this.iconType="icon",this.colorize=!0,this.center=!1,this.inline=!1,Object.assign(this,t)}},ZD=class extends ko{constructor(){super(...arguments),this.ui={min:1,nullable:!0}}};var JNe=["*"],r_=class{},eOe=(()=>{class r extends r_{constructor(e){super(),this.http=e}getSvg(e){return this.http.get(e,{responseType:"text"})}static{this.\u0275fac=function(n){return new(n||r)(Tt(bc))}}static{this.\u0275prov=Fe({token:r,factory:r.\u0275fac})}}return r})(),tOe=new He("SERVER_URL"),QD=(()=>{class r{constructor(){this.loader=V(r_),this.serverUrl=V(tOe,{optional:!0}),this.document=V(Xt),this.iconsByUrl=new Map,this.iconsLoadingByUrl=new Map}addSvg(e,n){if(!this.iconsByUrl.has(e)){let i=this.document.createElement("DIV");i.innerHTML=n;let o=i.querySelector("svg");this.iconsByUrl.set(e,o)}}loadSvg(e,n=e){if(this.serverUrl&&e.match(/^(http(s)?):/)===null&&(e=this.serverUrl+e,n=e),this.iconsByUrl.has(n))return tt(this.iconsByUrl.get(n));if(this.iconsLoadingByUrl.has(n))return this.iconsLoadingByUrl.get(n);let i=this.loader.getSvg(e).pipe(at(o=>{let s=this.document.createElement("DIV");return s.innerHTML=o,s.querySelector("svg")}),Fr(o=>this.iconsByUrl.set(n,o)),Ml(o=>(console.error(o),zo(o))),Sa(()=>this.iconsLoadingByUrl.delete(n)),tm());return this.iconsLoadingByUrl.set(n,i),i}getSvgByName(e){return this.iconsByUrl.has(e)?tt(this.iconsByUrl.get(e)):this.iconsLoadingByUrl.has(e)?this.iconsLoadingByUrl.get(e):zo(`No svg with name '${e}' has been loaded`)}unloadSvg(e){this.iconsByUrl.has(e)&&this.iconsByUrl.delete(e)}static{this.\u0275fac=function(n){return new(n||r)}}static{this.\u0275prov=Fe({token:r,factory:r.\u0275fac})}}return r})();function rOe(r){return r||new QD}var nOe={provide:QD,deps:[[new dd,new vm,QD]],useFactory:rOe},JD=class{constructor(){this.loaded=!1}},eE=(()=>{class r{constructor(){this.element=V(ut),this.differs=V($b),this.renderer=V(gi),this.iconReg=V(QD),this.src=Ne(),this.name=Ne(),this.stretch=Ne(!1),this.applyClass=Ne(!1),this.svgClass=Ne(),this.klass=Ne(void 0,{alias:"class"}),this.viewBox=Ne(),this.svgAriaLabel=Ne(),this.svg=vi(0),this.svgStyle=Ne(),this.helper=new JD,Io(()=>{(this.src()||this.name())&&(this.destroy(),this.init(this.src(),this.name()))}),Io(()=>{let i=this.viewBox();this.svg()&&this.updateViewBox(i)}),Io(()=>{let i=this.svgStyle()||{};this.svg()&&this.applyChanges(this.helper.differ.diff(i))}),Io(()=>{let i=this.svg();this.applyClass()?this.setClass(this.elemSvg,null,this.klass()):this.setClass(this.elemSvg,this.klass(),null)});let e;Io(()=>{let i=this.svg();this.setClass(this.elemSvg,e,this.svgClass()),e=this.svgClass()});let n;Io(()=>{let i=this.svg(),o=this.element.nativeElement;this.setClass(o,n,this.klass()),this.setClass(this.elemSvg,n,this.applyClass()?this.klass():null),n=this.klass()}),Io(()=>{let i=this.svg();this.doAria(this.svgAriaLabel())}),Io(()=>{let i=this.svg();this.stylize(this.stretch())})}ngOnDestroy(){this.destroy()}get elemSvg(){return this.element.nativeElement.firstChild}init(e,n){if(e&&n){let i=this.iconReg.loadSvg(e,n);i&&(this.helper.icnSub=i.subscribe(o=>this.initSvg(o)))}else if(n){let i=this.iconReg.getSvgByName(n);i&&(this.helper.icnSub=i.subscribe(o=>this.initSvg(o)))}else if(e){let i=this.iconReg.loadSvg(e);i&&(this.helper.icnSub=i.subscribe(o=>this.initSvg(o)))}else this.element.nativeElement.innerHTML="",this.svg.set(0)}initSvg(e){!this.helper.loaded&&e&&this.setSvg(e)}destroy(){this.helper.icnSub?.unsubscribe(),this.helper=new JD,this.helper.differ=this.differs.find({}).create()}setSvg(e){if(!this.helper.loaded&&e){this.helper.svg=e;let n=e.cloneNode(!0),i=this.element.nativeElement;i.innerHTML="",this.renderer.appendChild(i,n),this.helper.loaded=!0,this.copyNgContentAttribute(i,n),this.svg.update(o=>o+1)}}updateViewBox(e){if(e){let n=this.elemSvg;if(e==="auto"){let i=n.getAttribute("width"),o=n.getAttribute("height");if(o&&i){let s=`0 0 ${i} ${o}`;this.renderer.setAttribute(n,"viewBox",s),this.renderer.removeAttribute(n,"width"),this.renderer.removeAttribute(n,"height")}}else e!==""&&(this.renderer.setAttribute(n,"viewBox",e),this.renderer.removeAttribute(n,"width"),this.renderer.removeAttribute(n,"height"))}}copyNgContentAttribute(e,n){let i=e.attributes,o=i.length;for(let s=0;s<o;s+=1){let a=i.item(s);if(a&&a.name.startsWith("_ngcontent")){this.setNgContentAttribute(n,a.name);break}}}setNgContentAttribute(e,n){this.renderer.setAttribute(e,n,"");let i=e.childNodes.length;for(let o=0;o<i;o+=1){let s=e.childNodes[o];s instanceof Element&&this.setNgContentAttribute(s,n)}}stylize(e){if(this.helper.svg){let n=this.element.nativeElement.firstChild;e===!0?this.renderer.setAttribute(n,"preserveAspectRatio","none"):e===!1&&this.renderer.removeAttribute(n,"preserveAspectRatio")}}applyChanges(e){e&&(e.forEachRemovedItem(n=>this.setStyle(n.key,null)),e.forEachAddedItem(n=>this.setStyle(n.key,n.currentValue)),e.forEachChangedItem(n=>this.setStyle(n.key,n.currentValue)))}setStyle(e,n){let[i,o]=e.split(".");n=n!==null&&o?`${n}${o}`:n;let s=this.elemSvg;n!==null?this.renderer.setStyle(s,i,n):this.renderer.removeStyle(s,i)}setClass(e,n,i){if(e){if(n){let o=(Array.isArray(n)?n:n.split(" ")).filter(s=>s);for(let s of o)this.renderer.removeClass(e,s)}if(i){let o=(Array.isArray(i)?i:i.split(" ")).filter(s=>s);for(let s of o)this.renderer.addClass(e,s)}}}doAria(e){if(e!==void 0){let n=this.element.nativeElement.firstChild;n&&!n.hasAttribute("aria-label")&&(e===""?(this.renderer.setAttribute(n,"aria-hidden","true"),this.renderer.removeAttribute(n,"aria-label")):(this.renderer.removeAttribute(n,"aria-hidden"),this.renderer.setAttribute(n,"aria-label",e)))}}static{this.\u0275fac=function(n){return new(n||r)}}static{this.\u0275cmp=Be({type:r,selectors:[["svg-icon"]],inputs:{src:[1,"src"],name:[1,"name"],stretch:[1,"stretch"],applyClass:[1,"applyClass"],svgClass:[1,"svgClass"],klass:[1,"class","klass"],viewBox:[1,"viewBox"],svgAriaLabel:[1,"svgAriaLabel"],svgStyle:[1,"svgStyle"]},ngContentSelectors:JNe,decls:1,vars:0,template:function(n,i){n&1&&(un(),hr(0))},encapsulation:2,changeDetection:0})}}return r})();function zse(r={}){return Jc([nOe,r.loader||{provide:r_,useClass:eOe}])}var Mv=(()=>{class r{constructor(e){this.http=e,this.iconPath="assets/icons",this.iconsets=[{id:"freepik-household",name:"Builtin: Freepik Household",type:"builtin",colorize:!0},{id:"freepik-gadgets",name:"Builtin: Freepik Gadgets",type:"builtin",colorize:!0},{id:"freepik-housethings",name:"Builtin: Freepik House Things",type:"builtin",colorize:!0},{id:"smarthome-set",name:"Builtin: Smart Home Set",type:"builtin",colorize:!0},{id:"eclipse-smarthome",name:"Builtin: Eclispe Smarthome",type:"builtin",colorize:!0}]}getIconUrl(e,n){return"assets/icons/"+e+"/"+n+".svg"}getIcons(e){return this.http.get("assets/icons/"+e+".list.json").pipe(at(n=>(n.basePath="assets/icons/"+e+"/",n)))}static{this.\u0275fac=function(n){return new(n||r)(Tt(bc))}}static{this.\u0275prov=Fe({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();var oOe=["div"],sOe=(r,t,e)=>({"backdrop-container":r,"auto-height":t,center:e}),aOe=r=>({width:"100%",height:"100%",fill:r}),lOe=r=>({on:r}),cOe=(r,t,e)=>({"auto-height":r,backdrop:t,center:e}),uOe=r=>({height:r});function dOe(r,t){if(r&1&&Te(0,"svg-icon",2),r&2){let e=ie(3);oe("src",e.url)("svgStyle",Un(3,aOe,e.svgColor))("ngClass",Un(5,lOe,!e.off()))}}function fOe(r,t){if(r&1&&(W(0,"div",1,0),Oe(2,dOe,1,7,"svg-icon",2),$()),r&2){let e=ie(2);oe("ngClass",wm(2,sOe,e.backdrop(),!e.backdrop()&&!e.settings().size,e.settings().center)),K(2),Pe(e.hide?-1:2)}}function hOe(r,t){if(r&1&&Oe(0,fOe,3,6,"div",1),r&2){let e=ie();Pe(e.url?0:-1)}}function mOe(r,t){if(r&1&&Te(0,"img",4),r&2){let e=ie(3);oe("src",e.url,bm)("ngStyle",Un(3,uOe,e.settings().size?e.auto:"100%"))("height",e.settings().size)}}function pOe(r,t){if(r&1&&(W(0,"div",3,0),Oe(2,mOe,1,5,"img",4),$()),r&2){let e=ie(2);oe("ngClass",wm(2,cOe,!e.backdrop()&&!e.settings().size,e.backdrop(),e.settings().center)),K(2),Pe(e.hide?-1:2)}}function gOe(r,t){if(r&1&&Oe(0,pOe,3,6,"div",3),r&2){let e=ie();Pe(e.url?0:-1)}}var th=(()=>{class r{get svgColor(){return this.color()||this.settings().color}constructor(e,n){this.iconService=e,this.changeRef=n,this.div=Ei("div"),this.renderer=V(gi),this.elementRef=V(ut),this.settings=Ne(new ha),this.backdrop=Ne(!1),this.color=Ne(),this.off=Ne(!0),this.height=Ne(),Ho(()=>{this._resizeObserver=new ResizeObserver(()=>{}),this._resizeObserver.observe(this.elementRef.nativeElement)})}ngOnChanges(e){this.url="";let n=this.settings();switch(n.iconType){case"staticUrl":this._initStaticUrl();break;default:n.icon&&n.iconset&&(this.url=this.iconService.getIconUrl(n.iconset,n.icon),this._refreshIconHeight())}this.changeRef.detectChanges()}ngAfterViewInit(){}ngOnInit(){}_refreshIconHeight(){let e=this.settings();if(e.size&&!this.backdrop()){this.iconHeight=e.size,this.renderer.setStyle(this.elementRef.nativeElement,"width",e.size+"px"),this.renderer.setStyle(this.elementRef.nativeElement,"height",e.size+"px");return}}_calculIconHeight(){let e=this.div().nativeElement;this.iconHeight=Math.min(e.clientHeight,e.clientWidth),this.hide=!1,this.changeRef.detectChanges()}_initStaticUrl(){let e=this.settings();e?.staticUrl&&(this._refreshUrl(e.staticUrl),e.refreshInterval&&(this._interval=setInterval(()=>{this._refreshUrl(this.settings().staticUrl)},e.refreshInterval*1e3)))}_refreshUrl(e){var n=new URL(e);n.searchParams.append("nocache",new Date().getTime().toString()),this.url=n.toString(),this.changeRef.detectChanges()}static{this.\u0275fac=function(n){return new(n||r)(ze(Mv),ze(qt))}}static{this.\u0275cmp=Be({type:r,selectors:[["widget-icon"]],viewQuery:function(n,i){n&1&&Ai(i.div,oOe,5),n&2&&ai()},inputs:{settings:[1,"settings"],backdrop:[1,"backdrop"],color:[1,"color"],off:[1,"off"],height:[1,"height"]},features:[cr],decls:2,vars:1,consts:[["div",""],[1,"icon",3,"ngClass"],[1,"icon-tile",3,"src","svgStyle","ngClass"],[3,"ngClass"],[3,"src","ngStyle","height"]],template:function(n,i){if(n&1&&Oe(0,hOe,1,1)(1,gOe,1,1),n&2){let o;Pe(((o=i.settings())==null?null:o.iconType)==="icon"?0:((o=i.settings())==null?null:o.iconType)==="staticUrl"?1:-1)}},dependencies:[ho,eE],styles:["[_nghost-%COMP%]{display:flex;line-height:initial;flex:1;flex-direction:column}.icon[_ngcontent-%COMP%]{display:flex;position:relative;align-items:center;place-content:center;flex:1}.auto-height[_ngcontent-%COMP%]{flex-direction:column;flex:1;text-align:center}.auto-height[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%;width:100%;object-fit:contain}.backdrop-container[_ngcontent-%COMP%]{position:absolute;inset:10px;display:flex;place-content:center;align-items:center}.backdrop-container.left[_ngcontent-%COMP%]{place-content:center flex-start;align-items:center}.backdrop-container.right[_ngcontent-%COMP%]{place-content:center flex-end;align-items:center}.backdrop-container[_ngcontent-%COMP%]   .icon-tile[_ngcontent-%COMP%]{filter:opacity(30%);-webkit-filter:opacity(30%)}.backdrop-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{opacity:.5}.icon-tile-backdrop.colorize[_ngcontent-%COMP%]{filter:invert(60%) sepia(100%) hue-rotate(165deg) opacity(15%);-webkit-filter:invert(60%) sepia(100%) hue-rotate(165deg) opacity(15%);filter:var(--icon-backdrop-filter, invert(60%) sepia(100%) hue-rotate(165deg) opacity(15%));-webkit-filter:var(--icon-backdrop-filter, invert(60%) sepia(100%) hue-rotate(165deg) opacity(15%))}.icon-tile[_ngcontent-%COMP%]{inset:0;position:absolute;display:flex;place-content:center;align-items:center}.icon-tile.on[_ngcontent-%COMP%]{filter:var(--icon-color-filter, invert(60%) sepia(100%) hue-rotate(185deg) saturate(1000%))}"]})}}return r})();var vOe=r=>({"full-height":r}),bOe=r=>({"icon-left":r}),hz=r=>({"auto-size":r});function yOe(r,t){if(r&1&&(W(0,"div",5),Te(1,"text-font",8),$()),r&2){let e=ie(2);K(),oe("text",e.label())("font",e.labelFont())}}function _Oe(r,t){if(r&1&&(W(0,"div",6),Te(1,"widget-icon",9),$()),r&2){let e=ie(2);oe("ngClass",Un(3,hz,!e.iconShowed.size)),K(),oe("settings",e.iconShowed)("off",!e.highlightIcon())}}function xOe(r,t){if(r&1&&(W(0,"div",7),Te(1,"text-font",8),$()),r&2){let e=ie(2);K(),oe("text",e.value())("font",e.valueFont())}}function wOe(r,t){if(r&1&&(W(0,"div",1)(1,"div",4),Oe(2,yOe,2,2,"div",5)(3,_Oe,2,5,"div",6),$(),Oe(4,xOe,2,2,"div",7),$()),r&2){let e=ie();K(),oe("ngClass",Un(4,bOe,e.iconLeft())),K(),Pe(e.showLabel?2:-1),K(),Pe(e.iconShowed&&!e.reloadIcon?3:-1),K(),Pe(!e.hideValue()&&e.value()?4:-1)}}function COe(r,t){if(r&1&&(W(0,"div",6),Te(1,"widget-icon",9),$()),r&2){let e=ie(2);oe("ngClass",Un(3,hz,!e.iconShowed.size)),K(),oe("settings",e.iconShowed)("off",!e.highlightIcon())}}function SOe(r,t){if(r&1&&(W(0,"div",5),Te(1,"text-font",8),$()),r&2){let e=ie(2);K(),oe("text",e.label())("font",e.labelFont())}}function DOe(r,t){if(r&1&&(W(0,"div",7),Te(1,"text-font",8),$()),r&2){let e=ie(2);K(),oe("text",e.value())("font",e.valueFont())}}function EOe(r,t){if(r&1&&(W(0,"div",2),Oe(1,COe,2,5,"div",6),W(2,"div",10),Oe(3,SOe,2,2,"div",5)(4,DOe,2,2,"div",7),$()()),r&2){let e=ie();K(),Pe(e.iconShowed&&!e.reloadIcon?1:-1),K(2),Pe(e.showLabel?3:-1),K(),Pe(!e.hideValue()&&e.value()?4:-1)}}function MOe(r,t){if(r&1&&(W(0,"div",5),Te(1,"text-font",8),$()),r&2){let e=ie(2);K(),oe("text",e.label())("font",e.labelFont())}}function AOe(r,t){if(r&1&&(W(0,"div",6),Te(1,"widget-icon",9),$()),r&2){let e=ie(2);oe("ngClass",Un(3,hz,!e.iconShowed.size)),K(),oe("settings",e.iconShowed)("off",!e.highlightIcon())}}function TOe(r,t){if(r&1&&(W(0,"div",7),Te(1,"text-font",8),$()),r&2){let e=ie(2);K(),oe("text",e.value())("font",e.valueFont())}}function IOe(r,t){if(r&1&&(W(0,"div",3),Oe(1,MOe,2,2,"div",5)(2,AOe,2,5,"div",6)(3,TOe,2,2,"div",7),$()),r&2){let e=ie();K(),Pe(e.showLabel?1:-1),K(),Pe(e.iconShowed&&!e.reloadIcon?2:-1),K(),Pe(e.hideValue()?-1:3)}}var rh=(()=>{class r{constructor(){this.changeRef=V(qt),this.label=Ne(null),this.labelFont=Ne(Mr.LabelFont()),this.hideLabel=Ne(!1),this.value=Ne(null),this.valueFont=Ne(Mr.ValueFont()),this.hideValue=Ne(!1),this.alignHorizontal=Ne(!1),this.iconLeft=Ne(!1),this.icon=Ne(null),this.highlightIcon=Ne(!1),this.iconShowed=null,this.reloadIcon=!1}ngOnChanges(e){this.reloadIcon=!0,this.showLabel=!this.hideLabel()&&!!this.label(),setTimeout(()=>{let n=this.icon();this.iconShowed=n?.icon?n:null,this.reloadIcon=!1,this.changeRef.detectChanges()})}static{this.\u0275fac=function(n){return new(n||r)}}static{this.\u0275cmp=Be({type:r,selectors:[["label-icon-value"]],inputs:{label:[1,"label"],labelFont:[1,"labelFont"],hideLabel:[1,"hideLabel"],value:[1,"value"],valueFont:[1,"valueFont"],hideValue:[1,"hideValue"],alignHorizontal:[1,"alignHorizontal"],iconLeft:[1,"iconLeft"],icon:[1,"icon"],highlightIcon:[1,"highlightIcon"]},features:[cr],decls:4,vars:6,consts:[[1,"liv-container",3,"ngClass"],[1,"liv-content","horizontal"],[1,"liv-content","vertical-icon-left"],[1,"liv-content","vertical-classic"],[1,"label-icon",3,"ngClass"],[1,"label"],[1,"icon",3,"ngClass"],[1,"value"],[3,"text","font"],[3,"settings","off"],[1,"label-value"]],template:function(n,i){if(n&1&&(W(0,"div",0),Oe(1,wOe,5,6,"div",1)(2,EOe,5,3,"div",2)(3,IOe,4,3,"div",3),$()),n&2){let o;oe("ngClass",Un(4,vOe,!((o=i.icon())!=null&&o.size))),K(),Pe(i.alignHorizontal()?1:-1),K(),Pe(!i.alignHorizontal()&&i.iconLeft()?2:-1),K(),Pe(!i.alignHorizontal()&&!i.iconLeft()?3:-1)}},dependencies:[eo,ho,Wl,th],styles:["[_nghost-%COMP%]{display:contents}.liv-container[_ngcontent-%COMP%]{display:flex;flex:1;justify-content:center}.full-height[_ngcontent-%COMP%]{height:100%}.full-height[_ngcontent-%COMP%]   .liv-content[_ngcontent-%COMP%]{height:100%;max-height:none}.liv-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;place-content:center;align-items:center;max-height:100%;width:100%}.liv-content[_ngcontent-%COMP%]   div.icon.auto-size[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex:1;width:100%}.liv-content.vertical-icon-left[_ngcontent-%COMP%]{flex-direction:row;gap:10px}.liv-content.vertical-icon-left[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:min(100cqw,100cqh);height:min(100cqw,100cqh)}.liv-content.vertical-icon-left[_ngcontent-%COMP%]   .label-value[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:10px}.liv-content.vertical-icon-left[_ngcontent-%COMP%]   .label-value[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{text-align:center}.liv-content.vertical-classic[_ngcontent-%COMP%]{gap:10px}.liv-content.vertical-classic[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{overflow:hidden;padding:2%}.liv-content.horizontal[_ngcontent-%COMP%]{flex-direction:row;gap:15px}.liv-content.horizontal[_ngcontent-%COMP%]   .label-icon[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:row;height:100%;gap:5px}.liv-content.horizontal[_ngcontent-%COMP%]   .label-icon[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{align-items:center;padding:0}.liv-content.horizontal[_ngcontent-%COMP%]   .label-icon[_ngcontent-%COMP%]   .icon.auto-size[_ngcontent-%COMP%]{flex:none;width:min(100cqw,100cqh);height:min(100cqw,100cqh);align-items:normal}.liv-content.horizontal[_ngcontent-%COMP%]   .label-icon.icon-left[_ngcontent-%COMP%]{flex-direction:row-reverse}.liv-content.horizontal[_ngcontent-%COMP%]   .label-icon.icon-left[_ngcontent-%COMP%]   div.icon[_ngcontent-%COMP%]{margin-right:10px;padding:0}.liv-content.horizontal[_ngcontent-%COMP%]   .label-icon[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{flex:1;display:flex}.liv-content.horizontal[_ngcontent-%COMP%]   .label-icon[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]   text-font[_ngcontent-%COMP%]{flex:1;display:flex;align-items:center}.icon[_ngcontent-%COMP%]{display:flex;place-content:center}"],changeDetection:0})}}return r})();var Zo=(()=>{class r{constructor(){this.settings=Ne(null),this.destroy=new Ke,this.elementRef=V(ut)}ngOnDestroy(){this.destroy.next()}onResize(){}static{this.\u0275fac=function(n){return new(n||r)}}static{this.\u0275cmp=Be({type:r,selectors:[["ng-component"]],inputs:{settings:[1,"settings"]},standalone:!1,decls:0,vars:0,template:function(n,i){},encapsulation:2})}}return r})();var kOe=["*"],NOe=r=>({"background-color":r}),OOe=r=>({"center-content":r});function FOe(r,t){if(r&1&&Te(0,"widget-icon",1),r&2){let e=ie();oe("settings",e.background().backdropIcon)}}var Qo=(()=>{class r{constructor(){this.background=Ne(),this.center=Ne(!0)}ngOnInit(){}static{this.\u0275fac=function(n){return new(n||r)}}static{this.\u0275cmp=Be({type:r,selectors:[["widget-box"]],inputs:{background:[1,"background"],center:[1,"center"]},ngContentSelectors:kOe,decls:4,vars:7,consts:[[1,"box-content",3,"ngStyle"],["backdrop","true",3,"settings"],[1,"widget-content",3,"ngClass"]],template:function(n,i){if(n&1&&(un(),W(0,"div",0),Oe(1,FOe,1,1,"widget-icon",1),W(2,"div",2),hr(3),$()()),n&2){let o,s;oe("ngStyle",Un(3,NOe,(o=(o=i.background())==null?null:o.bgColor)!==null&&o!==void 0?o:"var(--widget-bg)")),K(),Pe((s=i.background())!=null&&s.backdropIcon?1:-1),K(),oe("ngClass",Un(5,OOe,i.center()))}},dependencies:[eo,ho,Ng,th],styles:[".action[_nghost-%COMP%]{cursor:pointer}.action[_nghost-%COMP%]   .box-content[_ngcontent-%COMP%]:focus, .action[_nghost-%COMP%]   .box-content[_ngcontent-%COMP%]:active{background-color:#0000001a}.box-content[_ngcontent-%COMP%]{padding:10px;height:100%;box-sizing:border-box}widget-icon.icon[_ngcontent-%COMP%]{display:block;height:100%}.widget-content[_ngcontent-%COMP%]{z-index:9;max-width:100%;height:100%;max-height:100%;width:100%;display:flex;flex:1;flex-direction:column;position:relative;container-type:size;resize:both}.widget-content[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{max-height:100%}.widget-content.center-content[_ngcontent-%COMP%]{place-content:center}"]})}}return r})();var Oi=class r{constructor(t){this.groupId=null,this.background=new Ba,this.highlightIcon=!1,Object.assign(this,t),r.ensureWidgetBaseSettings(this)}static ensureWidgetBaseSettings(t){t.background??=new Ba}},Ba=class{};var Wm=function(r){return r.Command="command",r.Toggle="toggle",r.Navigate="navigate",r}(Wm||{}),i_=function(r){return r.Dashboard="dashboard",r.Link="link",r.Api="api",r}(i_||{});var n_=class r extends Oi{constructor(t){super(),this.labelFont=Mr.LabelFont(),this.hideLabel=!1,this.valueFont=Mr.ValueFont(),this.hideValue=!1,this.alignHorizontal=!1,this.iconLeft=!1,this.actionType=Wm.Command,this.valueCommand=null,this.action=null,this.activeValue=null,this.actionAlt=null,this.showButtons=!1,this.linkType=i_.Dashboard,this.dashboardName=!0,this.href="",this.newTab=!1,Object.assign(this,t),r.ensureSettings(this)}static ensureSettings(t){}};var Yr="primary",y_=Symbol("RouteTitle"),bz=class{params;constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){let e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}};function Ov(r){return new bz(r)}function ROe(r,t,e){let n=e.path.split("/");if(n.length>r.length||e.pathMatch==="full"&&(t.hasChildren()||n.length<r.length))return null;let i={};for(let o=0;o<n.length;o++){let s=n[o],a=r[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:r.slice(0,n.length),posParams:i}}function POe(r,t){if(r.length!==t.length)return!1;for(let e=0;e<r.length;++e)if(!pu(r[e],t[e]))return!1;return!0}function pu(r,t){let e=r?yz(r):void 0,n=t?yz(t):void 0;if(!e||!n||e.length!=n.length)return!1;let i;for(let o=0;o<e.length;o++)if(i=e[o],!Qse(r[i],t[i]))return!1;return!0}function yz(r){return[...Object.keys(r),...Object.getOwnPropertySymbols(r)]}function Qse(r,t){if(Array.isArray(r)&&Array.isArray(t)){if(r.length!==t.length)return!1;let e=[...r].sort(),n=[...t].sort();return e.every((i,o)=>n[o]===i)}else return r===t}function Jse(r){return r.length>0?r[r.length-1]:null}function ih(r){return og(r)?r:xf(r)?On(Promise.resolve(r)):tt(r)}var LOe={exact:tae,subset:rae},eae={exact:BOe,subset:VOe,ignored:()=>!0};function jse(r,t,e){return LOe[e.paths](r.root,t.root,e.matrixParams)&&eae[e.queryParams](r.queryParams,t.queryParams)&&!(e.fragment==="exact"&&r.fragment!==t.fragment)}function BOe(r,t){return pu(r,t)}function tae(r,t,e){if(!Gm(r.segments,t.segments)||!nE(r.segments,t.segments,e)||r.numberOfChildren!==t.numberOfChildren)return!1;for(let n in t.children)if(!r.children[n]||!tae(r.children[n],t.children[n],e))return!1;return!0}function VOe(r,t){return Object.keys(t).length<=Object.keys(r).length&&Object.keys(t).every(e=>Qse(r[e],t[e]))}function rae(r,t,e){return nae(r,t,t.segments,e)}function nae(r,t,e,n){if(r.segments.length>e.length){let i=r.segments.slice(0,e.length);return!(!Gm(i,e)||t.hasChildren()||!nE(i,e,n))}else if(r.segments.length===e.length){if(!Gm(r.segments,e)||!nE(r.segments,e,n))return!1;for(let i in t.children)if(!r.children[i]||!rae(r.children[i],t.children[i],n))return!1;return!0}else{let i=e.slice(0,r.segments.length),o=e.slice(r.segments.length);return!Gm(r.segments,i)||!nE(r.segments,i,n)||!r.children[Yr]?!1:nae(r.children[Yr],t,o,n)}}function nE(r,t,e){return t.every((n,i)=>eae[e](r[i].parameters,n.parameters))}var Fd=class{root;queryParams;fragment;_queryParamMap;constructor(t=new Bn([],{}),e={},n=null){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap??=Ov(this.queryParams),this._queryParamMap}toString(){return HOe.serialize(this)}},Bn=class{segments;children;parent=null;constructor(t,e){this.segments=t,this.children=e,Object.values(e).forEach(n=>n.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return iE(this)}},$m=class{path;parameters;_parameterMap;constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap??=Ov(this.parameters),this._parameterMap}toString(){return oae(this)}};function zOe(r,t){return Gm(r,t)&&r.every((e,n)=>pu(e.parameters,t[n].parameters))}function Gm(r,t){return r.length!==t.length?!1:r.every((e,n)=>e.path===t[n].path)}function jOe(r,t){let e=[];return Object.entries(r.children).forEach(([n,i])=>{n===Yr&&(e=e.concat(t(i,n)))}),Object.entries(r.children).forEach(([n,i])=>{n!==Yr&&(e=e.concat(t(i,n)))}),e}var __=(()=>{class r{static \u0275fac=function(n){return new(n||r)};static \u0275prov=Fe({token:r,factory:()=>new Fv,providedIn:"root"})}return r})(),Fv=class{parse(t){let e=new xz(t);return new Fd(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){let e=`/${o_(t.root,!0)}`,n=WOe(t.queryParams),i=typeof t.fragment=="string"?`#${UOe(t.fragment)}`:"";return`${e}${n}${i}`}},HOe=new Fv;function iE(r){return r.segments.map(t=>oae(t)).join("/")}function o_(r,t){if(!r.hasChildren())return iE(r);if(t){let e=r.children[Yr]?o_(r.children[Yr],!1):"",n=[];return Object.entries(r.children).forEach(([i,o])=>{i!==Yr&&n.push(`${i}:${o_(o,!1)}`)}),n.length>0?`${e}(${n.join("//")})`:e}else{let e=jOe(r,(n,i)=>i===Yr?[o_(r.children[Yr],!1)]:[`${i}:${o_(n,!1)}`]);return Object.keys(r.children).length===1&&r.children[Yr]!=null?`${iE(r)}/${e[0]}`:`${iE(r)}/(${e.join("//")})`}}function iae(r){return encodeURIComponent(r).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function tE(r){return iae(r).replace(/%3B/gi,";")}function UOe(r){return encodeURI(r)}function _z(r){return iae(r).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function oE(r){return decodeURIComponent(r)}function Hse(r){return oE(r.replace(/\+/g,"%20"))}function oae(r){return`${_z(r.path)}${qOe(r.parameters)}`}function qOe(r){return Object.entries(r).map(([t,e])=>`;${_z(t)}=${_z(e)}`).join("")}function WOe(r){let t=Object.entries(r).map(([e,n])=>Array.isArray(n)?n.map(i=>`${tE(e)}=${tE(i)}`).join("&"):`${tE(e)}=${tE(n)}`).filter(e=>e);return t.length?`?${t.join("&")}`:""}var $Oe=/^[^\/()?;#]+/;function mz(r){let t=r.match($Oe);return t?t[0]:""}var GOe=/^[^\/()?;=#]+/;function YOe(r){let t=r.match(GOe);return t?t[0]:""}var KOe=/^[^=?&#]+/;function XOe(r){let t=r.match(KOe);return t?t[0]:""}var ZOe=/^[^&#]+/;function QOe(r){let t=r.match(ZOe);return t?t[0]:""}var xz=class{url;remaining;constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Bn([],{}):new Bn([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n[Yr]=new Bn(t,e)),n}parseSegment(){let t=mz(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new it(4009,!1);return this.capture(t),new $m(oE(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let e=YOe(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){let i=mz(this.remaining);i&&(n=i,this.capture(n))}t[oE(e)]=oE(n)}parseQueryParam(t){let e=XOe(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){let s=QOe(this.remaining);s&&(n=s,this.capture(n))}let i=Hse(e),o=Hse(n);if(t.hasOwnProperty(i)){let s=t[i];Array.isArray(s)||(s=[s],t[i]=s),s.push(o)}else t[i]=o}parseParens(t){let e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let n=mz(this.remaining),i=this.remaining[n.length];if(i!=="/"&&i!==")"&&i!==";")throw new it(4010,!1);let o;n.indexOf(":")>-1?(o=n.slice(0,n.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=Yr);let s=this.parseChildren();e[o]=Object.keys(s).length===1?s[Yr]:new Bn([],s),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new it(4011,!1)}};function sae(r){return r.segments.length>0?new Bn([],{[Yr]:r}):r}function aae(r){let t={};for(let[n,i]of Object.entries(r.children)){let o=aae(i);if(n===Yr&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))t[s]=a;else(o.segments.length>0||o.hasChildren())&&(t[n]=o)}let e=new Bn(r.segments,t);return JOe(e)}function JOe(r){if(r.numberOfChildren===1&&r.children[Yr]){let t=r.children[Yr];return new Bn(r.segments.concat(t.segments),t.children)}return r}function Ym(r){return r instanceof Fd}function eFe(r,t,e=null,n=null){let i=lae(r);return cae(i,t,e,n)}function lae(r){let t;function e(o){let s={};for(let l of o.children){let c=e(l);s[l.outlet]=c}let a=new Bn(o.url,s);return o===r&&(t=a),a}let n=e(r.root),i=sae(n);return t??i}function cae(r,t,e,n){let i=r;for(;i.parent;)i=i.parent;if(t.length===0)return pz(i,i,i,e,n);let o=tFe(t);if(o.toRoot())return pz(i,i,new Bn([],{}),e,n);let s=rFe(o,i,r),a=s.processChildren?l_(s.segmentGroup,s.index,o.commands):dae(s.segmentGroup,s.index,o.commands);return pz(i,s.segmentGroup,a,e,n)}function sE(r){return typeof r=="object"&&r!=null&&!r.outlets&&!r.segmentPath}function d_(r){return typeof r=="object"&&r!=null&&r.outlets}function pz(r,t,e,n,i){let o={};n&&Object.entries(n).forEach(([l,c])=>{o[l]=Array.isArray(c)?c.map(d=>`${d}`):`${c}`});let s;r===t?s=e:s=uae(r,t,e);let a=sae(aae(s));return new Fd(a,o,i)}function uae(r,t,e){let n={};return Object.entries(r.children).forEach(([i,o])=>{o===t?n[i]=e:n[i]=uae(o,t,e)}),new Bn(r.segments,n)}var aE=class{isAbsolute;numberOfDoubleDots;commands;constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&sE(n[0]))throw new it(4003,!1);let i=n.find(d_);if(i&&i!==Jse(n))throw new it(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function tFe(r){if(typeof r[0]=="string"&&r.length===1&&r[0]==="/")return new aE(!0,0,r);let t=0,e=!1,n=r.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([l,c])=>{a[l]=typeof c=="string"?c.split("/"):c}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?e=!0:a===".."?t++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new aE(e,t,n)}var Iv=class{segmentGroup;processChildren;index;constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}};function rFe(r,t,e){if(r.isAbsolute)return new Iv(t,!0,0);if(!e)return new Iv(t,!1,NaN);if(e.parent===null)return new Iv(e,!0,0);let n=sE(r.commands[0])?0:1,i=e.segments.length-1+n;return nFe(e,i,r.numberOfDoubleDots)}function nFe(r,t,e){let n=r,i=t,o=e;for(;o>i;){if(o-=i,n=n.parent,!n)throw new it(4005,!1);i=n.segments.length}return new Iv(n,!1,i-o)}function iFe(r){return d_(r[0])?r[0].outlets:{[Yr]:r}}function dae(r,t,e){if(r??=new Bn([],{}),r.segments.length===0&&r.hasChildren())return l_(r,t,e);let n=oFe(r,t,e),i=e.slice(n.commandIndex);if(n.match&&n.pathIndex<r.segments.length){let o=new Bn(r.segments.slice(0,n.pathIndex),{});return o.children[Yr]=new Bn(r.segments.slice(n.pathIndex),r.children),l_(o,0,i)}else return n.match&&i.length===0?new Bn(r.segments,{}):n.match&&!r.hasChildren()?wz(r,t,e):n.match?l_(r,0,i):wz(r,t,e)}function l_(r,t,e){if(e.length===0)return new Bn(r.segments,{});{let n=iFe(e),i={};if(Object.keys(n).some(o=>o!==Yr)&&r.children[Yr]&&r.numberOfChildren===1&&r.children[Yr].segments.length===0){let o=l_(r.children[Yr],t,e);return new Bn(r.segments,o.children)}return Object.entries(n).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=dae(r.children[o],t,s))}),Object.entries(r.children).forEach(([o,s])=>{n[o]===void 0&&(i[o]=s)}),new Bn(r.segments,i)}}function oFe(r,t,e){let n=0,i=t,o={match:!1,pathIndex:0,commandIndex:0};for(;i<r.segments.length;){if(n>=e.length)return o;let s=r.segments[i],a=e[n];if(d_(a))break;let l=`${a}`,c=n<e.length-1?e[n+1]:null;if(i>0&&l===void 0)break;if(l&&c&&typeof c=="object"&&c.outlets===void 0){if(!qse(l,c,s))return o;n+=2}else{if(!qse(l,{},s))return o;n++}i++}return{match:!0,pathIndex:i,commandIndex:n}}function wz(r,t,e){let n=r.segments.slice(0,t),i=0;for(;i<e.length;){let o=e[i];if(d_(o)){let l=sFe(o.outlets);return new Bn(n,l)}if(i===0&&sE(e[0])){let l=r.segments[t];n.push(new $m(l.path,Use(e[0]))),i++;continue}let s=d_(o)?o.outlets[Yr]:`${o}`,a=i<e.length-1?e[i+1]:null;s&&a&&sE(a)?(n.push(new $m(s,Use(a))),i+=2):(n.push(new $m(s,{})),i++)}return new Bn(n,{})}function sFe(r){let t={};return Object.entries(r).forEach(([e,n])=>{typeof n=="string"&&(n=[n]),n!==null&&(t[e]=wz(new Bn([],{}),0,n))}),t}function Use(r){let t={};return Object.entries(r).forEach(([e,n])=>t[e]=`${n}`),t}function qse(r,t,e){return r==e.path&&pu(t,e.parameters)}var c_="imperative",Jo=function(r){return r[r.NavigationStart=0]="NavigationStart",r[r.NavigationEnd=1]="NavigationEnd",r[r.NavigationCancel=2]="NavigationCancel",r[r.NavigationError=3]="NavigationError",r[r.RoutesRecognized=4]="RoutesRecognized",r[r.ResolveStart=5]="ResolveStart",r[r.ResolveEnd=6]="ResolveEnd",r[r.GuardsCheckStart=7]="GuardsCheckStart",r[r.GuardsCheckEnd=8]="GuardsCheckEnd",r[r.RouteConfigLoadStart=9]="RouteConfigLoadStart",r[r.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",r[r.ChildActivationStart=11]="ChildActivationStart",r[r.ChildActivationEnd=12]="ChildActivationEnd",r[r.ActivationStart=13]="ActivationStart",r[r.ActivationEnd=14]="ActivationEnd",r[r.Scroll=15]="Scroll",r[r.NavigationSkipped=16]="NavigationSkipped",r}(Jo||{}),$l=class{id;url;constructor(t,e){this.id=t,this.url=e}},Rv=class extends $l{type=Jo.NavigationStart;navigationTrigger;restoredState;constructor(t,e,n="imperative",i=null){super(t,e),this.navigationTrigger=n,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Nc=class extends $l{urlAfterRedirects;type=Jo.NavigationEnd;constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},dl=function(r){return r[r.Redirect=0]="Redirect",r[r.SupersededByNewNavigation=1]="SupersededByNewNavigation",r[r.NoDataFromResolver=2]="NoDataFromResolver",r[r.GuardRejected=3]="GuardRejected",r}(dl||{}),lE=function(r){return r[r.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",r[r.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",r}(lE||{}),Od=class extends $l{reason;code;type=Jo.NavigationCancel;constructor(t,e,n,i){super(t,e),this.reason=n,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},nh=class extends $l{reason;code;type=Jo.NavigationSkipped;constructor(t,e,n,i){super(t,e),this.reason=n,this.code=i}},f_=class extends $l{error;target;type=Jo.NavigationError;constructor(t,e,n,i){super(t,e),this.error=n,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},cE=class extends $l{urlAfterRedirects;state;type=Jo.RoutesRecognized;constructor(t,e,n,i){super(t,e),this.urlAfterRedirects=n,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Cz=class extends $l{urlAfterRedirects;state;type=Jo.GuardsCheckStart;constructor(t,e,n,i){super(t,e),this.urlAfterRedirects=n,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Sz=class extends $l{urlAfterRedirects;state;shouldActivate;type=Jo.GuardsCheckEnd;constructor(t,e,n,i,o){super(t,e),this.urlAfterRedirects=n,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Dz=class extends $l{urlAfterRedirects;state;type=Jo.ResolveStart;constructor(t,e,n,i){super(t,e),this.urlAfterRedirects=n,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ez=class extends $l{urlAfterRedirects;state;type=Jo.ResolveEnd;constructor(t,e,n,i){super(t,e),this.urlAfterRedirects=n,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Mz=class{route;type=Jo.RouteConfigLoadStart;constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Az=class{route;type=Jo.RouteConfigLoadEnd;constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Tz=class{snapshot;type=Jo.ChildActivationStart;constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Iz=class{snapshot;type=Jo.ChildActivationEnd;constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},kz=class{snapshot;type=Jo.ActivationStart;constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Nz=class{snapshot;type=Jo.ActivationEnd;constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},uE=class{routerEvent;position;anchor;type=Jo.Scroll;constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){let t=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${t}')`}},h_=class{},Pv=class{url;navigationBehaviorOptions;constructor(t,e){this.url=t,this.navigationBehaviorOptions=e}};function aFe(r,t){return r.providers&&!r._injector&&(r._injector=y1(r.providers,t,`Route: ${r.path}`)),r._injector??t}function kc(r){return r.outlet||Yr}function lFe(r,t){let e=r.filter(n=>kc(n)===t);return e.push(...r.filter(n=>kc(n)!==t)),e}function x_(r){if(!r)return null;if(r.routeConfig?._injector)return r.routeConfig._injector;for(let t=r.parent;t;t=t.parent){let e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}var Oz=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return x_(this.route?.snapshot)??this.rootInjector}constructor(t){this.rootInjector=t,this.children=new w_(this.rootInjector)}},w_=(()=>{class r{rootInjector;contexts=new Map;constructor(e){this.rootInjector=e}onChildOutletCreated(e,n){let i=this.getOrCreateContext(e);i.outlet=n,this.contexts.set(e,i)}onChildOutletDestroyed(e){let n=this.getContext(e);n&&(n.outlet=null,n.attachRef=null)}onOutletDeactivated(){let e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let n=this.getContext(e);return n||(n=new Oz(this.rootInjector),this.contexts.set(e,n)),n}getContext(e){return this.contexts.get(e)||null}static \u0275fac=function(n){return new(n||r)(Tt(Eo))};static \u0275prov=Fe({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),dE=class{_root;constructor(t){this._root=t}get root(){return this._root.value}parent(t){let e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){let e=Fz(t,this._root);return e?e.children.map(n=>n.value):[]}firstChild(t){let e=Fz(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){let e=Rz(t,this._root);return e.length<2?[]:e[e.length-2].children.map(i=>i.value).filter(i=>i!==t)}pathFromRoot(t){return Rz(t,this._root).map(e=>e.value)}};function Fz(r,t){if(r===t.value)return t;for(let e of t.children){let n=Fz(r,e);if(n)return n}return null}function Rz(r,t){if(r===t.value)return[t];for(let e of t.children){let n=Rz(r,e);if(n.length)return n.unshift(t),n}return[]}var ul=class{value;children;constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}};function Tv(r){let t={};return r&&r.children.forEach(e=>t[e.value.outlet]=e),t}var fE=class extends dE{snapshot;constructor(t,e){super(t),this.snapshot=e,qz(this,t)}toString(){return this.snapshot.toString()}};function fae(r){let t=cFe(r),e=new co([new $m("",{})]),n=new co({}),i=new co({}),o=new co({}),s=new co(""),a=new gu(e,n,o,s,i,Yr,r,t.root);return a.snapshot=t.root,new fE(new ul(a,[]),t)}function cFe(r){let t={},e={},n={},i="",o=new kv([],t,n,i,e,Yr,r,null,{});return new mE("",new ul(o,[]))}var gu=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(t,e,n,i,o,s,a,l){this.urlSubject=t,this.paramsSubject=e,this.queryParamsSubject=n,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(at(c=>c[y_]))??tt(void 0),this.url=t,this.params=e,this.queryParams=n,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(at(t=>Ov(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(at(t=>Ov(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function hE(r,t,e="emptyOnly"){let n,{routeConfig:i}=r;return t!==null&&(e==="always"||i?.path===""||!t.component&&!t.routeConfig?.loadComponent)?n={params:Ue(Ue({},t.params),r.params),data:Ue(Ue({},t.data),r.data),resolve:Ue(Ue(Ue(Ue({},r.data),t.data),i?.data),r._resolvedData)}:n={params:Ue({},r.params),data:Ue({},r.data),resolve:Ue(Ue({},r.data),r._resolvedData??{})},i&&mae(i)&&(n.resolve[y_]=i.title),n}var kv=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[y_]}constructor(t,e,n,i,o,s,a,l,c){this.url=t,this.params=e,this.queryParams=n,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Ov(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Ov(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(n=>n.toString()).join("/"),e=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${e}')`}},mE=class extends dE{url;constructor(t,e){super(e),this.url=t,qz(this,e)}toString(){return hae(this._root)}};function qz(r,t){t.value._routerState=r,t.children.forEach(e=>qz(r,e))}function hae(r){let t=r.children.length>0?` { ${r.children.map(hae).join(", ")} } `:"";return`${r.value}${t}`}function gz(r){if(r.snapshot){let t=r.snapshot,e=r._futureSnapshot;r.snapshot=e,pu(t.queryParams,e.queryParams)||r.queryParamsSubject.next(e.queryParams),t.fragment!==e.fragment&&r.fragmentSubject.next(e.fragment),pu(t.params,e.params)||r.paramsSubject.next(e.params),POe(t.url,e.url)||r.urlSubject.next(e.url),pu(t.data,e.data)||r.dataSubject.next(e.data)}else r.snapshot=r._futureSnapshot,r.dataSubject.next(r._futureSnapshot.data)}function Pz(r,t){let e=pu(r.params,t.params)&&zOe(r.url,t.url),n=!r.parent!=!t.parent;return e&&!n&&(!r.parent||Pz(r.parent,t.parent))}function mae(r){return typeof r.title=="string"||r.title===null}var uFe=new He(""),dFe=(()=>{class r{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=Yr;activateEvents=new ct;deactivateEvents=new ct;attachEvents=new ct;detachEvents=new ct;routerOutletData=Ne(void 0);parentContexts=V(w_);location=V(Zn);changeDetector=V(qt);inputBinder=V(bE,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(e){if(e.name){let{firstChange:n,previousValue:i}=e.name;if(n)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new it(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new it(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new it(4012,!1);this.location.detach();let e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,n){this.activated=e,this._activatedRoute=n,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){let e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,n){if(this.isActivated)throw new it(4013,!1);this._activatedRoute=e;let i=this.location,s=e.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new Lz(e,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:l,environmentInjector:n}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(n){return new(n||r)};static \u0275dir=ft({type:r,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[cr]})}return r})(),Lz=class r{route;childContexts;parent;outletData;__ngOutletInjector(t){return new r(this.route,this.childContexts,t,this.outletData)}constructor(t,e,n,i){this.route=t,this.childContexts=e,this.parent=n,this.outletData=i}get(t,e){return t===gu?this.route:t===w_?this.childContexts:t===uFe?this.outletData:this.parent.get(t,e)}},bE=new He(""),Wse=(()=>{class r{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e)}unsubscribeFromRouteData(e){this.outletDataSubscriptions.get(e)?.unsubscribe(),this.outletDataSubscriptions.delete(e)}subscribeToRouteData(e){let{activatedRoute:n}=e,i=Jh([n.queryParams,n.params,n.data]).pipe(Wr(([o,s,a],l)=>(a=Ue(Ue(Ue({},o),s),a),l===0?tt(a):Promise.resolve(a)))).subscribe(o=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==n||n.component===null){this.unsubscribeFromRouteData(e);return}let s=r7(n.component);if(!s){this.unsubscribeFromRouteData(e);return}for(let{templateName:a}of s.inputs)e.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(e,i)}static \u0275fac=function(n){return new(n||r)};static \u0275prov=Fe({token:r,factory:r.\u0275fac})}return r})();function fFe(r,t,e){let n=m_(r,t._root,e?e._root:void 0);return new fE(n,t)}function m_(r,t,e){if(e&&r.shouldReuseRoute(t.value,e.value.snapshot)){let n=e.value;n._futureSnapshot=t.value;let i=hFe(r,t,e);return new ul(n,i)}else{if(r.shouldAttach(t.value)){let o=r.retrieve(t.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(a=>m_(r,a)),s}}let n=mFe(t.value),i=t.children.map(o=>m_(r,o));return new ul(n,i)}}function hFe(r,t,e){return t.children.map(n=>{for(let i of e.children)if(r.shouldReuseRoute(n.value,i.value.snapshot))return m_(r,n,i);return m_(r,n)})}function mFe(r){return new gu(new co(r.url),new co(r.params),new co(r.queryParams),new co(r.fragment),new co(r.data),r.outlet,r.component,r)}var p_=class{redirectTo;navigationBehaviorOptions;constructor(t,e){this.redirectTo=t,this.navigationBehaviorOptions=e}},pae="ngNavigationCancelingError";function pE(r,t){let{redirectTo:e,navigationBehaviorOptions:n}=Ym(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,i=gae(!1,dl.Redirect);return i.url=e,i.navigationBehaviorOptions=n,i}function gae(r,t){let e=new Error(`NavigationCancelingError: ${r||""}`);return e[pae]=!0,e.cancellationCode=t,e}function pFe(r){return vae(r)&&Ym(r.url)}function vae(r){return!!r&&r[pae]}var gFe=(r,t,e,n)=>at(i=>(new Bz(t,i.targetRouterState,i.currentRouterState,e,n).activate(r),i)),Bz=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(t,e,n,i,o){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=i,this.inputBindingEnabled=o}activate(t){let e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),gz(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){let i=Tv(e);t.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],n),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,n)})}deactivateRoutes(t,e,n){let i=t.value,o=e?e.value:null;if(i===o)if(i.component){let s=n.getContext(i.outlet);s&&this.deactivateChildRoutes(t,e,s.children)}else this.deactivateChildRoutes(t,e,n);else o&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){let n=e.getContext(t.value.outlet),i=n&&t.value.component?n.children:e,o=Tv(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(n&&n.outlet){let s=n.outlet.detach(),a=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:a})}}deactivateRouteAndOutlet(t,e){let n=e.getContext(t.value.outlet),i=n&&t.value.component?n.children:e,o=Tv(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);n&&(n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated()),n.attachRef=null,n.route=null)}activateChildRoutes(t,e,n){let i=Tv(e);t.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],n),this.forwardEvent(new Nz(o.value.snapshot))}),t.children.length&&this.forwardEvent(new Iz(t.value.snapshot))}activateRoutes(t,e,n){let i=t.value,o=e?e.value:null;if(gz(i),i===o)if(i.component){let s=n.getOrCreateContext(i.outlet);this.activateChildRoutes(t,e,s.children)}else this.activateChildRoutes(t,e,n);else if(i.component){let s=n.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),gz(a.route.value),this.activateChildRoutes(t,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(t,null,s.children)}else this.activateChildRoutes(t,null,n)}},gE=class{path;route;constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},Nv=class{component;route;constructor(t,e){this.component=t,this.route=e}};function vFe(r,t,e){let n=r._root,i=t?t._root:null;return s_(n,i,e,[n.value])}function bFe(r){let t=r.routeConfig?r.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:r,guards:t}}function Bv(r,t){let e=Symbol(),n=t.get(r,e);return n===e?typeof r=="function"&&!rq(r)?r:t.get(r):n}function s_(r,t,e,n,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Tv(t);return r.children.forEach(s=>{yFe(s,o[s.value.outlet],e,n.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>u_(a,e.getContext(s),i)),i}function yFe(r,t,e,n,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=r.value,s=t?t.value:null,a=e?e.getContext(r.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let l=_Fe(s,o,o.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new gE(n)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?s_(r,t,a?a.children:null,n,i):s_(r,t,e,n,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Nv(a.outlet.component,s))}else s&&u_(t,a,i),i.canActivateChecks.push(new gE(n)),o.component?s_(r,null,a?a.children:null,n,i):s_(r,null,e,n,i);return i}function _Fe(r,t,e){if(typeof e=="function")return e(r,t);switch(e){case"pathParamsChange":return!Gm(r.url,t.url);case"pathParamsOrQueryParamsChange":return!Gm(r.url,t.url)||!pu(r.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Pz(r,t)||!pu(r.queryParams,t.queryParams);case"paramsChange":default:return!Pz(r,t)}}function u_(r,t,e){let n=Tv(r),i=r.value;Object.entries(n).forEach(([o,s])=>{i.component?t?u_(s,t.children.getContext(o),e):u_(s,null,e):u_(s,t,e)}),i.component?t&&t.outlet&&t.outlet.isActivated?e.canDeactivateChecks.push(new Nv(t.outlet.component,i)):e.canDeactivateChecks.push(new Nv(null,i)):e.canDeactivateChecks.push(new Nv(null,i))}function C_(r){return typeof r=="function"}function xFe(r){return typeof r=="boolean"}function wFe(r){return r&&C_(r.canLoad)}function CFe(r){return r&&C_(r.canActivate)}function SFe(r){return r&&C_(r.canActivateChild)}function DFe(r){return r&&C_(r.canDeactivate)}function EFe(r){return r&&C_(r.canMatch)}function bae(r){return r instanceof td||r?.name==="EmptyError"}var rE=Symbol("INITIAL_VALUE");function Lv(){return Wr(r=>Jh(r.map(t=>t.pipe(on(1),si(rE)))).pipe(at(t=>{for(let e of t)if(e!==!0){if(e===rE)return rE;if(e===!1||MFe(e))return e}return!0}),sr(t=>t!==rE),on(1)))}function MFe(r){return Ym(r)||r instanceof p_}function AFe(r,t){return Ci(e=>{let{targetSnapshot:n,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=e;return s.length===0&&o.length===0?tt(pr(Ue({},e),{guardsResult:!0})):TFe(s,n,i,r).pipe(Ci(a=>a&&xFe(a)?IFe(n,o,r,t):tt(a)),at(a=>pr(Ue({},e),{guardsResult:a})))})}function TFe(r,t,e,n){return On(r).pipe(Ci(i=>RFe(i.component,i.route,e,t,n)),Gc(i=>i!==!0,!0))}function IFe(r,t,e,n){return On(t).pipe(lc(i=>El(NFe(i.route.parent,n),kFe(i.route,n),FFe(r,i.path,e),OFe(r,i.route,e))),Gc(i=>i!==!0,!0))}function kFe(r,t){return r!==null&&t&&t(new kz(r)),tt(!0)}function NFe(r,t){return r!==null&&t&&t(new Tz(r)),tt(!0)}function OFe(r,t,e){let n=t.routeConfig?t.routeConfig.canActivate:null;if(!n||n.length===0)return tt(!0);let i=n.map(o=>ra(()=>{let s=x_(t)??e,a=Bv(o,s),l=CFe(a)?a.canActivate(t,r):Ma(s,()=>a(t,r));return ih(l).pipe(Gc())}));return tt(i).pipe(Lv())}function FFe(r,t,e){let n=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(s=>bFe(s)).filter(s=>s!==null).map(s=>ra(()=>{let a=s.guards.map(l=>{let c=x_(s.node)??e,d=Bv(l,c),f=SFe(d)?d.canActivateChild(n,r):Ma(c,()=>d(n,r));return ih(f).pipe(Gc())});return tt(a).pipe(Lv())}));return tt(o).pipe(Lv())}function RFe(r,t,e,n,i){let o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!o||o.length===0)return tt(!0);let s=o.map(a=>{let l=x_(t)??i,c=Bv(a,l),d=DFe(c)?c.canDeactivate(r,t,e,n):Ma(l,()=>c(r,t,e,n));return ih(d).pipe(Gc())});return tt(s).pipe(Lv())}function PFe(r,t,e,n){let i=t.canLoad;if(i===void 0||i.length===0)return tt(!0);let o=i.map(s=>{let a=Bv(s,r),l=wFe(a)?a.canLoad(t,e):Ma(r,()=>a(t,e));return ih(l)});return tt(o).pipe(Lv(),yae(n))}function yae(r){return YT(Fr(t=>{if(typeof t!="boolean")throw pE(r,t)}),at(t=>t===!0))}function LFe(r,t,e,n){let i=t.canMatch;if(!i||i.length===0)return tt(!0);let o=i.map(s=>{let a=Bv(s,r),l=EFe(a)?a.canMatch(t,e):Ma(r,()=>a(t,e));return ih(l)});return tt(o).pipe(Lv(),yae(n))}var g_=class{segmentGroup;constructor(t){this.segmentGroup=t||null}},v_=class extends Error{urlTree;constructor(t){super(),this.urlTree=t}};function Av(r){return zo(new g_(r))}function BFe(r){return zo(new it(4e3,!1))}function VFe(r){return zo(gae(!1,dl.GuardRejected))}var Vz=class{urlSerializer;urlTree;constructor(t,e){this.urlSerializer=t,this.urlTree=e}lineralizeSegments(t,e){let n=[],i=e.root;for(;;){if(n=n.concat(i.segments),i.numberOfChildren===0)return tt(n);if(i.numberOfChildren>1||!i.children[Yr])return BFe(`${t.redirectTo}`);i=i.children[Yr]}}applyRedirectCommands(t,e,n,i,o){if(typeof e!="string"){let a=e,{queryParams:l,fragment:c,routeConfig:d,url:f,outlet:m,params:p,data:b,title:y}=i,C=Ma(o,()=>a({params:p,data:b,queryParams:l,fragment:c,routeConfig:d,url:f,outlet:m,title:y}));if(C instanceof Fd)throw new v_(C);e=C}let s=this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,n);if(e[0]==="/")throw new v_(s);return s}applyRedirectCreateUrlTree(t,e,n,i){let o=this.createSegmentGroup(t,e.root,n,i);return new Fd(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){let n={};return Object.entries(t).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);n[i]=e[a]}else n[i]=o}),n}createSegmentGroup(t,e,n,i){let o=this.createSegments(t,e.segments,n,i),s={};return Object.entries(e.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(t,l,n,i)}),new Bn(o,s)}createSegments(t,e,n,i){return e.map(o=>o.path[0]===":"?this.findPosParam(t,o,i):this.findOrReturn(o,n))}findPosParam(t,e,n){let i=n[e.path.substring(1)];if(!i)throw new it(4001,!1);return i}findOrReturn(t,e){let n=0;for(let i of e){if(i.path===t.path)return e.splice(n),i;n++}return t}},zz={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function zFe(r,t,e,n,i){let o=_ae(r,t,e);return o.matched?(n=aFe(t,n),LFe(n,t,e,i).pipe(at(s=>s===!0?o:Ue({},zz)))):tt(o)}function _ae(r,t,e){if(t.path==="**")return jFe(e);if(t.path==="")return t.pathMatch==="full"&&(r.hasChildren()||e.length>0)?Ue({},zz):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};let i=(t.matcher||ROe)(e,r,t);if(!i)return Ue({},zz);let o={};Object.entries(i.posParams??{}).forEach(([a,l])=>{o[a]=l.path});let s=i.consumed.length>0?Ue(Ue({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:e.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function jFe(r){return{matched:!0,parameters:r.length>0?Jse(r).parameters:{},consumedSegments:r,remainingSegments:[],positionalParamSegments:{}}}function $se(r,t,e,n){return e.length>0&&qFe(r,e,n)?{segmentGroup:new Bn(t,UFe(n,new Bn(e,r.children))),slicedSegments:[]}:e.length===0&&WFe(r,e,n)?{segmentGroup:new Bn(r.segments,HFe(r,e,n,r.children)),slicedSegments:e}:{segmentGroup:new Bn(r.segments,r.children),slicedSegments:e}}function HFe(r,t,e,n){let i={};for(let o of e)if(yE(r,t,o)&&!n[kc(o)]){let s=new Bn([],{});i[kc(o)]=s}return Ue(Ue({},n),i)}function UFe(r,t){let e={};e[Yr]=t;for(let n of r)if(n.path===""&&kc(n)!==Yr){let i=new Bn([],{});e[kc(n)]=i}return e}function qFe(r,t,e){return e.some(n=>yE(r,t,n)&&kc(n)!==Yr)}function WFe(r,t,e){return e.some(n=>yE(r,t,n))}function yE(r,t,e){return(r.hasChildren()||t.length>0)&&e.pathMatch==="full"?!1:e.path===""}function $Fe(r,t,e){return t.length===0&&!r.children[e]}var jz=class{};function GFe(r,t,e,n,i,o,s="emptyOnly"){return new Hz(r,t,e,n,i,s,o).recognize()}var YFe=31,Hz=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(t,e,n,i,o,s,a){this.injector=t,this.configLoader=e,this.rootComponentType=n,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Vz(this.urlSerializer,this.urlTree)}noMatchError(t){return new it(4002,`'${t.segmentGroup}'`)}recognize(){let t=$se(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(at(({children:e,rootSnapshot:n})=>{let i=new ul(n,e),o=new mE("",i),s=eFe(n,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(t){let e=new kv([],Object.freeze({}),Object.freeze(Ue({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),Yr,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,t,Yr,e).pipe(at(n=>({children:n,rootSnapshot:e})),Ml(n=>{if(n instanceof v_)return this.urlTree=n.urlTree,this.match(n.urlTree.root);throw n instanceof g_?this.noMatchError(n):n}))}processSegmentGroup(t,e,n,i,o){return n.segments.length===0&&n.hasChildren()?this.processChildren(t,e,n,o):this.processSegment(t,e,n,n.segments,i,!0,o).pipe(at(s=>s instanceof ul?[s]:[]))}processChildren(t,e,n,i){let o=[];for(let s of Object.keys(n.children))s==="primary"?o.unshift(s):o.push(s);return On(o).pipe(lc(s=>{let a=n.children[s],l=lFe(e,s);return this.processSegmentGroup(t,l,a,s,i)}),iI((s,a)=>(s.push(...a),s)),af(null),rI(),Ci(s=>{if(s===null)return Av(n);let a=xae(s);return KFe(a),tt(a)}))}processSegment(t,e,n,i,o,s,a){return On(e).pipe(lc(l=>this.processSegmentAgainstRoute(l._injector??t,e,l,n,i,o,s,a).pipe(Ml(c=>{if(c instanceof g_)return tt(null);throw c}))),Gc(l=>!!l),Ml(l=>{if(bae(l))return $Fe(n,i,o)?tt(new jz):Av(n);throw l}))}processSegmentAgainstRoute(t,e,n,i,o,s,a,l){return kc(n)!==s&&(s===Yr||!yE(i,o,n))?Av(i):n.redirectTo===void 0?this.matchSegmentAgainstRoute(t,i,n,o,s,l):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(t,i,e,n,o,s,l):Av(i)}expandSegmentAgainstRouteUsingRedirect(t,e,n,i,o,s,a){let{matched:l,parameters:c,consumedSegments:d,positionalParamSegments:f,remainingSegments:m}=_ae(e,i,o);if(!l)return Av(e);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>YFe&&(this.allowRedirects=!1));let p=new kv(o,c,Object.freeze(Ue({},this.urlTree.queryParams)),this.urlTree.fragment,Gse(i),kc(i),i.component??i._loadedComponent??null,i,Yse(i)),b=hE(p,a,this.paramsInheritanceStrategy);p.params=Object.freeze(b.params),p.data=Object.freeze(b.data);let y=this.applyRedirects.applyRedirectCommands(d,i.redirectTo,f,p,t);return this.applyRedirects.lineralizeSegments(i,y).pipe(Ci(C=>this.processSegment(t,n,e,C.concat(m),s,!1,a)))}matchSegmentAgainstRoute(t,e,n,i,o,s){let a=zFe(e,n,i,t,this.urlSerializer);return n.path==="**"&&(e.children={}),a.pipe(Wr(l=>l.matched?(t=n._injector??t,this.getChildConfig(t,n,i).pipe(Wr(({routes:c})=>{let d=n._loadedInjector??t,{parameters:f,consumedSegments:m,remainingSegments:p}=l,b=new kv(m,f,Object.freeze(Ue({},this.urlTree.queryParams)),this.urlTree.fragment,Gse(n),kc(n),n.component??n._loadedComponent??null,n,Yse(n)),y=hE(b,s,this.paramsInheritanceStrategy);b.params=Object.freeze(y.params),b.data=Object.freeze(y.data);let{segmentGroup:C,slicedSegments:S}=$se(e,m,p,c);if(S.length===0&&C.hasChildren())return this.processChildren(d,c,C,b).pipe(at(x=>new ul(b,x)));if(c.length===0&&S.length===0)return tt(new ul(b,[]));let A=kc(n)===o;return this.processSegment(d,c,C,S,A?Yr:o,!0,b).pipe(at(x=>new ul(b,x instanceof ul?[x]:[])))}))):Av(e)))}getChildConfig(t,e,n){return e.children?tt({routes:e.children,injector:t}):e.loadChildren?e._loadedRoutes!==void 0?tt({routes:e._loadedRoutes,injector:e._loadedInjector}):PFe(t,e,n,this.urlSerializer).pipe(Ci(i=>i?this.configLoader.loadChildren(t,e).pipe(Fr(o=>{e._loadedRoutes=o.routes,e._loadedInjector=o.injector})):VFe(e))):tt({routes:[],injector:t})}};function KFe(r){r.sort((t,e)=>t.value.outlet===Yr?-1:e.value.outlet===Yr?1:t.value.outlet.localeCompare(e.value.outlet))}function XFe(r){let t=r.value.routeConfig;return t&&t.path===""}function xae(r){let t=[],e=new Set;for(let n of r){if(!XFe(n)){t.push(n);continue}let i=t.find(o=>n.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...n.children),e.add(i)):t.push(n)}for(let n of e){let i=xae(n.children);t.push(new ul(n.value,i))}return t.filter(n=>!e.has(n))}function Gse(r){return r.data||{}}function Yse(r){return r.resolve||{}}function ZFe(r,t,e,n,i,o){return Ci(s=>GFe(r,t,e,n,s.extractedUrl,i,o).pipe(at(({state:a,tree:l})=>pr(Ue({},s),{targetSnapshot:a,urlAfterRedirects:l}))))}function QFe(r,t){return Ci(e=>{let{targetSnapshot:n,guards:{canActivateChecks:i}}=e;if(!i.length)return tt(e);let o=new Set(i.map(l=>l.route)),s=new Set;for(let l of o)if(!s.has(l))for(let c of wae(l))s.add(c);let a=0;return On(s).pipe(lc(l=>o.has(l)?JFe(l,n,r,t):(l.data=hE(l,l.parent,r).resolve,tt(void 0))),Fr(()=>a++),lg(1),Ci(l=>a===s.size?tt(e):Qi))})}function wae(r){let t=r.children.map(e=>wae(e)).flat();return[r,...t]}function JFe(r,t,e,n){let i=r.routeConfig,o=r._resolve;return i?.title!==void 0&&!mae(i)&&(o[y_]=i.title),e2e(o,r,t,n).pipe(at(s=>(r._resolvedData=s,r.data=hE(r,r.parent,e).resolve,null)))}function e2e(r,t,e,n){let i=yz(r);if(i.length===0)return tt({});let o={};return On(i).pipe(Ci(s=>t2e(r[s],t,e,n).pipe(Gc(),Fr(a=>{if(a instanceof p_)throw pE(new Fv,a);o[s]=a}))),lg(1),Cb(o),Ml(s=>bae(s)?Qi:zo(s)))}function t2e(r,t,e,n){let i=x_(t)??n,o=Bv(r,i),s=o.resolve?o.resolve(t,e):Ma(i,()=>o(t,e));return ih(s)}function vz(r){return Wr(t=>{let e=r(t);return e?On(e).pipe(at(()=>t)):tt(t)})}var Cae=(()=>{class r{buildTitle(e){let n,i=e.root;for(;i!==void 0;)n=this.getResolvedTitleForRoute(i)??n,i=i.children.find(o=>o.outlet===Yr);return n}getResolvedTitleForRoute(e){return e.data[y_]}static \u0275fac=function(n){return new(n||r)};static \u0275prov=Fe({token:r,factory:()=>V(r2e),providedIn:"root"})}return r})(),r2e=(()=>{class r extends Cae{title;constructor(e){super(),this.title=e}updateTitle(e){let n=this.buildTitle(e);n!==void 0&&this.title.setTitle(n)}static \u0275fac=function(n){return new(n||r)(Tt(H7))};static \u0275prov=Fe({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),S_=new He("",{providedIn:"root",factory:()=>({})}),n2e=(()=>{class r{static \u0275fac=function(n){return new(n||r)};static \u0275cmp=Be({type:r,selectors:[["ng-component"]],decls:1,vars:0,template:function(n,i){n&1&&Te(0,"router-outlet")},dependencies:[dFe],encapsulation:2})}return r})();function Wz(r){let t=r.children&&r.children.map(Wz),e=t?pr(Ue({},r),{children:t}):Ue({},r);return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==Yr&&(e.component=n2e),e}var b_=new He(""),$z=(()=>{class r{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=V(E1);loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return tt(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);let n=ih(e.loadComponent()).pipe(at(Sae),Fr(o=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=o}),Sa(()=>{this.componentLoaders.delete(e)})),i=new ed(n,()=>new Ke).pipe(eg());return this.componentLoaders.set(e,i),i}loadChildren(e,n){if(this.childrenLoaders.get(n))return this.childrenLoaders.get(n);if(n._loadedRoutes)return tt({routes:n._loadedRoutes,injector:n._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(n);let o=i2e(n,this.compiler,e,this.onLoadEndListener).pipe(Sa(()=>{this.childrenLoaders.delete(n)})),s=new ed(o,()=>new Ke).pipe(eg());return this.childrenLoaders.set(n,s),s}static \u0275fac=function(n){return new(n||r)};static \u0275prov=Fe({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function i2e(r,t,e,n){return ih(r.loadChildren()).pipe(at(Sae),Ci(i=>i instanceof Ob||Array.isArray(i)?tt(i):On(t.compileModuleAsync(i))),at(i=>{n&&n(r);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(e).injector,s=o.get(b_,[],{optional:!0,self:!0}).flat()),{routes:s.map(Wz),injector:o}}))}function o2e(r){return r&&typeof r=="object"&&"default"in r}function Sae(r){return o2e(r)?r.default:r}var Gz=(()=>{class r{static \u0275fac=function(n){return new(n||r)};static \u0275prov=Fe({token:r,factory:()=>V(s2e),providedIn:"root"})}return r})(),s2e=(()=>{class r{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,n){return e}static \u0275fac=function(n){return new(n||r)};static \u0275prov=Fe({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),Dae=new He(""),Eae=new He("");function a2e(r,t,e){let n=r.get(Eae),i=r.get(Xt);return r.get(xt).runOutsideAngular(()=>{if(!i.startViewTransition||n.skipNextTransition)return n.skipNextTransition=!1,new Promise(c=>setTimeout(c));let o,s=new Promise(c=>{o=c}),a=i.startViewTransition(()=>(o(),l2e(r))),{onViewTransitionCreated:l}=n;return l&&Ma(r,()=>l({transition:a,from:t,to:e})),s})}function l2e(r){return new Promise(t=>{Ho({read:()=>setTimeout(t)},{injector:r})})}var Mae=new He(""),Yz=(()=>{class r{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new Ke;transitionAbortSubject=new Ke;configLoader=V($z);environmentInjector=V(Eo);urlSerializer=V(__);rootContexts=V(w_);location=V(Df);inputBindingEnabled=V(bE,{optional:!0})!==null;titleStrategy=V(Cae);options=V(S_,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=V(Gz);createViewTransition=V(Dae,{optional:!0});navigationErrorHandler=V(Mae,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>tt(void 0);rootComponentType=null;constructor(){let e=i=>this.events.next(new Mz(i)),n=i=>this.events.next(new Az(i));this.configLoader.onLoadEndListener=n,this.configLoader.onLoadStartListener=e}complete(){this.transitions?.complete()}handleNavigationRequest(e){let n=++this.navigationId;this.transitions?.next(pr(Ue(Ue({},this.transitions.value),e),{id:n}))}setupNavigations(e,n,i){return this.transitions=new co({id:0,currentUrlTree:n,currentRawUrl:n,extractedUrl:this.urlHandlingStrategy.extract(n),urlAfterRedirects:this.urlHandlingStrategy.extract(n),rawUrl:n,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:c_,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(sr(o=>o.id!==0),at(o=>pr(Ue({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Wr(o=>{let s=!1,a=!1;return tt(o).pipe(Wr(l=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",dl.SupersededByNewNavigation),Qi;this.currentTransition=o,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,targetBrowserUrl:typeof l.extras.browserUrl=="string"?this.urlSerializer.parse(l.extras.browserUrl):l.extras.browserUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?pr(Ue({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let c=!e.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),d=l.extras.onSameUrlNavigation??e.onSameUrlNavigation;if(!c&&d!=="reload"){let f="";return this.events.next(new nh(l.id,this.urlSerializer.serialize(l.rawUrl),f,lE.IgnoredSameUrlNavigation)),l.resolve(!1),Qi}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return tt(l).pipe(Wr(f=>{let m=this.transitions?.getValue();return this.events.next(new Rv(f.id,this.urlSerializer.serialize(f.extractedUrl),f.source,f.restoredState)),m!==this.transitions?.getValue()?Qi:Promise.resolve(f)}),ZFe(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,this.paramsInheritanceStrategy),Fr(f=>{o.targetSnapshot=f.targetSnapshot,o.urlAfterRedirects=f.urlAfterRedirects,this.currentNavigation=pr(Ue({},this.currentNavigation),{finalUrl:f.urlAfterRedirects});let m=new cE(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(m)}));if(c&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:f,extractedUrl:m,source:p,restoredState:b,extras:y}=l,C=new Rv(f,this.urlSerializer.serialize(m),p,b);this.events.next(C);let S=fae(this.rootComponentType).snapshot;return this.currentTransition=o=pr(Ue({},l),{targetSnapshot:S,urlAfterRedirects:m,extras:pr(Ue({},y),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=m,tt(o)}else{let f="";return this.events.next(new nh(l.id,this.urlSerializer.serialize(l.extractedUrl),f,lE.IgnoredByUrlHandlingStrategy)),l.resolve(!1),Qi}}),Fr(l=>{let c=new Cz(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(c)}),at(l=>(this.currentTransition=o=pr(Ue({},l),{guards:vFe(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),o)),AFe(this.environmentInjector,l=>this.events.next(l)),Fr(l=>{if(o.guardsResult=l.guardsResult,l.guardsResult&&typeof l.guardsResult!="boolean")throw pE(this.urlSerializer,l.guardsResult);let c=new Sz(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(c)}),sr(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",dl.GuardRejected),!1)),vz(l=>{if(l.guards.canActivateChecks.length)return tt(l).pipe(Fr(c=>{let d=new Dz(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(d)}),Wr(c=>{let d=!1;return tt(c).pipe(QFe(this.paramsInheritanceStrategy,this.environmentInjector),Fr({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(c,"",dl.NoDataFromResolver)}}))}),Fr(c=>{let d=new Ez(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(d)}))}),vz(l=>{let c=d=>{let f=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&f.push(this.configLoader.loadComponent(d.routeConfig).pipe(Fr(m=>{d.component=m}),at(()=>{})));for(let m of d.children)f.push(...c(m));return f};return Jh(c(l.targetSnapshot.root)).pipe(af(null),on(1))}),vz(()=>this.afterPreactivation()),Wr(()=>{let{currentSnapshot:l,targetSnapshot:c}=o,d=this.createViewTransition?.(this.environmentInjector,l.root,c.root);return d?On(d).pipe(at(()=>o)):tt(o)}),at(l=>{let c=fFe(e.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=o=pr(Ue({},l),{targetRouterState:c}),this.currentNavigation.targetRouterState=c,o}),Fr(()=>{this.events.next(new h_)}),gFe(this.rootContexts,e.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),on(1),Fr({next:l=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Nc(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{s=!0}}),Vt(this.transitionAbortSubject.pipe(Fr(l=>{throw l}))),Sa(()=>{!s&&!a&&this.cancelNavigationTransition(o,"",dl.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),Ml(l=>{if(a=!0,vae(l))this.events.next(new Od(o.id,this.urlSerializer.serialize(o.extractedUrl),l.message,l.cancellationCode)),pFe(l)?this.events.next(new Pv(l.url,l.navigationBehaviorOptions)):o.resolve(!1);else{let c=new f_(o.id,this.urlSerializer.serialize(o.extractedUrl),l,o.targetSnapshot??void 0);try{let d=Ma(this.environmentInjector,()=>this.navigationErrorHandler?.(c));if(d instanceof p_){let{message:f,cancellationCode:m}=pE(this.urlSerializer,d);this.events.next(new Od(o.id,this.urlSerializer.serialize(o.extractedUrl),f,m)),this.events.next(new Pv(d.redirectTo,d.navigationBehaviorOptions))}else throw this.events.next(c),l}catch(d){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(d)}}return Qi}))}))}cancelNavigationTransition(e,n,i){let o=new Od(e.id,this.urlSerializer.serialize(e.extractedUrl),n,i);this.events.next(o),e.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let e=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),n=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return e.toString()!==n?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(n){return new(n||r)};static \u0275prov=Fe({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function c2e(r){return r!==c_}var u2e=(()=>{class r{static \u0275fac=function(n){return new(n||r)};static \u0275prov=Fe({token:r,factory:()=>V(d2e),providedIn:"root"})}return r})(),Uz=class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}},d2e=(()=>{class r extends Uz{static \u0275fac=(()=>{let e;return function(i){return(e||(e=Kn(r)))(i||r)}})();static \u0275prov=Fe({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),Aae=(()=>{class r{static \u0275fac=function(n){return new(n||r)};static \u0275prov=Fe({token:r,factory:()=>V(f2e),providedIn:"root"})}return r})(),f2e=(()=>{class r extends Aae{location=V(Df);urlSerializer=V(__);options=V(S_,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";urlHandlingStrategy=V(Gz);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Fd;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}routerState=fae(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(e){return this.location.subscribe(n=>{n.type==="popstate"&&e(n.url,n.state)})}handleRouterEvent(e,n){if(e instanceof Rv)this.stateMemento=this.createStateMemento();else if(e instanceof nh)this.rawUrlTree=n.initialUrl;else if(e instanceof cE){if(this.urlUpdateStrategy==="eager"&&!n.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(n.finalUrl,n.initialUrl);this.setBrowserUrl(n.targetBrowserUrl??i,n)}}else e instanceof h_?(this.currentUrlTree=n.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(n.finalUrl,n.initialUrl),this.routerState=n.targetRouterState,this.urlUpdateStrategy==="deferred"&&!n.extras.skipLocationChange&&this.setBrowserUrl(n.targetBrowserUrl??this.rawUrlTree,n)):e instanceof Od&&(e.code===dl.GuardRejected||e.code===dl.NoDataFromResolver)?this.restoreHistory(n):e instanceof f_?this.restoreHistory(n,!0):e instanceof Nc&&(this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId)}setBrowserUrl(e,n){let i=e instanceof Fd?this.urlSerializer.serialize(e):e;if(this.location.isCurrentPathEqualTo(i)||n.extras.replaceUrl){let o=this.browserPageId,s=Ue(Ue({},n.extras.state),this.generateNgRouterState(n.id,o));this.location.replaceState(i,"",s)}else{let o=Ue(Ue({},n.extras.state),this.generateNgRouterState(n.id,this.browserPageId+1));this.location.go(i,"",o)}}restoreHistory(e,n=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.currentUrlTree===e.finalUrl&&o===0&&(this.resetState(e),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(n&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,n){return this.canceledNavigationResolution==="computed"?{navigationId:e,\u0275routerPageId:n}:{navigationId:e}}static \u0275fac=(()=>{let e;return function(i){return(e||(e=Kn(r)))(i||r)}})();static \u0275prov=Fe({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),a_=function(r){return r[r.COMPLETE=0]="COMPLETE",r[r.FAILED=1]="FAILED",r[r.REDIRECTING=2]="REDIRECTING",r}(a_||{});function Tae(r,t){r.events.pipe(sr(e=>e instanceof Nc||e instanceof Od||e instanceof f_||e instanceof nh),at(e=>e instanceof Nc||e instanceof nh?a_.COMPLETE:(e instanceof Od?e.code===dl.Redirect||e.code===dl.SupersededByNewNavigation:!1)?a_.REDIRECTING:a_.FAILED),sr(e=>e!==a_.REDIRECTING),on(1)).subscribe(()=>{t()})}var h2e={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},m2e={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Gl=(()=>{class r{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=V(_1);stateManager=V(Aae);options=V(S_,{optional:!0})||{};pendingTasks=V(hd);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=V(Yz);urlSerializer=V(__);location=V(Df);urlHandlingStrategy=V(Gz);_events=new Ke;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=V(u2e);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=V(b_,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!V(bE,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:e=>{this.console.warn(e)}}),this.subscribeToNavigationEvents()}eventsSubscription=new yr;subscribeToNavigationEvents(){let e=this.navigationTransitions.events.subscribe(n=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(n,o),n instanceof Od&&n.code!==dl.Redirect&&n.code!==dl.SupersededByNewNavigation)this.navigated=!0;else if(n instanceof Nc)this.navigated=!0;else if(n instanceof Pv){let s=n.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(n.url,i.currentRawUrl),l=Ue({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||c2e(i.source)},s);this.scheduleNavigation(a,c_,null,l,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}g2e(n)&&this._events.next(n)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),c_,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((e,n)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(e,"popstate",n)},0)})}navigateToSyncWithBrowser(e,n,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let l=Ue({},i);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(o.state=l)}let a=this.parseUrl(e);this.scheduleNavigation(a,n,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(Wz),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,n={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=n,c=l?this.currentUrlTree.fragment:s,d=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":d=Ue(Ue({},this.currentUrlTree.queryParams),o);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}d!==null&&(d=this.removeEmptyProps(d));let f;try{let m=i?i.snapshot:this.routerState.snapshot.root;f=lae(m)}catch{(typeof e[0]!="string"||e[0][0]!=="/")&&(e=[]),f=this.currentUrlTree.root}return cae(f,e,d,c??null)}navigateByUrl(e,n={skipLocationChange:!1}){let i=Ym(e)?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,c_,null,n)}navigate(e,n={skipLocationChange:!1}){return p2e(e),this.navigateByUrl(this.createUrlTree(e,n),n)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){try{return this.urlSerializer.parse(e)}catch{return this.urlSerializer.parse("/")}}isActive(e,n){let i;if(n===!0?i=Ue({},h2e):n===!1?i=Ue({},m2e):i=n,Ym(e))return jse(this.currentUrlTree,e,i);let o=this.parseUrl(e);return jse(this.currentUrlTree,o,i)}removeEmptyProps(e){return Object.entries(e).reduce((n,[i,o])=>(o!=null&&(n[i]=o),n),{})}scheduleNavigation(e,n,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,l,c;s?(a=s.resolve,l=s.reject,c=s.promise):c=new Promise((f,m)=>{a=f,l=m});let d=this.pendingTasks.add();return Tae(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:n,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:o,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(f=>Promise.reject(f))}static \u0275fac=function(n){return new(n||r)};static \u0275prov=Fe({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function p2e(r){for(let t=0;t<r.length;t++)if(r[t]==null)throw new it(4008,!1)}function g2e(r){return!(r instanceof h_)&&!(r instanceof Pv)}var Kse=(()=>{class r{router;route;tabIndexAttribute;renderer;el;locationStrategy;href=null;target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new Ke;constructor(e,n,i,o,s,a){this.router=e,this.route=n,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a;let l=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area",this.isAnchorElement?this.subscription=e.events.subscribe(c=>{c instanceof Nc&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(e){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(e){e==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Ym(e)?this.routerLinkInput=e:this.routerLinkInput=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0"))}onClick(e,n,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(e!==0||n||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,l),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let e=this.urlTree;this.href=e!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(e)):null;let n=this.href===null?null:E9(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",n)}applyAttributeValue(e,n){let i=this.renderer,o=this.el.nativeElement;n!==null?i.setAttribute(o,e,n):i.removeAttribute(o,e)}get urlTree(){return this.routerLinkInput===null?null:Ym(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(n){return new(n||r)(ze(Gl),ze(gu),c1("tabindex"),ze(gi),ze(ut),ze(gc))};static \u0275dir=ft({type:r,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(n,i){n&1&&Me("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),n&2&&rr("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Mt],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Mt],replaceUrl:[2,"replaceUrl","replaceUrl",Mt],routerLink:"routerLink"},features:[Ur,cr]})}return r})(),HPt=(()=>{class r{router;element;renderer;cdr;link;links;classes=[];routerEventsSubscription;linkInputChangesSubscription;_isActive=!1;get isActive(){return this._isActive}routerLinkActiveOptions={exact:!1};ariaCurrentWhenActive;isActiveChange=new ct;constructor(e,n,i,o,s){this.router=e,this.element=n,this.renderer=i,this.cdr=o,this.link=s,this.routerEventsSubscription=e.events.subscribe(a=>{a instanceof Nc&&this.update()})}ngAfterContentInit(){tt(this.links.changes,tt(null)).pipe(Wc()).subscribe(e=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let e=[...this.links.toArray(),this.link].filter(n=>!!n).map(n=>n.onChanges);this.linkInputChangesSubscription=On(e).pipe(Wc()).subscribe(n=>{this._isActive!==this.isLinkActive(this.router)(n)&&this.update()})}set routerLinkActive(e){let n=Array.isArray(e)?e:e.split(" ");this.classes=n.filter(i=>!!i)}ngOnChanges(e){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let e=this.hasActiveLinks();this.classes.forEach(n=>{e?this.renderer.addClass(this.element.nativeElement,n):this.renderer.removeClass(this.element.nativeElement,n)}),e&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==e&&(this._isActive=e,this.cdr.markForCheck(),this.isActiveChange.emit(e))})}isLinkActive(e){let n=v2e(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>{let o=i.urlTree;return o?e.isActive(o,n):!1}}hasActiveLinks(){let e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.links.some(e)}static \u0275fac=function(n){return new(n||r)(ze(Gl),ze(ut),ze(gi),ze(qt),ze(Kse,8))};static \u0275dir=ft({type:r,selectors:[["","routerLinkActive",""]],contentQueries:function(n,i,o){if(n&1&&Qn(o,Kse,5),n&2){let s;Ft(s=Rt())&&(i.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[cr]})}return r})();function v2e(r){return!!r.paths}var vE=class{};var b2e=(()=>{class r{router;injector;preloadingStrategy;loader;subscription;constructor(e,n,i,o,s){this.router=e,this.injector=i,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(sr(e=>e instanceof Nc),lc(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,n){let i=[];for(let o of n){o.providers&&!o._injector&&(o._injector=y1(o.providers,e,`Route: ${o.path}`));let s=o._injector??e,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return On(i).pipe(Wc())}preloadConfig(e,n){return this.preloadingStrategy.preload(n,()=>{let i;n.loadChildren&&n.canLoad===void 0?i=this.loader.loadChildren(e,n):i=tt(null);let o=i.pipe(Ci(s=>s===null?tt(void 0):(n._loadedRoutes=s.routes,n._loadedInjector=s.injector,this.processRoutes(s.injector??e,s.routes))));if(n.loadComponent&&!n._loadedComponent){let s=this.loader.loadComponent(n);return On([o,s]).pipe(Wc())}else return o})}static \u0275fac=function(n){return new(n||r)(Tt(Gl),Tt(E1),Tt(Eo),Tt(vE),Tt($z))};static \u0275prov=Fe({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),Iae=new He(""),y2e=(()=>{class r{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource="imperative";restoredId=0;store={};constructor(e,n,i,o,s={}){this.urlSerializer=e,this.transitions=n,this.viewportScroller=i,this.zone=o,this.options=s,s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof Rv?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Nc?(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment)):e instanceof nh&&e.code===lE.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof uE&&(e.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(e.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,n){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new uE(e,this.lastSource==="popstate"?this.store[this.restoredId]:null,n))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(n){U9()};static \u0275prov=Fe({token:r,factory:r.\u0275fac})}return r})();function kae(r,...t){return Jc([{provide:b_,multi:!0,useValue:r},[],{provide:gu,useFactory:Nae,deps:[Gl]},{provide:qb,multi:!0,useFactory:Oae},t.map(e=>e.\u0275providers)])}function Nae(r){return r.routerState.root}function D_(r,t){return{\u0275kind:r,\u0275providers:t}}function Oae(){let r=V(lr);return t=>{let e=r.get(Uo);if(t!==e.components[0])return;let n=r.get(Gl),i=r.get(Fae);r.get(Kz)===1&&n.initialNavigation(),r.get(Rae,null,Xr.Optional)?.setUpPreloading(),r.get(Iae,null,Xr.Optional)?.init(),n.resetRootComponentType(e.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var Fae=new He("",{factory:()=>new Ke}),Kz=new He("",{providedIn:"root",factory:()=>1});function _2e(){return D_(2,[{provide:Kz,useValue:0},{provide:pd,multi:!0,deps:[lr],useFactory:t=>{let e=t.get(d7,Promise.resolve());return()=>e.then(()=>new Promise(n=>{let i=t.get(Gl),o=t.get(Fae);Tae(i,()=>{n(!0)}),t.get(Yz).afterPreactivation=()=>(n(!0),o.closed?tt(void 0):o),i.initialNavigation()}))}}])}function x2e(){return D_(3,[{provide:pd,multi:!0,useFactory:()=>{let t=V(Gl);return()=>{t.setUpLocationChangeListener()}}},{provide:Kz,useValue:2}])}var Rae=new He("");function w2e(r){return D_(0,[{provide:Rae,useExisting:b2e},{provide:vE,useExisting:r}])}function C2e(){return D_(8,[Wse,{provide:bE,useExisting:Wse}])}function S2e(r){let t=[{provide:Dae,useValue:a2e},{provide:Eae,useValue:Ue({skipNextTransition:!!r?.skipInitialTransition},r)}];return D_(9,t)}var Xse=new He("ROUTER_FORROOT_GUARD"),D2e=[Df,{provide:__,useClass:Fv},Gl,w_,{provide:gu,useFactory:Nae,deps:[Gl]},$z,[]],Pae=(()=>{class r{constructor(e){}static forRoot(e,n){return{ngModule:r,providers:[D2e,[],{provide:b_,multi:!0,useValue:e},{provide:Xse,useFactory:T2e,deps:[[Gl,new dd,new vm]]},n?.errorHandler?{provide:Mae,useValue:n.errorHandler}:[],{provide:S_,useValue:n||{}},n?.useHash?M2e():A2e(),E2e(),n?.preloadingStrategy?w2e(n.preloadingStrategy).\u0275providers:[],n?.initialNavigation?I2e(n):[],n?.bindToComponentInputs?C2e().\u0275providers:[],n?.enableViewTransitions?S2e().\u0275providers:[],k2e()]}}static forChild(e){return{ngModule:r,providers:[{provide:b_,multi:!0,useValue:e}]}}static \u0275fac=function(n){return new(n||r)(Tt(Xse,8))};static \u0275mod=Nt({type:r});static \u0275inj=kt({})}return r})();function E2e(){return{provide:Iae,useFactory:()=>{let r=V(y7),t=V(xt),e=V(S_),n=V(Yz),i=V(__);return e.scrollOffset&&r.setOffset(e.scrollOffset),new y2e(i,n,r,t,e)}}}function M2e(){return{provide:gc,useClass:z1}}function A2e(){return{provide:gc,useClass:BN}}function T2e(r){return"guarded"}function I2e(r){return[r.initialNavigation==="disabled"?x2e().\u0275providers:[],r.initialNavigation==="enabledBlocking"?_2e().\u0275providers:[]]}var Zse=new He("");function k2e(){return[{provide:Zse,useFactory:Oae},{provide:qb,multi:!0,useExisting:Zse}]}var Pr=function(r){return r[r.State=0]="State",r[r.Transition=1]="Transition",r[r.Sequence=2]="Sequence",r[r.Group=3]="Group",r[r.Animate=4]="Animate",r[r.Keyframes=5]="Keyframes",r[r.Style=6]="Style",r[r.Trigger=7]="Trigger",r[r.Reference=8]="Reference",r[r.AnimateChild=9]="AnimateChild",r[r.AnimateRef=10]="AnimateRef",r[r.Query=11]="Query",r[r.Stagger=12]="Stagger",r}(Pr||{}),vu="*";function fl(r,t){return{type:Pr.Trigger,name:r,definitions:t,options:{}}}function Ls(r,t=null){return{type:Pr.Animate,styles:t,timings:r}}function Lae(r,t=null){return{type:Pr.Sequence,steps:r,options:t}}function ri(r){return{type:Pr.Style,styles:r,offset:null}}function Bs(r,t,e){return{type:Pr.State,name:r,styles:t,options:e}}function ms(r,t,e=null){return{type:Pr.Transition,expr:r,animation:t,options:e}}function Bae(r=null){return{type:Pr.AnimateChild,options:r}}function Vae(r,t,e=null){return{type:Pr.Query,selector:r,animation:t,options:e}}var oh=class{_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_originalOnDoneFns=[];_originalOnStartFns=[];_started=!1;_destroyed=!1;_finished=!1;_position=0;parentPlayer=null;totalTime;constructor(t=0,e=0){this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){let e=t=="start"?this._onStartFns:this._onDoneFns;e.forEach(n=>n()),e.length=0}},E_=class{_onDoneFns=[];_onStartFns=[];_finished=!1;_started=!1;_destroyed=!1;_onDestroyFns=[];parentPlayer=null;totalTime=0;players;constructor(t){this.players=t;let e=0,n=0,i=0,o=this.players.length;o==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++e==o&&this._onFinish()}),s.onDestroy(()=>{++n==o&&this._onDestroy()}),s.onStart(()=>{++i==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){let e=t*this.totalTime;this.players.forEach(n=>{let i=n.totalTime?Math.min(1,e/n.totalTime):1;n.setPosition(i)})}getPosition(){let t=this.players.reduce((e,n)=>e===null||n.totalTime>e.totalTime?n:e,null);return t!=null?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){let e=t=="start"?this._onStartFns:this._onDoneFns;e.forEach(n=>n()),e.length=0}},_E="!";function zae(r){return new it(3e3,!1)}function O2e(){return new it(3100,!1)}function F2e(){return new it(3101,!1)}function R2e(r){return new it(3001,!1)}function P2e(r){return new it(3003,!1)}function L2e(r){return new it(3004,!1)}function B2e(r,t){return new it(3005,!1)}function V2e(){return new it(3006,!1)}function z2e(){return new it(3007,!1)}function j2e(r,t){return new it(3008,!1)}function H2e(r){return new it(3002,!1)}function U2e(r,t,e,n,i){return new it(3010,!1)}function q2e(){return new it(3011,!1)}function W2e(){return new it(3012,!1)}function $2e(){return new it(3200,!1)}function G2e(){return new it(3202,!1)}function Y2e(){return new it(3013,!1)}function K2e(r){return new it(3014,!1)}function X2e(r){return new it(3015,!1)}function Z2e(r){return new it(3016,!1)}function Q2e(r,t){return new it(3404,!1)}function J2e(r){return new it(3502,!1)}function eRe(r){return new it(3503,!1)}function tRe(){return new it(3300,!1)}function rRe(r){return new it(3504,!1)}function nRe(r){return new it(3301,!1)}function iRe(r,t){return new it(3302,!1)}function oRe(r){return new it(3303,!1)}function sRe(r,t){return new it(3400,!1)}function aRe(r){return new it(3401,!1)}function lRe(r){return new it(3402,!1)}function cRe(r,t){return new it(3505,!1)}function sh(r){switch(r.length){case 0:return new oh;case 1:return r[0];default:return new E_(r)}}function ele(r,t,e=new Map,n=new Map){let i=[],o=[],s=-1,a=null;if(t.forEach(l=>{let c=l.get("offset"),d=c==s,f=d&&a||new Map;l.forEach((m,p)=>{let b=p,y=m;if(p!=="offset")switch(b=r.normalizePropertyName(b,i),y){case _E:y=e.get(p);break;case vu:y=n.get(p);break;default:y=r.normalizeStyleValue(p,b,y,i);break}f.set(b,y)}),d||o.push(f),a=f,s=c}),i.length)throw J2e(i);return o}function v4(r,t,e,n){switch(t){case"start":r.onStart(()=>n(e&&Xz(e,"start",r)));break;case"done":r.onDone(()=>n(e&&Xz(e,"done",r)));break;case"destroy":r.onDestroy(()=>n(e&&Xz(e,"destroy",r)));break}}function Xz(r,t,e){let n=e.totalTime,i=!!e.disabled,o=b4(r.element,r.triggerName,r.fromState,r.toState,t||r.phaseName,n??r.totalTime,i),s=r._data;return s!=null&&(o._data=s),o}function b4(r,t,e,n,i="",o=0,s){return{element:r,triggerName:t,fromState:e,toState:n,phaseName:i,totalTime:o,disabled:!!s}}function ml(r,t,e){let n=r.get(t);return n||r.set(t,n=e),n}function jae(r){let t=r.indexOf(":"),e=r.substring(1,t),n=r.slice(t+1);return[e,n]}var uRe=typeof document>"u"?null:document.documentElement;function y4(r){let t=r.parentNode||r.host||null;return t===uRe?null:t}function dRe(r){return r.substring(1,6)=="ebkit"}var Km=null,Hae=!1;function fRe(r){Km||(Km=hRe()||{},Hae=Km.style?"WebkitAppearance"in Km.style:!1);let t=!0;return Km.style&&!dRe(r)&&(t=r in Km.style,!t&&Hae&&(t="Webkit"+r.charAt(0).toUpperCase()+r.slice(1)in Km.style)),t}function hRe(){return typeof document<"u"?document.body:null}function tle(r,t){for(;t;){if(t===r)return!0;t=y4(t)}return!1}function rle(r,t,e){if(e)return Array.from(r.querySelectorAll(t));let n=r.querySelector(t);return n?[n]:[]}var _4=(()=>{class r{validateStyleProperty(e){return fRe(e)}containsElement(e,n){return tle(e,n)}getParentElement(e){return y4(e)}query(e,n,i){return rle(e,n,i)}computeStyle(e,n,i){return i||""}animate(e,n,i,o,s,a=[],l){return new oh(i,o)}static \u0275fac=function(n){return new(n||r)};static \u0275prov=Fe({token:r,factory:r.\u0275fac})}return r})(),Qm=class{static NOOP=new _4},Jm=class{};var mRe=1e3,nle="{{",pRe="}}",ile="ng-enter",r4="ng-leave",xE="ng-trigger",EE=".ng-trigger",Uae="ng-animating",n4=".ng-animating";function Rd(r){if(typeof r=="number")return r;let t=r.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:i4(parseFloat(t[1]),t[2])}function i4(r,t){switch(t){case"s":return r*mRe;default:return r}}function ME(r,t,e){return r.hasOwnProperty("duration")?r:gRe(r,t,e)}function gRe(r,t,e){let n=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,i,o=0,s="";if(typeof r=="string"){let a=r.match(n);if(a===null)return t.push(zae(r)),{duration:0,delay:0,easing:""};i=i4(parseFloat(a[1]),a[2]);let l=a[3];l!=null&&(o=i4(parseFloat(l),a[4]));let c=a[5];c&&(s=c)}else i=r;if(!e){let a=!1,l=t.length;i<0&&(t.push(O2e()),a=!0),o<0&&(t.push(F2e()),a=!0),a&&t.splice(l,0,zae(r))}return{duration:i,delay:o,easing:s}}function vRe(r){return r.length?r[0]instanceof Map?r:r.map(t=>new Map(Object.entries(t))):[]}function bu(r,t,e){t.forEach((n,i)=>{let o=x4(i);e&&!e.has(i)&&e.set(i,r.style[o]),r.style[o]=n})}function Zm(r,t){t.forEach((e,n)=>{let i=x4(n);r.style[i]=""})}function M_(r){return Array.isArray(r)?r.length==1?r[0]:Lae(r):r}function bRe(r,t,e){let n=t.params||{},i=ole(r);i.length&&i.forEach(o=>{n.hasOwnProperty(o)||e.push(R2e(o))})}var o4=new RegExp(`${nle}\\s*(.+?)\\s*${pRe}`,"g");function ole(r){let t=[];if(typeof r=="string"){let e;for(;e=o4.exec(r);)t.push(e[1]);o4.lastIndex=0}return t}function T_(r,t,e){let n=`${r}`,i=n.replace(o4,(o,s)=>{let a=t[s];return a==null&&(e.push(P2e(s)),a=""),a.toString()});return i==n?r:i}var yRe=/-+([a-z0-9])/g;function x4(r){return r.replace(yRe,(...t)=>t[1].toUpperCase())}function _Re(r,t){return r===0||t===0}function xRe(r,t,e){if(e.size&&t.length){let n=t[0],i=[];if(e.forEach((o,s)=>{n.has(s)||i.push(s),n.set(s,o)}),i.length)for(let o=1;o<t.length;o++){let s=t[o];i.forEach(a=>s.set(a,w4(r,a)))}}return t}function hl(r,t,e){switch(t.type){case Pr.Trigger:return r.visitTrigger(t,e);case Pr.State:return r.visitState(t,e);case Pr.Transition:return r.visitTransition(t,e);case Pr.Sequence:return r.visitSequence(t,e);case Pr.Group:return r.visitGroup(t,e);case Pr.Animate:return r.visitAnimate(t,e);case Pr.Keyframes:return r.visitKeyframes(t,e);case Pr.Style:return r.visitStyle(t,e);case Pr.Reference:return r.visitReference(t,e);case Pr.AnimateChild:return r.visitAnimateChild(t,e);case Pr.AnimateRef:return r.visitAnimateRef(t,e);case Pr.Query:return r.visitQuery(t,e);case Pr.Stagger:return r.visitStagger(t,e);default:throw L2e(t.type)}}function w4(r,t){return window.getComputedStyle(r)[t]}var wRe=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),AE=class extends Jm{normalizePropertyName(t,e){return x4(t)}normalizeStyleValue(t,e,n,i){let o="",s=n.toString().trim();if(wRe.has(e)&&n!==0&&n!=="0")if(typeof n=="number")o="px";else{let a=n.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&a[1].length==0&&i.push(B2e(t,n))}return s+o}};var TE="*";function CRe(r,t){let e=[];return typeof r=="string"?r.split(/\s*,\s*/).forEach(n=>SRe(n,e,t)):e.push(r),e}function SRe(r,t,e){if(r[0]==":"){let l=DRe(r,e);if(typeof l=="function"){t.push(l);return}r=l}let n=r.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(n==null||n.length<4)return e.push(X2e(r)),t;let i=n[1],o=n[2],s=n[3];t.push(qae(i,s));let a=i==TE&&s==TE;o[0]=="<"&&!a&&t.push(qae(s,i))}function DRe(r,t){switch(r){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,n)=>parseFloat(n)>parseFloat(e);case":decrement":return(e,n)=>parseFloat(n)<parseFloat(e);default:return t.push(Z2e(r)),"* => *"}}var wE=new Set(["true","1"]),CE=new Set(["false","0"]);function qae(r,t){let e=wE.has(r)||CE.has(r),n=wE.has(t)||CE.has(t);return(i,o)=>{let s=r==TE||r==i,a=t==TE||t==o;return!s&&e&&typeof i=="boolean"&&(s=i?wE.has(r):CE.has(r)),!a&&n&&typeof o=="boolean"&&(a=o?wE.has(t):CE.has(t)),s&&a}}var sle=":self",ERe=new RegExp(`s*${sle}s*,?`,"g");function ale(r,t,e,n){return new s4(r).build(t,e,n)}var Wae="",s4=class{_driver;constructor(t){this._driver=t}build(t,e,n){let i=new a4(e);return this._resetContextStyleTimingState(i),hl(this,M_(t),i)}_resetContextStyleTimingState(t){t.currentQuerySelector=Wae,t.collectedStyles=new Map,t.collectedStyles.set(Wae,new Map),t.currentTime=0}visitTrigger(t,e){let n=e.queryCount=0,i=e.depCount=0,o=[],s=[];return t.name.charAt(0)=="@"&&e.errors.push(V2e()),t.definitions.forEach(a=>{if(this._resetContextStyleTimingState(e),a.type==Pr.State){let l=a,c=l.name;c.toString().split(/\s*,\s*/).forEach(d=>{l.name=d,o.push(this.visitState(l,e))}),l.name=c}else if(a.type==Pr.Transition){let l=this.visitTransition(a,e);n+=l.queryCount,i+=l.depCount,s.push(l)}else e.errors.push(z2e())}),{type:Pr.Trigger,name:t.name,states:o,transitions:s,queryCount:n,depCount:i,options:null}}visitState(t,e){let n=this.visitStyle(t.styles,e),i=t.options&&t.options.params||null;if(n.containsDynamicStyles){let o=new Set,s=i||{};n.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{ole(l).forEach(c=>{s.hasOwnProperty(c)||o.add(c)})})}),o.size&&e.errors.push(j2e(t.name,[...o.values()]))}return{type:Pr.State,name:t.name,style:n,options:i?{params:i}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;let n=hl(this,M_(t.animation),e),i=CRe(t.expr,e.errors);return{type:Pr.Transition,matchers:i,animation:n,queryCount:e.queryCount,depCount:e.depCount,options:Xm(t.options)}}visitSequence(t,e){return{type:Pr.Sequence,steps:t.steps.map(n=>hl(this,n,e)),options:Xm(t.options)}}visitGroup(t,e){let n=e.currentTime,i=0,o=t.steps.map(s=>{e.currentTime=n;let a=hl(this,s,e);return i=Math.max(i,e.currentTime),a});return e.currentTime=i,{type:Pr.Group,steps:o,options:Xm(t.options)}}visitAnimate(t,e){let n=IRe(t.timings,e.errors);e.currentAnimateTimings=n;let i,o=t.styles?t.styles:ri({});if(o.type==Pr.Keyframes)i=this.visitKeyframes(o,e);else{let s=t.styles,a=!1;if(!s){a=!0;let c={};n.easing&&(c.easing=n.easing),s=ri(c)}e.currentTime+=n.duration+n.delay;let l=this.visitStyle(s,e);l.isEmptyStep=a,i=l}return e.currentAnimateTimings=null,{type:Pr.Animate,timings:n,style:i,options:null}}visitStyle(t,e){let n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}_makeStyleAst(t,e){let n=[],i=Array.isArray(t.styles)?t.styles:[t.styles];for(let a of i)typeof a=="string"?a===vu?n.push(a):e.errors.push(H2e(a)):n.push(new Map(Object.entries(a)));let o=!1,s=null;return n.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!o)){for(let l of a.values())if(l.toString().indexOf(nle)>=0){o=!0;break}}}),{type:Pr.Style,styles:n,easing:s,offset:t.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(t,e){let n=e.currentAnimateTimings,i=e.currentTime,o=e.currentTime;n&&o>0&&(o-=n.duration+n.delay),t.styles.forEach(s=>{typeof s!="string"&&s.forEach((a,l)=>{let c=e.collectedStyles.get(e.currentQuerySelector),d=c.get(l),f=!0;d&&(o!=i&&o>=d.startTime&&i<=d.endTime&&(e.errors.push(U2e(l,d.startTime,d.endTime,o,i)),f=!1),o=d.startTime),f&&c.set(l,{startTime:o,endTime:i}),e.options&&bRe(a,e.options,e.errors)})})}visitKeyframes(t,e){let n={type:Pr.Keyframes,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(q2e()),n;let i=1,o=0,s=[],a=!1,l=!1,c=0,d=t.steps.map(S=>{let A=this._makeStyleAst(S,e),x=A.offset!=null?A.offset:TRe(A.styles),M=0;return x!=null&&(o++,M=A.offset=x),l=l||M<0||M>1,a=a||M<c,c=M,s.push(M),A});l&&e.errors.push(W2e()),a&&e.errors.push($2e());let f=t.steps.length,m=0;o>0&&o<f?e.errors.push(G2e()):o==0&&(m=i/(f-1));let p=f-1,b=e.currentTime,y=e.currentAnimateTimings,C=y.duration;return d.forEach((S,A)=>{let x=m>0?A==p?1:m*A:s[A],M=x*C;e.currentTime=b+y.delay+M,y.duration=M,this._validateStyleAst(S,e),S.offset=x,n.styles.push(S)}),n}visitReference(t,e){return{type:Pr.Reference,animation:hl(this,M_(t.animation),e),options:Xm(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:Pr.AnimateChild,options:Xm(t.options)}}visitAnimateRef(t,e){return{type:Pr.AnimateRef,animation:this.visitReference(t.animation,e),options:Xm(t.options)}}visitQuery(t,e){let n=e.currentQuerySelector,i=t.options||{};e.queryCount++,e.currentQuery=t;let[o,s]=MRe(t.selector);e.currentQuerySelector=n.length?n+" "+o:o,ml(e.collectedStyles,e.currentQuerySelector,new Map);let a=hl(this,M_(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:Pr.Query,selector:o,limit:i.limit||0,optional:!!i.optional,includeSelf:s,animation:a,originalSelector:t.selector,options:Xm(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(Y2e());let n=t.timings==="full"?{duration:0,delay:0,easing:"full"}:ME(t.timings,e.errors,!0);return{type:Pr.Stagger,animation:hl(this,M_(t.animation),e),timings:n,options:null}}};function MRe(r){let t=!!r.split(/\s*,\s*/).find(e=>e==sle);return t&&(r=r.replace(ERe,"")),r=r.replace(/@\*/g,EE).replace(/@\w+/g,e=>EE+"-"+e.slice(1)).replace(/:animating/g,n4),[r,t]}function ARe(r){return r?Ue({},r):null}var a4=class{errors;queryCount=0;depCount=0;currentTransition=null;currentQuery=null;currentQuerySelector=null;currentAnimateTimings=null;currentTime=0;collectedStyles=new Map;options=null;unsupportedCSSPropertiesFound=new Set;constructor(t){this.errors=t}};function TRe(r){if(typeof r=="string")return null;let t=null;if(Array.isArray(r))r.forEach(e=>{if(e instanceof Map&&e.has("offset")){let n=e;t=parseFloat(n.get("offset")),n.delete("offset")}});else if(r instanceof Map&&r.has("offset")){let e=r;t=parseFloat(e.get("offset")),e.delete("offset")}return t}function IRe(r,t){if(r.hasOwnProperty("duration"))return r;if(typeof r=="number"){let o=ME(r,t).duration;return Zz(o,0,"")}let e=r;if(e.split(/\s+/).some(o=>o.charAt(0)=="{"&&o.charAt(1)=="{")){let o=Zz(0,0,"");return o.dynamic=!0,o.strValue=e,o}let i=ME(e,t);return Zz(i.duration,i.delay,i.easing)}function Xm(r){return r?(r=Ue({},r),r.params&&(r.params=ARe(r.params))):r={},r}function Zz(r,t,e){return{duration:r,delay:t,easing:e}}function C4(r,t,e,n,i,o,s=null,a=!1){return{type:1,element:r,keyframes:t,preStyleProps:e,postStyleProps:n,duration:i,delay:o,totalTime:i+o,easing:s,subTimeline:a}}var I_=class{_map=new Map;get(t){return this._map.get(t)||[]}append(t,e){let n=this._map.get(t);n||this._map.set(t,n=[]),n.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}},kRe=1,NRe=":enter",ORe=new RegExp(NRe,"g"),FRe=":leave",RRe=new RegExp(FRe,"g");function lle(r,t,e,n,i,o=new Map,s=new Map,a,l,c=[]){return new l4().buildKeyframes(r,t,e,n,i,o,s,a,l,c)}var l4=class{buildKeyframes(t,e,n,i,o,s,a,l,c,d=[]){c=c||new I_;let f=new c4(t,e,c,i,o,d,[]);f.options=l;let m=l.delay?Rd(l.delay):0;f.currentTimeline.delayNextStep(m),f.currentTimeline.setStyles([s],null,f.errors,l),hl(this,n,f);let p=f.timelines.filter(b=>b.containsAnimation());if(p.length&&a.size){let b;for(let y=p.length-1;y>=0;y--){let C=p[y];if(C.element===e){b=C;break}}b&&!b.allowOnlyTimelineStyles()&&b.setStyles([a],null,f.errors,l)}return p.length?p.map(b=>b.buildKeyframes()):[C4(e,[],[],[],0,m,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){let n=e.subInstructions.get(e.element);if(n){let i=e.createSubContext(t.options),o=e.currentTimeline.currentTime,s=this._visitSubInstructions(n,i,i.options);o!=s&&e.transformIntoNewTimeline(s)}e.previousNode=t}visitAnimateRef(t,e){let n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],e,n),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}_applyAnimationRefDelays(t,e,n){for(let i of t){let o=i?.delay;if(o){let s=typeof o=="number"?o:Rd(T_(o,i?.params??{},e.errors));n.delayNextStep(s)}}}_visitSubInstructions(t,e,n){let o=e.currentTimeline.currentTime,s=n.duration!=null?Rd(n.duration):null,a=n.delay!=null?Rd(n.delay):null;return s!==0&&t.forEach(l=>{let c=e.appendInstructionToTimeline(l,s,a);o=Math.max(o,c.duration+c.delay)}),o}visitReference(t,e){e.updateOptions(t.options,!0),hl(this,t.animation,e),e.previousNode=t}visitSequence(t,e){let n=e.subContextCount,i=e,o=t.options;if(o&&(o.params||o.delay)&&(i=e.createSubContext(o),i.transformIntoNewTimeline(),o.delay!=null)){i.previousNode.type==Pr.Style&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=IE);let s=Rd(o.delay);i.delayNextStep(s)}t.steps.length&&(t.steps.forEach(s=>hl(this,s,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>n&&i.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){let n=[],i=e.currentTimeline.currentTime,o=t.options&&t.options.delay?Rd(t.options.delay):0;t.steps.forEach(s=>{let a=e.createSubContext(t.options);o&&a.delayNextStep(o),hl(this,s,a),i=Math.max(i,a.currentTimeline.currentTime),n.push(a.currentTimeline)}),n.forEach(s=>e.currentTimeline.mergeTimelineCollectedStyles(s)),e.transformIntoNewTimeline(i),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){let n=t.strValue,i=e.params?T_(n,e.params,e.errors):n;return ME(i,e.errors)}else return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){let n=e.currentAnimateTimings=this._visitTiming(t.timings,e),i=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),i.snapshotCurrentStyles());let o=t.style;o.type==Pr.Keyframes?this.visitKeyframes(o,e):(e.incrementTime(n.duration),this.visitStyle(o,e),i.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){let n=e.currentTimeline,i=e.currentAnimateTimings;!i&&n.hasCurrentStyleProperties()&&n.forwardFrame();let o=i&&i.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(o):n.setStyles(t.styles,o,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){let n=e.currentAnimateTimings,i=e.currentTimeline.duration,o=n.duration,a=e.createSubContext().currentTimeline;a.easing=n.easing,t.styles.forEach(l=>{let c=l.offset||0;a.forwardTime(c*o),a.setStyles(l.styles,l.easing,e.errors,e.options),a.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(a),e.transformIntoNewTimeline(i+o),e.previousNode=t}visitQuery(t,e){let n=e.currentTimeline.currentTime,i=t.options||{},o=i.delay?Rd(i.delay):0;o&&(e.previousNode.type===Pr.Style||n==0&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=IE);let s=n,a=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!i.optional,e.errors);e.currentQueryTotal=a.length;let l=null;a.forEach((c,d)=>{e.currentQueryIndex=d;let f=e.createSubContext(t.options,c);o&&f.delayNextStep(o),c===e.element&&(l=f.currentTimeline),hl(this,t.animation,f),f.currentTimeline.applyStylesToKeyframe();let m=f.currentTimeline.currentTime;s=Math.max(s,m)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(s),l&&(e.currentTimeline.mergeTimelineCollectedStyles(l),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){let n=e.parentContext,i=e.currentTimeline,o=t.timings,s=Math.abs(o.duration),a=s*(e.currentQueryTotal-1),l=s*e.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":l=a-l;break;case"full":l=n.currentStaggerTime;break}let d=e.currentTimeline;l&&d.delayNextStep(l);let f=d.currentTime;hl(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=i.currentTime-f+(i.startTime-n.currentTimeline.startTime)}},IE={},c4=class r{_driver;element;subInstructions;_enterClassName;_leaveClassName;errors;timelines;parentContext=null;currentTimeline;currentAnimateTimings=null;previousNode=IE;subContextCount=0;options={};currentQueryIndex=0;currentQueryTotal=0;currentStaggerTime=0;constructor(t,e,n,i,o,s,a,l){this._driver=t,this.element=e,this.subInstructions=n,this._enterClassName=i,this._leaveClassName=o,this.errors=s,this.timelines=a,this.currentTimeline=l||new kE(this._driver,e,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;let n=t,i=this.options;n.duration!=null&&(i.duration=Rd(n.duration)),n.delay!=null&&(i.delay=Rd(n.delay));let o=n.params;if(o){let s=i.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!e||!s.hasOwnProperty(a))&&(s[a]=T_(o[a],s,this.errors))})}}_copyOptions(){let t={};if(this.options){let e=this.options.params;if(e){let n=t.params={};Object.keys(e).forEach(i=>{n[i]=e[i]})}}return t}createSubContext(t=null,e,n){let i=e||this.element,o=new r(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,n||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(t),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(t){return this.previousNode=IE,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,n){let i={duration:e??t.duration,delay:this.currentTimeline.currentTime+(n??0)+t.delay,easing:""},o=new u4(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,i,t.stretchStartingKeyframe);return this.timelines.push(o),i}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,n,i,o,s){let a=[];if(i&&a.push(this.element),t.length>0){t=t.replace(ORe,"."+this._enterClassName),t=t.replace(RRe,"."+this._leaveClassName);let l=n!=1,c=this._driver.query(this.element,t,l);n!==0&&(c=n<0?c.slice(c.length+n,c.length):c.slice(0,n)),a.push(...c)}return!o&&a.length==0&&s.push(K2e(e)),a}},kE=class r{_driver;element;startTime;_elementTimelineStylesLookup;duration=0;easing=null;_previousKeyframe=new Map;_currentKeyframe=new Map;_keyframes=new Map;_styleSummary=new Map;_localTimelineStyles=new Map;_globalTimelineStyles;_pendingStyles=new Map;_backFill=new Map;_currentEmptyStepKeyframe=null;constructor(t,e,n,i){this._driver=t,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=i,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){let e=this._keyframes.size===1&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new r(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=kRe,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,n]of this._globalTimelineStyles)this._backFill.set(e,n||vu),this._currentKeyframe.set(e,vu);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,n,i){e&&this._previousKeyframe.set("easing",e);let o=i&&i.params||{},s=PRe(t,this._globalTimelineStyles);for(let[a,l]of s){let c=T_(l,o,n);this._pendingStyles.set(a,c),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??vu),this._updateStyle(a,c)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,n)=>{let i=this._styleSummary.get(n);(!i||e.time>i.time)&&this._updateStyle(n,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();let t=new Set,e=new Set,n=this._keyframes.size===1&&this.duration===0,i=[];this._keyframes.forEach((a,l)=>{let c=new Map([...this._backFill,...a]);c.forEach((d,f)=>{d===_E?t.add(f):d===vu&&e.add(f)}),n||c.set("offset",l/this.duration),i.push(c)});let o=[...t.values()],s=[...e.values()];if(n){let a=i[0],l=new Map(a);a.set("offset",0),l.set("offset",1),i=[a,l]}return C4(this.element,i,o,s,this.duration,this.startTime,this.easing,!1)}},u4=class extends kE{keyframes;preStyleProps;postStyleProps;_stretchStartingKeyframe;timings;constructor(t,e,n,i,o,s,a=!1){super(t,e,s.delay),this.keyframes=n,this.preStyleProps=i,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:n,easing:i}=this.timings;if(this._stretchStartingKeyframe&&e){let o=[],s=n+e,a=e/s,l=new Map(t[0]);l.set("offset",0),o.push(l);let c=new Map(t[0]);c.set("offset",$ae(a)),o.push(c);let d=t.length-1;for(let f=1;f<=d;f++){let m=new Map(t[f]),p=m.get("offset"),b=e+p*n;m.set("offset",$ae(b/s)),o.push(m)}n=s,e=0,i="",t=o}return C4(this.element,t,this.preStyleProps,this.postStyleProps,n,e,i,!0)}};function $ae(r,t=3){let e=Math.pow(10,t-1);return Math.round(r*e)/e}function PRe(r,t){let e=new Map,n;return r.forEach(i=>{if(i==="*"){n??=t.keys();for(let o of n)e.set(o,vu)}else for(let[o,s]of i)e.set(o,s)}),e}function Gae(r,t,e,n,i,o,s,a,l,c,d,f,m){return{type:0,element:r,triggerName:t,isRemovalTransition:i,fromState:e,fromStyles:o,toState:n,toStyles:s,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:d,totalTime:f,errors:m}}var Qz={},NE=class{_triggerName;ast;_stateStyles;constructor(t,e,n){this._triggerName=t,this.ast=e,this._stateStyles=n}match(t,e,n,i){return LRe(this.ast.matchers,t,e,n,i)}buildStyles(t,e,n){let i=this._stateStyles.get("*");return t!==void 0&&(i=this._stateStyles.get(t?.toString())||i),i?i.buildStyles(e,n):new Map}build(t,e,n,i,o,s,a,l,c,d){let f=[],m=this.ast.options&&this.ast.options.params||Qz,p=a&&a.params||Qz,b=this.buildStyles(n,p,f),y=l&&l.params||Qz,C=this.buildStyles(i,y,f),S=new Set,A=new Map,x=new Map,M=i==="void",E={params:cle(y,m),delay:this.ast.options?.delay},w=d?[]:lle(t,e,this.ast.animation,o,s,b,C,E,c,f),T=0;return w.forEach(k=>{T=Math.max(k.duration+k.delay,T)}),f.length?Gae(e,this._triggerName,n,i,M,b,C,[],[],A,x,T,f):(w.forEach(k=>{let I=k.element,O=ml(A,I,new Set);k.preStyleProps.forEach(j=>O.add(j));let R=ml(x,I,new Set);k.postStyleProps.forEach(j=>R.add(j)),I!==e&&S.add(I)}),Gae(e,this._triggerName,n,i,M,b,C,w,[...S.values()],A,x,T))}};function LRe(r,t,e,n,i){return r.some(o=>o(t,e,n,i))}function cle(r,t){let e=Ue({},t);return Object.entries(r).forEach(([n,i])=>{i!=null&&(e[n]=i)}),e}var d4=class{styles;defaultParams;normalizer;constructor(t,e,n){this.styles=t,this.defaultParams=e,this.normalizer=n}buildStyles(t,e){let n=new Map,i=cle(t,this.defaultParams);return this.styles.styles.forEach(o=>{typeof o!="string"&&o.forEach((s,a)=>{s&&(s=T_(s,i,e));let l=this.normalizer.normalizePropertyName(a,e);s=this.normalizer.normalizeStyleValue(a,l,s,e),n.set(a,s)})}),n}};function BRe(r,t,e){return new f4(r,t,e)}var f4=class{name;ast;_normalizer;transitionFactories=[];fallbackTransition;states=new Map;constructor(t,e,n){this.name=t,this.ast=e,this._normalizer=n,e.states.forEach(i=>{let o=i.options&&i.options.params||{};this.states.set(i.name,new d4(i.style,o,n))}),Yae(this.states,"true","1"),Yae(this.states,"false","0"),e.transitions.forEach(i=>{this.transitionFactories.push(new NE(t,i,this.states))}),this.fallbackTransition=VRe(t,this.states,this._normalizer)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,n,i){return this.transitionFactories.find(s=>s.match(t,e,n,i))||null}matchStyles(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}};function VRe(r,t,e){let n=[(s,a)=>!0],i={type:Pr.Sequence,steps:[],options:null},o={type:Pr.Transition,animation:i,matchers:n,options:null,queryCount:0,depCount:0};return new NE(r,o,t)}function Yae(r,t,e){r.has(t)?r.has(e)||r.set(e,r.get(t)):r.has(e)&&r.set(t,r.get(e))}var zRe=new I_,h4=class{bodyNode;_driver;_normalizer;_animations=new Map;_playersById=new Map;players=[];constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n}register(t,e){let n=[],i=[],o=ale(this._driver,e,n,i);if(n.length)throw eRe(n);i.length&&void 0,this._animations.set(t,o)}_buildPlayer(t,e,n){let i=t.element,o=ele(this._normalizer,t.keyframes,e,n);return this._driver.animate(i,o,t.duration,t.delay,t.easing,[],!0)}create(t,e,n={}){let i=[],o=this._animations.get(t),s,a=new Map;if(o?(s=lle(this._driver,e,o,ile,r4,new Map,new Map,n,zRe,i),s.forEach(d=>{let f=ml(a,d.element,new Map);d.postStyleProps.forEach(m=>f.set(m,null))})):(i.push(tRe()),s=[]),i.length)throw rRe(i);a.forEach((d,f)=>{d.forEach((m,p)=>{d.set(p,this._driver.computeStyle(f,p,vu))})});let l=s.map(d=>{let f=a.get(d.element);return this._buildPlayer(d,new Map,f)}),c=sh(l);return this._playersById.set(t,c),c.onDestroy(()=>this.destroy(t)),this.players.push(c),c}destroy(t){let e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);let n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}_getPlayer(t){let e=this._playersById.get(t);if(!e)throw nRe(t);return e}listen(t,e,n,i){let o=b4(e,"","","");return v4(this._getPlayer(t),n,o,i),()=>{}}command(t,e,n,i){if(n=="register"){this.register(t,i[0]);return}if(n=="create"){let s=i[0]||{};this.create(t,e,s);return}let o=this._getPlayer(t);switch(n){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(t);break}}},Kae="ng-animate-queued",jRe=".ng-animate-queued",Jz="ng-animate-disabled",HRe=".ng-animate-disabled",URe="ng-star-inserted",qRe=".ng-star-inserted",WRe=[],ule={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},$Re={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Oc="__ng_removed",k_=class{namespaceId;value;options;get params(){return this.options.params}constructor(t,e=""){this.namespaceId=e;let n=t&&t.hasOwnProperty("value"),i=n?t.value:t;if(this.value=YRe(i),n){let o=t,{value:s}=o,a=NT(o,["value"]);this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(t){let e=t.params;if(e){let n=this.options.params;Object.keys(e).forEach(i=>{n[i]==null&&(n[i]=e[i])})}}},A_="void",e4=new k_(A_),m4=class{id;hostElement;_engine;players=[];_triggers=new Map;_queue=[];_elementListeners=new Map;_hostClassName;constructor(t,e,n){this.id=t,this.hostElement=e,this._engine=n,this._hostClassName="ng-tns-"+t,Yl(e,this._hostClassName)}listen(t,e,n,i){if(!this._triggers.has(e))throw iRe(n,e);if(n==null||n.length==0)throw oRe(e);if(!KRe(n))throw sRe(n,e);let o=ml(this._elementListeners,t,[]),s={name:e,phase:n,callback:i};o.push(s);let a=ml(this._engine.statesByElement,t,new Map);return a.has(e)||(Yl(t,xE),Yl(t,xE+"-"+e),a.set(e,e4)),()=>{this._engine.afterFlush(()=>{let l=o.indexOf(s);l>=0&&o.splice(l,1),this._triggers.has(e)||a.delete(e)})}}register(t,e){return this._triggers.has(t)?!1:(this._triggers.set(t,e),!0)}_getTrigger(t){let e=this._triggers.get(t);if(!e)throw aRe(t);return e}trigger(t,e,n,i=!0){let o=this._getTrigger(e),s=new N_(this.id,e,t),a=this._engine.statesByElement.get(t);a||(Yl(t,xE),Yl(t,xE+"-"+e),this._engine.statesByElement.set(t,a=new Map));let l=a.get(e),c=new k_(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),a.set(e,c),l||(l=e4),!(c.value===A_)&&l.value===c.value){if(!QRe(l.params,c.params)){let y=[],C=o.matchStyles(l.value,l.params,y),S=o.matchStyles(c.value,c.params,y);y.length?this._engine.reportError(y):this._engine.afterFlush(()=>{Zm(t,C),bu(t,S)})}return}let m=ml(this._engine.playersByElement,t,[]);m.forEach(y=>{y.namespaceId==this.id&&y.triggerName==e&&y.queued&&y.destroy()});let p=o.matchTransition(l.value,c.value,t,c.params),b=!1;if(!p){if(!i)return;p=o.fallbackTransition,b=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:p,fromState:l,toState:c,player:s,isFallbackTransition:b}),b||(Yl(t,Kae),s.onStart(()=>{Vv(t,Kae)})),s.onDone(()=>{let y=this.players.indexOf(s);y>=0&&this.players.splice(y,1);let C=this._engine.playersByElement.get(t);if(C){let S=C.indexOf(s);S>=0&&C.splice(S,1)}}),this.players.push(s),m.push(s),s}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,n)=>{this._elementListeners.set(n,e.filter(i=>i.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);let e=this._engine.playersByElement.get(t);e&&(e.forEach(n=>n.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){let n=this._engine.driver.query(t,EE,!0);n.forEach(i=>{if(i[Oc])return;let o=this._engine.fetchNamespacesByElement(i);o.size?o.forEach(s=>s.triggerLeaveAnimation(i,e,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(t,e,n,i){let o=this._engine.statesByElement.get(t),s=new Map;if(o){let a=[];if(o.forEach((l,c)=>{if(s.set(c,l.value),this._triggers.has(c)){let d=this.trigger(t,c,A_,i);d&&a.push(d)}}),a.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,s),n&&sh(a).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){let e=this._elementListeners.get(t),n=this._engine.statesByElement.get(t);if(e&&n){let i=new Set;e.forEach(o=>{let s=o.name;if(i.has(s))return;i.add(s);let l=this._triggers.get(s).fallbackTransition,c=n.get(s)||e4,d=new k_(A_),f=new N_(this.id,s,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:s,transition:l,fromState:c,toState:d,player:f,isFallbackTransition:!0})})}}removeNode(t,e){let n=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let i=!1;if(n.totalAnimations){let o=n.players.length?n.playersByQueriedElement.get(t):[];if(o&&o.length)i=!0;else{let s=t;for(;s=s.parentNode;)if(n.statesByElement.get(s)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(t),i)n.markElementAsRemoved(this.id,t,!1,e);else{let o=t[Oc];(!o||o===ule)&&(n.afterFlush(()=>this.clearElementCache(t)),n.destroyInnerAnimations(t),n._onRemovalComplete(t,e))}}insertNode(t,e){Yl(t,this._hostClassName)}drainQueuedTransitions(t){let e=[];return this._queue.forEach(n=>{let i=n.player;if(i.destroyed)return;let o=n.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==n.triggerName){let l=b4(o,n.triggerName,n.fromState.value,n.toState.value);l._data=t,v4(n.player,a.phase,l,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):e.push(n)}),this._queue=[],e.sort((n,i)=>{let o=n.transition.ast.depCount,s=i.transition.ast.depCount;return o==0||s==0?o-s:this._engine.driver.containsElement(n.element,i.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}},p4=class{bodyNode;driver;_normalizer;players=[];newHostElements=new Map;playersByElement=new Map;playersByQueriedElement=new Map;statesByElement=new Map;disabledNodes=new Set;totalAnimations=0;totalQueuedPlayers=0;_namespaceLookup={};_namespaceList=[];_flushFns=[];_whenQuietFns=[];namespacesByHostElement=new Map;collectedEnterElements=[];collectedLeaveElements=[];onRemovalComplete=(t,e)=>{};_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}constructor(t,e,n){this.bodyNode=t,this.driver=e,this._normalizer=n}get queuedPlayers(){let t=[];return this._namespaceList.forEach(e=>{e.players.forEach(n=>{n.queued&&t.push(n)})}),t}createNamespace(t,e){let n=new m4(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}_balanceNamespaceList(t,e){let n=this._namespaceList,i=this.namespacesByHostElement;if(n.length-1>=0){let s=!1,a=this.driver.getParentElement(e);for(;a;){let l=i.get(a);if(l){let c=n.indexOf(l);n.splice(c+1,0,t),s=!0;break}a=this.driver.getParentElement(a)}s||n.unshift(t)}else n.push(t);return i.set(e,t),t}register(t,e){let n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}registerTrigger(t,e,n){let i=this._namespaceLookup[t];i&&i.register(e,n)&&this.totalAnimations++}destroy(t,e){t&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let n=this._fetchNamespace(t);this.namespacesByHostElement.delete(n.hostElement);let i=this._namespaceList.indexOf(n);i>=0&&this._namespaceList.splice(i,1),n.destroy(e),delete this._namespaceLookup[t]}))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){let e=new Set,n=this.statesByElement.get(t);if(n){for(let i of n.values())if(i.namespaceId){let o=this._fetchNamespace(i.namespaceId);o&&e.add(o)}}return e}trigger(t,e,n,i){if(SE(e)){let o=this._fetchNamespace(t);if(o)return o.trigger(e,n,i),!0}return!1}insertNode(t,e,n,i){if(!SE(e))return;let o=e[Oc];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;let s=this.collectedLeaveElements.indexOf(e);s>=0&&this.collectedLeaveElements.splice(s,1)}if(t){let s=this._fetchNamespace(t);s&&s.insertNode(e,n)}i&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Yl(t,Jz)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Vv(t,Jz))}removeNode(t,e,n){if(SE(e)){let i=t?this._fetchNamespace(t):null;i?i.removeNode(e,n):this.markElementAsRemoved(t,e,!1,n);let o=this.namespacesByHostElement.get(e);o&&o.id!==t&&o.removeNode(e,n)}else this._onRemovalComplete(e,n)}markElementAsRemoved(t,e,n,i,o){this.collectedLeaveElements.push(e),e[Oc]={namespaceId:t,setForRemoval:i,hasAnimation:n,removedBeforeQueried:!1,previousTriggersValues:o}}listen(t,e,n,i,o){return SE(e)?this._fetchNamespace(t).listen(e,n,i,o):()=>{}}_buildInstruction(t,e,n,i,o){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,i,t.fromState.options,t.toState.options,e,o)}destroyInnerAnimations(t){let e=this.driver.query(t,EE,!0);e.forEach(n=>this.destroyActiveAnimationsForElement(n)),this.playersByQueriedElement.size!=0&&(e=this.driver.query(t,n4,!0),e.forEach(n=>this.finishActiveQueriedAnimationOnElement(n)))}destroyActiveAnimationsForElement(t){let e=this.playersByElement.get(t);e&&e.forEach(n=>{n.queued?n.markedForDestroy=!0:n.destroy()})}finishActiveQueriedAnimationOnElement(t){let e=this.playersByQueriedElement.get(t);e&&e.forEach(n=>n.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return sh(this.players).onDone(()=>t());t()})}processLeaveNode(t){let e=t[Oc];if(e&&e.setForRemoval){if(t[Oc]=ule,e.namespaceId){this.destroyInnerAnimations(t);let n=this._fetchNamespace(e.namespaceId);n&&n.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(Jz)&&this.markElementAsDisabled(t,!1),this.driver.query(t,HRe,!0).forEach(n=>{this.markElementAsDisabled(n,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((n,i)=>this._balanceNamespaceList(n,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++){let i=this.collectedEnterElements[n];Yl(i,URe)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let n=[];try{e=this._flushAnimations(n,t)}finally{for(let i=0;i<n.length;i++)n[i]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++){let i=this.collectedLeaveElements[n];this.processLeaveNode(i)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(n=>n()),this._flushFns=[],this._whenQuietFns.length){let n=this._whenQuietFns;this._whenQuietFns=[],e.length?sh(e).onDone(()=>{n.forEach(i=>i())}):n.forEach(i=>i())}}reportError(t){throw lRe(t)}_flushAnimations(t,e){let n=new I_,i=[],o=new Map,s=[],a=new Map,l=new Map,c=new Map,d=new Set;this.disabledNodes.forEach(P=>{d.add(P);let L=this.driver.query(P,jRe,!0);for(let Z=0;Z<L.length;Z++)d.add(L[Z])});let f=this.bodyNode,m=Array.from(this.statesByElement.keys()),p=Qae(m,this.collectedEnterElements),b=new Map,y=0;p.forEach((P,L)=>{let Z=ile+y++;b.set(L,Z),P.forEach(U=>Yl(U,Z))});let C=[],S=new Set,A=new Set;for(let P=0;P<this.collectedLeaveElements.length;P++){let L=this.collectedLeaveElements[P],Z=L[Oc];Z&&Z.setForRemoval&&(C.push(L),S.add(L),Z.hasAnimation?this.driver.query(L,qRe,!0).forEach(U=>S.add(U)):A.add(L))}let x=new Map,M=Qae(m,Array.from(S));M.forEach((P,L)=>{let Z=r4+y++;x.set(L,Z),P.forEach(U=>Yl(U,Z))}),t.push(()=>{p.forEach((P,L)=>{let Z=b.get(L);P.forEach(U=>Vv(U,Z))}),M.forEach((P,L)=>{let Z=x.get(L);P.forEach(U=>Vv(U,Z))}),C.forEach(P=>{this.processLeaveNode(P)})});let E=[],w=[];for(let P=this._namespaceList.length-1;P>=0;P--)this._namespaceList[P].drainQueuedTransitions(e).forEach(Z=>{let U=Z.player,ce=Z.element;if(E.push(U),this.collectedEnterElements.length){let ee=ce[Oc];if(ee&&ee.setForMove){if(ee.previousTriggersValues&&ee.previousTriggersValues.has(Z.triggerName)){let ae=ee.previousTriggersValues.get(Z.triggerName),le=this.statesByElement.get(Z.element);if(le&&le.has(Z.triggerName)){let pe=le.get(Z.triggerName);pe.value=ae,le.set(Z.triggerName,pe)}}U.destroy();return}}let me=!f||!this.driver.containsElement(f,ce),se=x.get(ce),Q=b.get(ce),he=this._buildInstruction(Z,n,Q,se,me);if(he.errors&&he.errors.length){w.push(he);return}if(me){U.onStart(()=>Zm(ce,he.fromStyles)),U.onDestroy(()=>bu(ce,he.toStyles)),i.push(U);return}if(Z.isFallbackTransition){U.onStart(()=>Zm(ce,he.fromStyles)),U.onDestroy(()=>bu(ce,he.toStyles)),i.push(U);return}let ke=[];he.timelines.forEach(ee=>{ee.stretchStartingKeyframe=!0,this.disabledNodes.has(ee.element)||ke.push(ee)}),he.timelines=ke,n.append(ce,he.timelines);let be={instruction:he,player:U,element:ce};s.push(be),he.queriedElements.forEach(ee=>ml(a,ee,[]).push(U)),he.preStyleProps.forEach((ee,ae)=>{if(ee.size){let le=l.get(ae);le||l.set(ae,le=new Set),ee.forEach((pe,ve)=>le.add(ve))}}),he.postStyleProps.forEach((ee,ae)=>{let le=c.get(ae);le||c.set(ae,le=new Set),ee.forEach((pe,ve)=>le.add(ve))})});if(w.length){let P=[];w.forEach(L=>{P.push(cRe(L.triggerName,L.errors))}),E.forEach(L=>L.destroy()),this.reportError(P)}let T=new Map,k=new Map;s.forEach(P=>{let L=P.element;n.has(L)&&(k.set(L,L),this._beforeAnimationBuild(P.player.namespaceId,P.instruction,T))}),i.forEach(P=>{let L=P.element;this._getPreviousPlayers(L,!1,P.namespaceId,P.triggerName,null).forEach(U=>{ml(T,L,[]).push(U),U.destroy()})});let I=C.filter(P=>Jae(P,l,c)),O=new Map;Zae(O,this.driver,A,c,vu).forEach(P=>{Jae(P,l,c)&&I.push(P)});let j=new Map;p.forEach((P,L)=>{Zae(j,this.driver,new Set(P),l,_E)}),I.forEach(P=>{let L=O.get(P),Z=j.get(P);O.set(P,new Map([...L?.entries()??[],...Z?.entries()??[]]))});let q=[],X=[],Y={};s.forEach(P=>{let{element:L,player:Z,instruction:U}=P;if(n.has(L)){if(d.has(L)){Z.onDestroy(()=>bu(L,U.toStyles)),Z.disabled=!0,Z.overrideTotalTime(U.totalTime),i.push(Z);return}let ce=Y;if(k.size>1){let se=L,Q=[];for(;se=se.parentNode;){let he=k.get(se);if(he){ce=he;break}Q.push(se)}Q.forEach(he=>k.set(he,ce))}let me=this._buildAnimation(Z.namespaceId,U,T,o,j,O);if(Z.setRealPlayer(me),ce===Y)q.push(Z);else{let se=this.playersByElement.get(ce);se&&se.length&&(Z.parentPlayer=sh(se)),i.push(Z)}}else Zm(L,U.fromStyles),Z.onDestroy(()=>bu(L,U.toStyles)),X.push(Z),d.has(L)&&i.push(Z)}),X.forEach(P=>{let L=o.get(P.element);if(L&&L.length){let Z=sh(L);P.setRealPlayer(Z)}}),i.forEach(P=>{P.parentPlayer?P.syncPlayerEvents(P.parentPlayer):P.destroy()});for(let P=0;P<C.length;P++){let L=C[P],Z=L[Oc];if(Vv(L,r4),Z&&Z.hasAnimation)continue;let U=[];if(a.size){let me=a.get(L);me&&me.length&&U.push(...me);let se=this.driver.query(L,n4,!0);for(let Q=0;Q<se.length;Q++){let he=a.get(se[Q]);he&&he.length&&U.push(...he)}}let ce=U.filter(me=>!me.destroyed);ce.length?XRe(this,L,ce):this.processLeaveNode(L)}return C.length=0,q.forEach(P=>{this.players.push(P),P.onDone(()=>{P.destroy();let L=this.players.indexOf(P);this.players.splice(L,1)}),P.play()}),q}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,n,i,o){let s=[];if(e){let a=this.playersByQueriedElement.get(t);a&&(s=a)}else{let a=this.playersByElement.get(t);if(a){let l=!o||o==A_;a.forEach(c=>{c.queued||!l&&c.triggerName!=i||s.push(c)})}}return(n||i)&&(s=s.filter(a=>!(n&&n!=a.namespaceId||i&&i!=a.triggerName))),s}_beforeAnimationBuild(t,e,n){let i=e.triggerName,o=e.element,s=e.isRemovalTransition?void 0:t,a=e.isRemovalTransition?void 0:i;for(let l of e.timelines){let c=l.element,d=c!==o,f=ml(n,c,[]);this._getPreviousPlayers(c,d,s,a,e.toState).forEach(p=>{let b=p.getRealPlayer();b.beforeDestroy&&b.beforeDestroy(),p.destroy(),f.push(p)})}Zm(o,e.fromStyles)}_buildAnimation(t,e,n,i,o,s){let a=e.triggerName,l=e.element,c=[],d=new Set,f=new Set,m=e.timelines.map(b=>{let y=b.element;d.add(y);let C=y[Oc];if(C&&C.removedBeforeQueried)return new oh(b.duration,b.delay);let S=y!==l,A=ZRe((n.get(y)||WRe).map(T=>T.getRealPlayer())).filter(T=>{let k=T;return k.element?k.element===y:!1}),x=o.get(y),M=s.get(y),E=ele(this._normalizer,b.keyframes,x,M),w=this._buildPlayer(b,E,A);if(b.subTimeline&&i&&f.add(y),S){let T=new N_(t,a,y);T.setRealPlayer(w),c.push(T)}return w});c.forEach(b=>{ml(this.playersByQueriedElement,b.element,[]).push(b),b.onDone(()=>GRe(this.playersByQueriedElement,b.element,b))}),d.forEach(b=>Yl(b,Uae));let p=sh(m);return p.onDestroy(()=>{d.forEach(b=>Vv(b,Uae)),bu(l,e.toStyles)}),f.forEach(b=>{ml(i,b,[]).push(p)}),p}_buildPlayer(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new oh(t.duration,t.delay)}},N_=class{namespaceId;triggerName;element;_player=new oh;_containsRealPlayer=!1;_queuedCallbacks=new Map;destroyed=!1;parentPlayer=null;markedForDestroy=!1;disabled=!1;queued=!0;totalTime=0;constructor(t,e,n){this.namespaceId=t,this.triggerName=e,this.element=n}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,n)=>{e.forEach(i=>v4(t,n,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){let e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){ml(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){let e=this._player;e.triggerCallback&&e.triggerCallback(t)}};function GRe(r,t,e){let n=r.get(t);if(n){if(n.length){let i=n.indexOf(e);n.splice(i,1)}n.length==0&&r.delete(t)}return n}function YRe(r){return r??null}function SE(r){return r&&r.nodeType===1}function KRe(r){return r=="start"||r=="done"}function Xae(r,t){let e=r.style.display;return r.style.display=t??"none",e}function Zae(r,t,e,n,i){let o=[];e.forEach(l=>o.push(Xae(l)));let s=[];n.forEach((l,c)=>{let d=new Map;l.forEach(f=>{let m=t.computeStyle(c,f,i);d.set(f,m),(!m||m.length==0)&&(c[Oc]=$Re,s.push(c))}),r.set(c,d)});let a=0;return e.forEach(l=>Xae(l,o[a++])),s}function Qae(r,t){let e=new Map;if(r.forEach(a=>e.set(a,[])),t.length==0)return e;let n=1,i=new Set(t),o=new Map;function s(a){if(!a)return n;let l=o.get(a);if(l)return l;let c=a.parentNode;return e.has(c)?l=c:i.has(c)?l=n:l=s(c),o.set(a,l),l}return t.forEach(a=>{let l=s(a);l!==n&&e.get(l).push(a)}),e}function Yl(r,t){r.classList?.add(t)}function Vv(r,t){r.classList?.remove(t)}function XRe(r,t,e){sh(e).onDone(()=>r.processLeaveNode(t))}function ZRe(r){let t=[];return dle(r,t),t}function dle(r,t){for(let e=0;e<r.length;e++){let n=r[e];n instanceof E_?dle(n.players,t):t.push(n)}}function QRe(r,t){let e=Object.keys(r),n=Object.keys(t);if(e.length!=n.length)return!1;for(let i=0;i<e.length;i++){let o=e[i];if(!t.hasOwnProperty(o)||r[o]!==t[o])return!1}return!0}function Jae(r,t,e){let n=e.get(r);if(!n)return!1;let i=t.get(r);return i?n.forEach(o=>i.add(o)):t.set(r,n),e.delete(r),!0}var zv=class{_driver;_normalizer;_transitionEngine;_timelineEngine;_triggerCache={};onRemovalComplete=(t,e)=>{};constructor(t,e,n){this._driver=e,this._normalizer=n,this._transitionEngine=new p4(t.body,e,n),this._timelineEngine=new h4(t.body,e,n),this._transitionEngine.onRemovalComplete=(i,o)=>this.onRemovalComplete(i,o)}registerTrigger(t,e,n,i,o){let s=t+"-"+i,a=this._triggerCache[s];if(!a){let l=[],c=[],d=ale(this._driver,o,l,c);if(l.length)throw Q2e(i,l);c.length&&void 0,a=BRe(i,d,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(e,i,a)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,n,i){this._transitionEngine.insertNode(t,e,n,i)}onRemove(t,e,n){this._transitionEngine.removeNode(t,e,n)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,n,i){if(n.charAt(0)=="@"){let[o,s]=jae(n),a=i;this._timelineEngine.command(o,e,s,a)}else this._transitionEngine.trigger(t,e,n,i)}listen(t,e,n,i,o){if(n.charAt(0)=="@"){let[s,a]=jae(n);return this._timelineEngine.listen(s,e,a,o)}return this._transitionEngine.listen(t,e,n,i,o)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(t){this._transitionEngine.afterFlushAnimationsDone(t)}};function JRe(r,t){let e=null,n=null;return Array.isArray(t)&&t.length?(e=t4(t[0]),t.length>1&&(n=t4(t[t.length-1]))):t instanceof Map&&(e=t4(t)),e||n?new ePe(r,e,n):null}var ePe=(()=>{class r{_element;_startStyles;_endStyles;static initialStylesByElement=new WeakMap;_state=0;_initialStyles;constructor(e,n,i){this._element=e,this._startStyles=n,this._endStyles=i;let o=r.initialStylesByElement.get(e);o||r.initialStylesByElement.set(e,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&bu(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(bu(this._element,this._initialStyles),this._endStyles&&(bu(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(r.initialStylesByElement.delete(this._element),this._startStyles&&(Zm(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Zm(this._element,this._endStyles),this._endStyles=null),bu(this._element,this._initialStyles),this._state=3)}}return r})();function t4(r){let t=null;return r.forEach((e,n)=>{tPe(n)&&(t=t||new Map,t.set(n,e))}),t}function tPe(r){return r==="display"||r==="position"}var OE=class{element;keyframes;options;_specialStyles;_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_duration;_delay;_initialized=!1;_finished=!1;_started=!1;_destroyed=!1;_finalKeyframe;_originalOnDoneFns=[];_originalOnStartFns=[];domPlayer;time=0;parentPlayer=null;currentSnapshot=new Map;constructor(t,e,n,i){this.element=t,this.keyframes=e,this.options=n,this._specialStyles=i,this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map;let e=()=>this._onFinish();this.domPlayer.addEventListener("finish",e),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",e)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){let e=[];return t.forEach(n=>{e.push(Object.fromEntries(n))}),e}_triggerWebAnimation(t,e,n){return t.animate(this._convertKeyframesToObject(e),n)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((n,i)=>{i!=="offset"&&t.set(i,this._finished?n:w4(this.element,i))}),this.currentSnapshot=t}triggerCallback(t){let e=t==="start"?this._onStartFns:this._onDoneFns;e.forEach(n=>n()),e.length=0}},FE=class{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}containsElement(t,e){return tle(t,e)}getParentElement(t){return y4(t)}query(t,e,n){return rle(t,e,n)}computeStyle(t,e,n){return w4(t,e)}animate(t,e,n,i,o,s=[]){let a=i==0?"both":"forwards",l={duration:n,delay:i,fill:a};o&&(l.easing=o);let c=new Map,d=s.filter(p=>p instanceof OE);_Re(n,i)&&d.forEach(p=>{p.currentSnapshot.forEach((b,y)=>c.set(y,b))});let f=vRe(e).map(p=>new Map(p));f=xRe(t,f,c);let m=JRe(t,f);return new OE(t,f,l,m)}};var DE="@",fle="@.disabled",RE=class{namespaceId;delegate;engine;_onDestroy;\u0275type=0;constructor(t,e,n,i){this.namespaceId=t,this.delegate=e,this.engine=n,this._onDestroy=i}get data(){return this.delegate.data}destroyNode(t){this.delegate.destroyNode?.(t)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,n,i=!0){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,i)}removeChild(t,e,n){this.parentNode(e)&&this.engine.onRemove(this.namespaceId,e,this.delegate)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,n,i){this.delegate.setAttribute(t,e,n,i)}removeAttribute(t,e,n){this.delegate.removeAttribute(t,e,n)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,n,i){this.delegate.setStyle(t,e,n,i)}removeStyle(t,e,n){this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){e.charAt(0)==DE&&e==fle?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,n){return this.delegate.listen(t,e,n)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}},g4=class extends RE{factory;constructor(t,e,n,i,o){super(e,n,i,o),this.factory=t,this.namespaceId=e}setProperty(t,e,n){e.charAt(0)==DE?e.charAt(1)=="."&&e==fle?(n=n===void 0?!0:!!n,this.disableAnimations(t,n)):this.engine.process(this.namespaceId,t,e.slice(1),n):this.delegate.setProperty(t,e,n)}listen(t,e,n){if(e.charAt(0)==DE){let i=rPe(t),o=e.slice(1),s="";return o.charAt(0)!=DE&&([o,s]=nPe(o)),this.engine.listen(this.namespaceId,i,o,s,a=>{let l=a._data||-1;this.factory.scheduleListenerCallback(l,n,a)})}return this.delegate.listen(t,e,n)}};function rPe(r){switch(r){case"body":return document.body;case"document":return document;case"window":return window;default:return r}}function nPe(r){let t=r.indexOf("."),e=r.substring(0,t),n=r.slice(t+1);return[e,n]}var PE=class{delegate;engine;_zone;_currentId=0;_microtaskId=1;_animationCallbacksBuffer=[];_rendererCache=new Map;_cdRecurDepth=0;constructor(t,e,n){this.delegate=t,this.engine=e,this._zone=n,e.onRemovalComplete=(i,o)=>{o?.removeChild(null,i)}}createRenderer(t,e){let n="",i=this.delegate.createRenderer(t,e);if(!t||!e?.data?.animation){let c=this._rendererCache,d=c.get(i);if(!d){let f=()=>c.delete(i);d=new RE(n,i,this.engine,f),c.set(i,d)}return d}let o=e.id,s=e.id+"-"+this._currentId;this._currentId++,this.engine.register(s,t);let a=c=>{Array.isArray(c)?c.forEach(a):this.engine.registerTrigger(o,s,t,c.name,c)};return e.data.animation.forEach(a),new g4(this,s,i,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,n){if(t>=0&&t<this._microtaskId){this._zone.run(()=>e(n));return}let i=this._animationCallbacksBuffer;i.length==0&&queueMicrotask(()=>{this._zone.run(()=>{i.forEach(o=>{let[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),i.push([e,n])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}};var oPe=(()=>{class r extends zv{constructor(e,n,i){super(e,n,i)}ngOnDestroy(){this.flush()}static \u0275fac=function(n){return new(n||r)(Tt(Xt),Tt(Qm),Tt(Jm))};static \u0275prov=Fe({token:r,factory:r.\u0275fac})}return r})();function sPe(){return new AE}function aPe(r,t,e){return new PE(r,t,e)}var hle=[{provide:Jm,useFactory:sPe},{provide:zv,useClass:oPe},{provide:pf,useFactory:aPe,deps:[K1,zv,xt]}],lPe=[{provide:Qm,useFactory:()=>new FE},{provide:Xn,useValue:"BrowserAnimations"},...hle],nLt=[{provide:Qm,useClass:_4},{provide:Xn,useValue:"NoopAnimations"},...hle];function mle(){return Ta("NgEagerAnimations"),[...lPe]}var cPe=["dialogPopup"],uPe=["hueSlider"],dPe=["alphaSlider"];function fPe(r,t){if(r&1&&Te(0,"div"),r&2){let e=ie();w1("arrow arrow-",e.cpUsePosition,""),hn("left",e.cpArrowPosition)("top",e.arrowTop,"px")}}function hPe(r,t){if(r&1){let e=ot();W(0,"div",28),Me("newValue",function(i){xe(e);let o=ie();return we(o.onColorChange(i))})("dragStart",function(){xe(e);let i=ie();return we(i.onDragStart("saturation-lightness"))})("dragEnd",function(){xe(e);let i=ie();return we(i.onDragEnd("saturation-lightness"))}),Te(1,"div",16),$()}if(r&2){let e=ie();hn("background-color",e.hueSliderColor),oe("rgX",1)("rgY",1),K(),hn("top",e.slider==null?null:e.slider.v,"px")("left",e.slider==null?null:e.slider.s,"px")}}function mPe(r,t){r&1&&(ru(),W(0,"svg",29),Te(1,"path",30)(2,"path",31),$())}function pPe(r,t){if(r&1){let e=ot();W(0,"button",32),Me("click",function(i){xe(e);let o=ie();return we(o.onAddPresetColor(i,o.selectedColor))}),ge(1),$()}if(r&2){let e=ie();Li(e.cpAddColorButtonClass),oe("disabled",e.cpPresetColors&&e.cpPresetColors.length>=e.cpMaxPresetColorsLength),K(),sn(" ",e.cpAddColorButtonText," ")}}function gPe(r,t){r&1&&Te(0,"div",33)}function vPe(r,t){if(r&1){let e=ot();W(0,"input",39),Me("keyup.enter",function(i){xe(e);let o=ie(2);return we(o.onAcceptColor(i))})("newValue",function(i){xe(e);let o=ie(2);return we(o.onAlphaInput(i))}),$()}if(r&2){let e=ie(2);oe("rg",1)("value",e.cmykText==null?null:e.cmykText.a)}}function bPe(r,t){r&1&&(W(0,"div"),ge(1,"A"),$())}function yPe(r,t){if(r&1){let e=ot();W(0,"div",34)(1,"div",35)(2,"input",36),Me("keyup.enter",function(i){xe(e);let o=ie();return we(o.onAcceptColor(i))})("newValue",function(i){xe(e);let o=ie();return we(o.onCyanInput(i))}),$(),W(3,"input",36),Me("keyup.enter",function(i){xe(e);let o=ie();return we(o.onAcceptColor(i))})("newValue",function(i){xe(e);let o=ie();return we(o.onMagentaInput(i))}),$(),W(4,"input",36),Me("keyup.enter",function(i){xe(e);let o=ie();return we(o.onAcceptColor(i))})("newValue",function(i){xe(e);let o=ie();return we(o.onYellowInput(i))}),$(),W(5,"input",36),Me("keyup.enter",function(i){xe(e);let o=ie();return we(o.onAcceptColor(i))})("newValue",function(i){xe(e);let o=ie();return we(o.onBlackInput(i))}),$(),Oe(6,vPe,1,2,"input",37),$(),W(7,"div",35)(8,"div"),ge(9,"C"),$(),W(10,"div"),ge(11,"M"),$(),W(12,"div"),ge(13,"Y"),$(),W(14,"div"),ge(15,"K"),$(),Oe(16,bPe,2,0,"div",38),$()()}if(r&2){let e=ie();hn("display",e.format!==3?"none":"block"),K(2),oe("rg",100)("value",e.cmykText==null?null:e.cmykText.c),K(),oe("rg",100)("value",e.cmykText==null?null:e.cmykText.m),K(),oe("rg",100)("value",e.cmykText==null?null:e.cmykText.y),K(),oe("rg",100)("value",e.cmykText==null?null:e.cmykText.k),K(),oe("ngIf",e.cpAlphaChannel!=="disabled"),K(10),oe("ngIf",e.cpAlphaChannel!=="disabled")}}function _Pe(r,t){if(r&1){let e=ot();W(0,"input",39),Me("keyup.enter",function(i){xe(e);let o=ie(2);return we(o.onAcceptColor(i))})("newValue",function(i){xe(e);let o=ie(2);return we(o.onAlphaInput(i))}),$()}if(r&2){let e=ie(2);oe("rg",1)("value",e.hslaText==null?null:e.hslaText.a)}}function xPe(r,t){r&1&&(W(0,"div"),ge(1,"A"),$())}function wPe(r,t){if(r&1){let e=ot();W(0,"div",40)(1,"div",35)(2,"input",41),Me("keyup.enter",function(i){xe(e);let o=ie();return we(o.onAcceptColor(i))})("newValue",function(i){xe(e);let o=ie();return we(o.onHueInput(i))}),$(),W(3,"input",36),Me("keyup.enter",function(i){xe(e);let o=ie();return we(o.onAcceptColor(i))})("newValue",function(i){xe(e);let o=ie();return we(o.onSaturationInput(i))}),$(),W(4,"input",36),Me("keyup.enter",function(i){xe(e);let o=ie();return we(o.onAcceptColor(i))})("newValue",function(i){xe(e);let o=ie();return we(o.onLightnessInput(i))}),$(),Oe(5,_Pe,1,2,"input",37),$(),W(6,"div",35)(7,"div"),ge(8,"H"),$(),W(9,"div"),ge(10,"S"),$(),W(11,"div"),ge(12,"L"),$(),Oe(13,xPe,2,0,"div",38),$()()}if(r&2){let e=ie();hn("display",e.format!==2?"none":"block"),K(2),oe("rg",360)("value",e.hslaText==null?null:e.hslaText.h),K(),oe("rg",100)("value",e.hslaText==null?null:e.hslaText.s),K(),oe("rg",100)("value",e.hslaText==null?null:e.hslaText.l),K(),oe("ngIf",e.cpAlphaChannel!=="disabled"),K(8),oe("ngIf",e.cpAlphaChannel!=="disabled")}}function CPe(r,t){if(r&1){let e=ot();W(0,"input",39),Me("keyup.enter",function(i){xe(e);let o=ie(2);return we(o.onAcceptColor(i))})("newValue",function(i){xe(e);let o=ie(2);return we(o.onAlphaInput(i))}),$()}if(r&2){let e=ie(2);oe("rg",1)("value",e.rgbaText==null?null:e.rgbaText.a)}}function SPe(r,t){r&1&&(W(0,"div"),ge(1,"A"),$())}function DPe(r,t){if(r&1){let e=ot();W(0,"div",42)(1,"div",35)(2,"input",43),Me("keyup.enter",function(i){xe(e);let o=ie();return we(o.onAcceptColor(i))})("newValue",function(i){xe(e);let o=ie();return we(o.onRedInput(i))}),$(),W(3,"input",43),Me("keyup.enter",function(i){xe(e);let o=ie();return we(o.onAcceptColor(i))})("newValue",function(i){xe(e);let o=ie();return we(o.onGreenInput(i))}),$(),W(4,"input",43),Me("keyup.enter",function(i){xe(e);let o=ie();return we(o.onAcceptColor(i))})("newValue",function(i){xe(e);let o=ie();return we(o.onBlueInput(i))}),$(),Oe(5,CPe,1,2,"input",37),$(),W(6,"div",35)(7,"div"),ge(8,"R"),$(),W(9,"div"),ge(10,"G"),$(),W(11,"div"),ge(12,"B"),$(),Oe(13,SPe,2,0,"div",38),$()()}if(r&2){let e=ie();hn("display",e.format!==1?"none":"block"),K(2),oe("rg",255)("value",e.rgbaText==null?null:e.rgbaText.r),K(),oe("rg",255)("value",e.rgbaText==null?null:e.rgbaText.g),K(),oe("rg",255)("value",e.rgbaText==null?null:e.rgbaText.b),K(),oe("ngIf",e.cpAlphaChannel!=="disabled"),K(8),oe("ngIf",e.cpAlphaChannel!=="disabled")}}function EPe(r,t){if(r&1){let e=ot();W(0,"input",39),Me("keyup.enter",function(i){xe(e);let o=ie(2);return we(o.onAcceptColor(i))})("newValue",function(i){xe(e);let o=ie(2);return we(o.onAlphaInput(i))}),$()}if(r&2){let e=ie(2);oe("rg",1)("value",e.hexAlpha)}}function MPe(r,t){r&1&&(W(0,"div"),ge(1,"A"),$())}function APe(r,t){if(r&1){let e=ot();W(0,"div",44)(1,"div",35)(2,"input",45),Me("blur",function(){xe(e);let i=ie();return we(i.onHexInput(null))})("keyup.enter",function(i){xe(e);let o=ie();return we(o.onAcceptColor(i))})("newValue",function(i){xe(e);let o=ie();return we(o.onHexInput(i))}),$(),Oe(3,EPe,1,2,"input",37),$(),W(4,"div",35)(5,"div"),ge(6,"Hex"),$(),Oe(7,MPe,2,0,"div",38),$()()}if(r&2){let e=ie();hn("display",e.format!==0?"none":"block"),Wt("hex-alpha",e.cpAlphaChannel==="forced"),K(2),oe("value",e.hexText),K(),oe("ngIf",e.cpAlphaChannel==="forced"),K(4),oe("ngIf",e.cpAlphaChannel==="forced")}}function TPe(r,t){if(r&1){let e=ot();W(0,"input",39),Me("keyup.enter",function(i){xe(e);let o=ie(2);return we(o.onAcceptColor(i))})("newValue",function(i){xe(e);let o=ie(2);return we(o.onAlphaInput(i))}),$()}if(r&2){let e=ie(2);oe("rg",1)("value",e.hslaText==null?null:e.hslaText.a)}}function IPe(r,t){if(r&1){let e=ot();W(0,"div",46)(1,"div",35)(2,"input",36),Me("keyup.enter",function(i){xe(e);let o=ie();return we(o.onAcceptColor(i))})("newValue",function(i){xe(e);let o=ie();return we(o.onValueInput(i))}),$(),Oe(3,TPe,1,2,"input",37),$(),W(4,"div",35)(5,"div"),ge(6,"V"),$(),W(7,"div"),ge(8,"A"),$()()()}if(r&2){let e=ie();K(2),oe("rg",100)("value",e.hslaText==null?null:e.hslaText.l),K(),oe("ngIf",e.cpAlphaChannel!=="disabled")}}function kPe(r,t){if(r&1){let e=ot();W(0,"div",47)(1,"span",48),Me("click",function(){xe(e);let i=ie();return we(i.onFormatToggle(-1))}),$(),W(2,"span",48),Me("click",function(){xe(e);let i=ie();return we(i.onFormatToggle(1))}),$()()}}function NPe(r,t){if(r&1){let e=ot();W(0,"span",55),Me("click",function(i){xe(e);let o=ie().$implicit,s=ie(3);return we(s.onRemovePresetColor(i,o))}),$()}if(r&2){let e=ie(4);Li(e.cpRemoveColorButtonClass)}}function OPe(r,t){if(r&1){let e=ot();W(0,"div",53),Me("click",function(){let i=xe(e).$implicit,o=ie(3);return we(o.setColorFromString(i))}),Oe(1,NPe,1,3,"span",54),$()}if(r&2){let e=t.$implicit,n=ie(3);hn("background-color",e),K(),oe("ngIf",n.cpAddColorButton)}}function FPe(r,t){if(r&1&&(W(0,"div"),Oe(1,OPe,2,3,"div",52),$()),r&2){let e=ie(2);Li(e.cpPresetColorsClass),K(),oe("ngForOf",e.cpPresetColors)}}function RPe(r,t){if(r&1&&(W(0,"div"),ge(1),$()),r&2){let e=ie(2);Li(e.cpPresetEmptyMessageClass),K(),zt(e.cpPresetEmptyMessage)}}function PPe(r,t){if(r&1&&(W(0,"div",49),Te(1,"hr"),W(2,"div",50),ge(3),$(),Oe(4,FPe,2,4,"div",51)(5,RPe,2,4,"div",51),$()),r&2){let e=ie();K(3),zt(e.cpPresetLabel),K(),oe("ngIf",e.cpPresetColors==null?null:e.cpPresetColors.length),K(),oe("ngIf",!(e.cpPresetColors!=null&&e.cpPresetColors.length)&&e.cpAddColorButton)}}function LPe(r,t){if(r&1){let e=ot();W(0,"button",58),Me("click",function(i){xe(e);let o=ie(2);return we(o.onCancelColor(i))}),ge(1),$()}if(r&2){let e=ie(2);Li(e.cpCancelButtonClass),K(),zt(e.cpCancelButtonText)}}function BPe(r,t){if(r&1){let e=ot();W(0,"button",58),Me("click",function(i){xe(e);let o=ie(2);return we(o.onAcceptColor(i))}),ge(1),$()}if(r&2){let e=ie(2);Li(e.cpOKButtonClass),K(),zt(e.cpOKButtonText)}}function VPe(r,t){if(r&1&&(W(0,"div",56),Oe(1,LPe,2,4,"button",57)(2,BPe,2,4,"button",57),$()),r&2){let e=ie();K(),oe("ngIf",e.cpCancelButton),K(),oe("ngIf",e.cpOKButton)}}function zPe(r,t){r&1&&Xa(0)}function jPe(r,t){if(r&1&&(W(0,"div",59),Oe(1,zPe,1,0,"ng-container",60),$()),r&2){let e=ie();K(),oe("ngTemplateOutlet",e.cpExtraTemplate)}}var ma=function(r){return r[r.HEX=0]="HEX",r[r.RGBA=1]="RGBA",r[r.HSLA=2]="HSLA",r[r.CMYK=3]="CMYK",r}(ma||{}),Fc=class{r;g;b;a;constructor(t,e,n,i){this.r=t,this.g=e,this.b=n,this.a=i}},jv=class{h;s;v;a;constructor(t,e,n,i){this.h=t,this.s=e,this.v=n,this.a=i}},Pd=class{h;s;l;a;constructor(t,e,n,i){this.h=t,this.s=e,this.l=n,this.a=i}},ep=class{c;m;y;k;a;constructor(t,e,n,i,o=1){this.c=t,this.m=e,this.y=n,this.k=i,this.a=o}};function HPe(r,t){let e="right",n="bottom",{height:i,width:o}=r,{top:s,left:a}=t,l=s+t.height,c=a+t.width,d=s-i<0,f=l+i>(window.innerHeight||document.documentElement.clientHeight),m=a-o<0,p=c+o>(window.innerWidth||document.documentElement.clientWidth),b=d&&f&&m&&p;return f&&(n="top"),d&&(n="bottom"),m&&(e="right"),p&&(e="left"),b?["left","right","top","bottom"].reduce((C,S)=>r[C]>r[S]?C:S):m&&p?d?"bottom":f||s>l?"top":"bottom":d&&f?m?"right":p||a>c?"left":"right":`${n}-${e}`}function UPe(){let r="";typeof navigator<"u"&&(r=navigator.userAgent.toLowerCase());let t=r.indexOf("msie ");return t>0?parseInt(r.substring(t+5,r.indexOf(".",t)),10):!1}var qPe=(()=>{class r{rg;text;newValue=new ct;inputChange(e){let n=e.target.value;if(this.rg===void 0)this.newValue.emit(n);else{let i=parseFloat(n);this.newValue.emit({v:i,rg:this.rg})}}static \u0275fac=function(n){return new(n||r)};static \u0275dir=ft({type:r,selectors:[["","text",""]],hostBindings:function(n,i){n&1&&Me("input",function(s){return i.inputChange(s)})},inputs:{rg:"rg",text:"text"},outputs:{newValue:"newValue"},standalone:!1})}return r})(),WPe=(()=>{class r{elRef;listenerMove;listenerStop;rgX;rgY;slider;dragEnd=new ct;dragStart=new ct;newValue=new ct;mouseDown(e){this.start(e)}touchStart(e){this.start(e)}constructor(e){this.elRef=e,this.listenerMove=n=>this.move(n),this.listenerStop=()=>this.stop()}move(e){e.preventDefault(),this.setCursor(e)}start(e){this.setCursor(e),e.stopPropagation(),document.addEventListener("mouseup",this.listenerStop),document.addEventListener("touchend",this.listenerStop),document.addEventListener("mousemove",this.listenerMove),document.addEventListener("touchmove",this.listenerMove),this.dragStart.emit()}stop(){document.removeEventListener("mouseup",this.listenerStop),document.removeEventListener("touchend",this.listenerStop),document.removeEventListener("mousemove",this.listenerMove),document.removeEventListener("touchmove",this.listenerMove),this.dragEnd.emit()}getX(e){let n=this.elRef.nativeElement.getBoundingClientRect();return(e.pageX!==void 0?e.pageX:e.touches[0].pageX)-n.left-window.pageXOffset}getY(e){let n=this.elRef.nativeElement.getBoundingClientRect();return(e.pageY!==void 0?e.pageY:e.touches[0].pageY)-n.top-window.pageYOffset}setCursor(e){let n=this.elRef.nativeElement.offsetWidth,i=this.elRef.nativeElement.offsetHeight,o=Math.max(0,Math.min(this.getX(e),n)),s=Math.max(0,Math.min(this.getY(e),i));this.rgX!==void 0&&this.rgY!==void 0?this.newValue.emit({s:o/n,v:1-s/i,rgX:this.rgX,rgY:this.rgY}):this.rgX===void 0&&this.rgY!==void 0?this.newValue.emit({v:s/i,rgY:this.rgY}):this.rgX!==void 0&&this.rgY===void 0&&this.newValue.emit({v:o/n,rgX:this.rgX})}static \u0275fac=function(n){return new(n||r)(ze(ut))};static \u0275dir=ft({type:r,selectors:[["","slider",""]],hostBindings:function(n,i){n&1&&Me("mousedown",function(s){return i.mouseDown(s)})("touchstart",function(s){return i.touchStart(s)})},inputs:{rgX:"rgX",rgY:"rgY",slider:"slider"},outputs:{dragEnd:"dragEnd",dragStart:"dragStart",newValue:"newValue"},standalone:!1})}return r})(),LE=class{h;s;v;a;constructor(t,e,n,i){this.h=t,this.s=e,this.v=n,this.a=i}},BE=class{h;s;v;a;constructor(t,e,n,i){this.h=t,this.s=e,this.v=n,this.a=i}},gle=(()=>{class r{active=null;setActive(e){this.active&&this.active!==e&&this.active.cpDialogDisplay!=="inline"&&this.active.closeDialog(),this.active=e}hsva2hsla(e){let n=e.h,i=e.s,o=e.v,s=e.a;if(o===0)return new Pd(n,0,0,s);if(i===0&&o===1)return new Pd(n,1,1,s);{let a=o*(2-i)/2;return new Pd(n,o*i/(1-Math.abs(2*a-1)),a,s)}}hsla2hsva(e){let n=Math.min(e.h,1),i=Math.min(e.s,1),o=Math.min(e.l,1),s=Math.min(e.a,1);if(o===0)return new jv(n,0,0,s);{let a=o+i*(1-Math.abs(2*o-1))/2;return new jv(n,2*(a-o)/a,a,s)}}hsvaToRgba(e){let n,i,o,s=e.h,a=e.s,l=e.v,c=e.a,d=Math.floor(s*6),f=s*6-d,m=l*(1-a),p=l*(1-f*a),b=l*(1-(1-f)*a);switch(d%6){case 0:n=l,i=b,o=m;break;case 1:n=p,i=l,o=m;break;case 2:n=m,i=l,o=b;break;case 3:n=m,i=p,o=l;break;case 4:n=b,i=m,o=l;break;case 5:n=l,i=m,o=p;break;default:n=0,i=0,o=0}return new Fc(n,i,o,c)}cmykToRgb(e){let n=(1-e.c)*(1-e.k),i=(1-e.m)*(1-e.k),o=(1-e.y)*(1-e.k);return new Fc(n,i,o,e.a)}rgbaToCmyk(e){let n=1-Math.max(e.r,e.g,e.b);if(n===1)return new ep(0,0,0,1,e.a);{let i=(1-e.r-n)/(1-n),o=(1-e.g-n)/(1-n),s=(1-e.b-n)/(1-n);return new ep(i,o,s,n,e.a)}}rgbaToHsva(e){let n,i,o=Math.min(e.r,1),s=Math.min(e.g,1),a=Math.min(e.b,1),l=Math.min(e.a,1),c=Math.max(o,s,a),d=Math.min(o,s,a),f=c,m=c-d;if(i=c===0?0:m/c,c===d)n=0;else{switch(c){case o:n=(s-a)/m+(s<a?6:0);break;case s:n=(a-o)/m+2;break;case a:n=(o-s)/m+4;break;default:n=0}n/=6}return new jv(n,i,f,l)}rgbaToHex(e,n){let i="#"+(16777216|e.r<<16|e.g<<8|e.b).toString(16).substr(1);return n&&(i+=(256|Math.round(e.a*255)).toString(16).substr(1)),i}normalizeCMYK(e){return new ep(e.c/100,e.m/100,e.y/100,e.k/100,e.a)}denormalizeCMYK(e){return new ep(Math.floor(e.c*100),Math.floor(e.m*100),Math.floor(e.y*100),Math.floor(e.k*100),e.a)}denormalizeRGBA(e){return new Fc(Math.round(e.r*255),Math.round(e.g*255),Math.round(e.b*255),e.a)}stringToHsva(e="",n=!1){let i=null;e=(e||"").toLowerCase();let o=[{re:/(rgb)a?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*%?,\s*(\d{1,3})\s*%?(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(s){return new Fc(parseInt(s[2],10)/255,parseInt(s[3],10)/255,parseInt(s[4],10)/255,isNaN(parseFloat(s[5]))?1:parseFloat(s[5]))}},{re:/(hsl)a?\(\s*(\d{1,3})\s*,\s*(\d{1,3})%\s*,\s*(\d{1,3})%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(s){return new Pd(parseInt(s[2],10)/360,parseInt(s[3],10)/100,parseInt(s[4],10)/100,isNaN(parseFloat(s[5]))?1:parseFloat(s[5]))}}];n?o.push({re:/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})?$/,parse:function(s){return new Fc(parseInt(s[1],16)/255,parseInt(s[2],16)/255,parseInt(s[3],16)/255,parseInt(s[4]||"FF",16)/255)}}):o.push({re:/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})$/,parse:function(s){return new Fc(parseInt(s[1],16)/255,parseInt(s[2],16)/255,parseInt(s[3],16)/255,1)}}),o.push({re:/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])$/,parse:function(s){return new Fc(parseInt(s[1]+s[1],16)/255,parseInt(s[2]+s[2],16)/255,parseInt(s[3]+s[3],16)/255,1)}});for(let s in o)if(o.hasOwnProperty(s)){let a=o[s],l=a.re.exec(e),c=l&&a.parse(l);if(c)return c instanceof Fc?i=this.rgbaToHsva(c):c instanceof Pd&&(i=this.hsla2hsva(c)),i}return i}outputFormat(e,n,i){switch(n==="auto"&&(n=e.a<1?"rgba":"hex"),n){case"hsla":let o=this.hsva2hsla(e),s=new Pd(Math.round(o.h*360),Math.round(o.s*100),Math.round(o.l*100),Math.round(o.a*100)/100);return e.a<1||i==="always"?"hsla("+s.h+","+s.s+"%,"+s.l+"%,"+s.a+")":"hsl("+s.h+","+s.s+"%,"+s.l+"%)";case"rgba":let a=this.denormalizeRGBA(this.hsvaToRgba(e));return e.a<1||i==="always"?"rgba("+a.r+","+a.g+","+a.b+","+Math.round(a.a*100)/100+")":"rgb("+a.r+","+a.g+","+a.b+")";default:let l=i==="always"||i==="forced";return this.rgbaToHex(this.denormalizeRGBA(this.hsvaToRgba(e)),l)}}static \u0275fac=function(n){return new(n||r)};static \u0275prov=Fe({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),ple=typeof window<"u"&&"ontouchstart"in window,$Pe=(()=>{class r{ngZone;elRef;cdRef;document;platformId;service;isIE10=!1;cmyk;hsva;width;height;cmykColor;outputColor;initialColor;fallbackColor;listenerResize;listenerMouseDown;directiveInstance;sliderH;sliderDimMax;directiveElementRef;dialogArrowSize=10;dialogArrowOffset=15;dialogInputFields=[ma.HEX,ma.RGBA,ma.HSLA,ma.CMYK];useRootViewContainer=!1;show;hidden;top;left;position;format;slider;hexText;hexAlpha;cmykText;hslaText;rgbaText;arrowTop;selectedColor;hueSliderColor;alphaSliderColor;cpWidth;cpHeight;cpColorMode;cpCmykEnabled;cpAlphaChannel;cpOutputFormat;cpDisableInput;cpDialogDisplay;cpIgnoredElements;cpSaveClickOutside;cpCloseClickOutside;cpPosition;cpUsePosition;cpPositionOffset;cpOKButton;cpOKButtonText;cpOKButtonClass;cpCancelButton;cpCancelButtonText;cpCancelButtonClass;cpEyeDropper;eyeDropperSupported;cpPresetLabel;cpPresetColors;cpPresetColorsClass;cpMaxPresetColorsLength;cpPresetEmptyMessage;cpPresetEmptyMessageClass;cpAddColorButton;cpAddColorButtonText;cpAddColorButtonClass;cpRemoveColorButtonClass;cpArrowPosition;cpTriggerElement;cpExtraTemplate;dialogElement;hueSlider;alphaSlider;handleEsc(e){this.show&&this.cpDialogDisplay==="popup"&&this.onCancelColor(e)}handleEnter(e){this.show&&this.cpDialogDisplay==="popup"&&this.onAcceptColor(e)}constructor(e,n,i,o,s,a){this.ngZone=e,this.elRef=n,this.cdRef=i,this.document=o,this.platformId=s,this.service=a,this.eyeDropperSupported=iu(this.platformId)&&"EyeDropper"in this.document.defaultView}ngOnInit(){this.slider=new LE(0,0,0,0);let e=this.hueSlider.nativeElement.offsetWidth||140,n=this.alphaSlider.nativeElement.offsetWidth||140;this.sliderDimMax=new BE(e,this.cpWidth,130,n),this.cpCmykEnabled?this.format=ma.CMYK:this.cpOutputFormat==="rgba"?this.format=ma.RGBA:this.cpOutputFormat==="hsla"?this.format=ma.HSLA:this.format=ma.HEX,this.listenerMouseDown=i=>{this.onMouseDown(i)},this.listenerResize=()=>{this.onResize()},this.openDialog(this.initialColor,!1)}ngOnDestroy(){this.closeDialog()}ngAfterViewInit(){if(this.cpWidth!==230||this.cpDialogDisplay==="inline"){let e=this.hueSlider.nativeElement.offsetWidth||140,n=this.alphaSlider.nativeElement.offsetWidth||140;this.sliderDimMax=new BE(e,this.cpWidth,130,n),this.updateColorPicker(!1),this.cdRef.detectChanges()}}openDialog(e,n=!0){this.service.setActive(this),this.width||(this.cpWidth=this.directiveElementRef.nativeElement.offsetWidth),this.height||(this.height=320),this.setInitialColor(e),this.setColorFromString(e,n),this.openColorPicker()}closeDialog(){this.closeColorPicker()}setupDialog(e,n,i,o,s,a,l,c,d,f,m,p,b,y,C,S,A,x,M,E,w,T,k,I,O,R,j,q,X,Y,P,L,Z,U,ce,me,se,Q){this.setInitialColor(i),this.setColorMode(c),this.isIE10=UPe()===10,this.directiveInstance=e,this.directiveElementRef=n,this.cpDisableInput=p,this.cpCmykEnabled=d,this.cpAlphaChannel=f,this.cpOutputFormat=m,this.cpDialogDisplay=a,this.cpIgnoredElements=b,this.cpSaveClickOutside=y,this.cpCloseClickOutside=C,this.useRootViewContainer=S,this.width=this.cpWidth=parseInt(o,10),this.height=this.cpHeight=parseInt(s,10),this.cpPosition=A,this.cpPositionOffset=parseInt(x,10),this.cpOKButton=R,this.cpOKButtonText=q,this.cpOKButtonClass=j,this.cpCancelButton=X,this.cpCancelButtonText=P,this.cpCancelButtonClass=Y,this.cpEyeDropper=me,this.fallbackColor=l||"#fff",this.setPresetConfig(E,w),this.cpPresetColorsClass=T,this.cpMaxPresetColorsLength=k,this.cpPresetEmptyMessage=I,this.cpPresetEmptyMessageClass=O,this.cpAddColorButton=L,this.cpAddColorButtonText=U,this.cpAddColorButtonClass=Z,this.cpRemoveColorButtonClass=ce,this.cpTriggerElement=se,this.cpExtraTemplate=Q,M||(this.dialogArrowOffset=0),a==="inline"&&(this.dialogArrowSize=0,this.dialogArrowOffset=0),m==="hex"&&f!=="always"&&f!=="forced"&&(this.cpAlphaChannel="disabled")}setColorMode(e){switch(e.toString().toUpperCase()){case"1":case"C":case"COLOR":this.cpColorMode=1;break;case"2":case"G":case"GRAYSCALE":this.cpColorMode=2;break;case"3":case"P":case"PRESETS":this.cpColorMode=3;break;default:this.cpColorMode=1}}setInitialColor(e){this.initialColor=e}setPresetConfig(e,n){this.cpPresetLabel=e,this.cpPresetColors=n}setColorFromString(e,n=!0,i=!0){let o;this.cpAlphaChannel==="always"||this.cpAlphaChannel==="forced"?(o=this.service.stringToHsva(e,!0),!o&&!this.hsva&&(o=this.service.stringToHsva(e,!1))):o=this.service.stringToHsva(e,!1),!o&&!this.hsva&&(o=this.service.stringToHsva(this.fallbackColor,!1)),o&&(this.hsva=o,this.sliderH=this.hsva.h,this.cpOutputFormat==="hex"&&this.cpAlphaChannel==="disabled"&&(this.hsva.a=1),this.updateColorPicker(n,i))}onResize(){this.position==="fixed"?this.setDialogPosition():this.cpDialogDisplay!=="inline"&&this.closeColorPicker()}onDragEnd(e){this.directiveInstance.sliderDragEnd({slider:e,color:this.outputColor})}onDragStart(e){this.directiveInstance.sliderDragStart({slider:e,color:this.outputColor})}onMouseDown(e){this.show&&!this.isIE10&&this.cpDialogDisplay==="popup"&&e.target!==this.directiveElementRef.nativeElement&&!this.isDescendant(this.elRef.nativeElement,e.target)&&!this.isDescendant(this.directiveElementRef.nativeElement,e.target)&&this.cpIgnoredElements.filter(n=>n===e.target).length===0&&this.ngZone.run(()=>{this.cpSaveClickOutside?this.directiveInstance.colorSelected(this.outputColor):(this.hsva=null,this.setColorFromString(this.initialColor,!1),this.cpCmykEnabled&&this.directiveInstance.cmykChanged(this.cmykColor),this.directiveInstance.colorChanged(this.initialColor),this.directiveInstance.colorCanceled()),this.cpCloseClickOutside&&this.closeColorPicker()})}onAcceptColor(e){e.stopPropagation(),this.outputColor&&this.directiveInstance.colorSelected(this.outputColor),this.cpDialogDisplay==="popup"&&this.closeColorPicker()}onCancelColor(e){this.hsva=null,e.stopPropagation(),this.directiveInstance.colorCanceled(),this.setColorFromString(this.initialColor,!0),this.cpDialogDisplay==="popup"&&(this.cpCmykEnabled&&this.directiveInstance.cmykChanged(this.cmykColor),this.directiveInstance.colorChanged(this.initialColor,!0),this.closeColorPicker())}onEyeDropper(){if(!this.eyeDropperSupported)return;new window.EyeDropper().open().then(n=>{this.setColorFromString(n.sRGBHex,!0)})}onFormatToggle(e){let n=this.dialogInputFields.length-(this.cpCmykEnabled?0:1),i=((this.dialogInputFields.indexOf(this.format)+e)%n+n)%n;this.format=this.dialogInputFields[i]}onColorChange(e){this.hsva.s=e.s/e.rgX,this.hsva.v=e.v/e.rgY,this.updateColorPicker(),this.directiveInstance.sliderChanged({slider:"lightness",value:this.hsva.v,color:this.outputColor}),this.directiveInstance.sliderChanged({slider:"saturation",value:this.hsva.s,color:this.outputColor})}onHueChange(e){this.hsva.h=e.v/e.rgX,this.sliderH=this.hsva.h,this.updateColorPicker(),this.directiveInstance.sliderChanged({slider:"hue",value:this.hsva.h,color:this.outputColor})}onValueChange(e){this.hsva.v=e.v/e.rgX,this.updateColorPicker(),this.directiveInstance.sliderChanged({slider:"value",value:this.hsva.v,color:this.outputColor})}onAlphaChange(e){this.hsva.a=e.v/e.rgX,this.updateColorPicker(),this.directiveInstance.sliderChanged({slider:"alpha",value:this.hsva.a,color:this.outputColor})}onHexInput(e){if(e===null)this.updateColorPicker();else{e&&e[0]!=="#"&&(e="#"+e);let n=/^#([a-f0-9]{3}|[a-f0-9]{6})$/gi;this.cpAlphaChannel==="always"&&(n=/^#([a-f0-9]{3}|[a-f0-9]{6}|[a-f0-9]{8})$/gi);let i=n.test(e);i&&(e.length<5&&(e="#"+e.substring(1).split("").map(o=>o+o).join("")),this.cpAlphaChannel==="forced"&&(e+=Math.round(this.hsva.a*255).toString(16)),this.setColorFromString(e,!0,!1)),this.directiveInstance.inputChanged({input:"hex",valid:i,value:e,color:this.outputColor})}}onRedInput(e){let n=this.service.hsvaToRgba(this.hsva),i=!isNaN(e.v)&&e.v>=0&&e.v<=e.rg;i&&(n.r=e.v/e.rg,this.hsva=this.service.rgbaToHsva(n),this.sliderH=this.hsva.h,this.updateColorPicker()),this.directiveInstance.inputChanged({input:"red",valid:i,value:n.r,color:this.outputColor})}onBlueInput(e){let n=this.service.hsvaToRgba(this.hsva),i=!isNaN(e.v)&&e.v>=0&&e.v<=e.rg;i&&(n.b=e.v/e.rg,this.hsva=this.service.rgbaToHsva(n),this.sliderH=this.hsva.h,this.updateColorPicker()),this.directiveInstance.inputChanged({input:"blue",valid:i,value:n.b,color:this.outputColor})}onGreenInput(e){let n=this.service.hsvaToRgba(this.hsva),i=!isNaN(e.v)&&e.v>=0&&e.v<=e.rg;i&&(n.g=e.v/e.rg,this.hsva=this.service.rgbaToHsva(n),this.sliderH=this.hsva.h,this.updateColorPicker()),this.directiveInstance.inputChanged({input:"green",valid:i,value:n.g,color:this.outputColor})}onHueInput(e){let n=!isNaN(e.v)&&e.v>=0&&e.v<=e.rg;n&&(this.hsva.h=e.v/e.rg,this.sliderH=this.hsva.h,this.updateColorPicker()),this.directiveInstance.inputChanged({input:"hue",valid:n,value:this.hsva.h,color:this.outputColor})}onValueInput(e){let n=!isNaN(e.v)&&e.v>=0&&e.v<=e.rg;n&&(this.hsva.v=e.v/e.rg,this.updateColorPicker()),this.directiveInstance.inputChanged({input:"value",valid:n,value:this.hsva.v,color:this.outputColor})}onAlphaInput(e){let n=!isNaN(e.v)&&e.v>=0&&e.v<=e.rg;n&&(this.hsva.a=e.v/e.rg,this.updateColorPicker()),this.directiveInstance.inputChanged({input:"alpha",valid:n,value:this.hsva.a,color:this.outputColor})}onLightnessInput(e){let n=this.service.hsva2hsla(this.hsva),i=!isNaN(e.v)&&e.v>=0&&e.v<=e.rg;i&&(n.l=e.v/e.rg,this.hsva=this.service.hsla2hsva(n),this.sliderH=this.hsva.h,this.updateColorPicker()),this.directiveInstance.inputChanged({input:"lightness",valid:i,value:n.l,color:this.outputColor})}onSaturationInput(e){let n=this.service.hsva2hsla(this.hsva),i=!isNaN(e.v)&&e.v>=0&&e.v<=e.rg;i&&(n.s=e.v/e.rg,this.hsva=this.service.hsla2hsva(n),this.sliderH=this.hsva.h,this.updateColorPicker()),this.directiveInstance.inputChanged({input:"saturation",valid:i,value:n.s,color:this.outputColor})}onCyanInput(e){!isNaN(e.v)&&e.v>=0&&e.v<=e.rg&&(this.cmyk.c=e.v,this.updateColorPicker(!1,!0,!0)),this.directiveInstance.inputChanged({input:"cyan",valid:!0,value:this.cmyk.c,color:this.outputColor})}onMagentaInput(e){!isNaN(e.v)&&e.v>=0&&e.v<=e.rg&&(this.cmyk.m=e.v,this.updateColorPicker(!1,!0,!0)),this.directiveInstance.inputChanged({input:"magenta",valid:!0,value:this.cmyk.m,color:this.outputColor})}onYellowInput(e){!isNaN(e.v)&&e.v>=0&&e.v<=e.rg&&(this.cmyk.y=e.v,this.updateColorPicker(!1,!0,!0)),this.directiveInstance.inputChanged({input:"yellow",valid:!0,value:this.cmyk.y,color:this.outputColor})}onBlackInput(e){!isNaN(e.v)&&e.v>=0&&e.v<=e.rg&&(this.cmyk.k=e.v,this.updateColorPicker(!1,!0,!0)),this.directiveInstance.inputChanged({input:"black",valid:!0,value:this.cmyk.k,color:this.outputColor})}onAddPresetColor(e,n){e.stopPropagation(),this.cpPresetColors.filter(i=>i===n).length||(this.cpPresetColors=this.cpPresetColors.concat(n),this.directiveInstance.presetColorsChanged(this.cpPresetColors))}onRemovePresetColor(e,n){e.stopPropagation(),this.cpPresetColors=this.cpPresetColors.filter(i=>i!==n),this.directiveInstance.presetColorsChanged(this.cpPresetColors)}openColorPicker(){this.show||(this.show=!0,this.hidden=!0,setTimeout(()=>{this.hidden=!1,this.setDialogPosition(),this.cdRef.detectChanges()},0),this.directiveInstance.stateChanged(!0),this.isIE10||this.ngZone.runOutsideAngular(()=>{ple?document.addEventListener("touchstart",this.listenerMouseDown):document.addEventListener("mousedown",this.listenerMouseDown)}),window.addEventListener("resize",this.listenerResize))}closeColorPicker(){this.show&&(this.show=!1,this.directiveInstance.stateChanged(!1),this.isIE10||(ple?document.removeEventListener("touchstart",this.listenerMouseDown):document.removeEventListener("mousedown",this.listenerMouseDown)),window.removeEventListener("resize",this.listenerResize),this.cdRef.destroyed||this.cdRef.detectChanges())}updateColorPicker(e=!0,n=!0,i=!1){if(this.sliderDimMax){this.cpColorMode===2&&(this.hsva.s=0);let o,s,a,l=this.outputColor;if(s=this.service.hsva2hsla(this.hsva),this.cpCmykEnabled?(i?(a=this.service.cmykToRgb(this.service.normalizeCMYK(this.cmyk)),this.hsva=this.service.rgbaToHsva(a)):(a=this.service.hsvaToRgba(this.hsva),this.cmyk=this.service.denormalizeCMYK(this.service.rgbaToCmyk(a))),a=this.service.denormalizeRGBA(a),this.sliderH=this.hsva.h):a=this.service.denormalizeRGBA(this.service.hsvaToRgba(this.hsva)),o=this.service.denormalizeRGBA(this.service.hsvaToRgba(new jv(this.sliderH||this.hsva.h,1,1,1))),n){this.hslaText=new Pd(Math.round(s.h*360),Math.round(s.s*100),Math.round(s.l*100),Math.round(s.a*100)/100),this.rgbaText=new Fc(a.r,a.g,a.b,Math.round(a.a*100)/100),this.cpCmykEnabled&&(this.cmykText=new ep(this.cmyk.c,this.cmyk.m,this.cmyk.y,this.cmyk.k,Math.round(this.cmyk.a*100)/100));let c=this.cpAlphaChannel==="always";this.hexText=this.service.rgbaToHex(a,c),this.hexAlpha=this.rgbaText.a}if(this.cpOutputFormat==="auto"&&this.format!==ma.RGBA&&this.format!==ma.CMYK&&this.format!==ma.HSLA&&this.hsva.a<1&&(this.format=this.hsva.a<1?ma.RGBA:ma.HEX),this.hueSliderColor="rgb("+o.r+","+o.g+","+o.b+")",this.alphaSliderColor="rgb("+a.r+","+a.g+","+a.b+")",this.outputColor=this.service.outputFormat(this.hsva,this.cpOutputFormat,this.cpAlphaChannel),this.selectedColor=this.service.outputFormat(this.hsva,"rgba",null),this.format!==ma.CMYK)this.cmykColor="";else if(this.cpAlphaChannel==="always"||this.cpAlphaChannel==="enabled"||this.cpAlphaChannel==="forced"){let c=Math.round(this.cmyk.a*100)/100;this.cmykColor=`cmyka(${this.cmyk.c},${this.cmyk.m},${this.cmyk.y},${this.cmyk.k},${c})`}else this.cmykColor=`cmyk(${this.cmyk.c},${this.cmyk.m},${this.cmyk.y},${this.cmyk.k})`;this.slider=new LE((this.sliderH||this.hsva.h)*this.sliderDimMax.h-8,this.hsva.s*this.sliderDimMax.s-8,(1-this.hsva.v)*this.sliderDimMax.v-8,this.hsva.a*this.sliderDimMax.a-8),e&&l!==this.outputColor&&(this.cpCmykEnabled&&this.directiveInstance.cmykChanged(this.cmykColor),this.directiveInstance.colorChanged(this.outputColor))}}setDialogPosition(){if(this.cpDialogDisplay==="inline")this.position="relative";else{let e="static",n="",i,o=null,s=null,a=this.directiveElementRef.nativeElement.parentNode,l=this.dialogElement.nativeElement.offsetHeight;for(;a!==null&&a.tagName!=="HTML";){if(i=window.getComputedStyle(a),e=i.getPropertyValue("position"),n=i.getPropertyValue("transform"),e!=="static"&&o===null&&(o=a),n&&n!=="none"&&s===null&&(s=a),e==="fixed"){o=s;break}a=a.parentNode}let c=this.createDialogBox(this.directiveElementRef.nativeElement,e!=="fixed");if(this.useRootViewContainer||e==="fixed"&&(!o||o instanceof HTMLUnknownElement))this.top=c.top,this.left=c.left;else{o===null&&(o=a);let S=this.createDialogBox(o,e!=="fixed");this.top=c.top-S.top,this.left=c.left-S.left}e==="fixed"&&(this.position="fixed");let d=this.cpPosition,f=this.dialogElement.nativeElement.getBoundingClientRect();if(this.cpPosition==="auto"){let S=this.cpTriggerElement.nativeElement.getBoundingClientRect();d=HPe(f,S)}switch(this.arrowTop=d==="top"?l-1:void 0,this.cpArrowPosition=void 0,d){case"top":this.top-=l+this.dialogArrowSize,this.left+=this.cpPositionOffset/100*c.width-this.dialogArrowOffset;break;case"bottom":this.top+=c.height+this.dialogArrowSize,this.left+=this.cpPositionOffset/100*c.width-this.dialogArrowOffset;break;case"top-left":case"left-top":this.top-=l-c.height+c.height*this.cpPositionOffset/100,this.left-=this.cpWidth+this.dialogArrowSize-2-this.dialogArrowOffset;break;case"top-right":case"right-top":this.top-=l-c.height+c.height*this.cpPositionOffset/100,this.left+=c.width+this.dialogArrowSize-2-this.dialogArrowOffset;break;case"left":case"bottom-left":case"left-bottom":this.top+=c.height*this.cpPositionOffset/100-this.dialogArrowOffset,this.left-=this.cpWidth+this.dialogArrowSize-2;break;case"right":case"bottom-right":case"right-bottom":default:this.top+=c.height*this.cpPositionOffset/100-this.dialogArrowOffset,this.left+=c.width+this.dialogArrowSize-2;break}let m=window.innerHeight,p=window.innerWidth,b=this.elRef.nativeElement.getBoundingClientRect();this.top+f.height>m&&(this.top=m-f.height,this.cpArrowPosition=b.x/2-20),this.left+f.width>p&&(this.left=p-f.width,this.cpArrowPosition=b.x/2-20),this.cpUsePosition=d}}isDescendant(e,n){let i=n.parentNode;for(;i!==null;){if(i===e)return!0;i=i.parentNode}return!1}createDialogBox(e,n){let{top:i,left:o}=e.getBoundingClientRect();return{top:i+(n?window.pageYOffset:0),left:o+(n?window.pageXOffset:0),width:e.offsetWidth,height:e.offsetHeight}}static \u0275fac=function(n){return new(n||r)(ze(xt),ze(ut),ze(qt),ze(Xt),ze(jo),ze(gle))};static \u0275cmp=Be({type:r,selectors:[["color-picker"]],viewQuery:function(n,i){if(n&1&&(Cr(cPe,7),Cr(uPe,7),Cr(dPe,7)),n&2){let o;Ft(o=Rt())&&(i.dialogElement=o.first),Ft(o=Rt())&&(i.hueSlider=o.first),Ft(o=Rt())&&(i.alphaSlider=o.first)}},hostBindings:function(n,i){n&1&&Me("keyup.esc",function(s){return i.handleEsc(s)},!1,rN)("keyup.enter",function(s){return i.handleEnter(s)},!1,rN)},standalone:!1,decls:30,vars:51,consts:[["dialogPopup",""],["hueSlider",""],["valueSlider",""],["alphaSlider",""],[1,"color-picker",3,"click"],[3,"left","class","top",4,"ngIf"],["class","saturation-lightness",3,"slider","rgX","rgY","background-color","newValue","dragStart","dragEnd",4,"ngIf"],[1,"hue-alpha","box"],[1,"left"],[1,"selected-color-background"],[1,"selected-color",3,"click"],["class","eyedropper-icon","xmlns","http://www.w3.org/2000/svg","height","24px","viewBox","0 0 24 24","width","24px","fill","#000000",4,"ngIf"],["type","button",3,"class","disabled","click",4,"ngIf"],[1,"right"],["style","height: 16px;",4,"ngIf"],[1,"hue",3,"newValue","dragStart","dragEnd","slider","rgX"],[1,"cursor"],[1,"value",3,"newValue","dragStart","dragEnd","slider","rgX"],[1,"alpha",3,"newValue","dragStart","dragEnd","slider","rgX"],["class","cmyk-text",3,"display",4,"ngIf"],["class","hsla-text",3,"display",4,"ngIf"],["class","rgba-text",3,"display",4,"ngIf"],["class","hex-text",3,"hex-alpha","display",4,"ngIf"],["class","value-text",4,"ngIf"],["class","type-policy",4,"ngIf"],["class","preset-area",4,"ngIf"],["class","button-area",4,"ngIf"],["class","extra-template",4,"ngIf"],[1,"saturation-lightness",3,"newValue","dragStart","dragEnd","slider","rgX","rgY"],["xmlns","http://www.w3.org/2000/svg","height","24px","viewBox","0 0 24 24","width","24px","fill","#000000",1,"eyedropper-icon"],["d","M0 0h24v24H0V0z","fill","none"],["d","M17.66 5.41l.92.92-2.69 2.69-.92-.92 2.69-2.69M17.67 3c-.26 0-.51.1-.71.29l-3.12 3.12-1.93-1.91-1.41 1.41 1.42 1.42L3 16.25V21h4.75l8.92-8.92 1.42 1.42 1.41-1.41-1.92-1.92 3.12-3.12c.4-.4.4-1.03.01-1.42l-2.34-2.34c-.2-.19-.45-.29-.7-.29zM6.92 19L5 17.08l8.06-8.06 1.92 1.92L6.92 19z"],["type","button",3,"click","disabled"],[2,"height","16px"],[1,"cmyk-text"],[1,"box"],["type","number","pattern","[0-9]*","min","0","max","100",3,"keyup.enter","newValue","text","rg","value"],["type","number","pattern","[0-9]+([\\.,][0-9]{1,2})?","min","0","max","1","step","0.1",3,"text","rg","value","keyup.enter","newValue",4,"ngIf"],[4,"ngIf"],["type","number","pattern","[0-9]+([\\.,][0-9]{1,2})?","min","0","max","1","step","0.1",3,"keyup.enter","newValue","text","rg","value"],[1,"hsla-text"],["type","number","pattern","[0-9]*","min","0","max","360",3,"keyup.enter","newValue","text","rg","value"],[1,"rgba-text"],["type","number","pattern","[0-9]*","min","0","max","255",3,"keyup.enter","newValue","text","rg","value"],[1,"hex-text"],[3,"blur","keyup.enter","newValue","text","value"],[1,"value-text"],[1,"type-policy"],[1,"type-policy-arrow",3,"click"],[1,"preset-area"],[1,"preset-label"],[3,"class",4,"ngIf"],["class","preset-color",3,"backgroundColor","click",4,"ngFor","ngForOf"],[1,"preset-color",3,"click"],[3,"class","click",4,"ngIf"],[3,"click"],[1,"button-area"],["type","button",3,"class","click",4,"ngIf"],["type","button",3,"click"],[1,"extra-template"],[4,"ngTemplateOutlet"]],template:function(n,i){if(n&1){let o=ot();W(0,"div",4,0),Me("click",function(a){return xe(o),we(a.stopPropagation())}),Oe(2,fPe,1,7,"div",5)(3,hPe,2,8,"div",6),W(4,"div",7)(5,"div",8),Te(6,"div",9),W(7,"div",10),Me("click",function(){return xe(o),we(i.eyeDropperSupported&&i.cpEyeDropper&&i.onEyeDropper())}),Oe(8,mPe,3,0,"svg",11),$(),Oe(9,pPe,2,5,"button",12),$(),W(10,"div",13),Oe(11,gPe,1,0,"div",14),W(12,"div",15,1),Me("newValue",function(a){return xe(o),we(i.onHueChange(a))})("dragStart",function(){return xe(o),we(i.onDragStart("hue"))})("dragEnd",function(){return xe(o),we(i.onDragEnd("hue"))}),Te(14,"div",16),$(),W(15,"div",17,2),Me("newValue",function(a){return xe(o),we(i.onValueChange(a))})("dragStart",function(){return xe(o),we(i.onDragStart("value"))})("dragEnd",function(){return xe(o),we(i.onDragEnd("value"))}),Te(17,"div",16),$(),W(18,"div",18,3),Me("newValue",function(a){return xe(o),we(i.onAlphaChange(a))})("dragStart",function(){return xe(o),we(i.onDragStart("alpha"))})("dragEnd",function(){return xe(o),we(i.onDragEnd("alpha"))}),Te(20,"div",16),$()()(),Oe(21,yPe,17,12,"div",19)(22,wPe,14,10,"div",20)(23,DPe,14,10,"div",21)(24,APe,8,7,"div",22)(25,IPe,9,3,"div",23)(26,kPe,3,0,"div",24)(27,PPe,6,3,"div",25)(28,VPe,3,2,"div",26)(29,jPe,2,1,"div",27),$()}n&2&&(hn("display",i.show?"block":"none")("visibility",i.hidden?"hidden":"visible")("top",i.top,"px")("left",i.left,"px")("position",i.position)("height",i.cpHeight,"px")("width",i.cpWidth,"px"),Wt("open",i.show),K(2),oe("ngIf",i.cpDialogDisplay==="popup"),K(),oe("ngIf",(i.cpColorMode||1)===1),K(4),hn("background-color",i.selectedColor)("cursor",i.eyeDropperSupported&&i.cpEyeDropper?"pointer":null),K(),oe("ngIf",i.eyeDropperSupported&&i.cpEyeDropper),K(),oe("ngIf",i.cpAddColorButton),K(2),oe("ngIf",i.cpAlphaChannel==="disabled"),K(),hn("display",(i.cpColorMode||1)===1?"block":"none"),oe("rgX",1),K(2),hn("left",i.slider==null?null:i.slider.h,"px"),K(),hn("display",(i.cpColorMode||1)===2?"block":"none"),oe("rgX",1),K(2),hn("right",i.slider==null?null:i.slider.v,"px"),K(),hn("display",i.cpAlphaChannel==="disabled"?"none":"block")("background-color",i.alphaSliderColor),oe("rgX",1),K(2),hn("left",i.slider==null?null:i.slider.a,"px"),K(),oe("ngIf",!i.cpDisableInput&&(i.cpColorMode||1)===1),K(),oe("ngIf",!i.cpDisableInput&&(i.cpColorMode||1)===1),K(),oe("ngIf",!i.cpDisableInput&&(i.cpColorMode||1)===1),K(),oe("ngIf",!i.cpDisableInput&&(i.cpColorMode||1)===1),K(),oe("ngIf",!i.cpDisableInput&&(i.cpColorMode||1)===2),K(),oe("ngIf",!i.cpDisableInput&&(i.cpColorMode||1)===1),K(),oe("ngIf",(i.cpPresetColors==null?null:i.cpPresetColors.length)||i.cpAddColorButton),K(),oe("ngIf",i.cpOKButton||i.cpCancelButton),K(),oe("ngIf",i.cpExtraTemplate))},dependencies:[g7,v7,nu,qPe,WPe],styles:[`.color-picker{position:absolute;z-index:1000;width:230px;height:auto;border:#777 solid 1px;cursor:default;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;background-color:#fff}.color-picker *{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;margin:0;font-size:11px}.color-picker input{width:0;height:26px;min-width:0;font-size:13px;text-align:center;color:#000}.color-picker input:invalid,.color-picker input:-moz-ui-invalid,.color-picker input:-moz-submit-invalid{box-shadow:none}.color-picker input::-webkit-inner-spin-button,.color-picker input::-webkit-outer-spin-button{margin:0;-webkit-appearance:none}.color-picker .arrow{position:absolute;z-index:999999;width:0;height:0;border-style:solid}.color-picker .arrow.arrow-top{left:8px;border-width:10px 5px;border-color:#777 rgba(0,0,0,0) rgba(0,0,0,0) rgba(0,0,0,0)}.color-picker .arrow.arrow-bottom{top:-20px;left:8px;border-width:10px 5px;border-color:rgba(0,0,0,0) rgba(0,0,0,0) #777 rgba(0,0,0,0)}.color-picker .arrow.arrow-top-left,.color-picker .arrow.arrow-left-top{right:-21px;bottom:8px;border-width:5px 10px;border-color:rgba(0,0,0,0) rgba(0,0,0,0) rgba(0,0,0,0) #777}.color-picker .arrow.arrow-top-right,.color-picker .arrow.arrow-right-top{bottom:8px;left:-20px;border-width:5px 10px;border-color:rgba(0,0,0,0) #777 rgba(0,0,0,0) rgba(0,0,0,0)}.color-picker .arrow.arrow-left,.color-picker .arrow.arrow-left-bottom,.color-picker .arrow.arrow-bottom-left{top:8px;right:-21px;border-width:5px 10px;border-color:rgba(0,0,0,0) rgba(0,0,0,0) rgba(0,0,0,0) #777}.color-picker .arrow.arrow-right,.color-picker .arrow.arrow-right-bottom,.color-picker .arrow.arrow-bottom-right{top:8px;left:-20px;border-width:5px 10px;border-color:rgba(0,0,0,0) #777 rgba(0,0,0,0) rgba(0,0,0,0)}.color-picker .cursor{position:relative;width:16px;height:16px;border:#222 solid 2px;border-radius:50%;cursor:default}.color-picker .box{display:flex;padding:4px 8px}.color-picker .left{position:relative;padding:16px 8px}.color-picker .right{-webkit-flex:1 1 auto;-ms-flex:1 1 auto;flex:1 1 auto;padding:12px 8px}.color-picker .button-area{padding:0 16px 16px;text-align:right}.color-picker .button-area button{margin-left:8px}.color-picker .preset-area{padding:4px 15px}.color-picker .preset-area .preset-label{overflow:hidden;width:100%;padding:4px;font-size:11px;white-space:nowrap;text-align:left;text-overflow:ellipsis;color:#555}.color-picker .preset-area .preset-color{position:relative;display:inline-block;width:18px;height:18px;margin:4px 6px 8px;border:#a9a9a9 solid 1px;border-radius:25%;cursor:pointer}.color-picker .preset-area .preset-empty-message{min-height:18px;margin-top:4px;margin-bottom:8px;font-style:italic;text-align:center}.color-picker .hex-text{width:100%;padding:4px 8px;font-size:11px}.color-picker .hex-text .box{padding:0 24px 8px 8px}.color-picker .hex-text .box div{float:left;-webkit-flex:1 1 auto;-ms-flex:1 1 auto;flex:1 1 auto;text-align:center;color:#555;clear:left}.color-picker .hex-text .box input{-webkit-flex:1 1 auto;-ms-flex:1 1 auto;flex:1 1 auto;padding:1px;border:#a9a9a9 solid 1px}.color-picker .hex-alpha .box div:first-child,.color-picker .hex-alpha .box input:first-child{flex-grow:3;margin-right:8px}.color-picker .cmyk-text,.color-picker .hsla-text,.color-picker .rgba-text,.color-picker .value-text{width:100%;padding:4px 8px;font-size:11px}.color-picker .cmyk-text .box,.color-picker .hsla-text .box,.color-picker .rgba-text .box{padding:0 24px 8px 8px}.color-picker .value-text .box{padding:0 8px 8px}.color-picker .cmyk-text .box div,.color-picker .hsla-text .box div,.color-picker .rgba-text .box div,.color-picker .value-text .box div{-webkit-flex:1 1 auto;-ms-flex:1 1 auto;flex:1 1 auto;margin-right:8px;text-align:center;color:#555}.color-picker .cmyk-text .box div:last-child,.color-picker .hsla-text .box div:last-child,.color-picker .rgba-text .box div:last-child,.color-picker .value-text .box div:last-child{margin-right:0}.color-picker .cmyk-text .box input,.color-picker .hsla-text .box input,.color-picker .rgba-text .box input,.color-picker .value-text .box input{float:left;-webkit-flex:1;-ms-flex:1;flex:1;padding:1px;margin:0 8px 0 0;border:#a9a9a9 solid 1px}.color-picker .cmyk-text .box input:last-child,.color-picker .hsla-text .box input:last-child,.color-picker .rgba-text .box input:last-child,.color-picker .value-text .box input:last-child{margin-right:0}.color-picker .hue-alpha{align-items:center;margin-bottom:3px}.color-picker .hue{direction:ltr;width:100%;height:16px;margin-bottom:16px;border:none;cursor:pointer;background-size:100% 100%;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAAAQCAYAAAD06IYnAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4AIWDwkUFWbCCAAAAFxJREFUaN7t0kEKg0AQAME2x83/n2qu5qCgD1iDhCoYdpnbQC9bbY1qVO/jvc6k3ad91s7/7F1/csgPrujuQ17BDYSFsBAWwgJhISyEBcJCWAgLhIWwEBYIi2f7Ar/1TCgFH2X9AAAAAElFTkSuQmCC)}.color-picker .value{direction:rtl;width:100%;height:16px;margin-bottom:16px;border:none;cursor:pointer;background-size:100% 100%;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAAAQCAYAAAD06IYnAAACTklEQVR42u3SYUcrABhA4U2SkmRJMmWSJklKJiWZZpKUJJskKUmaTFImKZOUzMySpGRmliRNJilJSpKSJEtmSpIpmWmSdO736/6D+x7OP3gUCoWCv1cqlSQlJZGcnExKSgqpqamkpaWRnp5ORkYGmZmZqFQqsrKyyM7OJicnh9zcXNRqNXl5eeTn56PRaCgoKKCwsJCioiK0Wi3FxcWUlJRQWlpKWVkZ5eXlVFRUUFlZiU6no6qqiurqampqaqitraWurg69Xk99fT0GgwGj0UhDQwONjY00NTXR3NxMS0sLra2ttLW10d7ejslkwmw209HRQWdnJ11dXXR3d9PT00Nvby99fX309/czMDDA4OAgFouFoaEhrFYrw8PDjIyMMDo6ytjYGDabjfHxcSYmJpicnGRqagq73c709DQzMzPMzs4yNzfH/Pw8DocDp9OJy+XC7XazsLDA4uIiS0tLLC8vs7KywurqKmtra3g8HrxeLz6fD7/fz/r6OhsbG2xubrK1tcX29jaBQICdnR2CwSC7u7vs7e2xv7/PwcEBh4eHHB0dcXx8zMnJCaenp5ydnXF+fs7FxQWXl5dcXV1xfX3Nzc0Nt7e33N3dEQqFuL+/5+HhgXA4TCQS4fHxkaenJ56fn3l5eeH19ZVoNMrb2xvv7+98fHwQi8WIx+N8fn6SSCT4+vri+/ubn58ffn9/+VcKgSWwBJbAElgCS2AJLIElsASWwBJYAktgCSyBJbAElsASWAJLYAksgSWwBJbAElgCS2AJLIElsP4/WH8AmJ5Z6jHS4h8AAAAASUVORK5CYII=)}.color-picker .alpha{direction:ltr;width:100%;height:16px;border:none;cursor:pointer;background-size:100% 100%;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAAAQCAYAAAD06IYnAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4AIWDwYQlZMa3gAAAWVJREFUaN7tmEGO6jAQRCsOArHgBpyAJYGjcGocxAm4A2IHpmoWE0eBH+ezmFlNvU06shJ3W6VEelWMUQAIIF9f6qZpimsA1LYtS2uF51/u27YVAFZVRUkEoGHdPV/sIcbIEIIkUdI/9Xa7neyv61+SWFUVAVCSct00TWn2fv6u3+Ecfd3tXzy/0+nEUu+SPjo/kqzrmiQpScN6v98XewfA8/lMkiLJ2WxGSUopcT6fM6U0NX9/frfbjev1WtfrlZfLhYfDQQHG/AIOlnGwjINlHCxjHCzjYJm/TJWdCwquJXseFFzGwDNNeiKMOJTO8xQdDQaeB29+K9efeLaBo9J7vdvtJj1RjFFjfiv7qv95tjx/7leSQgh93e1ffMeIp6O+YQjho/N791t1XVOSSI7N//K+4/GoxWLBx+PB5/Op5XLJ+/3OlJJWqxU3m83ovv5iGf8KjYNlHCxjHCzjYBkHy5gf5gusvQU7U37jTAAAAABJRU5ErkJggg==)}.color-picker .type-policy{position:absolute;top:218px;right:12px;width:16px;height:24px;background-size:8px 16px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAAgCAYAAAAffCjxAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAACewAAAnsB01CO3AAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAIASURBVEiJ7ZY9axRRFIafsxMStrLQJpAgpBFhi+C9w1YSo00I6RZ/g9vZpBf/QOr4GyRgkSKNSrAadsZqQGwCkuAWyRZJsySwvhZ7N/vhzrgbLH3Ld8597jlzz50zJokyxXH8DqDVar0qi6v8BbItqSGpEcfxdlmsFWXkvX8AfAVWg3UKPEnT9GKujMzsAFgZsVaCN1VTQd77XUnrgE1kv+6935268WRpzrnHZvYRWC7YvC3pRZZl3wozqtVqiyH9IgjAspkd1Gq1xUJQtVrdB9ZKIAOthdg/Qc65LUk7wNIMoCVJO865rYFhkqjX6/d7vV4GPJwBMqofURS5JEk6FYBer/eeYb/Mo9WwFnPOvQbeAvfuAAK4BN4sAJtAG/gJIElmNuiJyba3EGNmZiPeZuEVmVell/Y/6N+CzDn3AXhEOOo7Hv/3BeAz8IzQkMPnJbuPx1wC+yYJ7/0nYIP5S/0FHKdp+rwCEEXRS/rf5Hl1Gtb2M0iSpCOpCZzPATmX1EySpHMLAsiy7MjMDoHrGSDXZnaYZdnRwBh7J91utwmczAA6CbG3GgPleX4jqUH/a1CktqRGnuc3hSCAMB32gKspkCtgb3KCQMmkjeP4WNJThrNNZval1WptTIsv7JtQ4tmIdRa8qSoEpWl6YWZNoAN0zKxZNPehpLSBZv2t+Q0CJ9lLnARQLAAAAABJRU5ErkJggg==);background-repeat:no-repeat;background-position:center}.color-picker .type-policy .type-policy-arrow{display:block;width:100%;height:50%}.color-picker .selected-color{position:absolute;top:16px;left:8px;width:40px;height:40px;border:1px solid #a9a9a9;border-radius:50%}.color-picker .selected-color-background{width:40px;height:40px;border-radius:50%;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAh0lEQVRYR+2W0QlAMQgD60zdfwOdqa8TmI/wQMr5K0I5bZLIzLOa2nt37VVVbd+dDx5obgCC3KBLwJ2ff4PnVidkf+ucIhw80HQaCLo3DMH3CRK3iFsmAWVl6hPNDwt8EvNE5q+YuEXcMgkonVM6SdyCoEvAnZ8v1Hjx817MilmxSUB5rdLJDycZgUAZUch/AAAAAElFTkSuQmCC)}.color-picker .saturation-lightness{direction:ltr;width:100%;height:130px;border:none;cursor:pointer;touch-action:manipulation;background-size:100% 100%;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOYAAACCCAYAAABSD7T3AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4AIWDwksPWR6lgAAIABJREFUeNrtnVuT47gRrAHN+P//Or/61Y5wONZ7mZ1u3XAeLMjJZGZVgdKsfc5xR3S0RIIUW+CHzCpc2McYo7XGv3ex7UiZd57rjyzzv+v+33X/R/+3r/f7vR386Y+TvKNcf/wdhTLPcv9qU2wZd74uth0t1821jkIZLPcsI/6nWa4XvutquU0Z85mnx80S/ZzgpnLnOtHNt7/ofx1TKXcSNzN/7qbMQ3ju7rNQmMYYd/4s2j9aa+P+gGaMcZrb1M/tdrvf7/d2v99P9/t93O/3cbvdxu12G9frdVwul3E+n8c///nP+2+//Xb66aefxl//+tfx5z//2YK5Al2rgvf4UsbpdGrB52bAvArXpuzjmiqAVSGz5eDmGYXzhbAZmCrnmzddpUU+8Y1dAOYeXCtDUwVwV7YCGH6uAmyMcZ9l5vkUaBPGMUZ7/J5w/792/fvv9Xq93263dr/fTxPECeME8nK5jM/Pz/HTTz/dv337dvrll1/GP/7xj/G3v/1t/OUvfwkVswongjdOp9PzH3U3D3zmWGnZVXn4jCqs7wC2BKP4/8tAzkZsoWx6XrqeHZymvp4ABCBJhTQwKfDT8gzrZCIqi5AhiACjBfEB2rP8/X63MM7f6/V6v9/v7Xa7bYC83W7jcrlsVHIq5ffv30+//fbb+OWXX8ZPP/00/v73v4+ff/75JSvbeu+bL2WMMaFbAlpBNM85QX+ct6qoSqkPAwuQlBVKqGNFSUOAA3Bmu7gC5hNOd15nSwvAOUW7C4giUCV8Sgn5L9hNFIqTsp0GxI0ysioyjAjkY/tGJVEpz+fz+OWXX+7fv38//f777+Pbt2/j119/HT///PP49ddfx8fHRwrmTjV779EXu2px2xhjwtdJZQcAWQIPLPISsMJaSwiD8gzIKrwSyATE5j5nAbR5c1dBUwBlsEWW0h6LqiYsqFPAQxCyRZ3wOSARxmlXMX5k64pQfvv27f75+dk+Pj5OHx8f4/v37+Pbt2/jt99+G9++fRsfHx/jcrmUFLO31gYDWblxRIs/TqfT7ousxJsAxXA2Gc7TA9XdgfdoHbFsj76X2+1WArgI1ageGwA3qupqoHsmcbI6Fu93quggFa9d7LeDtgKfAFHBJ+NEByIkcJ5KervdTmhhGcgJJSZ5vn//fj+fz+18Pp8+Pz/H5+fnmGD+/vvv4/v37+Pj42N8fn6O2+1Ws7JjjP6wraMI5E4RZ8x2vV5TSwkquotV7/d7Tz6HFWsD/qNcdw0CQ3q/321c686TwDVIdbuy73zNldhSHb8I2klZznm+InBS4U6n0302aBFsLhHDAKJVJVglfI9jhvu53W53sLANYNxAiDA6MCeUHx8f9+v12i6XS7tcLqcZW57P5yeY8/fz83Ocz+fnsSmYUyknWEG85WBst9stzSLyMdfr9Qi08iY15UZ0LlDGLhR3o5zK2j7OPUTD0E+nU3tk7Xb/16NFbhloAMuY1zjLUOO3BKeIDe+Z8s3/J4gFo4TM5jPmuRg28foUKKVSwo16TgA5npywcWLHgYl/Pz8/73/605/ab7/91m63W7tcLie0sZj4mao5gTyfz88E0f1+j8EcYzwTPEG2cqjyfHNF0M8fuqEiaOVnRzZZQNh5fwQyHg/HDGfJo89Q1zb/quu5XC6773I2XKfTqd/v9+d3wuqWva/YTdUdEV3fhIv/Viyps6YE3x3r43K5bJQS66zaxVGFsvd+//j4aF+/fm3fv39vt9utff36tf3+++/tdrudvn37ZuNLBaaCMgUzC+rZRiFowxUuJI8YMqcCp9Opq5vagaYU6lGJA1XQqejchw6Cj0Gw5nYBrGw01A2O206n04BGouNNyTfp/FwElhUey6nXrIKw7QQWddxuN2ldL5fL839gSPF8ahu/JvBO48CPSuqMf8Vp9/P53L58+dLu93s7n8/tfr8/39/v9/b5+TkhPJ3P56mQ436/j+/fv+/iSgbzer0+AZx/5+88bv6OMda6S5z6kd21fYC9dxv7cIJJ2d9AOS30fPMzyHiTM8B4DF6XUlYHp4KQW3W+1t77MNB1vGHxWq7Xa7vf78+y5/N5A+H1et29xuP5dbYtyaRu4AksbPq6936fjRzXRxBbPr/b+b18+fKljTHaBBBfn8/n0/1+H1++fBnn8zm0sB8fH5u4cr5GuBhMVk0EEn9RsctgVhM+ixlJtMA23R8B6yysAstBOgFXIKKCMIgToMqNEu2fYMH7ztc732dQKkCj1ytAZtY0Kx8pIr8GGJ+AT3V+2Hirhl++fBmXy2Wz73w+b17P8p+fn8/tUwGVleVkTyUb68DkfayWY4zxNRihU4EpLJPZVrK+u7J4/mgfKqeLW9X2REWlItL1diynbDDb3+jXgYjQqn0rrxWc+NkILP7F7xIbMvx7vV53x40xnlbWJF12ZSag/N0pW6t+ZzmOMzHjajKwDfond78zYTdfq18up97zr2q8v3IioBprRtBl0EZ9og5WBRGOdOHjIjXF7UotFbgOWnXzIJyzYvjG5IYgsmMOxHkz8OsMSrVNWeq5T8DaOcbEv1Od5rbs9aO7YvMet63EkF++fMExq+MRl4/L5bLZN/+ez+fnZ6KazuMqXSQVO5spJXflHAIzes/xJseckRJiDMog9d6VfRrqXMr6KpVV27jRwJacGovOAM1zMdQMnwK1AubK63kdCChvI1C7g0z9nf/D+Xze2Vj8H7Gx4P9duQlsYCrqyN8XqG3Hm/10Oj3jw/n+crlstuM+jPmmxT2dTuPz83Pzt2pn1XsEHX/bnPaVqVmh0xwOt0o6XLLAHePUU203wHfcrspCwmV3TryB5s0Mseeg97x/BwzCjBlbB+pRAPla0BVQuT6V6QHdBlj3d0KG147b+DqxQeUymDO43W4dQar+TIjwmAd0z8/h65vf0/yLv3Pb5XLpru/ydDo9s7ET0I+Pj6dKK9VUEIeKWQWPAOrJ8LKd4vE+t91Y3e7UFlWatg2VwJnb+HPmtvm/sfK59/OaWF3x/eP1UPHvA5DDYDpYXfb0drv1V2DkBkxtw/tEWVVlXWdC9pFYs5/jfh9dS/16vW7s6lTG+TfqsxSJHxkXXq/Xdr1eu4LsfD6P3vsT3N77DkL+zPm5jSdKL4zR3AxQd6rHkLkYlSowsrq7znzu6wSwdsMJOXmA5fBcjxtgMGBYHlr5zokhtsMCTgXLQOW4XC6dEyEMprL8mAQzXRgduix2yZzorxkYsDn3hB1VeMLGsXsVtgl2pW8S3svk0vw7R4hNaHvv4cACl5HFzwIH0Kc6zu4XjDPR/jpAVxWzO1Xk2DDb3vTcxeGU1iWZHkmIDWziWKvirCJ4Dravs6IJ/GG6cTqWdXDy+fArQDVVkLqkVjAoZIITdmmIqXwqa95N3+MGYoZQdRVNO53Y1xRkhO16vY7eu507Ca9lJnbGpxOemQhSw/AQsmmp5zU9BiU8G6wvX76M6/U6Pj4+do0Bz4CpgiknTUeDqwlKBmg3u4OVjrZ1A+rAcgaejWq6eJCvCYFDONSwOgHX4EQRw8lxbzDOdEK6gZ3Hk1b+8g2o1JFtKXyv/fEdTXuWjWXdAZiBp6ADeDrCFiim7B6ZFneeI7Gvm/PMkUDX67W7xI8b0D7/v8dA9qfN5oaCf74WZjH0mf1cmfY1Y0JUFmVrTWu8uzkNcLtEj7u5FXBTkfC6GOA5q8YMxO8KVvF6sAVGdcrUbsKODcQKkLMOMdmlxum642YrPm26AlhZW1YB1R+rrGswE8TaYAWeUMxdf+WjwSvZ2Ef3ytOyfn5+PpVPAaqOn43MtNBqvmjjxbjM4lZjZY4gqNMI5ktaW/sYKNwS+9lFQzGihmMCKPa7+Z0V6Eb0GRmobtpX8JljWu5FMLN5ja6hG9kwQgZqf5+1NH5UxzkFReCdWhJ8XdlGUkxO7HRlYRm4mVO43W7ter12TPJEw/rmEN3L5SKHIWZg9mz+pUoKOYq5bJTJdX2gme1UcxMZQFaEQIlHct32M+Y1BzGkGuzfiyAN9z+ugplZ1symCrDCYYkGxDTpI9RzBy0rHyeDUC1nWaeUaD9n4xkNyYMBDZtzZ3B++fJlY21XFDOcARJlabOyiS3uCpLI9jrZjCDkaVvcCCjwognKShWdzXZWlZMvVTgD8LpqlCLrqgbcB+qYwrgKYpT0ccCqbKyCValkEabn/FynogCrPKfqf51xJ7sGB2ZXcZmxoSOztjx300DZi7a0/2AIR0UlBag9SuDw6KcAzlaB7vHZvWpjK90dyrq6bKyDUZQbR0B05biLQkHIcSUmgIK+SwuqgHCnoio2RQU1yj+BnBy9pphVKLGyC7ZzFK1pxWK+E8IhVCWLN/uLtnUU4ayoYLoaANz8FdtaSvY4pV0BEW2ls61czqllBKpTyKgMAhrZ1cdc1RROtPmvWNkdcKZ7ZKxaWjiPLJMpp7OZKxA+rqG/oJLjxf0pnJlqLoDZo3gyU0mKGys2taKecj/d1C+rJSplBqlTyAqgR+D8KjKlmRL2gtUcAdCtsL+ijCNT1oqqqkH2OHEbG5sDFnUg5Aa+yLou2VU1ptj1S2ZQqv1ORZN9IWzRfgaRBxKoBE8UWyqlJFtrIc0AxNjSjed99CTY/XDfSzCz5M0IZoVEsWnPFNTsl8ooVC1TzbGgqFZNDSgVwKK+1sGDMKqxZCWGVMDysiEr1jVSQJUYwj5iHOlThdHt44SQg9CN+nl8D90NMIgAdgr46JqRiR9I8vRdFvbr17m/yxUMKjNLMiVUADwu2CWGhhi+F55TWM9M9cogzms1dnM4uOF/LAEYWdcqnM7yFmyq3IfwmOROd7Y1iFWtOjoY8To41mTV5IysgFFuRzsbWFGbNIIJCDv1dOo4lZG7jWBwRFtVTKuWyeCByJKOan8oZ3ep9XddNl0tDuaywLz9cXPYeDAA0SpkBO9sbVcTOVWldPv4uyzEkzxHtjvonHoSkFEWNoo1d8DhcQputd2ppNon4BzoAiJ1hBFQg0dVtdbGHHDQWushmNEQukLM2QO1G2Y8bgTXqFhcBJj7EjPgcPts8US8qPpPB/dXznOh5Z438tzH5ec6QgrOKrRRfKmysBmUDB+PhYabMlVPER+GCSITTzr7am2tArH3bgcEzPJm+cr5jJ4NnHNFDVrFXcI5Le9k5Jnw+bedbV+FfRzZIHaOOaOsLY0/7UGs58DjrGwKMIMFIGzOEW1/jGsdAtCN6hEAI4hBe9YXeRROBSVPAVPAqvIM5bx5hVKWAMP6zBRy3iescridVdFBinBxXDnG2GRY2XbCvp1lhvGtO9Bxu5h908XQu42lnSArMFdizMim8uwRCxPGnnOS8lwpnbOiDqTAjsrRN/PcoAScCbaACqVM40ylnjjTBs+bwWlAG23/UKbdkiwKWIQPGzWaczpoSlxPEj822cNWkpS7FyzsDrqpfgpG3jahw2vgbaSQAxuLWZYt7JzyNe8JoZpNAcvDFOdw0wqYT9AK1rZz/DdbSlLPp0ryIxgQJlK9AZlEq7IOXpohg9PIhrCng88JsOxiV4ZWAYfg4sikx/8ky2Z9l862uqwrfscIH8+ugTmVGyiddeVYUgEMn4GZzg14EwIsh9sx2cKKiWXReuOE5gzGOQgdlRKVVdlevqb279Xq0Qnsts2VDaBO0coezsruWtHApu6sKG4IBhN0aGU2kLrMKGRTN3HmbCDwKV14zvkMEDG4QfZVspVlaNU2mhc5TEZ3N1h/zqTheuLpW05ZWTGVjb3dbnNmxKZBnN8JqidaVLKAOyARNLS+MB54Z2+VaqoMLKroVBlngefnTPAcoHNWCSvlfA8CI0HEmBNBnBlXyMrzU7A7WVm94PPqQ2gmqKx+WDGsnvilmcSOBJqOK1nYyAIzuAyesq3UdSK3KfWcYKD95HmfYOU3qser2CtYEUA+FpfqdNvgPBZUBhDrGONRVlQsh8rLcaUCykHG0OOUwTlLBrsh5soEMGezi1E4HRVt1icp5wZEFXdibCkG8Y8vX75sbO4E0iom9z+hjSiOfy3DhpXItpVhE+UGQdvoWjtChmrGHf4YAzKgBNnGtuJxFCeGdhUAfQLLK8kBYAP6gvFJZajMG3Xkycy8KuC0q4Eyymwtwdxdv2M0mIBtK0LKnf640j00Auq4gUkdWGlhs22qJc6dZCsL19oxnlTJG4SYVRIGpD8TPFBuM6OElbS1pldid4mGAyN6ZIupbC5bXJN9fdpbThSxLUaI8IG1XIYBxW3Tjs6KQosKcxfxcQmdnwRGM10GnFcCy2XYunLMyAkdgk4mePiczsLygthcBut6goOqS7YVFXADLjaosB6s6ofcZWAZSIRYqSUkizYwttYab3vUOQ9w2HRxIIg8WwRVeE68xi4UtL3zRphxplzwuZrcqYCq1I3jPI5dnJIygEohMbPqVJSzrwzxBJTs5zN+ReUSgxikPQVF3JVBeNQxbHENrEMNvEdFZVV9lH9+ORGEsNZQpyTNc4C3AG7XF4ngzq+DrO2zbuaaOXgdaFcdkEotoSFBVX2qJ0C8OWZeG4KGlpghA0XfTOPCqV2qqwQ26QWfF2PMLhI2w1lVAa2aPsYd0za25MQRwgcZN6uQDCi+ZxiD4XEM2kZxOT41FnZnaRlcpZouzlRqqdbQVWopQoSB58RV50lBNrHi/AwXS5LrwDVlpY3Fc3ByiYGc52Trist6kOXdwInAQtJpp5QchyaquYOV7Su+fxVMaV3dc0RE2S6mUY0gLt2pMcYqrKIQ9w2l1gpQUMtQYcmmbt5DTNxdhnUCjQqtbK9SUSzvrC0mmhhE1e2FS2+oxypy/ZASutkmtjx3vcBC24PX65nbqkBCRhfjS9kIYPnee8cMagVOhI/3T1fAmdtAWZsCswTJCkQVNa0qWKSKPOpHAUhD9DrbVcyoYkwqhvh17vYAayXLQyKGYdxlUDFp494rBXRjYgO17DDYetNIUj/ezp6S0lnlpEwsWmJMkOwsKXeZKEAjIHn0EQJISaRBcO6UMINz7p/bEjjnw4ft+xmDvksxX4G2rIris7qaeKwAFMP2Oi7n4criuZwtpSUwpfLxSnORSrIqusc5ZFaXysqRWjiZ2DyAWEIL35tVSoQElFACjOeGGSE7AHEQgdo/LSvCOgGBvkxsmDbvlS3Fp5vhaB2TAGqRKrKKMrhLVpaGzEVjZ0OQxDhaCTA+QyRR1d15aQzrJntL3RibsipjG6jlgL4yqbS0sNYg1e84vhbBVrElK64CUcWYXDfKxhpIuxiVJZUxsbMy/uRBKTNRQ4kQ3LdRYLS0rJjRPlTPqY6gdJsEDc+aQXAn+HgsNUCbRuF0Oj0zwnA7bWDkbhO5Ens00qeQhS1laBMl5M/cAaxsLF8rKyql+Tf7ELLEGu/ixiimdCvo0TjfpjKwaggen4eh5v7LokLKbLuyvHhcZG8dhGrEDx7Hg93ZppJF7qBqO3iVveXEDQNInzeoe8Yq6ePaZBZ2JviM3W2UAGotekRCAGq4EkF1X3DOnR11yRsBL1tRa0PVcZiNFXZ2c34FskvomInQQ6lzpJoZbJxk43NwKJFBquJSsrByHydxKOnTxQASBmS3j+JMnsHSla3Ec6K9VWoJVn9zfjwOM7hqYAAqJQwE2a3nA48J2QGegRkpZNivSY+ys3EkKd4oJIwsvIHl3cWgLt5k4NH6OmtLWdpurOkwEMupYc7eMtDRhOcI2ui5JhVIzXzLyto/GAPuZoyo8wkoduVgJglCt7OhGbgID4Mq4si+63zUS1FuFFXFlqyaj2emHlLMcBqYu0FMuR28BbB7lOxRMSiCQXFhCKuwkhZ+pYDiGSgbsKKV8MiSRsuHSIWM9rklRiIlZZuqXjsQK8ooYJMgq3JKWVkhHbhsVxFUzthOWPkYijcbx54IKsSdT+uLr3crGKyoYgFiGR9iBk4kfloUX+JIlQRQqabmpgnhqtpQpb6RVQ1WH5DnrS4hEoGZqaerQ2dhFbz8XePxShmDbo70eISjoorO2vK8SJXI4SUmEU4zWKDzUDtWTYw7xXlbSTEj4FRg7zKnKoGRALv0Gs9Tgc1BpCywGZRQAtqVz2xrBcAMzEpfZwFSa2G5W0QBFjSMapWAEFa3HcGN7CxDzECyIkJ97qwrqWNTWVo876PPsjPkj2wvgroM5lLZKMETKVql/CvnWVFiFa/SzJUQwkoZsr67Y6vlSRV3/2tmNTOY3vnaxYwMuoPKqdzR1w7IqHymlPxaAThfU7Ko2ZXYj4AYJHL+kNdKwRQYESTRa5fsUZ/rVC1TMTyWVyYoqNtuzaHsMyv2tvoarxdfqwYgU1axFo/cnql1FGsqK+uAROV8BX4GU8WcZTATi2q7Qcyi0O0V+GhWBMNRUkn8H1SsWVE5By3Gi0ECqUeJoBfAtDa4amkdXG37AGP5Ggeb84p7UazpoKRzdFzeQ8HkoHGxprKy/Hpm5t12p47J6xTYDEz7uINEXSuxYXvFskYAc+ySxH9sf5ftKzU6IbwVBcUGg5e5FMCEXSErZR0wGayV19woM9guPjTqJdVTqR4uE4nJnLldWVkECCZLd2VLF+xtamex7IpiriSDUpvrpn9lrwGMCHyppMH+ps6LILsuFGUj1XEOXiqbqSHPUKnClpWV68kqtURVNDY4TNaocykoYeTU5ngGEQa/S1DnnE4AeXMcKjHPAmFVjCBENaeyLVNHfr3px8xUstJ94hIpfH4HKE/eDaArK6lSyVVFbdt1gxTIVk3pppVlFXi4pEhVBTObquohU85MLXn1iahvUkHJjSCMc01tLFveVVBx0DodM6jftCu7DOtIzYxrc0qp1JGP2ayYFz2Gb6HvMrO8cnGtV6Gjm3uImSfD2GpWK6uowbZGMxFKQCo1pOMtcMXFpRst+hXGoAomF3sSTBGgTglbBKWwsQ3tZqaYSp0Z1CimRDWFcCJUPYJ00BI5FkKYNoifuQxmN88SWVXWLMaUqqqgC0BmQJR6sk3u9NCf6jYLXxAfqsYEgVLAhRY2AtgtflZNFmFyhxdrLkAdWlk4D88M2ixHyepIdhMHrG/iR1ZGtq0MGpbDbRPYOXeSY1M6Ny4ZstvGSktK+XbFPATj2D371saPEsAMXhXrsZ0km/XStkhhMyBfsa6uXFZe2VCe+YMr1+GKgwrQyNYq1VRrB+EizAow6NsdNKcyVEkYeM73ys6q4kAHp6BiFklTkIrVC5oYV7uzwOGCz4UJ0Stq2lWMJy4wtb+RetL6tZFicnJmBw5UjCvXXMZVJX2MQkbf+XN5EWd78Vz8/JEsMZTBiKNzsm1inLRUQ74H4NidaqI68j5sAFgxcRveC7ieLJXfQYxjZZ2CsiWFewZXJmBIlZ1tdtrX4hSuateKso/RZOtOKW2nmq1oTzeK6dRWAWu2NRVb4hq0SXm1GvtugHrbr5IXqmSktg5CuDE2MSlPwsY5kNE2Wp3AqiZbWVLAxiBF+2iBZbuNj6MB6rsMLC7FyasaYDyo7KkoPyEtw3pEMXfPvxAJi2jAQQgjrz0rLIZSWZlIoNhwd5xK4AR9mYNjWAaLrnuImJeBVN9zBORObVvbr+mTTfFSEJLSRnHo7hEJoIi8MFqjxmvgmF5URZz4zLFgZZ8Ctu2X7ggVccKm9gVxIsOHqxXgNMKnFWZYnf1dBnOhayXq17QwFlWW09eNKyVJFmXqaONGA5aCegMbJ3UUkGY1ic3nKWgjq8qfVYGQG1gRt6rs62a6HiqqUOqdesK5NmX4nGofJoiE1d0dF9lVVkvT1/kEEaaCoYOwFpcVcoLM+7669PxC9rWqktH0sWUYld0VCpuBZ/stVRcGgy9WX2+U1Qthi9SzAqSxzZsy+OiFzBYnySGV6Gku44rD8BCOZBV3BvD5+AKRHNwMEsB6EzHnJpkTAeiUlEGkcECeB6GDZTp5YEJTlvdrknxYjTllMkfNtXwDjM7uVjK5JXUUn43rrqpK2jytaxHW0M5G8DC8rtHMYs7KSgduVQMGTYFqFvVS6rkD3sDJ46afdYFwoq11AOKCBLhvwoUgc8IGANycR6knZrdJPdsuxnyjfd3FovTlRMdEdtOl5CMV5EHsXQBis7TOwvIDZaGj2Vnpbh7cpK63VwYEMLwqbjzyl699sawFFkF1yqjUU31HfC6sW1ZFVFuXVXVgz9keEaw0ys1lWfm+azQAQSWA+hKYVfsZjPncAcUB9oIayy/UZXRNckDGji77GsWbvBo6tPrWPqOyVkBUq+INeqpzNdYs/u0ifh5qmpqIW+33JVSUcwY70KL4U9lYdU6ljtSls7lmfi9g3YzeQfVkaGFaV3ODCnaD2N8wsEDFklE3RzM3ZghdYkWHsszq70FIecnKkVkt8ezMzRq9bkGuKojRLBVSod3Y1yPqKgYW7JRQTPVyy5xIYLjOgxgT52RKJUY1dOrIiRd4futQx/A5AcSmEjz0vFWrkLzvbWAu9HOWbGgxFk1VNTpnBKk6TgwisI/HcxYXP1uAWO72ULFlBTq+aSu2VTUs6hrxM2CF+hEor1VIA9ZmFUaab1lSSgZsVs4sxzHlVLoJHr9H4DhONTkI1XC0/wiY2NoWAG5RlnHFnq6oLccpQddMuJ/O17JVA5OHLi0BqCztq7Y1++ucCd98qLI8MIHBV/cKjxQTme3hFBS3MyCqnDsuym2o80HjvFFTtrURmNaGJsmVahImjTsUXKtQZTAVs7Mvv8/+fzUrZAXcLJ6M4koe6XP0b6SmWWNDzyUpQ8bl+LtWx4tuqZ36cRYV3yuVxPNwvIiqiQCSmu7srgTzR6nkyhpCarXwFy1vGd5iP2cY06lFr5Njhhg1Y6+NB28ftbK83s8rf7kLJbKwDFPbLg25a0AdZJEiqr5phixKMDlRUtcssq1hriLqGoH+zeNgVm9OemjsETV8JdF0NHnkIFxWY1OB4Yrp7rtWJ7NgAAAPXklEQVQ3oNs5nplyVf8u2FoLu1JrHveaZWQjqAkshtFa2gzsSG3Zpkbvg3HafF9slPPlldjFlK80Gysm8Mr4MPhneNWENPGjAIpmilTPATdTRTXlCBYHYAQuPwA36xIpWtGN4q3Y2MhiGsUpuSSnlEJRD8PorC7CFYVw+F51qThgabxsTxWzCGY0ZSsb3lfqAy0OPNjNy8xiQQKsHYFQ2HBZVvVbBuq3m1oWKajqaonsM6uZUr6CjXWNZ0l5E3h3jURma6kP3MJIiy1Lm+kahQq41N2iZja5sjtlLYNZHZrH6qUGm4vMbDp6Rw2CFmvuyFkrBcCyMtFqBaECmsHoK9BZ2LA/lJcRqSaDqnaWbrZdGaz3DLgIvBln4woGztbyJGqslwxkhhHrTjTYFXCtOoKS8uLdofVdAbOylGU6nlYpXWZts4nXBq6WxJitMNokHUJnbnJplQm+aGpY2a5GMV2QD1hRubBPFKdumf5OHkLHz0F9luE5kjBjRa0nFE5CUGqHw32MmjZ6xkgINVnSnZ1VZStK2qKlRaLlQgK7uTq7JFXJwM+3SOEKyhZNI+tJ0I5qMYy9k2qJD7dVWdqKXa0CKNR0Ccjg+B2IYu2fcBZJZkMFgM11r0X92wilghFGgzVnexlqB7xL9mS29SiYUVY2nXOZjNBRsyDsQPRWW5hrZ4XcdC4HVWRbjgJr4sFofK5SzjQ7rhI1UebdPdEbj6sqIvTZQZ5va08rABsAW0UxeWytAk7A2KJ9ZpxzCioB24XFtYAeXYxr6anSqhLgppEqWbGwLunTgrV+IjWlL29ljaAl4EQMGsErp4apeZiquwRXLXAqOCeru32mmydc6oWTSWpFAGdzeTB8RTHVMEtlM90CbbQCYhPjq3egYr1FGdYIQjiuDGZ5zZ/AzobKGOyLxti6c4Rwtv2anyWlLICnlLhxJRXt6A5ebDBWFNONbxWZ2d02mnu4S9YECpeppV1zSWRBWxHYzVIv1CXSouwqqX3jBBBDZdYQbpTQW4ZQlS8r5kH4suSRmg2++3JN10x1PaAmEkmtYlEdeGpJEM6kOuCqCR22oSujj5IV2HdT0zj5prLKTjXFAPjdQlyq7xIBxAQP5yMczG4VxAKw0n6ilZ2QBce2pLulkuxxqnoIzFfgqyqjil9S1VNwBrFmeyeops8yOjZUybZdfS8CuaTIJumzs5tODaNtLpFDQ/PcJGweLhmeL1nB0KqiUDScsiUVD89Di3HtrKtSULw3RLiygZD+7sF8JTObgYsrGvDNUFRGl1iy0Ll1YkUc2aJYMog920I8qW6YDCg1Mqk0JHJFKXkbgbRreI+qpYNOZHrVcDUba7pjsphSJNtK6upgRNAVoOS0mugBeN4bIZgHhuPZ/s1ENaX6KsVr+YNrh1Nb7ipR0PE5zbNRegCbrHRUw6Yf07dLBJl1f8KB9as2V1nNqAsl62LBBhehwalerkHmB1JFIEZKSEusdl5JQj1nJlHXSCF342gJ9CYGrXelknJIXqVP8sD+qtplCR3XH2qfKq0ygMp+KnVkKxNlZ8m2YkIlVMiCnXUwl7qznBKSvQz3m3Pt6oQbXO5b5FixCh/fHxUQW/AEcK6zCNqKQnL9sywqmKuwvqSYzT/aPVNNpVyhvRW21aqciCsjdWvBwILUvh5VyCzbWoC1pJjJ680CWsl+udKB6T5RwG1mlohnlpbg47iz5U9ha0FGtmRLFYBtO99y97Ap0z+ZDTAog6kSLZsMHg/IFkkgp6CpvU2U0cYVSdnmkjwBdOmXbxTWNWzuIbipMioVxEckZEoahSOiy2M3K0jcC1LhVDwaqG0ZvkcWqCnrG4GIxykrqlbWdw6LQyBaZR8HmLRIhQWsHswD42ZXVLNkf9l+FlW0HVQ2lwFsC/Z1FdzlQR0KaPfo+Fdfu+/dwVRICu1CGR7AEIiAhc+AZUF0kOBaPxmUqg4i64vQnU4nFDYJ9Nz+1fVXveH9qmr+kPILx8oKcRV/BFbxbE0JMT0kSD4w6L/lNY8ocsqagVdU3A3MjxhxcGuqzsPH4irpaow1q6OyrVjvp9Npc59E91LldboYVzJWdimWfAW2SNEKcDaX2FmBLLA/uKxlmhh613Is1URQApbKfttwxL02q6Onx5pQxSbPojAg+v5hAnN6LHVRDXIsvKtRjiS0qJUyZTAXVbAK82ElFJWaQdVoqUC1Unt7BVaTQudM6SuqexjQJN4+0icaxv/utbKv83ETbT8H8gjcOKxOJmbUa6OOVXht3dFY6rHv9XoNzFLceEA1o8+pKm0LAHPHZ2rYKjFq0hfZFixsqHJgD3eD5n+U0kb1mFjXkn2lvMSSOsNE/CdIAKF0Sytq6urOHUN5gwg4GZosgbmggM5ucra2qrS2Ig1cbiBBcxYzgzUDNLCvL8GbZXNp6ORy3LmS+Kk83zRIAK6A1ioKa2I9NapIuiUFdfC9766PFZUtqUr6KbWk+zZU1a/ZrIXEztrjTOfz7hwKziCeXIaraHtbZIMz+2pGgazCmw4qWAFvEdhodYp0Xq0pV7G1YWYWbO4qhGq42+Z8BYtrLWvluNPpZAeaFFS1vubPgbgxsqcpnAaszBovKaFoDQ8BGtjfUOl4NAG2nmQV04feJgumvX2fsrQEWZghL0JnVdYkn3DOZIeRN86RqPWCmsvGVqEMRnwxQAxwS8EMYo3IzmY2+BCcLp4MKiuyuhImamlbZFcNoNl7tp+RHd18ZjQIRKyXdFRhN98/hyKqwXWNo7O1wiaXoHN108REZZWEq6grnIfjzeg8jdRf1XEL4kkXa5bBjKxoKaljBjeHlVxQ4GaycpW4lDOAKtnTxHAtOfzOtZwHAM7sqVXkV6yu6kap1nHkXKqWF/4XHqjenNKqBjpR3l1ch3Ejg1+EsgdQhsdG0B4FM9sWAVWpuAyiwTPleZxt9VyZVS2qXfReWqTAilpr9ApoWTjxymit7NwV4JTriZyOA9B0k7HFfULourmKYHVnRQvqGL5HMHdqFcR2qWpmcK6eTwx2dipWrviDilr+fKWq3OWRWdHKwA4eu8wjchbeRzFilqjjZN3ufCpfkJ0/scVpnYk6L0PI77lxdWCZ87WiWm7B/AGquQSnujGKsB8CJmiJq8q1pKIVWyqOiTK66r18BN8r74/AE71fdC3yPS2MxdOpnE1tlVxD9JmVOoggN+r4PjAXVFPa3Eg5jVJGFVUGNolH20GVrUB7BOySWq6WqYQdWR92pcFMYMwckbSgCKCqD67DiiWu1g8MQC9ByfcFqW1L+jL714qNCuznoSxt0da2gtWN1G8F0BK0NN0nuimelUF9dIdAfjO44UT3CjQLoUeLHJFTO3gmpRuIIOvwBQCbqNeo3qtZ9iF6xVK13GRlo4zqimq+CGdTiR1uRY8oqgE02hZBa79kZXPMquxRHKla2saZWN4mRqZUj0vLCKhkjKnqOQHNuSZVJoKvAqS1wpEquvWDC1B2ypwrCPsRMEPVTODMLJMDv6qeKXwi2JYV5Sq4qKyvgGsHCLiuj2jR59V8gMqSJ2FJZRXEHVRHj3sFPrct6OpqlW1GpatQdt0GvwfM6n63InsGVFhJGaBqgqqIV6IsXllZgySPq4R3bnt3wi5cv+cN2yqQLW1T95KYVsWWtKk4cB9W53WQQflQYR6Wl4HaJZjvVE0D5yvq+RKgZCs5qdBEP5sD94cAvQLlSgNaSMAtHx88BuNQ41zdFsX30zKbcs0MLD/ihkpQzl0wiTqKLTfbKmCmyYICnK0IbaieC4CG9iSyLQ7cIMGQwau6TKoq60Apl3WN40LZpca1CKKK9VQyyIEn8w0F8F6CL2h8o3ixGwC7s7EWzCOqmcApYxYD4jsAzVS0sl2t98pA7vrKophCVSonbYpgH6mvSn24pTBV4sdtV3BtMq5k82y+IADvUJ0uAlkCVTxIaPm+UNu/qkV4F1TzHXCGrXIAqItBKypqK99VtAOVs64O4ObX7pHLVCpYHcRmwvLR7TvYAKBBN58LGVzDuFz+hQbWgncQyCZAk+VbsPSouf93261iZgmfCpwRbAvqmSqriU2PwhjaoOyYqtIegVXViTsmyta6bGySpY3gyRrpIyAeaWDDxtpsXwKyalMDKNP7YBXMqEskUsi2uC8FNAPxAKTVfT1o6VzM0E0jF+1rWcUuHvdyg7vgoFplX8HpvHpMCOMRUPHzZkInsqlFKNX/EIO52E0SxSzOwob2VmRLW5D1XIU0rbgM1AzWgyC7fe8G7xUAK/taEBat7luqtyP7EmsaJQOj5F+mrnZfCuYCfBUAWwShyd6pMY/vAHG1UqOYpbI/gy5T0CMKm+UO3gFuC85dgfDVeguPDfITrIBLsLrcgdh3CFgFZjaKJ4Iv3F8ANEqvuxR1tVKOgLoCa1jxboBAkj6v7j/icFbA7f4rfRnQDLRViG13i0vqBQrYVqBbADZT0ZpiHoSzvQpopKIFS3sE1HfBWlHXd0H7LnArqvougMtljHBgZnh3Eoz/BKjLML4Z2Aq0+hEJr9jaVUBbvNzCIUiroC7AWmmFw4o5AK3MtB5VypZMSFgs05JyGVwlwBqsEGAAa2ZU1CjUexXGsE4rKriilBvFzOKKo3AuAroE6QFQU3u8YpNXwS5k+1TZt5UrwouN4KiUEw+k3ZWDp1RXHNRqXb21Ts39945yZSg3VnZFNQ9CF3XeZyr5DgBXKiwCMa2MxeTDYXgP1Fsf9QNKZc0k81RJk3r6EQ3rCmBVyLL75EjZ1pIVDHoFtiOAHoB0BdTVylqBsKKKS+AeBXJVLY+CXASuGvO/Auq7GuEjDfGKg1oKa1z/dmmi9I9SUGNhl0AtfulHAawoYrnSkmNXAVuGEhrEVXvUF+A5Ct2PqNOjDetyna4CmeUolmeXLN4Aq7C5Sj10Q7yjgl+t6CNxSRHmI5X+CpwreYB3Qfdqna4q21KdBuc4GoZsn49ZOOiVinwHqK9WzjvgeweEh2AU5+vtxZ9Cd9Wqkh49V18E5oj6vVyn0RStAyGIO5edXRKd5B0VGVXq2yr3xYp+5Ut+C4QJ4P1N339pQMjRejj4vb/Dcr6rQc3O/0rjmtZpeYCBiCHfCemRbNhbK/pNUPc3wfKy5f2D7OlL3/uPhve/oU4T0F8f+VNM2vyoiv0jK+KHQfdHq+0bncz4oz73/+Y6LbKw1o/5B7eOf1Rl/0du9B9tn/9bvrf/j+v0h6ttn2tp/r/4819y4/zv5391uvzzfwDifz6phT1MPgAAAABJRU5ErkJggg==)}.color-picker .cp-add-color-button-class{position:absolute;display:inline;padding:0;margin:3px -3px;border:0;cursor:pointer;background:transparent}.color-picker .cp-add-color-button-class:hover{text-decoration:underline}.color-picker .cp-add-color-button-class:disabled{cursor:not-allowed;color:#999}.color-picker .cp-add-color-button-class:disabled:hover{text-decoration:none}.color-picker .cp-remove-color-button-class{position:absolute;top:-5px;right:-5px;display:block;width:10px;height:10px;border-radius:50%;cursor:pointer;text-align:center;background:#fff;box-shadow:1px 1px 5px #333}.color-picker .cp-remove-color-button-class:before{content:"x";position:relative;bottom:3.5px;display:inline-block;font-size:10px}.color-picker .eyedropper-icon{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);fill:#fff;mix-blend-mode:exclusion}
`],encapsulation:2})}return r})(),GPe=!1,vle=(()=>{class r{injector;cfr;appRef;vcRef;elRef;_service;dialog;dialogCreated=!1;ignoreChanges=!1;cmpRef;viewAttachedToAppRef=!1;colorPicker;cpWidth="230px";cpHeight="auto";cpToggle=!1;cpDisabled=!1;cpIgnoredElements=[];cpFallbackColor="";cpColorMode="color";cpCmykEnabled=!1;cpOutputFormat="auto";cpAlphaChannel="enabled";cpDisableInput=!1;cpDialogDisplay="popup";cpSaveClickOutside=!0;cpCloseClickOutside=!0;cpUseRootViewContainer=!1;cpPosition="auto";cpPositionOffset="0%";cpPositionRelativeToArrow=!1;cpOKButton=!1;cpOKButtonText="OK";cpOKButtonClass="cp-ok-button-class";cpCancelButton=!1;cpCancelButtonText="Cancel";cpCancelButtonClass="cp-cancel-button-class";cpEyeDropper=!1;cpPresetLabel="Preset colors";cpPresetColors;cpPresetColorsClass="cp-preset-colors-class";cpMaxPresetColorsLength=6;cpPresetEmptyMessage="No colors added";cpPresetEmptyMessageClass="preset-empty-message";cpAddColorButton=!1;cpAddColorButtonText="Add color";cpAddColorButtonClass="cp-add-color-button-class";cpRemoveColorButtonClass="cp-remove-color-button-class";cpArrowPosition=0;cpExtraTemplate;cpInputChange=new ct(!0);cpToggleChange=new ct(!0);cpSliderChange=new ct(!0);cpSliderDragEnd=new ct(!0);cpSliderDragStart=new ct(!0);colorPickerOpen=new ct(!0);colorPickerClose=new ct(!0);colorPickerCancel=new ct(!0);colorPickerSelect=new ct(!0);colorPickerChange=new ct(!1);cpCmykColorChange=new ct(!0);cpPresetColorsChange=new ct(!0);handleClick(){this.inputFocus()}handleFocus(){this.inputFocus()}handleInput(e){this.inputChange(e)}constructor(e,n,i,o,s,a){this.injector=e,this.cfr=n,this.appRef=i,this.vcRef=o,this.elRef=s,this._service=a}ngOnDestroy(){this.cmpRef!=null&&(this.viewAttachedToAppRef&&this.appRef.detachView(this.cmpRef.hostView),this.cmpRef.destroy(),this.cmpRef=null,this.dialog=null)}ngOnChanges(e){e.cpToggle&&!this.cpDisabled&&(e.cpToggle.currentValue?this.openDialog():e.cpToggle.currentValue||this.closeDialog()),e.colorPicker&&(this.dialog&&!this.ignoreChanges&&(this.cpDialogDisplay==="inline"&&this.dialog.setInitialColor(e.colorPicker.currentValue),this.dialog.setColorFromString(e.colorPicker.currentValue,!1),this.cpUseRootViewContainer&&this.cpDialogDisplay!=="inline"&&this.cmpRef.changeDetectorRef.detectChanges()),this.ignoreChanges=!1),(e.cpPresetLabel||e.cpPresetColors)&&this.dialog&&this.dialog.setPresetConfig(this.cpPresetLabel,this.cpPresetColors)}openDialog(){if(this.dialogCreated)this.dialog&&(this.cmpRef.instance.cpAlphaChannel=this.cpAlphaChannel,this.dialog.openDialog(this.colorPicker));else{let e=this.vcRef;if(this.dialogCreated=!0,this.viewAttachedToAppRef=!1,this.cpUseRootViewContainer&&this.cpDialogDisplay!=="inline"){let i=this.appRef.componentTypes[0],o=this.injector.get(i,lr.NULL);o!==lr.NULL?(e=o.vcRef||o.viewContainerRef||this.vcRef,GPe&&e===this.vcRef&&console.warn("You are using cpUseRootViewContainer, but the root component is not exposing viewContainerRef!Please expose it by adding 'public vcRef: ViewContainerRef' to the constructor.")):this.viewAttachedToAppRef=!0}let n=this.cfr.resolveComponentFactory($Pe);if(this.viewAttachedToAppRef)this.cmpRef=n.create(this.injector),this.appRef.attachView(this.cmpRef.hostView),document.body.appendChild(this.cmpRef.hostView.rootNodes[0]);else{let i=lr.create({providers:[],parent:e.injector});this.cmpRef=e.createComponent(n,0,i,[])}this.cmpRef.instance.setupDialog(this,this.elRef,this.colorPicker,this.cpWidth,this.cpHeight,this.cpDialogDisplay,this.cpFallbackColor,this.cpColorMode,this.cpCmykEnabled,this.cpAlphaChannel,this.cpOutputFormat,this.cpDisableInput,this.cpIgnoredElements,this.cpSaveClickOutside,this.cpCloseClickOutside,this.cpUseRootViewContainer,this.cpPosition,this.cpPositionOffset,this.cpPositionRelativeToArrow,this.cpPresetLabel,this.cpPresetColors,this.cpPresetColorsClass,this.cpMaxPresetColorsLength,this.cpPresetEmptyMessage,this.cpPresetEmptyMessageClass,this.cpOKButton,this.cpOKButtonClass,this.cpOKButtonText,this.cpCancelButton,this.cpCancelButtonClass,this.cpCancelButtonText,this.cpAddColorButton,this.cpAddColorButtonClass,this.cpAddColorButtonText,this.cpRemoveColorButtonClass,this.cpEyeDropper,this.elRef,this.cpExtraTemplate),this.dialog=this.cmpRef.instance,this.vcRef!==e&&this.cmpRef.changeDetectorRef.detectChanges()}}closeDialog(){this.dialog&&this.cpDialogDisplay==="popup"&&this.dialog.closeDialog()}cmykChanged(e){this.cpCmykColorChange.emit(e)}stateChanged(e){this.cpToggleChange.emit(e),e?this.colorPickerOpen.emit(this.colorPicker):this.colorPickerClose.emit(this.colorPicker)}colorChanged(e,n=!0){this.ignoreChanges=n,this.colorPickerChange.emit(e)}colorSelected(e){this.colorPickerSelect.emit(e)}colorCanceled(){this.colorPickerCancel.emit()}inputFocus(){let e=this.elRef.nativeElement,n=this.cpIgnoredElements.filter(i=>i===e);!this.cpDisabled&&!n.length&&(typeof document<"u"&&e===document.activeElement?this.openDialog():!this.dialog||!this.dialog.show?this.openDialog():this.closeDialog())}inputChange(e){this.dialog?this.dialog.setColorFromString(e.target.value,!0):(this.colorPicker=e.target.value,this.colorPickerChange.emit(this.colorPicker))}inputChanged(e){this.cpInputChange.emit(e)}sliderChanged(e){this.cpSliderChange.emit(e)}sliderDragEnd(e){this.cpSliderDragEnd.emit(e)}sliderDragStart(e){this.cpSliderDragStart.emit(e)}presetColorsChanged(e){this.cpPresetColorsChange.emit(e)}static \u0275fac=function(n){return new(n||r)(ze(lr),ze(mf),ze(Uo),ze(Zn),ze(ut),ze(gle))};static \u0275dir=ft({type:r,selectors:[["","colorPicker",""]],hostBindings:function(n,i){n&1&&Me("click",function(){return i.handleClick()})("focus",function(){return i.handleFocus()})("input",function(s){return i.handleInput(s)})},inputs:{colorPicker:"colorPicker",cpWidth:"cpWidth",cpHeight:"cpHeight",cpToggle:"cpToggle",cpDisabled:"cpDisabled",cpIgnoredElements:"cpIgnoredElements",cpFallbackColor:"cpFallbackColor",cpColorMode:"cpColorMode",cpCmykEnabled:"cpCmykEnabled",cpOutputFormat:"cpOutputFormat",cpAlphaChannel:"cpAlphaChannel",cpDisableInput:"cpDisableInput",cpDialogDisplay:"cpDialogDisplay",cpSaveClickOutside:"cpSaveClickOutside",cpCloseClickOutside:"cpCloseClickOutside",cpUseRootViewContainer:"cpUseRootViewContainer",cpPosition:"cpPosition",cpPositionOffset:"cpPositionOffset",cpPositionRelativeToArrow:"cpPositionRelativeToArrow",cpOKButton:"cpOKButton",cpOKButtonText:"cpOKButtonText",cpOKButtonClass:"cpOKButtonClass",cpCancelButton:"cpCancelButton",cpCancelButtonText:"cpCancelButtonText",cpCancelButtonClass:"cpCancelButtonClass",cpEyeDropper:"cpEyeDropper",cpPresetLabel:"cpPresetLabel",cpPresetColors:"cpPresetColors",cpPresetColorsClass:"cpPresetColorsClass",cpMaxPresetColorsLength:"cpMaxPresetColorsLength",cpPresetEmptyMessage:"cpPresetEmptyMessage",cpPresetEmptyMessageClass:"cpPresetEmptyMessageClass",cpAddColorButton:"cpAddColorButton",cpAddColorButtonText:"cpAddColorButtonText",cpAddColorButtonClass:"cpAddColorButtonClass",cpRemoveColorButtonClass:"cpRemoveColorButtonClass",cpArrowPosition:"cpArrowPosition",cpExtraTemplate:"cpExtraTemplate"},outputs:{cpInputChange:"cpInputChange",cpToggleChange:"cpToggleChange",cpSliderChange:"cpSliderChange",cpSliderDragEnd:"cpSliderDragEnd",cpSliderDragStart:"cpSliderDragStart",colorPickerOpen:"colorPickerOpen",colorPickerClose:"colorPickerClose",colorPickerCancel:"colorPickerCancel",colorPickerSelect:"colorPickerSelect",colorPickerChange:"colorPickerChange",cpCmykColorChange:"cpCmykColorChange",cpPresetColorsChange:"cpPresetColorsChange"},exportAs:["ngxColorPicker"],standalone:!1,features:[cr]})}return r})(),VE=(()=>{class r{static \u0275fac=function(n){return new(n||r)};static \u0275mod=Nt({type:r});static \u0275inj=kt({imports:[eo]})}return r})();var Dle=(()=>{class r{_renderer;_elementRef;onChange=e=>{};onTouched=()=>{};constructor(e,n){this._renderer=e,this._elementRef=n}setProperty(e,n){this._renderer.setProperty(this._elementRef.nativeElement,e,n)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static \u0275fac=function(n){return new(n||r)(ze(gi),ze(ut))};static \u0275dir=ft({type:r})}return r})(),Ele=(()=>{class r extends Dle{static \u0275fac=(()=>{let e;return function(i){return(e||(e=Kn(r)))(i||r)}})();static \u0275dir=ft({type:r,features:[er]})}return r})(),vn=new He("");var KPe={provide:vn,useExisting:Hr(()=>ui),multi:!0};function XPe(){let r=yd()?yd().getUserAgent():"";return/android (\d+)/.test(r.toLowerCase())}var ZPe=new He(""),ui=(()=>{class r extends Dle{_compositionMode;_composing=!1;constructor(e,n,i){super(e,n),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!XPe())}writeValue(e){let n=e??"";this.setProperty("value",n)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static \u0275fac=function(n){return new(n||r)(ze(gi),ze(ut),ze(ZPe,8))};static \u0275dir=ft({type:r,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,i){n&1&&Me("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[Lt([KPe]),er]})}return r})();function ah(r){return r==null||(typeof r=="string"||Array.isArray(r))&&r.length===0}function Mle(r){return r!=null&&typeof r.length=="number"}var yu=new He(""),tp=new He(""),QPe=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,pl=class{static min(t){return Ale(t)}static max(t){return JPe(t)}static required(t){return eLe(t)}static requiredTrue(t){return tLe(t)}static email(t){return rLe(t)}static minLength(t){return nLe(t)}static maxLength(t){return iLe(t)}static pattern(t){return oLe(t)}static nullValidator(t){return jE(t)}static compose(t){return Fle(t)}static composeAsync(t){return Rle(t)}};function Ale(r){return t=>{if(ah(t.value)||ah(r))return null;let e=parseFloat(t.value);return!isNaN(e)&&e<r?{min:{min:r,actual:t.value}}:null}}function JPe(r){return t=>{if(ah(t.value)||ah(r))return null;let e=parseFloat(t.value);return!isNaN(e)&&e>r?{max:{max:r,actual:t.value}}:null}}function eLe(r){return ah(r.value)?{required:!0}:null}function tLe(r){return r.value===!0?null:{required:!0}}function rLe(r){return ah(r.value)||QPe.test(r.value)?null:{email:!0}}function nLe(r){return t=>ah(t.value)||!Mle(t.value)?null:t.value.length<r?{minlength:{requiredLength:r,actualLength:t.value.length}}:null}function iLe(r){return t=>Mle(t.value)&&t.value.length>r?{maxlength:{requiredLength:r,actualLength:t.value.length}}:null}function oLe(r){if(!r)return jE;let t,e;return typeof r=="string"?(e="",r.charAt(0)!=="^"&&(e+="^"),e+=r,r.charAt(r.length-1)!=="$"&&(e+="$"),t=new RegExp(e)):(e=r.toString(),t=r),n=>{if(ah(n.value))return null;let i=n.value;return t.test(i)?null:{pattern:{requiredPattern:e,actualValue:i}}}}function jE(r){return null}function Tle(r){return r!=null}function Ile(r){return xf(r)?On(r):r}function kle(r){let t={};return r.forEach(e=>{t=e!=null?Ue(Ue({},t),e):t}),Object.keys(t).length===0?null:t}function Nle(r,t){return t.map(e=>e(r))}function sLe(r){return!r.validate}function Ole(r){return r.map(t=>sLe(t)?t:e=>t.validate(e))}function Fle(r){if(!r)return null;let t=r.filter(Tle);return t.length==0?null:function(e){return kle(Nle(e,t))}}function A4(r){return r!=null?Fle(Ole(r)):null}function Rle(r){if(!r)return null;let t=r.filter(Tle);return t.length==0?null:function(e){let n=Nle(e,t).map(Ile);return $c(n).pipe(at(kle))}}function T4(r){return r!=null?Rle(Ole(r)):null}function ble(r,t){return r===null?[t]:Array.isArray(r)?[...r,t]:[r,t]}function Ple(r){return r._rawValidators}function Lle(r){return r._rawAsyncValidators}function S4(r){return r?Array.isArray(r)?r:[r]:[]}function HE(r,t){return Array.isArray(r)?r.includes(t):r===t}function yle(r,t){let e=S4(t);return S4(r).forEach(i=>{HE(e,i)||e.push(i)}),e}function _le(r,t){return S4(t).filter(e=>!HE(r,e))}var UE=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=A4(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=T4(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,e){return this.control?this.control.hasError(t,e):!1}getError(t,e){return this.control?this.control.getError(t,e):null}},pa=class extends UE{name;get formDirective(){return null}get path(){return null}},gl=class extends UE{_parent=null;name=null;valueAccessor=null},qE=class{_cd;constructor(t){this._cd=t}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},aLe={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},NLt=pr(Ue({},aLe),{"[class.ng-submitted]":"isSubmitted"}),en=(()=>{class r extends qE{constructor(e){super(e)}static \u0275fac=function(n){return new(n||r)(ze(gl,2))};static \u0275dir=ft({type:r,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,i){n&2&&Wt("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[er]})}return r})(),di=(()=>{class r extends qE{constructor(e){super(e)}static \u0275fac=function(n){return new(n||r)(ze(pa,10))};static \u0275dir=ft({type:r,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(n,i){n&2&&Wt("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[er]})}return r})();var O_="VALID",zE="INVALID",Hv="PENDING",F_="DISABLED",lh=class{},WE=class extends lh{value;source;constructor(t,e){super(),this.value=t,this.source=e}},P_=class extends lh{pristine;source;constructor(t,e){super(),this.pristine=t,this.source=e}},L_=class extends lh{touched;source;constructor(t,e){super(),this.touched=t,this.source=e}},Uv=class extends lh{status;source;constructor(t,e){super(),this.status=t,this.source=e}},D4=class extends lh{source;constructor(t){super(),this.source=t}},E4=class extends lh{source;constructor(t){super(),this.source=t}};function I4(r){return(KE(r)?r.validators:r)||null}function lLe(r){return Array.isArray(r)?A4(r):r||null}function k4(r,t){return(KE(t)?t.asyncValidators:r)||null}function cLe(r){return Array.isArray(r)?T4(r):r||null}function KE(r){return r!=null&&!Array.isArray(r)&&typeof r=="object"}function Ble(r,t,e){let n=r.controls;if(!(t?Object.keys(n):n).length)throw new it(1e3,"");if(!n[e])throw new it(1001,"")}function Vle(r,t,e){r._forEachChild((n,i)=>{if(e[i]===void 0)throw new it(1002,"")})}var qv=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(t,e){this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get status(){return aa(this.statusReactive)}set status(t){aa(()=>this.statusReactive.set(t))}_status=To(()=>this.statusReactive());statusReactive=vi(void 0);get valid(){return this.status===O_}get invalid(){return this.status===zE}get pending(){return this.status==Hv}get disabled(){return this.status===F_}get enabled(){return this.status!==F_}errors;get pristine(){return aa(this.pristineReactive)}set pristine(t){aa(()=>this.pristineReactive.set(t))}_pristine=To(()=>this.pristineReactive());pristineReactive=vi(!0);get dirty(){return!this.pristine}get touched(){return aa(this.touchedReactive)}set touched(t){aa(()=>this.touchedReactive.set(t))}_touched=To(()=>this.touchedReactive());touchedReactive=vi(!1);get untouched(){return!this.touched}_events=new Ke;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(yle(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(yle(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(_le(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(_le(t,this._rawAsyncValidators))}hasValidator(t){return HE(this._rawValidators,t)}hasAsyncValidator(t){return HE(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){let e=this.touched===!1;this.touched=!0;let n=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsTouched(pr(Ue({},t),{sourceControl:n})),e&&t.emitEvent!==!1&&this._events.next(new L_(!0,n))}markAllAsTouched(t={}){this.markAsTouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(e=>e.markAllAsTouched(t))}markAsUntouched(t={}){let e=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let n=t.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:n})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,n),e&&t.emitEvent!==!1&&this._events.next(new L_(!1,n))}markAsDirty(t={}){let e=this.pristine===!0;this.pristine=!1;let n=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsDirty(pr(Ue({},t),{sourceControl:n})),e&&t.emitEvent!==!1&&this._events.next(new P_(!1,n))}markAsPristine(t={}){let e=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let n=t.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:t.emitEvent})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t,n),e&&t.emitEvent!==!1&&this._events.next(new P_(!0,n))}markAsPending(t={}){this.status=Hv;let e=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Uv(this.status,e)),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.markAsPending(pr(Ue({},t),{sourceControl:e}))}disable(t={}){let e=this._parentMarkedDirty(t.onlySelf);this.status=F_,this.errors=null,this._forEachChild(i=>{i.disable(pr(Ue({},t),{onlySelf:!0}))}),this._updateValue();let n=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new WE(this.value,n)),this._events.next(new Uv(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(pr(Ue({},t),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){let e=this._parentMarkedDirty(t.onlySelf);this.status=O_,this._forEachChild(n=>{n.enable(pr(Ue({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(pr(Ue({},t),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(n=>n(!1))}_updateAncestors(t,e){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine({},e),this._parent._updateTouched({},e))}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let n=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===O_||this.status===Hv)&&this._runAsyncValidator(n,t.emitEvent)}let e=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new WE(this.value,e)),this._events.next(new Uv(this.status,e)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(pr(Ue({},t),{sourceControl:e}))}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?F_:O_}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t,e){if(this.asyncValidator){this.status=Hv,this._hasOwnPendingAsyncValidator={emitEvent:e!==!1};let n=Ile(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:e,shouldHaveEmitted:t})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let t=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,t}return!1}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(e.emitEvent!==!1,this,e.shouldHaveEmitted)}get(t){let e=t;return e==null||(Array.isArray(e)||(e=e.split(".")),e.length===0)?null:e.reduce((n,i)=>n&&n._find(i),this)}getError(t,e){let n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t,e,n){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),(t||n)&&this._events.next(new Uv(this.status,e)),this._parent&&this._parent._updateControlsErrors(t,e,n)}_initObservables(){this.valueChanges=new ct,this.statusChanges=new ct}_calculateStatus(){return this._allControlsDisabled()?F_:this.errors?zE:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Hv)?Hv:this._anyControlsHaveStatus(zE)?zE:O_}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t,e){let n=!this._anyControlsDirty(),i=this.pristine!==n;this.pristine=n,this._parent&&!t.onlySelf&&this._parent._updatePristine(t,e),i&&this._events.next(new P_(this.pristine,e))}_updateTouched(t={},e){this.touched=this._anyControlsTouched(),this._events.next(new L_(this.touched,e)),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,e)}_onDisabledChange=[];_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){KE(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let e=this._parent&&this._parent.dirty;return!t&&!!e&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=lLe(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=cLe(this._rawAsyncValidators)}},Fi=class extends qv{constructor(t,e,n){super(I4(e),k4(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,n={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){Vle(this,!0,t),Object.keys(t).forEach(n=>{Ble(this,!0,n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t!=null&&(Object.keys(t).forEach(n=>{let i=this.controls[n];i&&i.patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((n,i)=>{n.reset(t?t[i]:null,{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,n)=>n._syncPendingControls()?!0:e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{let n=this.controls[e];n&&t(n,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(let[e,n]of Object.entries(this.controls))if(this.contains(e)&&t(n))return!0;return!1}_reduceValue(){let t={};return this._reduceChildren(t,(e,n,i)=>((n.enabled||this.disabled)&&(e[i]=n.value),e))}_reduceChildren(t,e){let n=t;return this._forEachChild((i,o)=>{n=e(n,i,o)}),n}_allControlsDisabled(){for(let t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}};var M4=class extends Fi{};var Wv=new He("CallSetDisabledState",{providedIn:"root",factory:()=>XE}),XE="always";function ZE(r,t){return[...t.path,r]}function B_(r,t,e=XE){N4(r,t),t.valueAccessor.writeValue(r.value),(r.disabled||e==="always")&&t.valueAccessor.setDisabledState?.(r.disabled),dLe(r,t),hLe(r,t),fLe(r,t),uLe(r,t)}function $E(r,t,e=!0){let n=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(n),t.valueAccessor.registerOnTouched(n)),YE(r,t),r&&(t._invokeOnDestroyCallbacks(),r._registerOnCollectionChange(()=>{}))}function GE(r,t){r.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function uLe(r,t){if(t.valueAccessor.setDisabledState){let e=n=>{t.valueAccessor.setDisabledState(n)};r.registerOnDisabledChange(e),t._registerOnDestroy(()=>{r._unregisterOnDisabledChange(e)})}}function N4(r,t){let e=Ple(r);t.validator!==null?r.setValidators(ble(e,t.validator)):typeof e=="function"&&r.setValidators([e]);let n=Lle(r);t.asyncValidator!==null?r.setAsyncValidators(ble(n,t.asyncValidator)):typeof n=="function"&&r.setAsyncValidators([n]);let i=()=>r.updateValueAndValidity();GE(t._rawValidators,i),GE(t._rawAsyncValidators,i)}function YE(r,t){let e=!1;if(r!==null){if(t.validator!==null){let i=Ple(r);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==t.validator);o.length!==i.length&&(e=!0,r.setValidators(o))}}if(t.asyncValidator!==null){let i=Lle(r);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==t.asyncValidator);o.length!==i.length&&(e=!0,r.setAsyncValidators(o))}}}let n=()=>{};return GE(t._rawValidators,n),GE(t._rawAsyncValidators,n),e}function dLe(r,t){t.valueAccessor.registerOnChange(e=>{r._pendingValue=e,r._pendingChange=!0,r._pendingDirty=!0,r.updateOn==="change"&&zle(r,t)})}function fLe(r,t){t.valueAccessor.registerOnTouched(()=>{r._pendingTouched=!0,r.updateOn==="blur"&&r._pendingChange&&zle(r,t),r.updateOn!=="submit"&&r.markAsTouched()})}function zle(r,t){r._pendingDirty&&r.markAsDirty(),r.setValue(r._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1}function hLe(r,t){let e=(n,i)=>{t.valueAccessor.writeValue(n),i&&t.viewToModelUpdate(n)};r.registerOnChange(e),t._registerOnDestroy(()=>{r._unregisterOnChange(e)})}function jle(r,t){r==null,N4(r,t)}function mLe(r,t){return YE(r,t)}function O4(r,t){if(!r.hasOwnProperty("model"))return!1;let e=r.model;return e.isFirstChange()?!0:!Object.is(t,e.currentValue)}function pLe(r){return Object.getPrototypeOf(r.constructor)===Ele}function Hle(r,t){r._syncPendingControls(),t.forEach(e=>{let n=e.control;n.updateOn==="submit"&&n._pendingChange&&(e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1)})}function F4(r,t){if(!t)return null;Array.isArray(t);let e,n,i;return t.forEach(o=>{o.constructor===ui?e=o:pLe(o)?n=o:i=o}),i||n||e||null}function gLe(r,t){let e=r.indexOf(t);e>-1&&r.splice(e,1)}var vLe={provide:pa,useExisting:Hr(()=>z_)},R_=Promise.resolve(),z_=(()=>{class r extends pa{callSetDisabledState;get submitted(){return aa(this.submittedReactive)}_submitted=To(()=>this.submittedReactive());submittedReactive=vi(!1);_directives=new Set;form;ngSubmit=new ct;options;constructor(e,n,i){super(),this.callSetDisabledState=i,this.form=new Fi({},A4(e),T4(n))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){R_.then(()=>{let n=this._findContainer(e.path);e.control=n.registerControl(e.name,e.control),B_(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){R_.then(()=>{let n=this._findContainer(e.path);n&&n.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){R_.then(()=>{let n=this._findContainer(e.path),i=new Fi({});jle(i,e),n.registerControl(e.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){R_.then(()=>{let n=this._findContainer(e.path);n&&n.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,n){R_.then(()=>{this.form.get(e.path).setValue(n)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submittedReactive.set(!0),Hle(this.form,this._directives),this.ngSubmit.emit(e),e?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}static \u0275fac=function(n){return new(n||r)(ze(yu,10),ze(tp,10),ze(Wv,8))};static \u0275dir=ft({type:r,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(n,i){n&1&&Me("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[Lt([vLe]),er]})}return r})();function xle(r,t){let e=r.indexOf(t);e>-1&&r.splice(e,1)}function wle(r){return typeof r=="object"&&r!==null&&Object.keys(r).length===2&&"value"in r&&"disabled"in r}var ni=class extends qv{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(t=null,e,n){super(I4(e),k4(n,e)),this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),KE(e)&&(e.nonNullable||e.initialValueIsDefault)&&(wle(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&e.emitModelToViewChange!==!1&&this._onChange.forEach(n=>n(this.value,e.emitViewToModelChange!==!1)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){xle(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){xle(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){wle(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};var bLe=r=>r instanceof ni,yLe=(()=>{class r extends pa{_parent;ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return ZE(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}static \u0275fac=(()=>{let e;return function(i){return(e||(e=Kn(r)))(i||r)}})();static \u0275dir=ft({type:r,standalone:!1,features:[er]})}return r})();var _Le={provide:gl,useExisting:Hr(()=>Ro)},Cle=Promise.resolve(),Ro=(()=>{class r extends gl{_changeDetectorRef;callSetDisabledState;control=new ni;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new ct;constructor(e,n,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=e,this._setValidators(n),this._setAsyncValidators(i),this.valueAccessor=F4(this,o)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){let n=e.name.previousValue;this.formDirective.removeControl({name:n,path:this._getPath(n)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),O4(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){B_(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(e){Cle.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){let n=e.isDisabled.currentValue,i=n!==0&&Mt(n);Cle.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?ZE(e,this._parent):[e]}static \u0275fac=function(n){return new(n||r)(ze(pa,9),ze(yu,10),ze(tp,10),ze(vn,10),ze(qt,8),ze(Wv,8))};static \u0275dir=ft({type:r,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[Lt([_Le]),er,cr]})}return r})(),Kl=(()=>{class r{static \u0275fac=function(n){return new(n||r)};static \u0275dir=ft({type:r,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return r})(),xLe={provide:vn,useExisting:Hr(()=>rp),multi:!0},rp=(()=>{class r extends Ele{writeValue(e){let n=e??"";this.setProperty("value",n)}registerOnChange(e){this.onChange=n=>{e(n==""?null:parseFloat(n))}}static \u0275fac=(()=>{let e;return function(i){return(e||(e=Kn(r)))(i||r)}})();static \u0275dir=ft({type:r,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(n,i){n&1&&Me("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},standalone:!1,features:[Lt([xLe]),er]})}return r})();var R4=new He(""),wLe={provide:gl,useExisting:Hr(()=>P4)},P4=(()=>{class r extends gl{_ngModelWarningConfig;callSetDisabledState;viewModel;form;set isDisabled(e){}model;update=new ct;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(e,n,i,o,s){super(),this._ngModelWarningConfig=o,this.callSetDisabledState=s,this._setValidators(e),this._setAsyncValidators(n),this.valueAccessor=F4(this,i)}ngOnChanges(e){if(this._isControlChanged(e)){let n=e.form.previousValue;n&&$E(n,this,!1),B_(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}O4(e,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&$E(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_isControlChanged(e){return e.hasOwnProperty("form")}static \u0275fac=function(n){return new(n||r)(ze(yu,10),ze(tp,10),ze(vn,10),ze(R4,8),ze(Wv,8))};static \u0275dir=ft({type:r,selectors:[["","formControl",""]],inputs:{form:[0,"formControl","form"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],standalone:!1,features:[Lt([wLe]),er,cr]})}return r})(),CLe={provide:pa,useExisting:Hr(()=>Dn)},Dn=(()=>{class r extends pa{callSetDisabledState;get submitted(){return aa(this._submittedReactive)}set submitted(e){this._submittedReactive.set(e)}_submitted=To(()=>this._submittedReactive());_submittedReactive=vi(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new ct;constructor(e,n,i){super(),this.callSetDisabledState=i,this._setValidators(e),this._setAsyncValidators(n)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(YE(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){let n=this.form.get(e.path);return B_(n,e,this.callSetDisabledState),n.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),n}getControl(e){return this.form.get(e.path)}removeControl(e){$E(e.control||null,e,!1),gLe(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,n){this.form.get(e.path).setValue(n)}onSubmit(e){return this._submittedReactive.set(!0),Hle(this.form,this.directives),this.ngSubmit.emit(e),this.form._events.next(new D4(this.control)),e?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this._submittedReactive.set(!1),this.form._events.next(new E4(this.form))}_updateDomValue(){this.directives.forEach(e=>{let n=e.control,i=this.form.get(e.path);n!==i&&($E(n||null,e),bLe(i)&&(B_(i,e,this.callSetDisabledState),e.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){let n=this.form.get(e.path);jle(n,e),n.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){let n=this.form.get(e.path);n&&mLe(n,e)&&n.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){N4(this.form,this),this._oldForm&&YE(this._oldForm,this)}_checkFormPresent(){this.form}static \u0275fac=function(n){return new(n||r)(ze(yu,10),ze(tp,10),ze(Wv,8))};static \u0275dir=ft({type:r,selectors:[["","formGroup",""]],hostBindings:function(n,i){n&1&&Me("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[Lt([CLe]),er,cr]})}return r})(),SLe={provide:pa,useExisting:Hr(()=>Ule)},Ule=(()=>{class r extends yLe{name=null;constructor(e,n,i){super(),this._parent=e,this._setValidators(n),this._setAsyncValidators(i)}_checkParentType(){qle(this._parent)}static \u0275fac=function(n){return new(n||r)(ze(pa,13),ze(yu,10),ze(tp,10))};static \u0275dir=ft({type:r,selectors:[["","formGroupName",""]],inputs:{name:[0,"formGroupName","name"]},standalone:!1,features:[Lt([SLe]),er]})}return r})(),DLe={provide:pa,useExisting:Hr(()=>ch)},ch=(()=>{class r extends pa{_parent;name=null;constructor(e,n,i){super(),this._parent=e,this._setValidators(n),this._setAsyncValidators(i)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return ZE(this.name==null?this.name:this.name.toString(),this._parent)}_checkParentType(){qle(this._parent)}static \u0275fac=function(n){return new(n||r)(ze(pa,13),ze(yu,10),ze(tp,10))};static \u0275dir=ft({type:r,selectors:[["","formArrayName",""]],inputs:{name:[0,"formArrayName","name"]},standalone:!1,features:[Lt([DLe]),er]})}return r})();function qle(r){return!(r instanceof Ule)&&!(r instanceof Dn)&&!(r instanceof ch)}var ELe={provide:gl,useExisting:Hr(()=>ji)},ji=(()=>{class r extends gl{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(e){}model;update=new ct;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(e,n,i,o,s){super(),this._ngModelWarningConfig=s,this._parent=e,this._setValidators(n),this._setAsyncValidators(i),this.valueAccessor=F4(this,o)}ngOnChanges(e){this._added||this._setUpControl(),O4(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return ZE(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static \u0275fac=function(n){return new(n||r)(ze(pa,13),ze(yu,10),ze(tp,10),ze(vn,10),ze(R4,8))};static \u0275dir=ft({type:r,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[Lt([ELe]),er,cr]})}return r})();function MLe(r){return typeof r=="number"?r:parseFloat(r)}var ALe=(()=>{class r{_validator=jE;_onChange;_enabled;ngOnChanges(e){if(this.inputName in e){let n=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(n),this._validator=this._enabled?this.createValidator(n):jE,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return e!=null}static \u0275fac=function(n){return new(n||r)};static \u0275dir=ft({type:r,features:[cr]})}return r})();var TLe={provide:yu,useExisting:Hr(()=>L4),multi:!0},L4=(()=>{class r extends ALe{min;inputName="min";normalizeInput=e=>MLe(e);createValidator=e=>Ale(e);static \u0275fac=(()=>{let e;return function(i){return(e||(e=Kn(r)))(i||r)}})();static \u0275dir=ft({type:r,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(n,i){n&2&&rr("min",i._enabled?i.min:null)},inputs:{min:"min"},standalone:!1,features:[Lt([TLe]),er]})}return r})();var Wle=(()=>{class r{static \u0275fac=function(n){return new(n||r)};static \u0275mod=Nt({type:r});static \u0275inj=kt({})}return r})(),V_=class extends qv{constructor(t,e,n){super(I4(e),k4(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;at(t){return this.controls[this._adjustIndex(t)]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,n={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent})}removeAt(t,e={}){let n=this._adjustIndex(t);n<0&&(n=0),this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),this.controls.splice(n,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,n={}){let i=this._adjustIndex(t);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),e&&(this.controls.splice(i,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){Vle(this,!1,t),t.forEach((n,i)=>{Ble(this,!1,i),this.at(i).setValue(n,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t!=null&&(t.forEach((n,i)=>{this.at(i)&&this.at(i).patchValue(n,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((n,i)=>{n.reset(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_adjustIndex(t){return t<0?t+this.length:t}_syncPendingControls(){let t=this.controls.reduce((e,n)=>n._syncPendingControls()?!0:e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(let t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}_find(t){return this.at(t)??null}};function Sle(r){return!!r&&(r.asyncValidators!==void 0||r.validators!==void 0||r.updateOn!==void 0)}var _u=(()=>{class r{useNonNullable=!1;get nonNullable(){let e=new r;return e.useNonNullable=!0,e}group(e,n=null){let i=this._reduceControls(e),o={};return Sle(n)?o=n:n!==null&&(o.validators=n.validator,o.asyncValidators=n.asyncValidator),new Fi(i,o)}record(e,n=null){let i=this._reduceControls(e);return new M4(i,n)}control(e,n,i){let o={};return this.useNonNullable?(Sle(n)?o=n:(o.validators=n,o.asyncValidators=i),new ni(e,pr(Ue({},o),{nonNullable:!0}))):new ni(e,n,i)}array(e,n,i){let o=e.map(s=>this._createControl(s));return new V_(o,n,i)}_reduceControls(e){let n={};return Object.keys(e).forEach(i=>{n[i]=this._createControl(e[i])}),n}_createControl(e){if(e instanceof ni)return e;if(e instanceof qv)return e;if(Array.isArray(e)){let n=e[0],i=e.length>1?e[1]:null,o=e.length>2?e[2]:null;return this.control(n,i,o)}else return this.control(e)}static \u0275fac=function(n){return new(n||r)};static \u0275prov=Fe({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();var Sr=(()=>{class r{static withConfig(e){return{ngModule:r,providers:[{provide:Wv,useValue:e.callSetDisabledState??XE}]}}static \u0275fac=function(n){return new(n||r)};static \u0275mod=Nt({type:r});static \u0275inj=kt({imports:[Wle]})}return r})(),fi=(()=>{class r{static withConfig(e){return{ngModule:r,providers:[{provide:R4,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:Wv,useValue:e.callSetDisabledState??XE}]}}static \u0275fac=function(n){return new(n||r)};static \u0275mod=Nt({type:r});static \u0275inj=kt({imports:[Wle]})}return r})();var QE=class{_multiple;_emitChanges;compareWith;_selection=new Set;_deselectedToEmit=[];_selectedToEmit=[];_selected;get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}changed=new Ke;constructor(t=!1,e,n=!0,i){this._multiple=t,this._emitChanges=n,this.compareWith=i,e&&e.length&&(t?e.forEach(o=>this._markSelected(o)):this._markSelected(e[0]),this._selectedToEmit.length=0)}select(...t){this._verifyValueAssignment(t),t.forEach(n=>this._markSelected(n));let e=this._hasQueuedChanges();return this._emitChangeEvent(),e}deselect(...t){this._verifyValueAssignment(t),t.forEach(n=>this._unmarkSelected(n));let e=this._hasQueuedChanges();return this._emitChangeEvent(),e}setSelection(...t){this._verifyValueAssignment(t);let e=this.selected,n=new Set(t);t.forEach(o=>this._markSelected(o)),e.filter(o=>!n.has(this._getConcreteValue(o,n))).forEach(o=>this._unmarkSelected(o));let i=this._hasQueuedChanges();return this._emitChangeEvent(),i}toggle(t){return this.isSelected(t)?this.deselect(t):this.select(t)}clear(t=!0){this._unmarkAll();let e=this._hasQueuedChanges();return t&&this._emitChangeEvent(),e}isSelected(t){return this._selection.has(this._getConcreteValue(t))}isEmpty(){return this._selection.size===0}hasValue(){return!this.isEmpty()}sort(t){this._multiple&&this.selected&&this._selected.sort(t)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(t){t=this._getConcreteValue(t),this.isSelected(t)||(this._multiple||this._unmarkAll(),this.isSelected(t)||this._selection.add(t),this._emitChanges&&this._selectedToEmit.push(t))}_unmarkSelected(t){t=this._getConcreteValue(t),this.isSelected(t)&&(this._selection.delete(t),this._emitChanges&&this._deselectedToEmit.push(t))}_unmarkAll(){this.isEmpty()||this._selection.forEach(t=>this._unmarkSelected(t))}_verifyValueAssignment(t){t.length>1&&this._multiple}_hasQueuedChanges(){return!!(this._deselectedToEmit.length||this._selectedToEmit.length)}_getConcreteValue(t,e){if(this.compareWith){e=e??this._selection;for(let n of e)if(this.compareWith(t,n))return n;return t}else return t}};var JE=(()=>{class r{_listeners=[];notify(e,n){for(let i of this._listeners)i(e,n)}listen(e){return this._listeners.push(e),()=>{this._listeners=this._listeners.filter(n=>e!==n)}}ngOnDestroy(){this._listeners=[]}static \u0275fac=function(n){return new(n||r)};static \u0275prov=Fe({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();var ILe=20,$v=(()=>{class r{_ngZone=V(xt);_platform=V(tn);_document=V(Xt,{optional:!0});constructor(){}_scrolled=new Ke;_globalSubscription=null;_scrolledCount=0;scrollContainers=new Map;register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){let n=this.scrollContainers.get(e);n&&(n.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=ILe){return this._platform.isBrowser?new Jt(n=>{this._globalSubscription||this._addGlobalListener();let i=e>0?this._scrolled.pipe(Qw(e)).subscribe(n):this._scrolled.subscribe(n);return this._scrolledCount++,()=>{i.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):tt()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,n)=>this.deregister(n)),this._scrolled.complete()}ancestorScrolled(e,n){let i=this.getAncestorScrollContainers(e);return this.scrolled(n).pipe(sr(o=>!o||i.indexOf(o)>-1))}getAncestorScrollContainers(e){let n=[];return this.scrollContainers.forEach((i,o)=>{this._scrollableContainsElement(o,e)&&n.push(o)}),n}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,n){let i=ka(n),o=e.getElementRef().nativeElement;do if(i==o)return!0;while(i=i.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{let e=this._getWindow();return Ca(e.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static \u0275fac=function(n){return new(n||r)};static \u0275prov=Fe({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),j_=(()=>{class r{elementRef=V(ut);scrollDispatcher=V($v);ngZone=V(xt);dir=V(no,{optional:!0});_destroyed=new Ke;_elementScrolled=new Jt(e=>this.ngZone.runOutsideAngular(()=>Ca(this.elementRef.nativeElement,"scroll").pipe(Vt(this._destroyed)).subscribe(e)));constructor(){}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(e){let n=this.elementRef.nativeElement,i=this.dir&&this.dir.value=="rtl";e.left==null&&(e.left=i?e.end:e.start),e.right==null&&(e.right=i?e.start:e.end),e.bottom!=null&&(e.top=n.scrollHeight-n.clientHeight-e.bottom),i&&Fg()!=yc.NORMAL?(e.left!=null&&(e.right=n.scrollWidth-n.clientWidth-e.left),Fg()==yc.INVERTED?e.left=e.right:Fg()==yc.NEGATED&&(e.left=e.right?-e.right:e.right)):e.right!=null&&(e.left=n.scrollWidth-n.clientWidth-e.right),this._applyScrollToOptions(e)}_applyScrollToOptions(e){let n=this.elementRef.nativeElement;Q1()?n.scrollTo(e):(e.top!=null&&(n.scrollTop=e.top),e.left!=null&&(n.scrollLeft=e.left))}measureScrollOffset(e){let n="left",i="right",o=this.elementRef.nativeElement;if(e=="top")return o.scrollTop;if(e=="bottom")return o.scrollHeight-o.clientHeight-o.scrollTop;let s=this.dir&&this.dir.value=="rtl";return e=="start"?e=s?i:n:e=="end"&&(e=s?n:i),s&&Fg()==yc.INVERTED?e==n?o.scrollWidth-o.clientWidth-o.scrollLeft:o.scrollLeft:s&&Fg()==yc.NEGATED?e==n?o.scrollLeft+o.scrollWidth-o.clientWidth:-o.scrollLeft:e==n?o.scrollLeft:o.scrollWidth-o.clientWidth-o.scrollLeft}static \u0275fac=function(n){return new(n||r)};static \u0275dir=ft({type:r,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]})}return r})(),kLe=20,dh=(()=>{class r{_platform=V(tn);_viewportSize;_change=new Ke;_changeListener=e=>{this._change.next(e)};_document=V(Xt,{optional:!0});constructor(){V(xt).runOutsideAngular(()=>{if(this._platform.isBrowser){let n=this._getWindow();n.addEventListener("resize",this._changeListener),n.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){let e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){let e=this.getViewportScrollPosition(),{width:n,height:i}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+i,right:e.left+n,height:i,width:n}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let e=this._document,n=this._getWindow(),i=e.documentElement,o=i.getBoundingClientRect(),s=-o.top||e.body.scrollTop||n.scrollY||i.scrollTop||0,a=-o.left||e.body.scrollLeft||n.scrollX||i.scrollLeft||0;return{top:s,left:a}}change(e=kLe){return e>0?this._change.pipe(Qw(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}static \u0275fac=function(n){return new(n||r)};static \u0275prov=Fe({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();var uh=(()=>{class r{static \u0275fac=function(n){return new(n||r)};static \u0275mod=Nt({type:r});static \u0275inj=kt({})}return r})(),B4=(()=>{class r{static \u0275fac=function(n){return new(n||r)};static \u0275mod=Nt({type:r});static \u0275inj=kt({imports:[If,uh,If,uh]})}return r})();var H_=class{_attachedHost;attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;t!=null&&(this._attachedHost=null,t.detach())}get isAttached(){return this._attachedHost!=null}setAttachedHost(t){this._attachedHost=t}},fh=class extends H_{component;viewContainerRef;injector;componentFactoryResolver;projectableNodes;constructor(t,e,n,i,o){super(),this.component=t,this.viewContainerRef=e,this.injector=n,this.projectableNodes=o}},Va=class extends H_{templateRef;viewContainerRef;context;injector;constructor(t,e,n,i){super(),this.templateRef=t,this.viewContainerRef=e,this.context=n,this.injector=i}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}},V4=class extends H_{element;constructor(t){super(),this.element=t instanceof ut?t.nativeElement:t}},Gv=class{_attachedPortal;_disposeFn;_isDisposed=!1;hasAttached(){return!!this._attachedPortal}attach(t){if(t instanceof fh)return this._attachedPortal=t,this.attachComponentPortal(t);if(t instanceof Va)return this._attachedPortal=t,this.attachTemplatePortal(t);if(this.attachDomPortal&&t instanceof V4)return this._attachedPortal=t,this.attachDomPortal(t)}attachDomPortal=null;detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}};var U_=class extends Gv{outletElement;_appRef;_defaultInjector;_document;constructor(t,e,n,i,o){super(),this.outletElement=t,this._appRef=n,this._defaultInjector=i,this._document=o}attachComponentPortal(t){let e;if(t.viewContainerRef){let n=t.injector||t.viewContainerRef.injector,i=n.get(fc,null,{optional:!0})||void 0;e=t.viewContainerRef.createComponent(t.component,{index:t.viewContainerRef.length,injector:n,ngModuleRef:i,projectableNodes:t.projectableNodes||void 0}),this.setDisposeFn(()=>e.destroy())}else e=A1(t.component,{elementInjector:t.injector||this._defaultInjector||lr.NULL,environmentInjector:this._appRef.injector,projectableNodes:t.projectableNodes||void 0}),this._appRef.attachView(e.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(e.hostView),e.destroy()});return this.outletElement.appendChild(this._getComponentRootNode(e)),this._attachedPortal=t,e}attachTemplatePortal(t){let e=t.viewContainerRef,n=e.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return n.rootNodes.forEach(i=>this.outletElement.appendChild(i)),n.detectChanges(),this.setDisposeFn(()=>{let i=e.indexOf(n);i!==-1&&e.remove(i)}),this._attachedPortal=t,n}attachDomPortal=t=>{let e=t.element;e.parentNode;let n=this._document.createComment("dom-portal");e.parentNode.insertBefore(n,e),this.outletElement.appendChild(e),this._attachedPortal=t,super.setDisposeFn(()=>{n.parentNode&&n.parentNode.replaceChild(e,n)})};dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}};var $le=(()=>{class r extends Va{constructor(){let e=V(Ui),n=V(Zn);super(e,n)}static \u0275fac=function(n){return new(n||r)};static \u0275dir=ft({type:r,selectors:[["","cdkPortal",""]],exportAs:["cdkPortal"],features:[er]})}return r})();var Rc=(()=>{class r extends Gv{_moduleRef=V(fc,{optional:!0});_document=V(Xt);_viewContainerRef=V(Zn);_isInitialized=!1;_attachedRef;constructor(){super()}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}attached=new ct;get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(e){e.setAttachedHost(this);let n=e.viewContainerRef!=null?e.viewContainerRef:this._viewContainerRef,i=n.createComponent(e.component,{index:n.length,injector:e.injector||n.injector,projectableNodes:e.projectableNodes||void 0,ngModuleRef:this._moduleRef||void 0});return n!==this._viewContainerRef&&this._getRootNode().appendChild(i.hostView.rootNodes[0]),super.setDisposeFn(()=>i.destroy()),this._attachedPortal=e,this._attachedRef=i,this.attached.emit(i),i}attachTemplatePortal(e){e.setAttachedHost(this);let n=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=n,this.attached.emit(n),n}attachDomPortal=e=>{let n=e.element;n.parentNode;let i=this._document.createComment("dom-portal");e.setAttachedHost(this),n.parentNode.insertBefore(i,n),this._getRootNode().appendChild(n),this._attachedPortal=e,super.setDisposeFn(()=>{i.parentNode&&i.parentNode.replaceChild(n,i)})};_getRootNode(){let e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}static \u0275fac=function(n){return new(n||r)};static \u0275dir=ft({type:r,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[0,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[er]})}return r})();var Ld=(()=>{class r{static \u0275fac=function(n){return new(n||r)};static \u0275mod=Nt({type:r});static \u0275inj=kt({})}return r})();var Gle=Q1(),z4=class{_viewportRuler;_previousHTMLStyles={top:"",left:""};_previousScrollPosition;_isEnabled=!1;_document;constructor(t,e){this._viewportRuler=t,this._document=e}attach(){}enable(){if(this._canBeEnabled()){let t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=ro(-this._previousScrollPosition.left),t.style.top=ro(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){let t=this._document.documentElement,e=this._document.body,n=t.style,i=e.style,o=n.scrollBehavior||"",s=i.scrollBehavior||"";this._isEnabled=!1,n.left=this._previousHTMLStyles.left,n.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),Gle&&(n.scrollBehavior=i.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),Gle&&(n.scrollBehavior=o,i.scrollBehavior=s)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;let e=this._document.body,n=this._viewportRuler.getViewportSize();return e.scrollHeight>n.height||e.scrollWidth>n.width}};var j4=class{_scrollDispatcher;_ngZone;_viewportRuler;_config;_scrollSubscription=null;_overlayRef;_initialScrollPosition;constructor(t,e,n,i){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=n,this._config=i}attach(t){this._overlayRef,this._overlayRef=t}enable(){if(this._scrollSubscription)return;let t=this._scrollDispatcher.scrolled(0).pipe(sr(e=>!e||!this._overlayRef.overlayElement.contains(e.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{let e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}_detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}},eM=class{enable(){}disable(){}attach(){}};function H4(r,t){return t.some(e=>{let n=r.bottom<e.top,i=r.top>e.bottom,o=r.right<e.left,s=r.left>e.right;return n||i||o||s})}function Yle(r,t){return t.some(e=>{let n=r.top<e.top,i=r.bottom>e.bottom,o=r.left<e.left,s=r.right>e.right;return n||i||o||s})}var U4=class{_scrollDispatcher;_viewportRuler;_ngZone;_config;_scrollSubscription=null;_overlayRef;constructor(t,e,n,i){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=n,this._config=i}attach(t){this._overlayRef,this._overlayRef=t}enable(){if(!this._scrollSubscription){let t=this._config?this._config.scrollThrottle:0;this._scrollSubscription=this._scrollDispatcher.scrolled(t).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){let e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:n,height:i}=this._viewportRuler.getViewportSize();H4(e,[{width:n,height:i,bottom:i,right:n,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}})}}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},OLe=(()=>{class r{_scrollDispatcher=V($v);_viewportRuler=V(dh);_ngZone=V(xt);_document=V(Xt);constructor(){}noop=()=>new eM;close=e=>new j4(this._scrollDispatcher,this._ngZone,this._viewportRuler,e);block=()=>new z4(this._viewportRuler,this._document);reposition=e=>new U4(this._scrollDispatcher,this._viewportRuler,this._ngZone,e);static \u0275fac=function(n){return new(n||r)};static \u0275prov=Fe({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),hh=class{positionStrategy;scrollStrategy=new eM;panelClass="";hasBackdrop=!1;backdropClass="cdk-overlay-dark-backdrop";width;height;minWidth;minHeight;maxWidth;maxHeight;direction;disposeOnNavigation=!1;constructor(t){if(t){let e=Object.keys(t);for(let n of e)t[n]!==void 0&&(this[n]=t[n])}}};var q4=class{connectionPair;scrollableViewProperties;constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}};var ece=(()=>{class r{_attachedOverlays=[];_document=V(Xt);_isAttached;constructor(){}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){let n=this._attachedOverlays.indexOf(e);n>-1&&this._attachedOverlays.splice(n,1),this._attachedOverlays.length===0&&this.detach()}static \u0275fac=function(n){return new(n||r)};static \u0275prov=Fe({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),FLe=(()=>{class r extends ece{_ngZone=V(xt,{optional:!0});add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}_keydownListener=e=>{let n=this._attachedOverlays;for(let i=n.length-1;i>-1;i--)if(n[i]._keydownEvents.observers.length>0){let o=n[i]._keydownEvents;this._ngZone?this._ngZone.run(()=>o.next(e)):o.next(e);break}};static \u0275fac=(()=>{let e;return function(i){return(e||(e=Kn(r)))(i||r)}})();static \u0275prov=Fe({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),RLe=(()=>{class r extends ece{_platform=V(tn);_ngZone=V(xt,{optional:!0});_cursorOriginalValue;_cursorStyleIsSet=!1;_pointerDownEventTarget;add(e){if(super.add(e),!this._isAttached){let n=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(n)):this._addEventListeners(n),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=n.style.cursor,n.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){let e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}_pointerDownListener=e=>{this._pointerDownEventTarget=Ja(e)};_clickListener=e=>{let n=Ja(e),i=e.type==="click"&&this._pointerDownEventTarget?this._pointerDownEventTarget:n;this._pointerDownEventTarget=null;let o=this._attachedOverlays.slice();for(let s=o.length-1;s>-1;s--){let a=o[s];if(a._outsidePointerEvents.observers.length<1||!a.hasAttached())continue;if(Kle(a.overlayElement,n)||Kle(a.overlayElement,i))break;let l=a._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>l.next(e)):l.next(e)}};static \u0275fac=(()=>{let e;return function(i){return(e||(e=Kn(r)))(i||r)}})();static \u0275prov=Fe({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function Kle(r,t){let e=typeof ShadowRoot<"u"&&ShadowRoot,n=t;for(;n;){if(n===r)return!0;n=e&&n instanceof ShadowRoot?n.host:n.parentNode}return!1}var tce=(()=>{class r{static \u0275fac=function(n){return new(n||r)};static \u0275cmp=Be({type:r,selectors:[["ng-component"]],hostAttrs:["cdk-overlay-style-loader",""],decls:0,vars:0,template:function(n,i){},styles:[".cdk-overlay-container,.cdk-global-overlay-wrapper{pointer-events:none;top:0;left:0;height:100%;width:100%}.cdk-overlay-container{position:fixed}@layer cdk-overlay{.cdk-overlay-container{z-index:1000}}.cdk-overlay-container:empty{display:none}.cdk-global-overlay-wrapper{display:flex;position:absolute}@layer cdk-overlay{.cdk-global-overlay-wrapper{z-index:1000}}.cdk-overlay-pane{position:absolute;pointer-events:auto;box-sizing:border-box;display:flex;max-width:100%;max-height:100%}@layer cdk-overlay{.cdk-overlay-pane{z-index:1000}}.cdk-overlay-backdrop{position:absolute;top:0;bottom:0;left:0;right:0;pointer-events:auto;-webkit-tap-highlight-color:rgba(0,0,0,0);opacity:0}@layer cdk-overlay{.cdk-overlay-backdrop{z-index:1000;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}}.cdk-overlay-backdrop-showing{opacity:1}@media(forced-colors: active){.cdk-overlay-backdrop-showing{opacity:.6}}@layer cdk-overlay{.cdk-overlay-dark-backdrop{background:rgba(0,0,0,.32)}}.cdk-overlay-transparent-backdrop{transition:visibility 1ms linear,opacity 1ms linear;visibility:hidden;opacity:1}.cdk-overlay-transparent-backdrop.cdk-overlay-backdrop-showing,.cdk-high-contrast-active .cdk-overlay-transparent-backdrop{opacity:0;visibility:visible}.cdk-overlay-backdrop-noop-animation{transition:none}.cdk-overlay-connected-position-bounding-box{position:absolute;display:flex;flex-direction:column;min-width:1px;min-height:1px}@layer cdk-overlay{.cdk-overlay-connected-position-bounding-box{z-index:1000}}.cdk-global-scrollblock{position:fixed;width:100%;overflow-y:scroll}"],encapsulation:2,changeDetection:0})}return r})(),tM=(()=>{class r{_platform=V(tn);_containerElement;_document=V(Xt);_styleLoader=V(Ti);constructor(){}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._loadStyles(),this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let e="cdk-overlay-container";if(this._platform.isBrowser||oO()){let i=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let o=0;o<i.length;o++)i[o].remove()}let n=this._document.createElement("div");n.classList.add(e),oO()?n.setAttribute("platform","test"):this._platform.isBrowser||n.setAttribute("platform","server"),this._document.body.appendChild(n),this._containerElement=n}_loadStyles(){this._styleLoader.load(tce)}static \u0275fac=function(n){return new(n||r)};static \u0275prov=Fe({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),Yv=class{_portalOutlet;_host;_pane;_config;_ngZone;_keyboardDispatcher;_document;_location;_outsideClickDispatcher;_animationsDisabled;_injector;_backdropElement=null;_backdropTimeout;_backdropClick=new Ke;_attachments=new Ke;_detachments=new Ke;_positionStrategy;_scrollStrategy;_locationChanges=yr.EMPTY;_backdropClickHandler=t=>this._backdropClick.next(t);_backdropTransitionendHandler=t=>{this._disposeBackdrop(t.target)};_previousHostParent;_keydownEvents=new Ke;_outsidePointerEvents=new Ke;_renders=new Ke;_afterRenderRef;_afterNextRenderRef;constructor(t,e,n,i,o,s,a,l,c,d=!1,f){this._portalOutlet=t,this._host=e,this._pane=n,this._config=i,this._ngZone=o,this._keyboardDispatcher=s,this._document=a,this._location=l,this._outsideClickDispatcher=c,this._animationsDisabled=d,this._injector=f,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy,this._afterRenderRef=aa(()=>zb(()=>{this._renders.next()},{injector:this._injector}))}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);let e=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._afterNextRenderRef?.destroy(),this._afterNextRenderRef=Ho(()=>{this.hasAttached()&&this.updatePosition()},{injector:this._injector}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),typeof e?.onDestroy=="function"&&e.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();let t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenEmpty(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){let t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._afterNextRenderRef?.destroy(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete(),this._afterRenderRef.destroy(),this._renders.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=Ue(Ue({},this._config),t),this._updateElementSize()}setDirection(t){this._config=pr(Ue({},this._config),{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){let t=this._config.direction;return t?typeof t=="string"?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;let t=this._pane.style;t.width=ro(this._config.width),t.height=ro(this._config.height),t.minWidth=ro(this._config.minWidth),t.minHeight=ro(this._config.minHeight),t.maxWidth=ro(this._config.maxWidth),t.maxHeight=ro(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){let t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let t=this._backdropElement;if(t){if(this._animationsDisabled){this._disposeBackdrop(t);return}t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",this._backdropTransitionendHandler)}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t)},500))}}_toggleClasses(t,e,n){let i=Rg(e||[]).filter(o=>!!o);i.length&&(n?t.classList.add(...i):t.classList.remove(...i))}_detachContentWhenEmpty(){this._ngZone.runOutsideAngular(()=>{let t=this._renders.pipe(Vt(Si(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||this._pane.children.length===0)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){let t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",this._backdropTransitionendHandler),t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}},Xle="cdk-overlay-connected-position-bounding-box",PLe=/([A-Za-z%]+)$/,W4=class{_viewportRuler;_document;_platform;_overlayContainer;_overlayRef;_isInitialRender;_lastBoundingBoxSize={width:0,height:0};_isPushed=!1;_canPush=!0;_growAfterOpen=!1;_hasFlexibleDimensions=!0;_positionLocked=!1;_originRect;_overlayRect;_viewportRect;_containerRect;_viewportMargin=0;_scrollables=[];_preferredPositions=[];_origin;_pane;_isDisposed;_boundingBox;_lastPosition;_lastScrollVisibility;_positionChanges=new Ke;_resizeSubscription=yr.EMPTY;_offsetX=0;_offsetY=0;_transformOriginSelector;_appliedPanelClasses=[];_previousPushAmount;positionChanges=this._positionChanges;get positions(){return this._preferredPositions}constructor(t,e,n,i,o){this._viewportRuler=e,this._document=n,this._platform=i,this._overlayContainer=o,this.setOrigin(t)}attach(t){this._overlayRef&&this._overlayRef,this._validatePositions(),t.hostElement.classList.add(Xle),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition){this.reapplyLastPosition();return}this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let t=this._originRect,e=this._overlayRect,n=this._viewportRect,i=this._containerRect,o=[],s;for(let a of this._preferredPositions){let l=this._getOriginPoint(t,i,a),c=this._getOverlayPoint(l,e,a),d=this._getOverlayFit(c,e,n,a);if(d.isCompletelyWithinViewport){this._isPushed=!1,this._applyPosition(a,l);return}if(this._canFitWithFlexibleDimensions(d,c,n)){o.push({position:a,origin:l,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(l,a)});continue}(!s||s.overlayFit.visibleArea<d.visibleArea)&&(s={overlayFit:d,overlayPoint:c,originPoint:l,position:a,overlayRect:e})}if(o.length){let a=null,l=-1;for(let c of o){let d=c.boundingBoxRect.width*c.boundingBoxRect.height*(c.position.weight||1);d>l&&(l=d,a=c)}this._isPushed=!1,this._applyPosition(a.position,a.origin);return}if(this._canPush){this._isPushed=!0,this._applyPosition(s.position,s.originPoint);return}this._applyPosition(s.position,s.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&np(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(Xle),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;let t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let e=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,e)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,t.indexOf(this._lastPosition)===-1&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e,n){let i;if(n.originX=="center")i=t.left+t.width/2;else{let s=this._isRtl()?t.right:t.left,a=this._isRtl()?t.left:t.right;i=n.originX=="start"?s:a}e.left<0&&(i-=e.left);let o;return n.originY=="center"?o=t.top+t.height/2:o=n.originY=="top"?t.top:t.bottom,e.top<0&&(o-=e.top),{x:i,y:o}}_getOverlayPoint(t,e,n){let i;n.overlayX=="center"?i=-e.width/2:n.overlayX==="start"?i=this._isRtl()?-e.width:0:i=this._isRtl()?0:-e.width;let o;return n.overlayY=="center"?o=-e.height/2:o=n.overlayY=="top"?0:-e.height,{x:t.x+i,y:t.y+o}}_getOverlayFit(t,e,n,i){let o=Qle(e),{x:s,y:a}=t,l=this._getOffset(i,"x"),c=this._getOffset(i,"y");l&&(s+=l),c&&(a+=c);let d=0-s,f=s+o.width-n.width,m=0-a,p=a+o.height-n.height,b=this._subtractOverflows(o.width,d,f),y=this._subtractOverflows(o.height,m,p),C=b*y;return{visibleArea:C,isCompletelyWithinViewport:o.width*o.height===C,fitsInViewportVertically:y===o.height,fitsInViewportHorizontally:b==o.width}}_canFitWithFlexibleDimensions(t,e,n){if(this._hasFlexibleDimensions){let i=n.bottom-e.y,o=n.right-e.x,s=Zle(this._overlayRef.getConfig().minHeight),a=Zle(this._overlayRef.getConfig().minWidth),l=t.fitsInViewportVertically||s!=null&&s<=i,c=t.fitsInViewportHorizontally||a!=null&&a<=o;return l&&c}return!1}_pushOverlayOnScreen(t,e,n){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};let i=Qle(e),o=this._viewportRect,s=Math.max(t.x+i.width-o.width,0),a=Math.max(t.y+i.height-o.height,0),l=Math.max(o.top-n.top-t.y,0),c=Math.max(o.left-n.left-t.x,0),d=0,f=0;return i.width<=o.width?d=c||-s:d=t.x<this._viewportMargin?o.left-n.left-t.x:0,i.height<=o.height?f=l||-a:f=t.y<this._viewportMargin?o.top-n.top-t.y:0,this._previousPushAmount={x:d,y:f},{x:t.x+d,y:t.y+f}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._positionChanges.observers.length){let n=this._getScrollVisibility();if(t!==this._lastPosition||!this._lastScrollVisibility||!LLe(this._lastScrollVisibility,n)){let i=new q4(t,n);this._positionChanges.next(i)}this._lastScrollVisibility=n}this._lastPosition=t,this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;let e=this._boundingBox.querySelectorAll(this._transformOriginSelector),n,i=t.overlayY;t.overlayX==="center"?n="center":this._isRtl()?n=t.overlayX==="start"?"right":"left":n=t.overlayX==="start"?"left":"right";for(let o=0;o<e.length;o++)e[o].style.transformOrigin=`${n} ${i}`}_calculateBoundingBoxRect(t,e){let n=this._viewportRect,i=this._isRtl(),o,s,a;if(e.overlayY==="top")s=t.y,o=n.height-s+this._viewportMargin;else if(e.overlayY==="bottom")a=n.height-t.y+this._viewportMargin*2,o=n.height-a+this._viewportMargin;else{let p=Math.min(n.bottom-t.y+n.top,t.y),b=this._lastBoundingBoxSize.height;o=p*2,s=t.y-p,o>b&&!this._isInitialRender&&!this._growAfterOpen&&(s=t.y-b/2)}let l=e.overlayX==="start"&&!i||e.overlayX==="end"&&i,c=e.overlayX==="end"&&!i||e.overlayX==="start"&&i,d,f,m;if(c)m=n.width-t.x+this._viewportMargin*2,d=t.x-this._viewportMargin;else if(l)f=t.x,d=n.right-t.x;else{let p=Math.min(n.right-t.x+n.left,t.x),b=this._lastBoundingBoxSize.width;d=p*2,f=t.x-p,d>b&&!this._isInitialRender&&!this._growAfterOpen&&(f=t.x-b/2)}return{top:s,left:f,bottom:a,right:m,width:d,height:o}}_setBoundingBoxStyles(t,e){let n=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(n.height=Math.min(n.height,this._lastBoundingBoxSize.height),n.width=Math.min(n.width,this._lastBoundingBoxSize.width));let i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right=i.maxHeight=i.maxWidth="",i.width=i.height="100%";else{let o=this._overlayRef.getConfig().maxHeight,s=this._overlayRef.getConfig().maxWidth;i.height=ro(n.height),i.top=ro(n.top),i.bottom=ro(n.bottom),i.width=ro(n.width),i.left=ro(n.left),i.right=ro(n.right),e.overlayX==="center"?i.alignItems="center":i.alignItems=e.overlayX==="end"?"flex-end":"flex-start",e.overlayY==="center"?i.justifyContent="center":i.justifyContent=e.overlayY==="bottom"?"flex-end":"flex-start",o&&(i.maxHeight=ro(o)),s&&(i.maxWidth=ro(s))}this._lastBoundingBoxSize=n,np(this._boundingBox.style,i)}_resetBoundingBoxStyles(){np(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){np(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){let n={},i=this._hasExactPosition(),o=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(i){let d=this._viewportRuler.getViewportScrollPosition();np(n,this._getExactOverlayY(e,t,d)),np(n,this._getExactOverlayX(e,t,d))}else n.position="static";let a="",l=this._getOffset(e,"x"),c=this._getOffset(e,"y");l&&(a+=`translateX(${l}px) `),c&&(a+=`translateY(${c}px)`),n.transform=a.trim(),s.maxHeight&&(i?n.maxHeight=ro(s.maxHeight):o&&(n.maxHeight="")),s.maxWidth&&(i?n.maxWidth=ro(s.maxWidth):o&&(n.maxWidth="")),np(this._pane.style,n)}_getExactOverlayY(t,e,n){let i={top:"",bottom:""},o=this._getOverlayPoint(e,this._overlayRect,t);if(this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,n)),t.overlayY==="bottom"){let s=this._document.documentElement.clientHeight;i.bottom=`${s-(o.y+this._overlayRect.height)}px`}else i.top=ro(o.y);return i}_getExactOverlayX(t,e,n){let i={left:"",right:""},o=this._getOverlayPoint(e,this._overlayRect,t);this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,n));let s;if(this._isRtl()?s=t.overlayX==="end"?"left":"right":s=t.overlayX==="end"?"right":"left",s==="right"){let a=this._document.documentElement.clientWidth;i.right=`${a-(o.x+this._overlayRect.width)}px`}else i.left=ro(o.x);return i}_getScrollVisibility(){let t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),n=this._scrollables.map(i=>i.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:Yle(t,n),isOriginOutsideView:H4(t,n),isOverlayClipped:Yle(e,n),isOverlayOutsideView:H4(e,n)}}_subtractOverflows(t,...e){return e.reduce((n,i)=>n-Math.max(i,0),t)}_getNarrowedViewportRect(){let t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,n=this._viewportRuler.getViewportScrollPosition();return{top:n.top+this._viewportMargin,left:n.left+this._viewportMargin,right:n.left+t-this._viewportMargin,bottom:n.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return this._overlayRef.getDirection()==="rtl"}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return e==="x"?t.offsetX==null?this._offsetX:t.offsetX:t.offsetY==null?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&Rg(t).forEach(e=>{e!==""&&this._appliedPanelClasses.indexOf(e)===-1&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){let t=this._origin;if(t instanceof ut)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();let e=t.width||0,n=t.height||0;return{top:t.y,bottom:t.y+n,left:t.x,right:t.x+e,height:n,width:e}}};function np(r,t){for(let e in t)t.hasOwnProperty(e)&&(r[e]=t[e]);return r}function Zle(r){if(typeof r!="number"&&r!=null){let[t,e]=r.split(PLe);return!e||e==="px"?parseFloat(t):null}return r||null}function Qle(r){return{top:Math.floor(r.top),right:Math.floor(r.right),bottom:Math.floor(r.bottom),left:Math.floor(r.left),width:Math.floor(r.width),height:Math.floor(r.height)}}function LLe(r,t){return r===t?!0:r.isOriginClipped===t.isOriginClipped&&r.isOriginOutsideView===t.isOriginOutsideView&&r.isOverlayClipped===t.isOverlayClipped&&r.isOverlayOutsideView===t.isOverlayOutsideView}var Jle="cdk-global-overlay-wrapper",$4=class{_overlayRef;_cssPosition="static";_topOffset="";_bottomOffset="";_alignItems="";_xPosition="";_xOffset="";_width="";_height="";_isDisposed=!1;attach(t){let e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(Jle),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._xOffset=t,this._xPosition="left",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._xOffset=t,this._xPosition="right",this}start(t=""){return this._xOffset=t,this._xPosition="start",this}end(t=""){return this._xOffset=t,this._xPosition="end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._xPosition="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;let t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,n=this._overlayRef.getConfig(),{width:i,height:o,maxWidth:s,maxHeight:a}=n,l=(i==="100%"||i==="100vw")&&(!s||s==="100%"||s==="100vw"),c=(o==="100%"||o==="100vh")&&(!a||a==="100%"||a==="100vh"),d=this._xPosition,f=this._xOffset,m=this._overlayRef.getConfig().direction==="rtl",p="",b="",y="";l?y="flex-start":d==="center"?(y="center",m?b=f:p=f):m?d==="left"||d==="end"?(y="flex-end",p=f):(d==="right"||d==="start")&&(y="flex-start",b=f):d==="left"||d==="start"?(y="flex-start",p=f):(d==="right"||d==="end")&&(y="flex-end",b=f),t.position=this._cssPosition,t.marginLeft=l?"0":p,t.marginTop=c?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=l?"0":b,e.justifyContent=y,e.alignItems=c?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;let t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,n=e.style;e.classList.remove(Jle),n.justifyContent=n.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}},BLe=(()=>{class r{_viewportRuler=V(dh);_document=V(Xt);_platform=V(tn);_overlayContainer=V(tM);constructor(){}global(){return new $4}flexibleConnectedTo(e){return new W4(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static \u0275fac=function(n){return new(n||r)};static \u0275prov=Fe({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),oo=(()=>{class r{scrollStrategies=V(OLe);_overlayContainer=V(tM);_positionBuilder=V(BLe);_keyboardDispatcher=V(FLe);_injector=V(lr);_ngZone=V(xt);_document=V(Xt);_directionality=V(no);_location=V(Df);_outsideClickDispatcher=V(RLe);_animationsModuleType=V(Xn,{optional:!0});_idGenerator=V(qn);_appRef;_styleLoader=V(Ti);constructor(){}create(e){this._styleLoader.load(tce);let n=this._createHostElement(),i=this._createPaneElement(n),o=this._createPortalOutlet(i),s=new hh(e);return s.direction=s.direction||this._directionality.value,new Yv(o,n,i,s,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,this._animationsModuleType==="NoopAnimations",this._injector.get(Eo))}position(){return this._positionBuilder}_createPaneElement(e){let n=this._document.createElement("div");return n.id=this._idGenerator.getId("cdk-overlay-"),n.classList.add("cdk-overlay-pane"),e.appendChild(n),n}_createHostElement(){let e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(Uo)),new U_(e,null,this._appRef,this._injector,this._document)}static \u0275fac=function(n){return new(n||r)};static \u0275prov=Fe({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),VLe=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],rce=new He("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{let r=V(oo);return()=>r.scrollStrategies.reposition()}}),ip=(()=>{class r{elementRef=V(ut);constructor(){}static \u0275fac=function(n){return new(n||r)};static \u0275dir=ft({type:r,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]})}return r})(),q_=(()=>{class r{_overlay=V(oo);_dir=V(no,{optional:!0});_overlayRef;_templatePortal;_backdropSubscription=yr.EMPTY;_attachSubscription=yr.EMPTY;_detachSubscription=yr.EMPTY;_positionSubscription=yr.EMPTY;_offsetX;_offsetY;_position;_scrollStrategyFactory=V(rce);_disposeOnNavigation=!1;_ngZone=V(xt);origin;positions;positionStrategy;get offsetX(){return this._offsetX}set offsetX(e){this._offsetX=e,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(e){this._offsetY=e,this._position&&this._updatePositionStrategy(this._position)}width;height;minWidth;minHeight;backdropClass;panelClass;viewportMargin=0;scrollStrategy;open=!1;disableClose=!1;transformOriginSelector;hasBackdrop=!1;lockPosition=!1;flexibleDimensions=!1;growAfterOpen=!1;push=!1;get disposeOnNavigation(){return this._disposeOnNavigation}set disposeOnNavigation(e){this._disposeOnNavigation=e}backdropClick=new ct;positionChange=new ct;attach=new ct;detach=new ct;overlayKeydown=new ct;overlayOutsideClick=new ct;constructor(){let e=V(Ui),n=V(Zn);this._templatePortal=new Va(e,n),this.scrollStrategy=this._scrollStrategyFactory()}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(e){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),e.origin&&this.open&&this._position.apply()),e.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=VLe);let e=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=e.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=e.detachments().subscribe(()=>this.detach.emit()),e.keydownEvents().subscribe(n=>{this.overlayKeydown.next(n),n.keyCode===27&&!this.disableClose&&!to(n)&&(n.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(n=>{let i=this._getOriginElement(),o=Ja(n);(!i||i!==o&&!i.contains(o))&&this.overlayOutsideClick.next(n)})}_buildConfig(){let e=this._position=this.positionStrategy||this._createPositionStrategy(),n=new hh({direction:this._dir||"ltr",positionStrategy:e,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop,disposeOnNavigation:this.disposeOnNavigation});return(this.width||this.width===0)&&(n.width=this.width),(this.height||this.height===0)&&(n.height=this.height),(this.minWidth||this.minWidth===0)&&(n.minWidth=this.minWidth),(this.minHeight||this.minHeight===0)&&(n.minHeight=this.minHeight),this.backdropClass&&(n.backdropClass=this.backdropClass),this.panelClass&&(n.panelClass=this.panelClass),n}_updatePositionStrategy(e){let n=this.positions.map(i=>({originX:i.originX,originY:i.originY,overlayX:i.overlayX,overlayY:i.overlayY,offsetX:i.offsetX||this.offsetX,offsetY:i.offsetY||this.offsetY,panelClass:i.panelClass||void 0}));return e.setOrigin(this._getOrigin()).withPositions(n).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){let e=this._overlay.position().flexibleConnectedTo(this._getOrigin());return this._updatePositionStrategy(e),e}_getOrigin(){return this.origin instanceof ip?this.origin.elementRef:this.origin}_getOriginElement(){return this.origin instanceof ip?this.origin.elementRef.nativeElement:this.origin instanceof ut?this.origin.nativeElement:typeof Element<"u"&&this.origin instanceof Element?this.origin:null}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(e=>{this.backdropClick.emit(e)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(sI(()=>this.positionChange.observers.length>0)).subscribe(e=>{this._ngZone.run(()=>this.positionChange.emit(e)),this.positionChange.observers.length===0&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}static \u0275fac=function(n){return new(n||r)};static \u0275dir=ft({type:r,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:[0,"cdkConnectedOverlayOrigin","origin"],positions:[0,"cdkConnectedOverlayPositions","positions"],positionStrategy:[0,"cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:[0,"cdkConnectedOverlayOffsetX","offsetX"],offsetY:[0,"cdkConnectedOverlayOffsetY","offsetY"],width:[0,"cdkConnectedOverlayWidth","width"],height:[0,"cdkConnectedOverlayHeight","height"],minWidth:[0,"cdkConnectedOverlayMinWidth","minWidth"],minHeight:[0,"cdkConnectedOverlayMinHeight","minHeight"],backdropClass:[0,"cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:[0,"cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:[0,"cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:[0,"cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:[0,"cdkConnectedOverlayOpen","open"],disableClose:[0,"cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:[0,"cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:[2,"cdkConnectedOverlayHasBackdrop","hasBackdrop",Mt],lockPosition:[2,"cdkConnectedOverlayLockPosition","lockPosition",Mt],flexibleDimensions:[2,"cdkConnectedOverlayFlexibleDimensions","flexibleDimensions",Mt],growAfterOpen:[2,"cdkConnectedOverlayGrowAfterOpen","growAfterOpen",Mt],push:[2,"cdkConnectedOverlayPush","push",Mt],disposeOnNavigation:[2,"cdkConnectedOverlayDisposeOnNavigation","disposeOnNavigation",Mt]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[Ur,cr]})}return r})();function zLe(r){return()=>r.scrollStrategies.reposition()}var jLe={provide:rce,deps:[oo],useFactory:zLe},Xl=(()=>{class r{static \u0275fac=function(n){return new(n||r)};static \u0275mod=Nt({type:r});static \u0275inj=kt({providers:[oo,jLe],imports:[If,Ld,B4,B4]})}return r})();function ULe(r,t){}var mh=class{viewContainerRef;injector;id;role="dialog";panelClass="";hasBackdrop=!0;backdropClass="";disableClose=!1;width="";height="";minWidth;minHeight;maxWidth;maxHeight;positionStrategy;data=null;direction;ariaDescribedBy=null;ariaLabelledBy=null;ariaLabel=null;ariaModal=!0;autoFocus="first-tabbable";restoreFocus=!0;scrollStrategy;closeOnNavigation=!0;closeOnDestroy=!0;closeOnOverlayDetachments=!0;componentFactoryResolver;providers;container;templateContext};var Y4=(()=>{class r extends Gv{_elementRef=V(ut);_focusTrapFactory=V(s$);_config;_interactivityChecker=V(mO);_ngZone=V(xt);_overlayRef=V(Yv);_focusMonitor=V(el);_platform=V(tn);_document=V(Xt,{optional:!0});_portalOutlet;_focusTrap=null;_elementFocusedBeforeDialogWasOpened=null;_closeInteractionType=null;_ariaLabelledByQueue=[];_changeDetectorRef=V(qt);_injector=V(lr);_isDestroyed=!1;constructor(){super(),this._config=V(mh,{optional:!0})||new mh,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_addAriaLabelledBy(e){this._ariaLabelledByQueue.push(e),this._changeDetectorRef.markForCheck()}_removeAriaLabelledBy(e){let n=this._ariaLabelledByQueue.indexOf(e);n>-1&&(this._ariaLabelledByQueue.splice(n,1),this._changeDetectorRef.markForCheck())}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._isDestroyed=!0,this._restoreFocus()}attachComponentPortal(e){this._portalOutlet.hasAttached();let n=this._portalOutlet.attachComponentPortal(e);return this._contentAttached(),n}attachTemplatePortal(e){this._portalOutlet.hasAttached();let n=this._portalOutlet.attachTemplatePortal(e);return this._contentAttached(),n}attachDomPortal=e=>{this._portalOutlet.hasAttached();let n=this._portalOutlet.attachDomPortal(e);return this._contentAttached(),n};_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(e,n){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{let i=()=>{e.removeEventListener("blur",i),e.removeEventListener("mousedown",i),e.removeAttribute("tabindex")};e.addEventListener("blur",i),e.addEventListener("mousedown",i)})),e.focus(n)}_focusByCssSelector(e,n){let i=this._elementRef.nativeElement.querySelector(e);i&&this._forceFocus(i,n)}_trapFocus(){this._isDestroyed||Ho(()=>{let e=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||e.focus();break;case!0:case"first-tabbable":this._focusTrap?.focusInitialElement()||this._focusDialogContainer();break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus);break}},{injector:this._injector})}_restoreFocus(){let e=this._config.restoreFocus,n=null;if(typeof e=="string"?n=this._document.querySelector(e):typeof e=="boolean"?n=e?this._elementFocusedBeforeDialogWasOpened:null:e&&(n=e),this._config.restoreFocus&&n&&typeof n.focus=="function"){let i=ry(),o=this._elementRef.nativeElement;(!i||i===this._document.body||i===o||o.contains(i))&&(this._focusMonitor?(this._focusMonitor.focusVia(n,this._closeInteractionType),this._closeInteractionType=null):n.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){let e=this._elementRef.nativeElement,n=ry();return e===n||e.contains(n)}_initializeFocusTrap(){this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=ry()))}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}static \u0275fac=function(n){return new(n||r)};static \u0275cmp=Be({type:r,selectors:[["cdk-dialog-container"]],viewQuery:function(n,i){if(n&1&&Cr(Rc,7),n&2){let o;Ft(o=Rt())&&(i._portalOutlet=o.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(n,i){n&2&&rr("id",i._config.id||null)("role",i._config.role)("aria-modal",i._config.ariaModal)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledByQueue[0])("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null)},features:[er],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(n,i){n&1&&Oe(0,ULe,0,0,"ng-template",0)},dependencies:[Rc],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2})}return r})(),W_=class{overlayRef;config;componentInstance;componentRef;containerInstance;disableClose;closed=new Ke;backdropClick;keydownEvents;outsidePointerEvents;id;_detachSubscription;constructor(t,e){this.overlayRef=t,this.config=e,this.disableClose=e.disableClose,this.backdropClick=t.backdropClick(),this.keydownEvents=t.keydownEvents(),this.outsidePointerEvents=t.outsidePointerEvents(),this.id=e.id,this.keydownEvents.subscribe(n=>{n.keyCode===27&&!this.disableClose&&!to(n)&&(n.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=t.detachments().subscribe(()=>{e.closeOnOverlayDetachments!==!1&&this.close()})}close(t,e){if(this.containerInstance){let n=this.closed;this.containerInstance._closeInteractionType=e?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),n.next(t),n.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(t="",e=""){return this.overlayRef.updateSize({width:t,height:e}),this}addPanelClass(t){return this.overlayRef.addPanelClass(t),this}removePanelClass(t){return this.overlayRef.removePanelClass(t),this}},qLe=new He("DialogScrollStrategy",{providedIn:"root",factory:()=>{let r=V(oo);return()=>r.scrollStrategies.block()}}),WLe=new He("DialogData"),$Le=new He("DefaultDialogConfig");var K4=(()=>{class r{_overlay=V(oo);_injector=V(lr);_defaultOptions=V($Le,{optional:!0});_parentDialog=V(r,{optional:!0,skipSelf:!0});_overlayContainer=V(tM);_idGenerator=V(qn);_openDialogsAtThisLevel=[];_afterAllClosedAtThisLevel=new Ke;_afterOpenedAtThisLevel=new Ke;_ariaHiddenElements=new Map;_scrollStrategy=V(qLe);get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}afterAllClosed=ra(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(si(void 0)));constructor(){}open(e,n){let i=this._defaultOptions||new mh;n=Ue(Ue({},i),n),n.id=n.id||this._idGenerator.getId("cdk-dialog-"),n.id&&this.getDialogById(n.id);let o=this._getOverlayConfig(n),s=this._overlay.create(o),a=new W_(s,n),l=this._attachContainer(s,a,n);return a.containerInstance=l,this._attachDialogContent(e,a,l,n),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(a),a.closed.subscribe(()=>this._removeOpenDialog(a,!0)),this.afterOpened.next(a),a}closeAll(){G4(this.openDialogs,e=>e.close())}getDialogById(e){return this.openDialogs.find(n=>n.id===e)}ngOnDestroy(){G4(this._openDialogsAtThisLevel,e=>{e.config.closeOnDestroy===!1&&this._removeOpenDialog(e,!1)}),G4(this._openDialogsAtThisLevel,e=>e.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(e){let n=new hh({positionStrategy:e.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,width:e.width,height:e.height,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(n.backdropClass=e.backdropClass),n}_attachContainer(e,n,i){let o=i.injector||i.viewContainerRef?.injector,s=[{provide:mh,useValue:i},{provide:W_,useValue:n},{provide:Yv,useValue:e}],a;i.container?typeof i.container=="function"?a=i.container:(a=i.container.type,s.push(...i.container.providers(i))):a=Y4;let l=new fh(a,i.viewContainerRef,lr.create({parent:o||this._injector,providers:s}));return e.attach(l).instance}_attachDialogContent(e,n,i,o){if(e instanceof Ui){let s=this._createInjector(o,n,i,void 0),a={$implicit:o.data,dialogRef:n};o.templateContext&&(a=Ue(Ue({},a),typeof o.templateContext=="function"?o.templateContext():o.templateContext)),i.attachTemplatePortal(new Va(e,null,a,s))}else{let s=this._createInjector(o,n,i,this._injector),a=i.attachComponentPortal(new fh(e,o.viewContainerRef,s));n.componentRef=a,n.componentInstance=a.instance}}_createInjector(e,n,i,o){let s=e.injector||e.viewContainerRef?.injector,a=[{provide:WLe,useValue:e.data},{provide:W_,useValue:n}];return e.providers&&(typeof e.providers=="function"?a.push(...e.providers(n,e,i)):a.push(...e.providers)),e.direction&&(!s||!s.get(no,null,{optional:!0}))&&a.push({provide:no,useValue:{value:e.direction,change:tt()}}),lr.create({parent:s||o,providers:a})}_removeOpenDialog(e,n){let i=this.openDialogs.indexOf(e);i>-1&&(this.openDialogs.splice(i,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((o,s)=>{o?s.setAttribute("aria-hidden",o):s.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),n&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){let e=this._overlayContainer.getContainerElement();if(e.parentElement){let n=e.parentElement.children;for(let i=n.length-1;i>-1;i--){let o=n[i];o!==e&&o.nodeName!=="SCRIPT"&&o.nodeName!=="STYLE"&&!o.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(o,o.getAttribute("aria-hidden")),o.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){let e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}static \u0275fac=function(n){return new(n||r)};static \u0275prov=Fe({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function G4(r,t){let e=r.length;for(;e--;)t(r[e])}var nce=(()=>{class r{static \u0275fac=function(n){return new(n||r)};static \u0275mod=Nt({type:r});static \u0275inj=kt({providers:[K4],imports:[Xl,Ld,lS,Ld]})}return r})();function GLe(r,t){}var nM=class{viewContainerRef;injector;id;role="dialog";panelClass="";hasBackdrop=!0;backdropClass="";disableClose=!1;width="";height="";minWidth;minHeight;maxWidth;maxHeight;position;data=null;direction;ariaDescribedBy=null;ariaLabelledBy=null;ariaLabel=null;ariaModal=!0;autoFocus="first-tabbable";restoreFocus=!0;delayFocusTrap=!0;scrollStrategy;closeOnNavigation=!0;componentFactoryResolver;enterAnimationDuration;exitAnimationDuration},X4="mdc-dialog--open",ice="mdc-dialog--opening",oce="mdc-dialog--closing",YLe=150,KLe=75,XLe=(()=>{class r extends Y4{_animationMode=V(Xn,{optional:!0});_animationStateChanged=new ct;_animationsEnabled=this._animationMode!=="NoopAnimations";_actionSectionCount=0;_hostElement=this._elementRef.nativeElement;_enterAnimationDuration=this._animationsEnabled?ace(this._config.enterAnimationDuration)??YLe:0;_exitAnimationDuration=this._animationsEnabled?ace(this._config.exitAnimationDuration)??KLe:0;_animationTimer=null;_contentAttached(){super._contentAttached(),this._startOpenAnimation()}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(sce,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(ice,X4)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(X4),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove(X4),this._animationsEnabled?(this._hostElement.style.setProperty(sce,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(oce)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_updateActionSectionCount(e){this._actionSectionCount+=e,this._changeDetectorRef.markForCheck()}_finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration)};_finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration})};_clearAnimationClasses(){this._hostElement.classList.remove(ice,oce)}_waitForAnimationToComplete(e,n){this._animationTimer!==null&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(n,e)}_requestAnimationFrame(e){this._ngZone.runOutsideAngular(()=>{typeof requestAnimationFrame=="function"?requestAnimationFrame(e):e()})}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(e){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:e})}ngOnDestroy(){super.ngOnDestroy(),this._animationTimer!==null&&clearTimeout(this._animationTimer)}attachComponentPortal(e){let n=super.attachComponentPortal(e);return n.location.nativeElement.classList.add("mat-mdc-dialog-component-host"),n}static \u0275fac=(()=>{let e;return function(i){return(e||(e=Kn(r)))(i||r)}})();static \u0275cmp=Be({type:r,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:10,hostBindings:function(n,i){n&2&&(Za("id",i._config.id),rr("aria-modal",i._config.ariaModal)("role",i._config.role)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledByQueue[0])("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null),Wt("_mat-animation-noopable",!i._animationsEnabled)("mat-mdc-dialog-container-with-actions",i._actionSectionCount>0))},features:[er],decls:3,vars:0,consts:[[1,"mat-mdc-dialog-inner-container","mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(n,i){n&1&&(W(0,"div",0)(1,"div",1),Oe(2,GLe,0,0,"ng-template",2),$()())},dependencies:[Rc],styles:['.mat-mdc-dialog-container{width:100%;height:100%;display:block;box-sizing:border-box;max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;outline:0}.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-max-width, 560px);min-width:var(--mat-dialog-container-min-width, 280px)}@media(max-width: 599px){.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-small-max-width, calc(100vw - 32px))}}.mat-mdc-dialog-inner-container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;opacity:0;transition:opacity linear var(--mat-dialog-transition-duration, 0ms);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mdc-dialog--closing .mat-mdc-dialog-inner-container{transition:opacity 75ms linear;transform:none}.mdc-dialog--open .mat-mdc-dialog-inner-container{opacity:1}._mat-animation-noopable .mat-mdc-dialog-inner-container{transition:none}.mat-mdc-dialog-surface{display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;width:100%;height:100%;position:relative;overflow-y:auto;outline:0;transform:scale(0.8);transition:transform var(--mat-dialog-transition-duration, 0ms) cubic-bezier(0, 0, 0.2, 1);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;box-shadow:var(--mat-dialog-container-elevation-shadow, none);border-radius:var(--mdc-dialog-container-shape, var(--mat-sys-corner-extra-large, 4px));background-color:var(--mdc-dialog-container-color, var(--mat-sys-surface, white))}[dir=rtl] .mat-mdc-dialog-surface{text-align:right}.mdc-dialog--open .mat-mdc-dialog-surface,.mdc-dialog--closing .mat-mdc-dialog-surface{transform:none}._mat-animation-noopable .mat-mdc-dialog-surface{transition:none}.mat-mdc-dialog-surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mat-mdc-dialog-title{display:block;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:var(--mat-dialog-headline-padding, 6px 24px 13px)}.mat-mdc-dialog-title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mat-mdc-dialog-title{text-align:right}.mat-mdc-dialog-container .mat-mdc-dialog-title{color:var(--mdc-dialog-subhead-color, var(--mat-sys-on-surface, rgba(0, 0, 0, 0.87)));font-family:var(--mdc-dialog-subhead-font, var(--mat-sys-headline-small-font, inherit));line-height:var(--mdc-dialog-subhead-line-height, var(--mat-sys-headline-small-line-height, 1.5rem));font-size:var(--mdc-dialog-subhead-size, var(--mat-sys-headline-small-size, 1rem));font-weight:var(--mdc-dialog-subhead-weight, var(--mat-sys-headline-small-weight, 400));letter-spacing:var(--mdc-dialog-subhead-tracking, var(--mat-sys-headline-small-tracking, 0.03125em))}.mat-mdc-dialog-content{display:block;flex-grow:1;box-sizing:border-box;margin:0;overflow:auto;max-height:65vh}.mat-mdc-dialog-content>:first-child{margin-top:0}.mat-mdc-dialog-content>:last-child{margin-bottom:0}.mat-mdc-dialog-container .mat-mdc-dialog-content{color:var(--mdc-dialog-supporting-text-color, var(--mat-sys-on-surface-variant, rgba(0, 0, 0, 0.6)));font-family:var(--mdc-dialog-supporting-text-font, var(--mat-sys-body-medium-font, inherit));line-height:var(--mdc-dialog-supporting-text-line-height, var(--mat-sys-body-medium-line-height, 1.5rem));font-size:var(--mdc-dialog-supporting-text-size, var(--mat-sys-body-medium-size, 1rem));font-weight:var(--mdc-dialog-supporting-text-weight, var(--mat-sys-body-medium-weight, 400));letter-spacing:var(--mdc-dialog-supporting-text-tracking, var(--mat-sys-body-medium-tracking, 0.03125em))}.mat-mdc-dialog-container .mat-mdc-dialog-content{padding:var(--mat-dialog-content-padding, 20px 24px)}.mat-mdc-dialog-container-with-actions .mat-mdc-dialog-content{padding:var(--mat-dialog-with-actions-content-padding, 20px 24px 0)}.mat-mdc-dialog-container .mat-mdc-dialog-title+.mat-mdc-dialog-content{padding-top:0}.mat-mdc-dialog-actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0);padding:var(--mat-dialog-actions-padding, 16px 24px);justify-content:var(--mat-dialog-actions-alignment, flex-end)}@media(forced-colors: active){.mat-mdc-dialog-actions{border-top-color:CanvasText}}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-start,.mat-mdc-dialog-actions[align=start]{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}.mat-mdc-dialog-component-host{display:contents}'],encapsulation:2})}return r})(),sce="--mat-dialog-transition-duration";function ace(r){return r==null?null:typeof r=="number"?r:r.endsWith("ms")?ou(r.substring(0,r.length-2)):r.endsWith("s")?ou(r.substring(0,r.length-1))*1e3:r==="0"?0:null}var rM=function(r){return r[r.OPEN=0]="OPEN",r[r.CLOSING=1]="CLOSING",r[r.CLOSED=2]="CLOSED",r}(rM||{}),so=class{_ref;_containerInstance;componentInstance;componentRef;disableClose;id;_afterOpened=new Ke;_beforeClosed=new Ke;_result;_closeFallbackTimeout;_state=rM.OPEN;_closeInteractionType;constructor(t,e,n){this._ref=t,this._containerInstance=n,this.disableClose=e.disableClose,this.id=t.id,t.addPanelClass("mat-mdc-dialog-panel"),n._animationStateChanged.pipe(sr(i=>i.state==="opened"),on(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),n._animationStateChanged.pipe(sr(i=>i.state==="closed"),on(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),Si(this.backdropClick(),this.keydownEvents().pipe(sr(i=>i.keyCode===27&&!this.disableClose&&!to(i)))).subscribe(i=>{this.disableClose||(i.preventDefault(),lce(this,i.type==="keydown"?"keyboard":"mouse"))})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe(sr(e=>e.state==="closing"),on(1)).subscribe(e=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=rM.CLOSING,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(t){let e=this._ref.config.positionStrategy;return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._ref.updatePosition(),this}updateSize(t="",e=""){return this._ref.updateSize(t,e),this}addPanelClass(t){return this._ref.addPanelClass(t),this}removePanelClass(t){return this._ref.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=rM.CLOSED,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}};function lce(r,t,e){return r._closeInteractionType=t,r.close(e)}var ps=new He("MatMdcDialogData"),ZLe=new He("mat-mdc-dialog-default-options"),QLe=new He("mat-mdc-dialog-scroll-strategy",{providedIn:"root",factory:()=>{let r=V(oo);return()=>r.scrollStrategies.block()}});var op=(()=>{class r{_overlay=V(oo);_defaultOptions=V(ZLe,{optional:!0});_scrollStrategy=V(QLe);_parentDialog=V(r,{optional:!0,skipSelf:!0});_idGenerator=V(qn);_dialog=V(K4);_openDialogsAtThisLevel=[];_afterAllClosedAtThisLevel=new Ke;_afterOpenedAtThisLevel=new Ke;dialogConfigClass=nM;_dialogRefConstructor;_dialogContainerType;_dialogDataToken;get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){let e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}afterAllClosed=ra(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(si(void 0)));constructor(){this._dialogRefConstructor=so,this._dialogContainerType=XLe,this._dialogDataToken=ps}open(e,n){let i;n=Ue(Ue({},this._defaultOptions||new nM),n),n.id=n.id||this._idGenerator.getId("mat-mdc-dialog-"),n.scrollStrategy=n.scrollStrategy||this._scrollStrategy();let o=this._dialog.open(e,pr(Ue({},n),{positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:n},{provide:mh,useValue:n}]},templateContext:()=>({dialogRef:i}),providers:(s,a,l)=>(i=new this._dialogRefConstructor(s,n,l),i.updatePosition(n?.position),[{provide:this._dialogContainerType,useValue:l},{provide:this._dialogDataToken,useValue:a.data},{provide:this._dialogRefConstructor,useValue:i}])}));return i.componentRef=o.componentRef,i.componentInstance=o.componentInstance,this.openDialogs.push(i),this.afterOpened.next(i),i.afterClosed().subscribe(()=>{let s=this.openDialogs.indexOf(i);s>-1&&(this.openDialogs.splice(s,1),this.openDialogs.length||this._getAfterAllClosed().next())}),i}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(n=>n.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(e){let n=e.length;for(;n--;)e[n].close()}static \u0275fac=function(n){return new(n||r)};static \u0275prov=Fe({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),xu=(()=>{class r{dialogRef=V(so,{optional:!0});_elementRef=V(ut);_dialog=V(op);ariaLabel;type="button";dialogResult;_matDialogClose;constructor(){}ngOnInit(){this.dialogRef||(this.dialogRef=uce(this._elementRef,this._dialog.openDialogs))}ngOnChanges(e){let n=e._matDialogClose||e._matDialogCloseResult;n&&(this.dialogResult=n.currentValue)}_onButtonClick(e){lce(this.dialogRef,e.screenX===0&&e.screenY===0?"keyboard":"mouse",this.dialogResult)}static \u0275fac=function(n){return new(n||r)};static \u0275dir=ft({type:r,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(n,i){n&1&&Me("click",function(s){return i._onButtonClick(s)}),n&2&&rr("aria-label",i.ariaLabel||null)("type",i.type)},inputs:{ariaLabel:[0,"aria-label","ariaLabel"],type:"type",dialogResult:[0,"mat-dialog-close","dialogResult"],_matDialogClose:[0,"matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],features:[cr]})}return r})(),cce=(()=>{class r{_dialogRef=V(so,{optional:!0});_elementRef=V(ut);_dialog=V(op);constructor(){}ngOnInit(){this._dialogRef||(this._dialogRef=uce(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{this._onAdd()})}ngOnDestroy(){this._dialogRef?._containerInstance&&Promise.resolve().then(()=>{this._onRemove()})}static \u0275fac=function(n){return new(n||r)};static \u0275dir=ft({type:r})}return r})(),Vs=(()=>{class r extends cce{id=V(qn).getId("mat-mdc-dialog-title-");_onAdd(){this._dialogRef._containerInstance?._addAriaLabelledBy?.(this.id)}_onRemove(){this._dialogRef?._containerInstance?._removeAriaLabelledBy?.(this.id)}static \u0275fac=(()=>{let e;return function(i){return(e||(e=Kn(r)))(i||r)}})();static \u0275dir=ft({type:r,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-mdc-dialog-title","mdc-dialog__title"],hostVars:1,hostBindings:function(n,i){n&2&&Za("id",i.id)},inputs:{id:"id"},exportAs:["matDialogTitle"],features:[er]})}return r})(),zs=(()=>{class r{static \u0275fac=function(n){return new(n||r)};static \u0275dir=ft({type:r,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-mdc-dialog-content","mdc-dialog__content"],features:[FW([j_])]})}return r})(),js=(()=>{class r extends cce{align;_onAdd(){this._dialogRef._containerInstance?._updateActionSectionCount?.(1)}_onRemove(){this._dialogRef._containerInstance?._updateActionSectionCount?.(-1)}static \u0275fac=(()=>{let e;return function(i){return(e||(e=Kn(r)))(i||r)}})();static \u0275dir=ft({type:r,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-mdc-dialog-actions","mdc-dialog__actions"],hostVars:6,hostBindings:function(n,i){n&2&&Wt("mat-mdc-dialog-actions-align-start",i.align==="start")("mat-mdc-dialog-actions-align-center",i.align==="center")("mat-mdc-dialog-actions-align-end",i.align==="end")},inputs:{align:"align"},features:[er]})}return r})();function uce(r,t){let e=r.nativeElement.parentElement;for(;e&&!e.classList.contains("mat-mdc-dialog-container");)e=e.parentElement;return e?t.find(n=>n.id===e.id):null}var Hs=(()=>{class r{static \u0275fac=function(n){return new(n||r)};static \u0275mod=Nt({type:r});static \u0275inj=kt({providers:[op],imports:[nce,Xl,Ld,$r,$r]})}return r})();function JLe(r,t){if(r&1){let e=ot();W(0,"button",3),Me("click",function(){xe(e);let i=ie();return we(i.onDismiss())}),ge(1,"Non"),$(),W(2,"button",4),Me("click",function(){xe(e);let i=ie();return we(i.onConfirm())}),ge(3,"Oui"),$()}}function eBe(r,t){if(r&1){let e=ot();W(0,"button",3),Me("click",function(){let i=xe(e).$implicit,o=ie(2);return we(o.clickAction(i.value))}),ge(1),$()}if(r&2){let e=t.$implicit;K(),zt(e.text)}}function tBe(r,t){if(r&1&&ur(0,eBe,2,1,"button",5,Mi),r&2){let e=ie();dr(e.actions)}}var ph=(()=>{class r{static{this.panelClass=""}constructor(e,n){this.dialogRef=e,this.data=n,this.title=n.title,this.message=n.message,this.actions=n.actions}onConfirm(){this.dialogRef.close(!0)}onDismiss(){this.dialogRef.close(!1)}clickAction(e){this.dialogRef.close(e)}static{this.\u0275fac=function(n){return new(n||r)(ze(so),ze(ps))}}static{this.\u0275cmp=Be({type:r,selectors:[["jee-confirm-dialog"]],decls:8,vars:3,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["mat-dialog-actions","","align","end"],["mat-button","",3,"click"],["mat-raised-button","","color","primary",3,"click"],["mat-button",""]],template:function(n,i){n&1&&(W(0,"h2",0),ge(1),$(),W(2,"div",1)(3,"p"),ge(4),$()(),W(5,"div",2),Oe(6,JLe,4,0)(7,tBe,2,0),$()),n&2&&(K(),sn(" ",i.title,`
`),K(3),zt(i.message),K(2),Pe(i.actions!=null&&i.actions.length?7:6))},dependencies:[Sr,Hs,Vs,js,zs,Wn,Fn],encapsulation:2})}}return r})();var dce=600;var fce=(()=>{class r{constructor(){}isMobile(){return!1}isTablet(){return!1}isDesktop(){return!0;}cssClass(){return""}static{this.\u0275fac=function(n){return new(n||r)}}static{this.\u0275prov=Fe({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();var go=(()=>{class r{constructor(e,n){this.dialog=e,this.mediaQuery=n}open(e,n,i={}){let o={disableClose:!0,panelClass:i.panelClass??e.panelClass??"modal-responsive"};return Object.assign(o,i),o.data=n,this.removeActiveFocus(),this.dialog.open(e,o)}removeActiveFocus(){document.activeElement instanceof HTMLElement&&document.activeElement.blur()}static{this.\u0275fac=function(n){return new(n||r)(Tt(op),Tt(fce))}}static{this.\u0275prov=Fe({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();var mce=(()=>{class r{constructor(e){this.viewRef=e,this.configuration=Ne(),this.isEditing=Ne(!1),this.gridsterItemComponent=Ne.required()}ngOnChanges(e){this.configuration()&&this.createDynamicWidget()}createDynamicWidget(){return Zu(this,null,function*(){this.viewRef.clear();let e="EditingWidgetComponent",n=this.configuration();this.isEditing()||(e=this.configuration().widgetType,n=$n(this.configuration()));let o=(yield import("./chunk-KUYGWMAW.js")).WidgetsModule,a=pN(o).instance.resolveWidgetComponent(e),l=this.viewRef.createComponent(a.type,{index:0,injector:this.viewRef.injector}),c=l.instance;l.setInput("settings",n),this.gridsterItemComponent()["jeepanel-widget"]=c})}static{this.\u0275fac=function(n){return new(n||r)(ze(Zn))}}static{this.\u0275dir=ft({type:r,selectors:[["","dynamic-widget",""]],inputs:{configuration:[1,"configuration"],isEditing:[1,"isEditing"],gridsterItemComponent:[1,"gridsterItemComponent"]},features:[cr]})}}return r})();var Z4=class{_box;_destroyed=new Ke;_resizeSubject=new Ke;_resizeObserver;_elementObservables=new Map;constructor(t){this._box=t,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(e=>this._resizeSubject.next(e)))}observe(t){return this._elementObservables.has(t)||this._elementObservables.set(t,new Jt(e=>{let n=this._resizeSubject.subscribe(e);return this._resizeObserver?.observe(t,{box:this._box}),()=>{this._resizeObserver?.unobserve(t),n.unsubscribe(),this._elementObservables.delete(t)}}).pipe(sr(e=>e.some(n=>n.target===t)),rC({bufferSize:1,refCount:!0}),Vt(this._destroyed))),this._elementObservables.get(t)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}},iM=(()=>{class r{_observers=new Map;_ngZone=V(xt);constructor(){typeof ResizeObserver<"u"}ngOnDestroy(){for(let[,e]of this._observers)e.destroy();this._observers.clear(),typeof ResizeObserver<"u"}observe(e,n){let i=n?.box||"content-box";return this._observers.has(i)||this._observers.set(i,new Z4(i)),this._observers.get(i).observe(e)}static \u0275fac=function(n){return new(n||r)};static \u0275prov=Fe({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();var nBe=["notch"],iBe=["matFormFieldNotchedOutline",""],oBe=["*"],sBe=["textField"],aBe=["iconPrefixContainer"],lBe=["textPrefixContainer"],cBe=["iconSuffixContainer"],uBe=["textSuffixContainer"],dBe=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],fBe=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];function hBe(r,t){r&1&&Te(0,"span",21)}function mBe(r,t){if(r&1&&(W(0,"label",20),hr(1,1),Oe(2,hBe,1,0,"span",21),$()),r&2){let e=ie(2);oe("floating",e._shouldLabelFloat())("monitorResize",e._hasOutline())("id",e._labelId),rr("for",e._control.disableAutomaticLabeling?null:e._control.id),K(2),Pe(!e.hideRequiredMarker&&e._control.required?2:-1)}}function pBe(r,t){if(r&1&&Oe(0,mBe,3,5,"label",20),r&2){let e=ie();Pe(e._hasFloatingLabel()?0:-1)}}function gBe(r,t){r&1&&Te(0,"div",7)}function vBe(r,t){}function bBe(r,t){if(r&1&&Oe(0,vBe,0,0,"ng-template",13),r&2){ie(2);let e=Ao(1);oe("ngTemplateOutlet",e)}}function yBe(r,t){if(r&1&&(W(0,"div",9),Oe(1,bBe,1,1,null,13),$()),r&2){let e=ie();oe("matFormFieldNotchedOutlineOpen",e._shouldLabelFloat()),K(),Pe(e._forceDisplayInfixLabel()?-1:1)}}function _Be(r,t){r&1&&(W(0,"div",10,2),hr(2,2),$())}function xBe(r,t){r&1&&(W(0,"div",11,3),hr(2,3),$())}function wBe(r,t){}function CBe(r,t){if(r&1&&Oe(0,wBe,0,0,"ng-template",13),r&2){ie();let e=Ao(1);oe("ngTemplateOutlet",e)}}function SBe(r,t){r&1&&(W(0,"div",14,4),hr(2,4),$())}function DBe(r,t){r&1&&(W(0,"div",15,5),hr(2,5),$())}function EBe(r,t){r&1&&Te(0,"div",16)}function MBe(r,t){if(r&1&&(W(0,"div",18),hr(1,6),$()),r&2){let e=ie();oe("@transitionMessages",e._subscriptAnimationState)}}function ABe(r,t){if(r&1&&(W(0,"mat-hint",22),ge(1),$()),r&2){let e=ie(2);oe("id",e._hintLabelId),K(),zt(e.hintLabel)}}function TBe(r,t){if(r&1&&(W(0,"div",19),Oe(1,ABe,2,2,"mat-hint",22),hr(2,7),Te(3,"div",23),hr(4,8),$()),r&2){let e=ie();oe("@transitionMessages",e._subscriptAnimationState),K(),Pe(e.hintLabel?1:-1)}}var es=(()=>{class r{static \u0275fac=function(n){return new(n||r)};static \u0275dir=ft({type:r,selectors:[["mat-label"]]})}return r})(),wce=new He("MatError"),Kv=(()=>{class r{id=V(qn).getId("mat-mdc-error-");constructor(){V(new Ya("aria-live"),{optional:!0})||V(ut).nativeElement.setAttribute("aria-live","polite")}static \u0275fac=function(n){return new(n||r)};static \u0275dir=ft({type:r,selectors:[["mat-error"],["","matError",""]],hostAttrs:["aria-atomic","true",1,"mat-mdc-form-field-error","mat-mdc-form-field-bottom-align"],hostVars:1,hostBindings:function(n,i){n&2&&Za("id",i.id)},inputs:{id:"id"},features:[Lt([{provide:wce,useExisting:r}])]})}return r})(),pce=(()=>{class r{align="start";id=V(qn).getId("mat-mdc-hint-");static \u0275fac=function(n){return new(n||r)};static \u0275dir=ft({type:r,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(n,i){n&2&&(Za("id",i.id),rr("align",null),Wt("mat-mdc-form-field-hint-end",i.align==="end"))},inputs:{align:"align",id:"id"}})}return r})(),IBe=new He("MatPrefix");var Cce=new He("MatSuffix"),sM=(()=>{class r{set _isTextSelector(e){this._isText=!0}_isText=!1;static \u0275fac=function(n){return new(n||r)};static \u0275dir=ft({type:r,selectors:[["","matSuffix",""],["","matIconSuffix",""],["","matTextSuffix",""]],inputs:{_isTextSelector:[0,"matTextSuffix","_isTextSelector"]},features:[Lt([{provide:Cce,useExisting:r}])]})}return r})(),Sce=new He("FloatingLabelParent"),gce=(()=>{class r{_elementRef=V(ut);get floating(){return this._floating}set floating(e){this._floating=e,this.monitorResize&&this._handleResize()}_floating=!1;get monitorResize(){return this._monitorResize}set monitorResize(e){this._monitorResize=e,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}_monitorResize=!1;_resizeObserver=V(iM);_ngZone=V(xt);_parent=V(Sce);_resizeSubscription=new yr;constructor(){}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return kBe(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}static \u0275fac=function(n){return new(n||r)};static \u0275dir=ft({type:r,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(n,i){n&2&&Wt("mdc-floating-label--float-above",i.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"}})}return r})();function kBe(r){let t=r;if(t.offsetParent!==null)return t.scrollWidth;let e=t.cloneNode(!0);e.style.setProperty("position","absolute"),e.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(e);let n=e.scrollWidth;return e.remove(),n}var vce="mdc-line-ripple--active",oM="mdc-line-ripple--deactivating",bce=(()=>{class r{_elementRef=V(ut);constructor(){V(xt).runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){let e=this._elementRef.nativeElement.classList;e.remove(oM),e.add(vce)}deactivate(){this._elementRef.nativeElement.classList.add(oM)}_handleTransitionEnd=e=>{let n=this._elementRef.nativeElement.classList,i=n.contains(oM);e.propertyName==="opacity"&&i&&n.remove(vce,oM)};ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}static \u0275fac=function(n){return new(n||r)};static \u0275dir=ft({type:r,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"]})}return r})(),yce=(()=>{class r{_elementRef=V(ut);_ngZone=V(xt);open=!1;_notch;constructor(){}ngAfterViewInit(){let e=this._elementRef.nativeElement.querySelector(".mdc-floating-label");e?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),typeof requestAnimationFrame=="function"&&(e.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>e.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(e){!this.open||!e?this._notch.nativeElement.style.width="":this._notch.nativeElement.style.width=`calc(${e}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`}static \u0275fac=function(n){return new(n||r)};static \u0275cmp=Be({type:r,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(n,i){if(n&1&&Cr(nBe,5),n&2){let o;Ft(o=Rt())&&(i._notch=o.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(n,i){n&2&&Wt("mdc-notched-outline--notched",i.open)},inputs:{open:[0,"matFormFieldNotchedOutlineOpen","open"]},attrs:iBe,ngContentSelectors:oBe,decls:5,vars:0,consts:[["notch",""],[1,"mat-mdc-notch-piece","mdc-notched-outline__leading"],[1,"mat-mdc-notch-piece","mdc-notched-outline__notch"],[1,"mat-mdc-notch-piece","mdc-notched-outline__trailing"]],template:function(n,i){n&1&&(un(),Te(0,"div",1),W(1,"div",2,0),hr(3),$(),Te(4,"div",3))},encapsulation:2,changeDetection:0})}return r})(),NBe={transitionMessages:fl("transitionMessages",[Bs("enter",ri({opacity:1,transform:"translateY(0%)"})),ms("void => enter",[ri({opacity:0,transform:"translateY(-5px)"}),Ls("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},$_=(()=>{class r{value;stateChanges;id;placeholder;ngControl;focused;empty;shouldLabelFloat;required;disabled;errorState;controlType;autofilled;userAriaDescribedBy;disableAutomaticLabeling;static \u0275fac=function(n){return new(n||r)};static \u0275dir=ft({type:r})}return r})();var G_=new He("MatFormField"),OBe=new He("MAT_FORM_FIELD_DEFAULT_OPTIONS"),_ce="fill",FBe="auto",xce="fixed",RBe="translateY(-50%)",Vn=(()=>{class r{_elementRef=V(ut);_changeDetectorRef=V(qt);_dir=V(no);_platform=V(tn);_idGenerator=V(qn);_defaults=V(OBe,{optional:!0});_animationMode=V(Xn,{optional:!0});_textField;_iconPrefixContainer;_textPrefixContainer;_iconSuffixContainer;_textSuffixContainer;_floatingLabel;_notchedOutline;_lineRipple;_formFieldControl;_prefixChildren;_suffixChildren;_errorChildren;_hintChildren;_labelChild=_m(es);get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=Es(e)}_hideRequiredMarker=!1;color="primary";get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||FBe}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e,this._changeDetectorRef.markForCheck())}_floatLabel;get appearance(){return this._appearance}set appearance(e){let n=this._appearance,i=e||this._defaults?.appearance||_ce;this._appearance=i,this._appearance==="outline"&&this._appearance!==n&&(this._needsOutlineLabelOffsetUpdate=!0)}_appearance=_ce;get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||xce}set subscriptSizing(e){this._subscriptSizing=e||this._defaults?.subscriptSizing||xce}_subscriptSizing=null;get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}_hintLabel="";_hasIconPrefix=!1;_hasTextPrefix=!1;_hasIconSuffix=!1;_hasTextSuffix=!1;_labelId=this._idGenerator.getId("mat-mdc-form-field-label-");_hintLabelId=this._idGenerator.getId("mat-mdc-hint-");_subscriptAnimationState="";get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(e){this._explicitFormFieldControl=e}_destroyed=new Ke;_isFocused=null;_explicitFormFieldControl;_needsOutlineLabelOffsetUpdate=!1;_previousControl=null;_stateChanges;_valueChanges;_describedByChanges;_injector=V(lr);constructor(){let e=this._defaults;e&&(e.appearance&&(this.appearance=e.appearance),this._hideRequiredMarker=!!e?.hideRequiredMarker,e.color&&(this.color=e.color))}ngAfterViewInit(){this._updateFocusState(),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl(),this._control!==this._previousControl&&(this._initializeControl(this._previousControl),this._previousControl=this._control)}ngOnDestroy(){this._stateChanges?.unsubscribe(),this._valueChanges?.unsubscribe(),this._describedByChanges?.unsubscribe(),this._destroyed.next(),this._destroyed.complete()}getLabelId=To(()=>this._hasFloatingLabel()?this._labelId:null);getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(e){let n=this._control,i="mat-mdc-form-field-type-";e&&this._elementRef.nativeElement.classList.remove(i+e.controlType),n.controlType&&this._elementRef.nativeElement.classList.add(i+n.controlType),this._stateChanges?.unsubscribe(),this._stateChanges=n.stateChanges.subscribe(()=>{this._updateFocusState(),this._changeDetectorRef.markForCheck()}),this._describedByChanges?.unsubscribe(),this._describedByChanges=n.stateChanges.pipe(si([void 0,void 0]),at(()=>[n.errorState,n.userAriaDescribedBy]),tC(),sr(([[o,s],[a,l]])=>o!==a||s!==l)).subscribe(()=>this._syncDescribedByIds()),this._valueChanges?.unsubscribe(),n.ngControl&&n.ngControl.valueChanges&&(this._valueChanges=n.ngControl.valueChanges.pipe(Vt(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()))}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(e=>!e._isText),this._hasTextPrefix=!!this._prefixChildren.find(e=>e._isText),this._hasIconSuffix=!!this._suffixChildren.find(e=>!e._isText),this._hasTextSuffix=!!this._suffixChildren.find(e=>e._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),Si(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){this._control}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||this._isFocused===null)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdate=!0),zb(()=>{this._needsOutlineLabelOffsetUpdate&&(this._needsOutlineLabelOffsetUpdate=!1,this._updateOutlineLabelOffset())},{injector:this._injector}),this._dir.change.pipe(Vt(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdate=!0)}_shouldAlwaysFloat(){return this.floatLabel==="always"}_hasOutline(){return this.appearance==="outline"}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel=To(()=>!!this._labelChild());_shouldLabelFloat(){return this._hasFloatingLabel()?this._control.shouldLabelFloat||this._shouldAlwaysFloat():!1}_shouldForward(e){let n=this._control?this._control.ngControl:null;return n&&n[e]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){!this._hasOutline()||!this._floatingLabel||!this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(0):this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth())}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){this._hintChildren}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&typeof this._control.userAriaDescribedBy=="string"&&e.push(...this._control.userAriaDescribedBy.split(" ")),this._getDisplayedMessages()==="hint"){let n=this._hintChildren?this._hintChildren.find(o=>o.align==="start"):null,i=this._hintChildren?this._hintChildren.find(o=>o.align==="end"):null;n?e.push(n.id):this._hintLabel&&e.push(this._hintLabelId),i&&e.push(i.id)}else this._errorChildren&&e.push(...this._errorChildren.map(n=>n.id));this._control.setDescribedByIds(e)}}_updateOutlineLabelOffset(){if(!this._hasOutline()||!this._floatingLabel)return;let e=this._floatingLabel.element;if(!(this._iconPrefixContainer||this._textPrefixContainer)){e.style.transform="";return}if(!this._isAttachedToDom()){this._needsOutlineLabelOffsetUpdate=!0;return}let n=this._iconPrefixContainer?.nativeElement,i=this._textPrefixContainer?.nativeElement,o=this._iconSuffixContainer?.nativeElement,s=this._textSuffixContainer?.nativeElement,a=n?.getBoundingClientRect().width??0,l=i?.getBoundingClientRect().width??0,c=o?.getBoundingClientRect().width??0,d=s?.getBoundingClientRect().width??0,f=this._dir.value==="rtl"?"-1":"1",m=`${a+l}px`,b=`calc(${f} * (${m} + var(--mat-mdc-form-field-label-offset-x, 0px)))`;e.style.transform=`var(
        --mat-mdc-form-field-label-transform,
        ${RBe} translateX(${b})
    )`;let y=a+l+c+d;this._elementRef.nativeElement.style.setProperty("--mat-form-field-notch-max-width",`calc(100% - ${y}px)`)}_isAttachedToDom(){let e=this._elementRef.nativeElement;if(e.getRootNode){let n=e.getRootNode();return n&&n!==e}return document.documentElement.contains(e)}static \u0275fac=function(n){return new(n||r)};static \u0275cmp=Be({type:r,selectors:[["mat-form-field"]],contentQueries:function(n,i,o){if(n&1&&(xm(o,i._labelChild,es,5),Qn(o,$_,5),Qn(o,IBe,5),Qn(o,Cce,5),Qn(o,wce,5),Qn(o,pce,5)),n&2){ai();let s;Ft(s=Rt())&&(i._formFieldControl=s.first),Ft(s=Rt())&&(i._prefixChildren=s),Ft(s=Rt())&&(i._suffixChildren=s),Ft(s=Rt())&&(i._errorChildren=s),Ft(s=Rt())&&(i._hintChildren=s)}},viewQuery:function(n,i){if(n&1&&(Cr(sBe,5),Cr(aBe,5),Cr(lBe,5),Cr(cBe,5),Cr(uBe,5),Cr(gce,5),Cr(yce,5),Cr(bce,5)),n&2){let o;Ft(o=Rt())&&(i._textField=o.first),Ft(o=Rt())&&(i._iconPrefixContainer=o.first),Ft(o=Rt())&&(i._textPrefixContainer=o.first),Ft(o=Rt())&&(i._iconSuffixContainer=o.first),Ft(o=Rt())&&(i._textSuffixContainer=o.first),Ft(o=Rt())&&(i._floatingLabel=o.first),Ft(o=Rt())&&(i._notchedOutline=o.first),Ft(o=Rt())&&(i._lineRipple=o.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(n,i){n&2&&Wt("mat-mdc-form-field-label-always-float",i._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",i._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",i._hasIconSuffix)("mat-form-field-invalid",i._control.errorState)("mat-form-field-disabled",i._control.disabled)("mat-form-field-autofilled",i._control.autofilled)("mat-form-field-no-animations",i._animationMode==="NoopAnimations")("mat-form-field-appearance-fill",i.appearance=="fill")("mat-form-field-appearance-outline",i.appearance=="outline")("mat-form-field-hide-placeholder",i._hasFloatingLabel()&&!i._shouldLabelFloat())("mat-focused",i._control.focused)("mat-primary",i.color!=="accent"&&i.color!=="warn")("mat-accent",i.color==="accent")("mat-warn",i.color==="warn")("ng-untouched",i._shouldForward("untouched"))("ng-touched",i._shouldForward("touched"))("ng-pristine",i._shouldForward("pristine"))("ng-dirty",i._shouldForward("dirty"))("ng-valid",i._shouldForward("valid"))("ng-invalid",i._shouldForward("invalid"))("ng-pending",i._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[Lt([{provide:G_,useExisting:r},{provide:Sce,useExisting:r}])],ngContentSelectors:fBe,decls:18,vars:21,consts:[["labelTemplate",""],["textField",""],["iconPrefixContainer",""],["textPrefixContainer",""],["textSuffixContainer",""],["iconSuffixContainer",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],[1,"mat-mdc-form-field-focus-overlay"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[1,"mat-mdc-form-field-icon-prefix"],[1,"mat-mdc-form-field-text-prefix"],[1,"mat-mdc-form-field-infix"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align"],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[3,"id"],[1,"mat-mdc-form-field-hint-spacer"]],template:function(n,i){if(n&1){let o=ot();un(dBe),Oe(0,pBe,1,1,"ng-template",null,0,mc),W(2,"div",6,1),Me("click",function(a){return xe(o),we(i._control.onContainerClick(a))}),Oe(4,gBe,1,0,"div",7),W(5,"div",8),Oe(6,yBe,2,2,"div",9)(7,_Be,3,0,"div",10)(8,xBe,3,0,"div",11),W(9,"div",12),Oe(10,CBe,1,1,null,13),hr(11),$(),Oe(12,SBe,3,0,"div",14)(13,DBe,3,0,"div",15),$(),Oe(14,EBe,1,0,"div",16),$(),W(15,"div",17),Oe(16,MBe,2,1,"div",18)(17,TBe,5,2,"div",19),$()}if(n&2){let o;K(2),Wt("mdc-text-field--filled",!i._hasOutline())("mdc-text-field--outlined",i._hasOutline())("mdc-text-field--no-label",!i._hasFloatingLabel())("mdc-text-field--disabled",i._control.disabled)("mdc-text-field--invalid",i._control.errorState),K(2),Pe(!i._hasOutline()&&!i._control.disabled?4:-1),K(2),Pe(i._hasOutline()?6:-1),K(),Pe(i._hasIconPrefix?7:-1),K(),Pe(i._hasTextPrefix?8:-1),K(2),Pe(!i._hasOutline()||i._forceDisplayInfixLabel()?10:-1),K(2),Pe(i._hasTextSuffix?12:-1),K(),Pe(i._hasIconSuffix?13:-1),K(),Pe(i._hasOutline()?-1:14),K(),Wt("mat-mdc-form-field-subscript-dynamic-size",i.subscriptSizing==="dynamic"),K(),Pe((o=i._getDisplayedMessages())==="error"?16:o==="hint"?17:-1)}},dependencies:[gce,yce,nu,bce,pce],styles:['.mdc-text-field{display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color;border-top-left-radius:4px;border-top-right-radius:4px;border-bottom-right-radius:0;border-bottom-left-radius:0}.mdc-text-field__input{width:100%;min-width:0;border:none;border-radius:0;background:none;padding:0;-moz-appearance:none;-webkit-appearance:none;height:28px}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}.mdc-text-field__input::placeholder{opacity:0}.mdc-text-field__input::-moz-placeholder{opacity:0}.mdc-text-field__input::-webkit-input-placeholder{opacity:0}.mdc-text-field__input:-ms-input-placeholder{opacity:0}.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input::-moz-placeholder,.mdc-text-field--focused .mdc-text-field__input::-moz-placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input::-webkit-input-placeholder,.mdc-text-field--focused .mdc-text-field__input::-webkit-input-placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}.mdc-text-field--disabled:not(.mdc-text-field--no-label) .mdc-text-field__input.mat-mdc-input-disabled-interactive::placeholder{opacity:0}.mdc-text-field--disabled:not(.mdc-text-field--no-label) .mdc-text-field__input.mat-mdc-input-disabled-interactive::-moz-placeholder{opacity:0}.mdc-text-field--disabled:not(.mdc-text-field--no-label) .mdc-text-field__input.mat-mdc-input-disabled-interactive::-webkit-input-placeholder{opacity:0}.mdc-text-field--disabled:not(.mdc-text-field--no-label) .mdc-text-field__input.mat-mdc-input-disabled-interactive:-ms-input-placeholder{opacity:0}.mdc-text-field--outlined .mdc-text-field__input,.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-filled-text-field-input-text-color, var(--mat-sys-on-surface));caret-color:var(--mdc-filled-text-field-caret-color, var(--mat-sys-primary))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::-moz-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::-webkit-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-error-caret-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-filled-text-field-disabled-input-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-outlined-text-field-input-text-color, var(--mat-sys-on-surface));caret-color:var(--mdc-outlined-text-field-caret-color, var(--mat-sys-primary))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::-moz-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::-webkit-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-error-caret-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-outlined-text-field-disabled-input-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}@media(forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}}.mdc-text-field--filled{height:56px;border-bottom-right-radius:0;border-bottom-left-radius:0;border-top-left-radius:var(--mdc-filled-text-field-container-shape, var(--mat-sys-corner-extra-small));border-top-right-radius:var(--mdc-filled-text-field-container-shape, var(--mat-sys-corner-extra-small))}.mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:var(--mdc-filled-text-field-container-color, var(--mat-sys-surface-variant))}.mdc-text-field--filled.mdc-text-field--disabled{background-color:var(--mdc-filled-text-field-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 4%, transparent))}.mdc-text-field--outlined{height:56px;overflow:visible;padding-right:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small)));padding-left:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small)) + 4px)}[dir=rtl] .mdc-text-field--outlined{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small)) + 4px);padding-left:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small)))}.mdc-floating-label{position:absolute;left:0;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label{right:0;left:auto;transform-origin:right top;text-align:right}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:auto}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label{left:auto;right:4px}.mdc-text-field--filled .mdc-floating-label{left:16px;right:auto}[dir=rtl] .mdc-text-field--filled .mdc-floating-label{left:auto;right:16px}.mdc-text-field--disabled .mdc-floating-label{cursor:default}@media(forced-colors: active){.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label{color:var(--mdc-filled-text-field-label-text-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label{color:var(--mdc-filled-text-field-focus-label-text-color, var(--mat-sys-primary))}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label{color:var(--mdc-filled-text-field-hover-label-text-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label{color:var(--mdc-filled-text-field-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-floating-label{color:var(--mdc-filled-text-field-error-label-text-color, var(--mat-sys-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mdc-floating-label{color:var(--mdc-filled-text-field-error-focus-label-text-color, var(--mat-sys-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-floating-label{color:var(--mdc-filled-text-field-error-hover-label-text-color, var(--mat-sys-on-error-container))}.mdc-text-field--filled .mdc-floating-label{font-family:var(--mdc-filled-text-field-label-text-font, var(--mat-sys-body-large-font));font-size:var(--mdc-filled-text-field-label-text-size, var(--mat-sys-body-large-size));font-weight:var(--mdc-filled-text-field-label-text-weight, var(--mat-sys-body-large-weight));letter-spacing:var(--mdc-filled-text-field-label-text-tracking, var(--mat-sys-body-large-tracking))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label{color:var(--mdc-outlined-text-field-label-text-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label{color:var(--mdc-outlined-text-field-focus-label-text-color, var(--mat-sys-primary))}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label{color:var(--mdc-outlined-text-field-hover-label-text-color, var(--mat-sys-on-surface))}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label{color:var(--mdc-outlined-text-field-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-floating-label{color:var(--mdc-outlined-text-field-error-label-text-color, var(--mat-sys-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mdc-floating-label{color:var(--mdc-outlined-text-field-error-focus-label-text-color, var(--mat-sys-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-floating-label{color:var(--mdc-outlined-text-field-error-hover-label-text-color, var(--mat-sys-on-error-container))}.mdc-text-field--outlined .mdc-floating-label{font-family:var(--mdc-outlined-text-field-label-text-font, var(--mat-sys-body-large-font));font-size:var(--mdc-outlined-text-field-label-text-size, var(--mat-sys-body-large-size));font-weight:var(--mdc-outlined-text-field-label-text-weight, var(--mat-sys-body-large-weight));letter-spacing:var(--mdc-outlined-text-field-label-text-tracking, var(--mat-sys-body-large-tracking))}.mdc-floating-label--float-above{cursor:auto;transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1);font-size:.75rem}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:0;margin-right:1px}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline{text-align:right}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mat-mdc-notch-piece{box-sizing:border-box;height:100%;pointer-events:none;border-top:1px solid;border-bottom:1px solid}.mdc-text-field--focused .mat-mdc-notch-piece{border-width:2px}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-outline-color, var(--mat-sys-outline));border-width:var(--mdc-outlined-text-field-outline-width, 1px)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-hover-outline-color, var(--mat-sys-on-surface))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-focus-outline-color, var(--mat-sys-primary))}.mdc-text-field--outlined.mdc-text-field--disabled .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-disabled-outline-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-outline-color, var(--mat-sys-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--focused):hover .mdc-notched-outline .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-hover-outline-color, var(--mat-sys-on-error-container))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-focus-outline-color, var(--mat-sys-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mat-mdc-notch-piece{border-width:var(--mdc-outlined-text-field-focus-outline-width, 2px)}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;border-top-right-radius:0;border-bottom-right-radius:0;border-top-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small));border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small))}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px,var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small)))}[dir=rtl] .mdc-notched-outline__leading{border-left:none;border-right:1px solid;border-bottom-left-radius:0;border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small));border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small))}.mdc-notched-outline__trailing{flex-grow:1;border-left:none;border-right:1px solid;border-top-left-radius:0;border-bottom-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small));border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small))}[dir=rtl] .mdc-notched-outline__trailing{border-left:1px solid;border-right:none;border-top-right-radius:0;border-bottom-right-radius:0;border-top-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small));border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small))}.mdc-notched-outline__notch{flex:0 0 auto;width:auto}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:min(var(--mat-form-field-notch-max-width, 100%),100% - max(12px,var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small)))*2)}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none;--mat-form-field-notch-max-width: 100%}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1;border-bottom-width:var(--mdc-filled-text-field-active-indicator-height, 1px)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-active-indicator-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-hover-active-indicator-color, var(--mat-sys-on-surface))}.mdc-text-field--filled.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-disabled-active-indicator-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-active-indicator-color, var(--mat-sys-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-hover-active-indicator-color, var(--mat-sys-on-error-container))}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-text-field--filled .mdc-line-ripple::after{border-bottom-width:var(--mdc-filled-text-field-focus-active-indicator-height, 2px)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-focus-active-indicator-color, var(--mat-sys-primary))}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-error-focus-active-indicator-color, var(--mat-sys-error))}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-text-field--disabled{pointer-events:none}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;line-height:normal;pointer-events:all;will-change:auto}.mat-mdc-form-field:not(.mat-form-field-disabled) .mat-mdc-floating-label.mdc-floating-label{cursor:inherit}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto;will-change:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-form-field-disabled .mdc-text-field__input::placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-form-field-disabled .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-form-field-disabled .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-form-field-disabled .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:1px solid rgba(0,0,0,0)}[dir=rtl] .mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:none;border-right:1px solid rgba(0,0,0,0)}.mat-mdc-form-field-infix{min-height:var(--mat-form-field-container-height, 56px);padding-top:var(--mat-form-field-filled-with-label-container-padding-top, 24px);padding-bottom:var(--mat-form-field-filled-with-label-container-padding-bottom, 8px)}.mdc-text-field--outlined .mat-mdc-form-field-infix,.mdc-text-field--no-label .mat-mdc-form-field-infix{padding-top:var(--mat-form-field-container-vertical-padding, 16px);padding-bottom:var(--mat-form-field-container-vertical-padding, 16px)}.mat-mdc-text-field-wrapper .mat-mdc-form-field-flex .mat-mdc-floating-label{top:calc(var(--mat-form-field-container-height, 56px)/2)}.mdc-text-field--filled .mat-mdc-floating-label{display:var(--mat-form-field-filled-label-display, block)}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{--mat-mdc-form-field-label-transform: translateY(calc(calc(6.75px + var(--mat-form-field-container-height, 56px) / 2) * -1)) scale(var(--mat-mdc-form-field-floating-label-scale, 0.75));transform:var(--mat-mdc-form-field-label-transform)}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block;color:var(--mat-form-field-error-text-color, var(--mat-sys-error))}.mat-mdc-form-field-subscript-wrapper,.mat-mdc-form-field-bottom-align::before{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-subscript-text-font, var(--mat-sys-body-small-font));line-height:var(--mat-form-field-subscript-text-line-height, var(--mat-sys-body-small-line-height));font-size:var(--mat-form-field-subscript-text-size, var(--mat-sys-body-small-size));letter-spacing:var(--mat-form-field-subscript-text-tracking, var(--mat-sys-body-small-tracking));font-weight:var(--mat-form-field-subscript-text-weight, var(--mat-sys-body-small-weight))}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none;background-color:var(--mat-form-field-state-layer-color, var(--mat-sys-on-surface))}.mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-form-field.mat-focused .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-focus-state-layer-opacity, 0)}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option{color:var(--mat-form-field-select-option-text-color, var(--mat-sys-neutral10))}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option:disabled{color:var(--mat-form-field-select-disabled-option-text-color, color-mix(in srgb, var(--mat-sys-neutral10) 38%, transparent))}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none;color:var(--mat-form-field-enabled-select-arrow-color, var(--mat-sys-on-surface-variant))}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select.mat-focused .mat-mdc-form-field-infix::after{color:var(--mat-form-field-focus-select-arrow-color, var(--mat-sys-primary))}.mat-mdc-form-field-type-mat-native-select.mat-form-field-disabled .mat-mdc-form-field-infix::after{color:var(--mat-form-field-disabled-select-arrow-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}@media(forced-colors: active){.mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}}@media(forced-colors: active){.mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}}@media(forced-colors: active){.mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}}@media(forced-colors: active){.mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-container-text-font, var(--mat-sys-body-large-font));line-height:var(--mat-form-field-container-text-line-height, var(--mat-sys-body-large-line-height));font-size:var(--mat-form-field-container-text-size, var(--mat-sys-body-large-size));letter-spacing:var(--mat-form-field-container-text-tracking, var(--mat-sys-body-large-tracking));font-weight:var(--mat-form-field-container-text-weight, var(--mat-sys-body-large-weight))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(var(--mat-form-field-outlined-label-text-populated-size)*var(--mat-mdc-form-field-floating-label-scale))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mat-form-field-outlined-label-text-populated-size)}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%;z-index:0}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:0 12px;box-sizing:content-box}.mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-leading-icon-color, var(--mat-sys-on-surface-variant))}.mat-form-field-disabled .mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-disabled-leading-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-trailing-icon-color, var(--mat-sys-on-surface-variant))}.mat-form-field-disabled .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-disabled-trailing-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-form-field-invalid .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-trailing-icon-color, var(--mat-sys-error))}.mat-form-field-invalid:not(.mat-focused):not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-hover-trailing-icon-color, var(--mat-sys-on-error-container))}.mat-form-field-invalid.mat-focused .mat-mdc-text-field-wrapper .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-focus-trailing-icon-color, var(--mat-sys-error))}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field-infix:has(textarea[cols]){width:auto}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::-moz-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::-webkit-input-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input::placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input::-moz-placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input::-moz-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input::-webkit-input-placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input::-webkit-input-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}'],encapsulation:2,data:{animation:[NBe.transitionMessages]},changeDetection:0})}return r})(),Qr=(()=>{class r{static \u0275fac=function(n){return new(n||r)};static \u0275mod=Nt({type:r});static \u0275inj=kt({imports:[$r,eS,$r]})}return r})();var t5=["*"];function PBe(r,t){r&1&&hr(0)}var LBe=["tabListContainer"],BBe=["tabList"],VBe=["tabListInner"],zBe=["nextPaginator"],jBe=["previousPaginator"],HBe=r=>({animationDuration:r}),UBe=(r,t)=>({value:r,params:t});function qBe(r,t){}var WBe=["tabBodyWrapper"],$Be=["tabHeader"];function GBe(r,t){}function YBe(r,t){if(r&1&&Oe(0,GBe,0,0,"ng-template",12),r&2){let e=ie().$implicit;oe("cdkPortalOutlet",e.templateLabel)}}function KBe(r,t){if(r&1&&ge(0),r&2){let e=ie().$implicit;zt(e.textLabel)}}function XBe(r,t){if(r&1){let e=ot();W(0,"div",7,2),Me("click",function(){let i=xe(e),o=i.$implicit,s=i.$index,a=ie(),l=Ao(1);return we(a._handleClick(o,l,s))})("cdkFocusChange",function(i){let o=xe(e).$index,s=ie();return we(s._tabFocusChanged(i,o))}),Te(2,"span",8)(3,"div",9),W(4,"span",10)(5,"span",11),Oe(6,YBe,1,1,null,12)(7,KBe,1,1),$()()()}if(r&2){let e=t.$implicit,n=t.$index,i=Ao(1),o=ie();Li(e.labelClass),Wt("mdc-tab--active",o.selectedIndex===n),oe("id",o._getTabLabelId(n))("disabled",e.disabled)("fitInkBarToContent",o.fitInkBarToContent),rr("tabIndex",o._getTabIndex(n))("aria-posinset",n+1)("aria-setsize",o._tabs.length)("aria-controls",o._getTabContentId(n))("aria-selected",o.selectedIndex===n)("aria-label",e.ariaLabel||null)("aria-labelledby",!e.ariaLabel&&e.ariaLabelledby?e.ariaLabelledby:null),K(3),oe("matRippleTrigger",i)("matRippleDisabled",e.disabled||o.disableRipple),K(3),Pe(e.templateLabel?6:7)}}function ZBe(r,t){r&1&&hr(0)}function QBe(r,t){if(r&1){let e=ot();W(0,"mat-tab-body",13),Me("_onCentered",function(){xe(e);let i=ie();return we(i._removeTabBodyWrapperHeight())})("_onCentering",function(i){xe(e);let o=ie();return we(o._setTabBodyWrapperHeight(i))}),$()}if(r&2){let e=t.$implicit,n=t.$index,i=ie();Li(e.bodyClass),Wt("mat-mdc-tab-body-active",i.selectedIndex===n),oe("id",i._getTabContentId(n))("content",e.content)("position",e.position)("origin",e.origin)("animationDuration",i.animationDuration)("preserveContent",i.preserveContent),rr("tabindex",i.contentTabIndex!=null&&i.selectedIndex===n?i.contentTabIndex:null)("aria-labelledby",i._getTabLabelId(n))("aria-hidden",i.selectedIndex!==n)}}var JBe=new He("MatTabContent"),e3e=(()=>{class r{template=V(Ui);constructor(){}static \u0275fac=function(n){return new(n||r)};static \u0275dir=ft({type:r,selectors:[["","matTabContent",""]],features:[Lt([{provide:JBe,useExisting:r}])]})}return r})(),t3e=new He("MatTabLabel"),Mce=new He("MAT_TAB"),r3e=(()=>{class r extends $le{_closestTab=V(Mce,{optional:!0});static \u0275fac=(()=>{let e;return function(i){return(e||(e=Kn(r)))(i||r)}})();static \u0275dir=ft({type:r,selectors:[["","mat-tab-label",""],["","matTabLabel",""]],features:[Lt([{provide:t3e,useExisting:r}]),er]})}return r})(),Ace=new He("MAT_TAB_GROUP"),r5=(()=>{class r{_viewContainerRef=V(Zn);_closestTabGroup=V(Ace,{optional:!0});disabled=!1;get templateLabel(){return this._templateLabel}set templateLabel(e){this._setTemplateLabelInput(e)}_templateLabel;_explicitContent=void 0;_implicitContent;textLabel="";ariaLabel;ariaLabelledby;labelClass;bodyClass;_contentPortal=null;get content(){return this._contentPortal}_stateChanges=new Ke;position=null;origin=null;isActive=!1;constructor(){V(Ti).load(tl)}ngOnChanges(e){(e.hasOwnProperty("textLabel")||e.hasOwnProperty("disabled"))&&this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}ngOnInit(){this._contentPortal=new Va(this._explicitContent||this._implicitContent,this._viewContainerRef)}_setTemplateLabelInput(e){e&&e._closestTab===this&&(this._templateLabel=e)}static \u0275fac=function(n){return new(n||r)};static \u0275cmp=Be({type:r,selectors:[["mat-tab"]],contentQueries:function(n,i,o){if(n&1&&(Qn(o,r3e,5),Qn(o,e3e,7,Ui)),n&2){let s;Ft(s=Rt())&&(i.templateLabel=s.first),Ft(s=Rt())&&(i._explicitContent=s.first)}},viewQuery:function(n,i){if(n&1&&Cr(Ui,7),n&2){let o;Ft(o=Rt())&&(i._implicitContent=o.first)}},hostAttrs:["hidden",""],inputs:{disabled:[2,"disabled","disabled",Mt],textLabel:[0,"label","textLabel"],ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],labelClass:"labelClass",bodyClass:"bodyClass"},exportAs:["matTab"],features:[Lt([{provide:Mce,useExisting:r}]),Ur,cr],ngContentSelectors:t5,decls:1,vars:0,template:function(n,i){n&1&&(un(),Oe(0,PBe,1,0,"ng-template"))},encapsulation:2})}return r})(),Q4="mdc-tab-indicator--active",Dce="mdc-tab-indicator--no-transition",J4=class{_items;_currentItem;constructor(t){this._items=t}hide(){this._items.forEach(t=>t.deactivateInkBar())}alignToElement(t){let e=this._items.find(i=>i.elementRef.nativeElement===t),n=this._currentItem;if(e!==n&&(n?.deactivateInkBar(),e)){let i=n?.elementRef.nativeElement.getBoundingClientRect?.();e.activateInkBar(i),this._currentItem=e}}},n3e=(()=>{class r{_elementRef=V(ut);_inkBarElement;_inkBarContentElement;_fitToContent=!1;get fitInkBarToContent(){return this._fitToContent}set fitInkBarToContent(e){this._fitToContent!==e&&(this._fitToContent=e,this._inkBarElement&&this._appendInkBarElement())}activateInkBar(e){let n=this._elementRef.nativeElement;if(!e||!n.getBoundingClientRect||!this._inkBarContentElement){n.classList.add(Q4);return}let i=n.getBoundingClientRect(),o=e.width/i.width,s=e.left-i.left;n.classList.add(Dce),this._inkBarContentElement.style.setProperty("transform",`translateX(${s}px) scaleX(${o})`),n.getBoundingClientRect(),n.classList.remove(Dce),n.classList.add(Q4),this._inkBarContentElement.style.setProperty("transform","")}deactivateInkBar(){this._elementRef.nativeElement.classList.remove(Q4)}ngOnInit(){this._createInkBarElement()}ngOnDestroy(){this._inkBarElement?.remove(),this._inkBarElement=this._inkBarContentElement=null}_createInkBarElement(){let e=this._elementRef.nativeElement.ownerDocument||document,n=this._inkBarElement=e.createElement("span"),i=this._inkBarContentElement=e.createElement("span");n.className="mdc-tab-indicator",i.className="mdc-tab-indicator__content mdc-tab-indicator__content--underline",n.appendChild(this._inkBarContentElement),this._appendInkBarElement()}_appendInkBarElement(){this._inkBarElement;let e=this._fitToContent?this._elementRef.nativeElement.querySelector(".mdc-tab__content"):this._elementRef.nativeElement;e.appendChild(this._inkBarElement)}static \u0275fac=function(n){return new(n||r)};static \u0275dir=ft({type:r,inputs:{fitInkBarToContent:[2,"fitInkBarToContent","fitInkBarToContent",Mt]},features:[Ur]})}return r})();var Tce=(()=>{class r extends n3e{elementRef=V(ut);disabled=!1;focus(){this.elementRef.nativeElement.focus()}getOffsetLeft(){return this.elementRef.nativeElement.offsetLeft}getOffsetWidth(){return this.elementRef.nativeElement.offsetWidth}static \u0275fac=(()=>{let e;return function(i){return(e||(e=Kn(r)))(i||r)}})();static \u0275dir=ft({type:r,selectors:[["","matTabLabelWrapper",""]],hostVars:3,hostBindings:function(n,i){n&2&&(rr("aria-disabled",!!i.disabled),Wt("mat-mdc-tab-disabled",i.disabled))},inputs:{disabled:[2,"disabled","disabled",Mt]},features:[Ur,er]})}return r})(),Ece=Ia({passive:!0}),i3e=650,o3e=100,s3e=(()=>{class r{_elementRef=V(ut);_changeDetectorRef=V(qt);_viewportRuler=V(dh);_dir=V(no,{optional:!0});_ngZone=V(xt);_platform=V(tn);_animationMode=V(Xn,{optional:!0});_scrollDistance=0;_selectedIndexChanged=!1;_destroyed=new Ke;_showPaginationControls=!1;_disableScrollAfter=!0;_disableScrollBefore=!0;_tabLabelCount;_scrollDistanceChanged;_keyManager;_currentTextContent;_stopScrolling=new Ke;disablePagination=!1;get selectedIndex(){return this._selectedIndex}set selectedIndex(e){let n=isNaN(e)?0:e;this._selectedIndex!=n&&(this._selectedIndexChanged=!0,this._selectedIndex=n,this._keyManager&&this._keyManager.updateActiveItem(n))}_selectedIndex=0;selectFocusedIndex=new ct;indexFocused=new ct;_sharedResizeObserver=V(iM);_injector=V(lr);constructor(){this._ngZone.runOutsideAngular(()=>{Ca(this._elementRef.nativeElement,"mouseleave").pipe(Vt(this._destroyed)).subscribe(()=>this._stopInterval())})}ngAfterViewInit(){Ca(this._previousPaginator.nativeElement,"touchstart",Ece).pipe(Vt(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("before")}),Ca(this._nextPaginator.nativeElement,"touchstart",Ece).pipe(Vt(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("after")})}ngAfterContentInit(){let e=this._dir?this._dir.change:tt("ltr"),n=this._sharedResizeObserver.observe(this._elementRef.nativeElement).pipe(xn(32),Vt(this._destroyed)),i=this._viewportRuler.change(150).pipe(Vt(this._destroyed)),o=()=>{this.updatePagination(),this._alignInkBarToSelectedTab()};this._keyManager=new Tf(this._items).withHorizontalOrientation(this._getLayoutDirection()).withHomeAndEnd().withWrap().skipPredicate(()=>!1),this._keyManager.updateActiveItem(this._selectedIndex),Ho(o,{injector:this._injector}),Si(e,i,n,this._items.changes,this._itemsResized()).pipe(Vt(this._destroyed)).subscribe(()=>{this._ngZone.run(()=>{Promise.resolve().then(()=>{this._scrollDistance=Math.max(0,Math.min(this._getMaxScrollDistance(),this._scrollDistance)),o()})}),this._keyManager.withHorizontalOrientation(this._getLayoutDirection())}),this._keyManager.change.subscribe(s=>{this.indexFocused.emit(s),this._setTabFocus(s)})}_itemsResized(){return typeof ResizeObserver!="function"?Qi:this._items.changes.pipe(si(this._items),Wr(e=>new Jt(n=>this._ngZone.runOutsideAngular(()=>{let i=new ResizeObserver(o=>n.next(o));return e.forEach(o=>i.observe(o.elementRef.nativeElement)),()=>{i.disconnect()}}))),rm(1),sr(e=>e.some(n=>n.contentRect.width>0&&n.contentRect.height>0)))}ngAfterContentChecked(){this._tabLabelCount!=this._items.length&&(this.updatePagination(),this._tabLabelCount=this._items.length,this._changeDetectorRef.markForCheck()),this._selectedIndexChanged&&(this._scrollToLabel(this._selectedIndex),this._checkScrollingControls(),this._alignInkBarToSelectedTab(),this._selectedIndexChanged=!1,this._changeDetectorRef.markForCheck()),this._scrollDistanceChanged&&(this._updateTabScrollPosition(),this._scrollDistanceChanged=!1,this._changeDetectorRef.markForCheck())}ngOnDestroy(){this._keyManager?.destroy(),this._destroyed.next(),this._destroyed.complete(),this._stopScrolling.complete()}_handleKeydown(e){if(!to(e))switch(e.keyCode){case 13:case 32:if(this.focusIndex!==this.selectedIndex){let n=this._items.get(this.focusIndex);n&&!n.disabled&&(this.selectFocusedIndex.emit(this.focusIndex),this._itemSelected(e))}break;default:this._keyManager.onKeydown(e)}}_onContentChanges(){let e=this._elementRef.nativeElement.textContent;e!==this._currentTextContent&&(this._currentTextContent=e||"",this._ngZone.run(()=>{this.updatePagination(),this._alignInkBarToSelectedTab(),this._changeDetectorRef.markForCheck()}))}updatePagination(){this._checkPaginationEnabled(),this._checkScrollingControls(),this._updateTabScrollPosition()}get focusIndex(){return this._keyManager?this._keyManager.activeItemIndex:0}set focusIndex(e){!this._isValidIndex(e)||this.focusIndex===e||!this._keyManager||this._keyManager.setActiveItem(e)}_isValidIndex(e){return this._items?!!this._items.toArray()[e]:!0}_setTabFocus(e){if(this._showPaginationControls&&this._scrollToLabel(e),this._items&&this._items.length){this._items.toArray()[e].focus();let n=this._tabListContainer.nativeElement;this._getLayoutDirection()=="ltr"?n.scrollLeft=0:n.scrollLeft=n.scrollWidth-n.offsetWidth}}_getLayoutDirection(){return this._dir&&this._dir.value==="rtl"?"rtl":"ltr"}_updateTabScrollPosition(){if(this.disablePagination)return;let e=this.scrollDistance,n=this._getLayoutDirection()==="ltr"?-e:e;this._tabList.nativeElement.style.transform=`translateX(${Math.round(n)}px)`,(this._platform.TRIDENT||this._platform.EDGE)&&(this._tabListContainer.nativeElement.scrollLeft=0)}get scrollDistance(){return this._scrollDistance}set scrollDistance(e){this._scrollTo(e)}_scrollHeader(e){let n=this._tabListContainer.nativeElement.offsetWidth,i=(e=="before"?-1:1)*n/3;return this._scrollTo(this._scrollDistance+i)}_handlePaginatorClick(e){this._stopInterval(),this._scrollHeader(e)}_scrollToLabel(e){if(this.disablePagination)return;let n=this._items?this._items.toArray()[e]:null;if(!n)return;let i=this._tabListContainer.nativeElement.offsetWidth,{offsetLeft:o,offsetWidth:s}=n.elementRef.nativeElement,a,l;this._getLayoutDirection()=="ltr"?(a=o,l=a+s):(l=this._tabListInner.nativeElement.offsetWidth-o,a=l-s);let c=this.scrollDistance,d=this.scrollDistance+i;a<c?this.scrollDistance-=c-a:l>d&&(this.scrollDistance+=Math.min(l-d,a-c))}_checkPaginationEnabled(){if(this.disablePagination)this._showPaginationControls=!1;else{let e=this._tabListInner.nativeElement.scrollWidth,n=this._elementRef.nativeElement.offsetWidth,i=e-n>=5;i||(this.scrollDistance=0),i!==this._showPaginationControls&&(this._showPaginationControls=i,this._changeDetectorRef.markForCheck())}}_checkScrollingControls(){this.disablePagination?this._disableScrollAfter=this._disableScrollBefore=!0:(this._disableScrollBefore=this.scrollDistance==0,this._disableScrollAfter=this.scrollDistance==this._getMaxScrollDistance(),this._changeDetectorRef.markForCheck())}_getMaxScrollDistance(){let e=this._tabListInner.nativeElement.scrollWidth,n=this._tabListContainer.nativeElement.offsetWidth;return e-n||0}_alignInkBarToSelectedTab(){let e=this._items&&this._items.length?this._items.toArray()[this.selectedIndex]:null,n=e?e.elementRef.nativeElement:null;n?this._inkBar.alignToElement(n):this._inkBar.hide()}_stopInterval(){this._stopScrolling.next()}_handlePaginatorPress(e,n){n&&n.button!=null&&n.button!==0||(this._stopInterval(),rd(i3e,o3e).pipe(Vt(Si(this._stopScrolling,this._destroyed))).subscribe(()=>{let{maxScrollDistance:i,distance:o}=this._scrollHeader(e);(o===0||o>=i)&&this._stopInterval()}))}_scrollTo(e){if(this.disablePagination)return{maxScrollDistance:0,distance:0};let n=this._getMaxScrollDistance();return this._scrollDistance=Math.max(0,Math.min(n,e)),this._scrollDistanceChanged=!0,this._checkScrollingControls(),{maxScrollDistance:n,distance:this._scrollDistance}}static \u0275fac=function(n){return new(n||r)};static \u0275dir=ft({type:r,inputs:{disablePagination:[2,"disablePagination","disablePagination",Mt],selectedIndex:[2,"selectedIndex","selectedIndex",qi]},outputs:{selectFocusedIndex:"selectFocusedIndex",indexFocused:"indexFocused"},features:[Ur]})}return r})(),a3e=(()=>{class r extends s3e{_items;_tabListContainer;_tabList;_tabListInner;_nextPaginator;_previousPaginator;_inkBar;ariaLabel;ariaLabelledby;disableRipple=!1;ngAfterContentInit(){this._inkBar=new J4(this._items),super.ngAfterContentInit()}_itemSelected(e){e.preventDefault()}static \u0275fac=(()=>{let e;return function(i){return(e||(e=Kn(r)))(i||r)}})();static \u0275cmp=Be({type:r,selectors:[["mat-tab-header"]],contentQueries:function(n,i,o){if(n&1&&Qn(o,Tce,4),n&2){let s;Ft(s=Rt())&&(i._items=s)}},viewQuery:function(n,i){if(n&1&&(Cr(LBe,7),Cr(BBe,7),Cr(VBe,7),Cr(zBe,5),Cr(jBe,5)),n&2){let o;Ft(o=Rt())&&(i._tabListContainer=o.first),Ft(o=Rt())&&(i._tabList=o.first),Ft(o=Rt())&&(i._tabListInner=o.first),Ft(o=Rt())&&(i._nextPaginator=o.first),Ft(o=Rt())&&(i._previousPaginator=o.first)}},hostAttrs:[1,"mat-mdc-tab-header"],hostVars:4,hostBindings:function(n,i){n&2&&Wt("mat-mdc-tab-header-pagination-controls-enabled",i._showPaginationControls)("mat-mdc-tab-header-rtl",i._getLayoutDirection()=="rtl")},inputs:{ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],disableRipple:[2,"disableRipple","disableRipple",Mt]},features:[Ur,er],ngContentSelectors:t5,decls:13,vars:10,consts:[["previousPaginator",""],["tabListContainer",""],["tabList",""],["tabListInner",""],["nextPaginator",""],["mat-ripple","",1,"mat-mdc-tab-header-pagination","mat-mdc-tab-header-pagination-before",3,"click","mousedown","touchend","matRippleDisabled"],[1,"mat-mdc-tab-header-pagination-chevron"],[1,"mat-mdc-tab-label-container",3,"keydown"],["role","tablist",1,"mat-mdc-tab-list",3,"cdkObserveContent"],[1,"mat-mdc-tab-labels"],["mat-ripple","",1,"mat-mdc-tab-header-pagination","mat-mdc-tab-header-pagination-after",3,"mousedown","click","touchend","matRippleDisabled"]],template:function(n,i){if(n&1){let o=ot();un(),W(0,"div",5,0),Me("click",function(){return xe(o),we(i._handlePaginatorClick("before"))})("mousedown",function(a){return xe(o),we(i._handlePaginatorPress("before",a))})("touchend",function(){return xe(o),we(i._stopInterval())}),Te(2,"div",6),$(),W(3,"div",7,1),Me("keydown",function(a){return xe(o),we(i._handleKeydown(a))}),W(5,"div",8,2),Me("cdkObserveContent",function(){return xe(o),we(i._onContentChanges())}),W(7,"div",9,3),hr(9),$()()(),W(10,"div",10,4),Me("mousedown",function(a){return xe(o),we(i._handlePaginatorPress("after",a))})("click",function(){return xe(o),we(i._handlePaginatorClick("after"))})("touchend",function(){return xe(o),we(i._stopInterval())}),Te(12,"div",6),$()}n&2&&(Wt("mat-mdc-tab-header-pagination-disabled",i._disableScrollBefore),oe("matRippleDisabled",i._disableScrollBefore||i.disableRipple),K(3),Wt("_mat-animation-noopable",i._animationMode==="NoopAnimations"),K(2),rr("aria-label",i.ariaLabel||null)("aria-labelledby",i.ariaLabelledby||null),K(5),Wt("mat-mdc-tab-header-pagination-disabled",i._disableScrollAfter),oe("matRippleDisabled",i._disableScrollAfter||i.disableRipple))},dependencies:[_c,Y7],styles:[".mat-mdc-tab-header{display:flex;overflow:hidden;position:relative;flex-shrink:0}.mdc-tab-indicator .mdc-tab-indicator__content{transition-duration:var(--mat-tab-animation-duration, 250ms)}.mat-mdc-tab-header-pagination{-webkit-user-select:none;user-select:none;position:relative;display:none;justify-content:center;align-items:center;min-width:32px;cursor:pointer;z-index:2;-webkit-tap-highlight-color:rgba(0,0,0,0);touch-action:none;box-sizing:content-box;outline:0}.mat-mdc-tab-header-pagination::-moz-focus-inner{border:0}.mat-mdc-tab-header-pagination .mat-ripple-element{opacity:.12;background-color:var(--mat-tab-header-inactive-ripple-color, var(--mat-sys-on-surface))}.mat-mdc-tab-header-pagination-controls-enabled .mat-mdc-tab-header-pagination{display:flex}.mat-mdc-tab-header-pagination-before,.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-after{padding-left:4px}.mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron{transform:rotate(-135deg)}.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-before,.mat-mdc-tab-header-pagination-after{padding-right:4px}.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron{transform:rotate(45deg)}.mat-mdc-tab-header-pagination-chevron{border-style:solid;border-width:2px 2px 0 0;height:8px;width:8px;border-color:var(--mat-tab-header-pagination-icon-color, var(--mat-sys-on-surface))}.mat-mdc-tab-header-pagination-disabled{box-shadow:none;cursor:default;pointer-events:none}.mat-mdc-tab-header-pagination-disabled .mat-mdc-tab-header-pagination-chevron{opacity:.4}.mat-mdc-tab-list{flex-grow:1;position:relative;transition:transform 500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-mdc-tab-list{transition:none}.mat-mdc-tab-label-container{display:flex;flex-grow:1;overflow:hidden;z-index:1;border-bottom-style:solid;border-bottom-width:var(--mat-tab-header-divider-height, 1px);border-bottom-color:var(--mat-tab-header-divider-color, var(--mat-sys-surface-variant))}.mat-mdc-tab-group-inverted-header .mat-mdc-tab-label-container{border-bottom:none;border-top-style:solid;border-top-width:var(--mat-tab-header-divider-height, 1px);border-top-color:var(--mat-tab-header-divider-color, var(--mat-sys-surface-variant))}.mat-mdc-tab-labels{display:flex;flex:1 0 auto}[mat-align-tabs=center]>.mat-mdc-tab-header .mat-mdc-tab-labels{justify-content:center}[mat-align-tabs=end]>.mat-mdc-tab-header .mat-mdc-tab-labels{justify-content:flex-end}.cdk-drop-list .mat-mdc-tab-labels,.mat-mdc-tab-labels.cdk-drop-list{min-height:var(--mdc-secondary-navigation-tab-container-height, 48px)}.mat-mdc-tab::before{margin:5px}@media(forced-colors: active){.mat-mdc-tab[aria-disabled=true]{color:GrayText}}"],encapsulation:2})}return r})(),l3e=new He("MAT_TABS_CONFIG"),c3e={translateTab:fl("translateTab",[Bs("center, void, left-origin-center, right-origin-center",ri({transform:"none",visibility:"visible"})),Bs("left",ri({transform:"translate3d(-100%, 0, 0)",minHeight:"1px",visibility:"hidden"})),Bs("right",ri({transform:"translate3d(100%, 0, 0)",minHeight:"1px",visibility:"hidden"})),ms("* => left, * => right, left => center, right => center",Ls("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")),ms("void => left-origin-center",[ri({transform:"translate3d(-100%, 0, 0)",visibility:"hidden"}),Ls("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")]),ms("void => right-origin-center",[ri({transform:"translate3d(100%, 0, 0)",visibility:"hidden"}),Ls("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")])])},u3e=(()=>{class r extends Rc{_host=V(Ice);_centeringSub=yr.EMPTY;_leavingSub=yr.EMPTY;constructor(){super()}ngOnInit(){super.ngOnInit(),this._centeringSub=this._host._beforeCentering.pipe(si(this._host._isCenterPosition(this._host._position))).subscribe(e=>{this._host._content&&e&&!this.hasAttached()&&this.attach(this._host._content)}),this._leavingSub=this._host._afterLeavingCenter.subscribe(()=>{this._host.preserveContent||this.detach()})}ngOnDestroy(){super.ngOnDestroy(),this._centeringSub.unsubscribe(),this._leavingSub.unsubscribe()}static \u0275fac=function(n){return new(n||r)};static \u0275dir=ft({type:r,selectors:[["","matTabBodyHost",""]],features:[er]})}return r})(),Ice=(()=>{class r{_elementRef=V(ut);_dir=V(no,{optional:!0});_positionIndex;_dirChangeSubscription=yr.EMPTY;_position;_translateTabComplete=new Ke;_onCentering=new ct;_beforeCentering=new ct;_afterLeavingCenter=new ct;_onCentered=new ct(!0);_portalHost;_content;origin;animationDuration="500ms";preserveContent=!1;set position(e){this._positionIndex=e,this._computePositionAnimationState()}constructor(){if(this._dir){let e=V(qt);this._dirChangeSubscription=this._dir.change.subscribe(n=>{this._computePositionAnimationState(n),e.markForCheck()})}this._translateTabComplete.subscribe(e=>{this._isCenterPosition(e.toState)&&this._isCenterPosition(this._position)&&this._onCentered.emit(),this._isCenterPosition(e.fromState)&&!this._isCenterPosition(this._position)&&this._afterLeavingCenter.emit()})}ngOnInit(){this._position=="center"&&this.origin!=null&&(this._position=this._computePositionFromOrigin(this.origin))}ngOnDestroy(){this._dirChangeSubscription.unsubscribe(),this._translateTabComplete.complete()}_onTranslateTabStarted(e){let n=this._isCenterPosition(e.toState);this._beforeCentering.emit(n),n&&this._onCentering.emit(this._elementRef.nativeElement.clientHeight)}_getLayoutDirection(){return this._dir&&this._dir.value==="rtl"?"rtl":"ltr"}_isCenterPosition(e){return e=="center"||e=="left-origin-center"||e=="right-origin-center"}_computePositionAnimationState(e=this._getLayoutDirection()){this._positionIndex<0?this._position=e=="ltr"?"left":"right":this._positionIndex>0?this._position=e=="ltr"?"right":"left":this._position="center"}_computePositionFromOrigin(e){let n=this._getLayoutDirection();return n=="ltr"&&e<=0||n=="rtl"&&e>0?"left-origin-center":"right-origin-center"}static \u0275fac=function(n){return new(n||r)};static \u0275cmp=Be({type:r,selectors:[["mat-tab-body"]],viewQuery:function(n,i){if(n&1&&Cr(Rc,5),n&2){let o;Ft(o=Rt())&&(i._portalHost=o.first)}},hostAttrs:[1,"mat-mdc-tab-body"],inputs:{_content:[0,"content","_content"],origin:"origin",animationDuration:"animationDuration",preserveContent:"preserveContent",position:"position"},outputs:{_onCentering:"_onCentering",_beforeCentering:"_beforeCentering",_afterLeavingCenter:"_afterLeavingCenter",_onCentered:"_onCentered"},decls:3,vars:6,consts:[["content",""],["cdkScrollable","",1,"mat-mdc-tab-body-content"],["matTabBodyHost",""]],template:function(n,i){if(n&1){let o=ot();W(0,"div",1,0),Me("@translateTab.start",function(a){return xe(o),we(i._onTranslateTabStarted(a))})("@translateTab.done",function(a){return xe(o),we(i._translateTabComplete.next(a))}),Oe(2,qBe,0,0,"ng-template",2),$()}n&2&&oe("@translateTab",C1(3,UBe,i._position,Un(1,HBe,i.animationDuration)))},dependencies:[u3e,j_],styles:['.mat-mdc-tab-body{top:0;left:0;right:0;bottom:0;position:absolute;display:block;overflow:hidden;outline:0;flex-basis:100%}.mat-mdc-tab-body.mat-mdc-tab-body-active{position:relative;overflow-x:hidden;overflow-y:auto;z-index:1;flex-grow:1}.mat-mdc-tab-group.mat-mdc-tab-group-dynamic-height .mat-mdc-tab-body.mat-mdc-tab-body-active{overflow-y:hidden}.mat-mdc-tab-body-content{height:100%;overflow:auto}.mat-mdc-tab-group-dynamic-height .mat-mdc-tab-body-content{overflow:hidden}.mat-mdc-tab-body-content[style*="visibility: hidden"]{display:none}'],encapsulation:2,data:{animation:[c3e.translateTab]}})}return r})(),d3e=!0,kce=(()=>{class r{_elementRef=V(ut);_changeDetectorRef=V(qt);_animationMode=V(Xn,{optional:!0});_allTabs;_tabBodyWrapper;_tabHeader;_tabs=new Al;_indexToSelect=0;_lastFocusedTabIndex=null;_tabBodyWrapperHeight=0;_tabsSubscription=yr.EMPTY;_tabLabelSubscription=yr.EMPTY;color;get fitInkBarToContent(){return this._fitInkBarToContent}set fitInkBarToContent(e){this._fitInkBarToContent=e,this._changeDetectorRef.markForCheck()}_fitInkBarToContent=!1;stretchTabs=!0;alignTabs=null;dynamicHeight=!1;get selectedIndex(){return this._selectedIndex}set selectedIndex(e){this._indexToSelect=isNaN(e)?null:e}_selectedIndex=null;headerPosition="above";get animationDuration(){return this._animationDuration}set animationDuration(e){let n=e+"";this._animationDuration=/^\d+$/.test(n)?e+"ms":n}_animationDuration;get contentTabIndex(){return this._contentTabIndex}set contentTabIndex(e){this._contentTabIndex=isNaN(e)?null:e}_contentTabIndex;disablePagination=!1;disableRipple=!1;preserveContent=!1;get backgroundColor(){return this._backgroundColor}set backgroundColor(e){if(!d3e)throw new Error("mat-tab-group background color must be set through the Sass theming API");let n=this._elementRef.nativeElement.classList;n.remove("mat-tabs-with-background",`mat-background-${this.backgroundColor}`),e&&n.add("mat-tabs-with-background",`mat-background-${e}`),this._backgroundColor=e}_backgroundColor;ariaLabel;ariaLabelledby;selectedIndexChange=new ct;focusChange=new ct;animationDone=new ct;selectedTabChange=new ct(!0);_groupId;_isServer=!V(tn).isBrowser;constructor(){let e=V(l3e,{optional:!0});this._groupId=V(qn).getId("mat-tab-group-"),this.animationDuration=e&&e.animationDuration?e.animationDuration:"500ms",this.disablePagination=e&&e.disablePagination!=null?e.disablePagination:!1,this.dynamicHeight=e&&e.dynamicHeight!=null?e.dynamicHeight:!1,e?.contentTabIndex!=null&&(this.contentTabIndex=e.contentTabIndex),this.preserveContent=!!e?.preserveContent,this.fitInkBarToContent=e&&e.fitInkBarToContent!=null?e.fitInkBarToContent:!1,this.stretchTabs=e&&e.stretchTabs!=null?e.stretchTabs:!0,this.alignTabs=e&&e.alignTabs!=null?e.alignTabs:null}ngAfterContentChecked(){let e=this._indexToSelect=this._clampTabIndex(this._indexToSelect);if(this._selectedIndex!=e){let n=this._selectedIndex==null;if(!n){this.selectedTabChange.emit(this._createChangeEvent(e));let i=this._tabBodyWrapper.nativeElement;i.style.minHeight=i.clientHeight+"px"}Promise.resolve().then(()=>{this._tabs.forEach((i,o)=>i.isActive=o===e),n||(this.selectedIndexChange.emit(e),this._tabBodyWrapper.nativeElement.style.minHeight="")})}this._tabs.forEach((n,i)=>{n.position=i-e,this._selectedIndex!=null&&n.position==0&&!n.origin&&(n.origin=e-this._selectedIndex)}),this._selectedIndex!==e&&(this._selectedIndex=e,this._lastFocusedTabIndex=null,this._changeDetectorRef.markForCheck())}ngAfterContentInit(){this._subscribeToAllTabChanges(),this._subscribeToTabLabels(),this._tabsSubscription=this._tabs.changes.subscribe(()=>{let e=this._clampTabIndex(this._indexToSelect);if(e===this._selectedIndex){let n=this._tabs.toArray(),i;for(let o=0;o<n.length;o++)if(n[o].isActive){this._indexToSelect=this._selectedIndex=o,this._lastFocusedTabIndex=null,i=n[o];break}!i&&n[e]&&Promise.resolve().then(()=>{n[e].isActive=!0,this.selectedTabChange.emit(this._createChangeEvent(e))})}this._changeDetectorRef.markForCheck()})}_subscribeToAllTabChanges(){this._allTabs.changes.pipe(si(this._allTabs)).subscribe(e=>{this._tabs.reset(e.filter(n=>n._closestTabGroup===this||!n._closestTabGroup)),this._tabs.notifyOnChanges()})}ngOnDestroy(){this._tabs.destroy(),this._tabsSubscription.unsubscribe(),this._tabLabelSubscription.unsubscribe()}realignInkBar(){this._tabHeader&&this._tabHeader._alignInkBarToSelectedTab()}updatePagination(){this._tabHeader&&this._tabHeader.updatePagination()}focusTab(e){let n=this._tabHeader;n&&(n.focusIndex=e)}_focusChanged(e){this._lastFocusedTabIndex=e,this.focusChange.emit(this._createChangeEvent(e))}_createChangeEvent(e){let n=new e5;return n.index=e,this._tabs&&this._tabs.length&&(n.tab=this._tabs.toArray()[e]),n}_subscribeToTabLabels(){this._tabLabelSubscription&&this._tabLabelSubscription.unsubscribe(),this._tabLabelSubscription=Si(...this._tabs.map(e=>e._stateChanges)).subscribe(()=>this._changeDetectorRef.markForCheck())}_clampTabIndex(e){return Math.min(this._tabs.length-1,Math.max(e||0,0))}_getTabLabelId(e){return`${this._groupId}-label-${e}`}_getTabContentId(e){return`${this._groupId}-content-${e}`}_setTabBodyWrapperHeight(e){if(!this.dynamicHeight||!this._tabBodyWrapperHeight)return;let n=this._tabBodyWrapper.nativeElement;n.style.height=this._tabBodyWrapperHeight+"px",this._tabBodyWrapper.nativeElement.offsetHeight&&(n.style.height=e+"px")}_removeTabBodyWrapperHeight(){let e=this._tabBodyWrapper.nativeElement;this._tabBodyWrapperHeight=e.clientHeight,e.style.height="",this.animationDone.emit()}_handleClick(e,n,i){n.focusIndex=i,e.disabled||(this.selectedIndex=i)}_getTabIndex(e){let n=this._lastFocusedTabIndex??this.selectedIndex;return e===n?0:-1}_tabFocusChanged(e,n){e&&e!=="mouse"&&e!=="touch"&&(this._tabHeader.focusIndex=n)}static \u0275fac=function(n){return new(n||r)};static \u0275cmp=Be({type:r,selectors:[["mat-tab-group"]],contentQueries:function(n,i,o){if(n&1&&Qn(o,r5,5),n&2){let s;Ft(s=Rt())&&(i._allTabs=s)}},viewQuery:function(n,i){if(n&1&&(Cr(WBe,5),Cr($Be,5)),n&2){let o;Ft(o=Rt())&&(i._tabBodyWrapper=o.first),Ft(o=Rt())&&(i._tabHeader=o.first)}},hostAttrs:[1,"mat-mdc-tab-group"],hostVars:11,hostBindings:function(n,i){n&2&&(rr("mat-align-tabs",i.alignTabs),Li("mat-"+(i.color||"primary")),hn("--mat-tab-animation-duration",i.animationDuration),Wt("mat-mdc-tab-group-dynamic-height",i.dynamicHeight)("mat-mdc-tab-group-inverted-header",i.headerPosition==="below")("mat-mdc-tab-group-stretch-tabs",i.stretchTabs))},inputs:{color:"color",fitInkBarToContent:[2,"fitInkBarToContent","fitInkBarToContent",Mt],stretchTabs:[2,"mat-stretch-tabs","stretchTabs",Mt],alignTabs:[0,"mat-align-tabs","alignTabs"],dynamicHeight:[2,"dynamicHeight","dynamicHeight",Mt],selectedIndex:[2,"selectedIndex","selectedIndex",qi],headerPosition:"headerPosition",animationDuration:"animationDuration",contentTabIndex:[2,"contentTabIndex","contentTabIndex",qi],disablePagination:[2,"disablePagination","disablePagination",Mt],disableRipple:[2,"disableRipple","disableRipple",Mt],preserveContent:[2,"preserveContent","preserveContent",Mt],backgroundColor:"backgroundColor",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"]},outputs:{selectedIndexChange:"selectedIndexChange",focusChange:"focusChange",animationDone:"animationDone",selectedTabChange:"selectedTabChange"},exportAs:["matTabGroup"],features:[Lt([{provide:Ace,useExisting:r}]),Ur],ngContentSelectors:t5,decls:9,vars:8,consts:[["tabHeader",""],["tabBodyWrapper",""],["tabNode",""],[3,"indexFocused","selectFocusedIndex","selectedIndex","disableRipple","disablePagination","aria-label","aria-labelledby"],["role","tab","matTabLabelWrapper","","cdkMonitorElementFocus","",1,"mdc-tab","mat-mdc-tab","mat-focus-indicator",3,"id","mdc-tab--active","class","disabled","fitInkBarToContent"],[1,"mat-mdc-tab-body-wrapper"],["role","tabpanel",3,"id","mat-mdc-tab-body-active","class","content","position","origin","animationDuration","preserveContent"],["role","tab","matTabLabelWrapper","","cdkMonitorElementFocus","",1,"mdc-tab","mat-mdc-tab","mat-focus-indicator",3,"click","cdkFocusChange","id","disabled","fitInkBarToContent"],[1,"mdc-tab__ripple"],["mat-ripple","",1,"mat-mdc-tab-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mdc-tab__content"],[1,"mdc-tab__text-label"],[3,"cdkPortalOutlet"],["role","tabpanel",3,"_onCentered","_onCentering","id","content","position","origin","animationDuration","preserveContent"]],template:function(n,i){if(n&1){let o=ot();un(),W(0,"mat-tab-header",3,0),Me("indexFocused",function(a){return xe(o),we(i._focusChanged(a))})("selectFocusedIndex",function(a){return xe(o),we(i.selectedIndex=a)}),ur(2,XBe,8,17,"div",4,sa),$(),Oe(4,ZBe,1,0),W(5,"div",5,1),ur(7,QBe,1,13,"mat-tab-body",6,sa),$()}n&2&&(oe("selectedIndex",i.selectedIndex||0)("disableRipple",i.disableRipple)("disablePagination",i.disablePagination)("aria-label",i.ariaLabel)("aria-labelledby",i.ariaLabelledby),K(2),dr(i._tabs),K(2),Pe(i._isServer?4:-1),K(),Wt("_mat-animation-noopable",i._animationMode==="NoopAnimations"),K(2),dr(i._tabs))},dependencies:[a3e,Tce,c$,_c,Rc,Ice],styles:['.mdc-tab{min-width:90px;padding:0 24px;display:flex;flex:1 0 auto;justify-content:center;box-sizing:border-box;border:none;outline:none;text-align:center;white-space:nowrap;cursor:pointer;z-index:1}.mdc-tab__content{display:flex;align-items:center;justify-content:center;height:inherit;pointer-events:none}.mdc-tab__text-label{transition:150ms color linear;display:inline-block;line-height:1;z-index:2}.mdc-tab--active .mdc-tab__text-label{transition-delay:100ms}._mat-animation-noopable .mdc-tab__text-label{transition:none}.mdc-tab-indicator{display:flex;position:absolute;top:0;left:0;justify-content:center;width:100%;height:100%;pointer-events:none;z-index:1}.mdc-tab-indicator__content{transition:var(--mat-tab-animation-duration, 250ms) transform cubic-bezier(0.4, 0, 0.2, 1);transform-origin:left;opacity:0}.mdc-tab-indicator__content--underline{align-self:flex-end;box-sizing:border-box;width:100%;border-top-style:solid}.mdc-tab-indicator--active .mdc-tab-indicator__content{opacity:1}._mat-animation-noopable .mdc-tab-indicator__content,.mdc-tab-indicator--no-transition .mdc-tab-indicator__content{transition:none}.mat-mdc-tab-ripple.mat-mdc-tab-ripple{position:absolute;top:0;left:0;bottom:0;right:0;pointer-events:none}.mat-mdc-tab{-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-decoration:none;background:none;height:var(--mdc-secondary-navigation-tab-container-height, 48px);font-family:var(--mat-tab-header-label-text-font, var(--mat-sys-title-small-font));font-size:var(--mat-tab-header-label-text-size, var(--mat-sys-title-small-size));letter-spacing:var(--mat-tab-header-label-text-tracking, var(--mat-sys-title-small-tracking));line-height:var(--mat-tab-header-label-text-line-height, var(--mat-sys-title-small-line-height));font-weight:var(--mat-tab-header-label-text-weight, var(--mat-sys-title-small-weight))}.mat-mdc-tab.mdc-tab{flex-grow:0}.mat-mdc-tab .mdc-tab-indicator__content--underline{border-color:var(--mdc-tab-indicator-active-indicator-color, var(--mat-sys-primary));border-top-width:var(--mdc-tab-indicator-active-indicator-height, 2px);border-radius:var(--mdc-tab-indicator-active-indicator-shape, 0)}.mat-mdc-tab:hover .mdc-tab__text-label{color:var(--mat-tab-header-inactive-hover-label-text-color, var(--mat-sys-on-surface))}.mat-mdc-tab:focus .mdc-tab__text-label{color:var(--mat-tab-header-inactive-focus-label-text-color, var(--mat-sys-on-surface))}.mat-mdc-tab.mdc-tab--active .mdc-tab__text-label{color:var(--mat-tab-header-active-label-text-color, var(--mat-sys-on-surface))}.mat-mdc-tab.mdc-tab--active .mdc-tab__ripple::before,.mat-mdc-tab.mdc-tab--active .mat-ripple-element{background-color:var(--mat-tab-header-active-ripple-color, var(--mat-sys-on-surface))}.mat-mdc-tab.mdc-tab--active:hover .mdc-tab__text-label{color:var(--mat-tab-header-active-hover-label-text-color, var(--mat-sys-on-surface))}.mat-mdc-tab.mdc-tab--active:hover .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-active-hover-indicator-color, var(--mat-sys-primary))}.mat-mdc-tab.mdc-tab--active:focus .mdc-tab__text-label{color:var(--mat-tab-header-active-focus-label-text-color, var(--mat-sys-on-surface))}.mat-mdc-tab.mdc-tab--active:focus .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-active-focus-indicator-color, var(--mat-sys-primary))}.mat-mdc-tab.mat-mdc-tab-disabled{opacity:.4;pointer-events:none}.mat-mdc-tab.mat-mdc-tab-disabled .mdc-tab__content{pointer-events:none}.mat-mdc-tab.mat-mdc-tab-disabled .mdc-tab__ripple::before,.mat-mdc-tab.mat-mdc-tab-disabled .mat-ripple-element{background-color:var(--mat-tab-header-disabled-ripple-color)}.mat-mdc-tab .mdc-tab__ripple::before{content:"";display:block;position:absolute;top:0;left:0;right:0;bottom:0;opacity:0;pointer-events:none;background-color:var(--mat-tab-header-inactive-ripple-color, var(--mat-sys-on-surface))}.mat-mdc-tab .mdc-tab__text-label{color:var(--mat-tab-header-inactive-label-text-color, var(--mat-sys-on-surface));display:inline-flex;align-items:center}.mat-mdc-tab .mdc-tab__content{position:relative;pointer-events:auto}.mat-mdc-tab:hover .mdc-tab__ripple::before{opacity:.04}.mat-mdc-tab.cdk-program-focused .mdc-tab__ripple::before,.mat-mdc-tab.cdk-keyboard-focused .mdc-tab__ripple::before{opacity:.12}.mat-mdc-tab .mat-ripple-element{opacity:.12;background-color:var(--mat-tab-header-inactive-ripple-color, var(--mat-sys-on-surface))}.mat-mdc-tab-group.mat-mdc-tab-group-stretch-tabs>.mat-mdc-tab-header .mat-mdc-tab{flex-grow:1}.mat-mdc-tab-group{display:flex;flex-direction:column;max-width:100%}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination{background-color:var(--mat-tab-header-with-background-background-color)}.mat-mdc-tab-group.mat-tabs-with-background.mat-primary>.mat-mdc-tab-header .mat-mdc-tab .mdc-tab__text-label{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background.mat-primary>.mat-mdc-tab-header .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background:not(.mat-primary)>.mat-mdc-tab-header .mat-mdc-tab:not(.mdc-tab--active) .mdc-tab__text-label{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background:not(.mat-primary)>.mat-mdc-tab-header .mat-mdc-tab:not(.mdc-tab--active) .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-focus-indicator::before,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-focus-indicator::before{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-ripple-element,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mdc-tab__ripple::before,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-ripple-element,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mdc-tab__ripple::before{background-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-tab-header-pagination-chevron{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-mdc-tab-group-inverted-header{flex-direction:column-reverse}.mat-mdc-tab-group.mat-mdc-tab-group-inverted-header .mdc-tab-indicator__content--underline{align-self:flex-start}.mat-mdc-tab-body-wrapper{position:relative;overflow:hidden;display:flex;transition:height 500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-mdc-tab-body-wrapper._mat-animation-noopable{transition:none !important;animation:none !important}'],encapsulation:2})}return r})(),e5=class{index;tab};var Nce=(()=>{class r{static \u0275fac=function(n){return new(n||r)};static \u0275mod=Nt({type:r});static \u0275inj=kt({imports:[$r,$r]})}return r})();var n5=new He("CdkAccordion"),Oce=(()=>{class r{_stateChanges=new Ke;_openCloseAllActions=new Ke;id=V(qn).getId("cdk-accordion-");multi=!1;openAll(){this.multi&&this._openCloseAllActions.next(!0)}closeAll(){this._openCloseAllActions.next(!1)}ngOnChanges(e){this._stateChanges.next(e)}ngOnDestroy(){this._stateChanges.complete(),this._openCloseAllActions.complete()}static \u0275fac=function(n){return new(n||r)};static \u0275dir=ft({type:r,selectors:[["cdk-accordion"],["","cdkAccordion",""]],inputs:{multi:[2,"multi","multi",Mt]},exportAs:["cdkAccordion"],features:[Lt([{provide:n5,useExisting:r}]),Ur,cr]})}return r})(),Fce=(()=>{class r{accordion=V(n5,{optional:!0,skipSelf:!0});_changeDetectorRef=V(qt);_expansionDispatcher=V(JE);_openCloseAllSubscription=yr.EMPTY;closed=new ct;opened=new ct;destroyed=new ct;expandedChange=new ct;id=V(qn).getId("cdk-accordion-child-");get expanded(){return this._expanded}set expanded(e){if(this._expanded!==e){if(this._expanded=e,this.expandedChange.emit(e),e){this.opened.emit();let n=this.accordion?this.accordion.id:this.id;this._expansionDispatcher.notify(this.id,n)}else this.closed.emit();this._changeDetectorRef.markForCheck()}}_expanded=!1;disabled=!1;_removeUniqueSelectionListener=()=>{};constructor(){}ngOnInit(){this._removeUniqueSelectionListener=this._expansionDispatcher.listen((e,n)=>{this.accordion&&!this.accordion.multi&&this.accordion.id===n&&this.id!==e&&(this.expanded=!1)}),this.accordion&&(this._openCloseAllSubscription=this._subscribeToOpenCloseAllActions())}ngOnDestroy(){this.opened.complete(),this.closed.complete(),this.destroyed.emit(),this.destroyed.complete(),this._removeUniqueSelectionListener(),this._openCloseAllSubscription.unsubscribe()}toggle(){this.disabled||(this.expanded=!this.expanded)}close(){this.disabled||(this.expanded=!1)}open(){this.disabled||(this.expanded=!0)}_subscribeToOpenCloseAllActions(){return this.accordion._openCloseAllActions.subscribe(e=>{this.disabled||(this.expanded=e)})}static \u0275fac=function(n){return new(n||r)};static \u0275dir=ft({type:r,selectors:[["cdk-accordion-item"],["","cdkAccordionItem",""]],inputs:{expanded:[2,"expanded","expanded",Mt],disabled:[2,"disabled","disabled",Mt]},outputs:{closed:"closed",opened:"opened",destroyed:"destroyed",expandedChange:"expandedChange"},exportAs:["cdkAccordionItem"],features:[Lt([{provide:n5,useValue:void 0}]),Ur]})}return r})(),Rce=(()=>{class r{static \u0275fac=function(n){return new(n||r)};static \u0275mod=Nt({type:r});static \u0275inj=kt({})}return r})();var h3e=["body"],m3e=[[["mat-expansion-panel-header"]],"*",[["mat-action-row"]]],p3e=["mat-expansion-panel-header","*","mat-action-row"];function g3e(r,t){}var v3e=[[["mat-panel-title"]],[["mat-panel-description"]],"*"],b3e=["mat-panel-title","mat-panel-description","*"];function y3e(r,t){if(r&1&&(W(0,"span",1),ru(),W(1,"svg",2),Te(2,"path",3),$()()),r&2){let e=ie();oe("@indicatorRotate",e._getExpandedState())}}var i5=new He("MAT_ACCORDION"),Pce="225ms cubic-bezier(0.4,0.0,0.2,1)",Bce={indicatorRotate:fl("indicatorRotate",[Bs("collapsed, void",ri({transform:"rotate(0deg)"})),Bs("expanded",ri({transform:"rotate(180deg)"})),ms("expanded <=> collapsed, void => collapsed",Ls(Pce))]),bodyExpansion:fl("bodyExpansion",[Bs("collapsed, void",ri({height:"0px",visibility:"hidden"})),Bs("expanded",ri({height:"*",visibility:""})),ms("expanded <=> collapsed, void => collapsed",Ls(Pce))])},Vce=new He("MAT_EXPANSION_PANEL"),_3e=(()=>{class r{_template=V(Ui);_expansionPanel=V(Vce,{optional:!0});constructor(){}static \u0275fac=function(n){return new(n||r)};static \u0275dir=ft({type:r,selectors:[["ng-template","matExpansionPanelContent",""]]})}return r})(),zce=new He("MAT_EXPANSION_PANEL_DEFAULT_OPTIONS"),sp=(()=>{class r extends Fce{_viewContainerRef=V(Zn);_animationMode=V(Xn,{optional:!0});_animationsDisabled;_document=V(Xt);get hideToggle(){return this._hideToggle||this.accordion&&this.accordion.hideToggle}set hideToggle(e){this._hideToggle=e}_hideToggle=!1;get togglePosition(){return this._togglePosition||this.accordion&&this.accordion.togglePosition}set togglePosition(e){this._togglePosition=e}_togglePosition;afterExpand=new ct;afterCollapse=new ct;_inputChanges=new Ke;accordion=V(i5,{optional:!0,skipSelf:!0});_lazyContent;_body;_portal;_headerId=V(qn).getId("mat-expansion-panel-header-");constructor(){super();let e=V(zce,{optional:!0});this._expansionDispatcher=V(JE),this._animationsDisabled=this._animationMode==="NoopAnimations",e&&(this.hideToggle=e.hideToggle)}_hasSpacing(){return this.accordion?this.expanded&&this.accordion.displayMode==="default":!1}_getExpandedState(){return this.expanded?"expanded":"collapsed"}toggle(){this.expanded=!this.expanded}close(){this.expanded=!1}open(){this.expanded=!0}ngAfterContentInit(){this._lazyContent&&this._lazyContent._expansionPanel===this&&this.opened.pipe(si(null),sr(()=>this.expanded&&!this._portal),on(1)).subscribe(()=>{this._portal=new Va(this._lazyContent._template,this._viewContainerRef)})}ngOnChanges(e){this._inputChanges.next(e)}ngOnDestroy(){super.ngOnDestroy(),this._inputChanges.complete()}_containsFocus(){if(this._body){let e=this._document.activeElement,n=this._body.nativeElement;return e===n||n.contains(e)}return!1}_animationStarted(e){!Lce(e)&&!this._animationsDisabled&&this._body&&this._body?.nativeElement.setAttribute("inert","")}_animationDone(e){Lce(e)||(e.toState==="expanded"?this.afterExpand.emit():e.toState==="collapsed"&&this.afterCollapse.emit(),!this._animationsDisabled&&this._body&&this._body.nativeElement.removeAttribute("inert"))}static \u0275fac=function(n){return new(n||r)};static \u0275cmp=Be({type:r,selectors:[["mat-expansion-panel"]],contentQueries:function(n,i,o){if(n&1&&Qn(o,_3e,5),n&2){let s;Ft(s=Rt())&&(i._lazyContent=s.first)}},viewQuery:function(n,i){if(n&1&&Cr(h3e,5),n&2){let o;Ft(o=Rt())&&(i._body=o.first)}},hostAttrs:[1,"mat-expansion-panel"],hostVars:6,hostBindings:function(n,i){n&2&&Wt("mat-expanded",i.expanded)("_mat-animation-noopable",i._animationsDisabled)("mat-expansion-panel-spacing",i._hasSpacing())},inputs:{hideToggle:[2,"hideToggle","hideToggle",Mt],togglePosition:"togglePosition"},outputs:{afterExpand:"afterExpand",afterCollapse:"afterCollapse"},exportAs:["matExpansionPanel"],features:[Lt([{provide:i5,useValue:void 0},{provide:Vce,useExisting:r}]),Ur,er,cr],ngContentSelectors:p3e,decls:7,vars:4,consts:[["body",""],["role","region",1,"mat-expansion-panel-content",3,"id"],[1,"mat-expansion-panel-body"],[3,"cdkPortalOutlet"]],template:function(n,i){if(n&1){let o=ot();un(m3e),hr(0),W(1,"div",1,0),Me("@bodyExpansion.start",function(a){return xe(o),we(i._animationStarted(a))})("@bodyExpansion.done",function(a){return xe(o),we(i._animationDone(a))}),W(3,"div",2),hr(4,1),Oe(5,g3e,0,0,"ng-template",3),$(),hr(6,2),$()}n&2&&(K(),oe("@bodyExpansion",i._getExpandedState())("id",i.id),rr("aria-labelledby",i._headerId),K(4),oe("cdkPortalOutlet",i._portal))},dependencies:[Rc],styles:['.mat-expansion-panel{box-sizing:content-box;display:block;margin:0;overflow:hidden;transition:margin 225ms cubic-bezier(0.4, 0, 0.2, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);position:relative;background:var(--mat-expansion-container-background-color, var(--mat-sys-surface));color:var(--mat-expansion-container-text-color, var(--mat-sys-on-surface));border-radius:var(--mat-expansion-container-shape, 12px)}.mat-expansion-panel:not([class*=mat-elevation-z]){box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12)}.mat-accordion .mat-expansion-panel:not(.mat-expanded),.mat-accordion .mat-expansion-panel:not(.mat-expansion-panel-spacing){border-radius:0}.mat-accordion .mat-expansion-panel:first-of-type{border-top-right-radius:var(--mat-expansion-container-shape, 12px);border-top-left-radius:var(--mat-expansion-container-shape, 12px)}.mat-accordion .mat-expansion-panel:last-of-type{border-bottom-right-radius:var(--mat-expansion-container-shape, 12px);border-bottom-left-radius:var(--mat-expansion-container-shape, 12px)}@media(forced-colors: active){.mat-expansion-panel{outline:solid 1px}}.mat-expansion-panel.ng-animate-disabled,.ng-animate-disabled .mat-expansion-panel,.mat-expansion-panel._mat-animation-noopable{transition:none}.mat-expansion-panel-content{display:flex;flex-direction:column;overflow:visible;font-family:var(--mat-expansion-container-text-font, var(--mat-sys-body-large-font));font-size:var(--mat-expansion-container-text-size, var(--mat-sys-body-large-size));font-weight:var(--mat-expansion-container-text-weight, var(--mat-sys-body-large-weight));line-height:var(--mat-expansion-container-text-line-height, var(--mat-sys-body-large-line-height));letter-spacing:var(--mat-expansion-container-text-tracking, var(--mat-sys-body-large-tracking))}.mat-expansion-panel-content[style*="visibility: hidden"] *{visibility:hidden !important}.mat-expansion-panel-body{padding:0 24px 16px}.mat-expansion-panel-spacing{margin:16px 0}.mat-accordion>.mat-expansion-panel-spacing:first-child,.mat-accordion>*:first-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-top:0}.mat-accordion>.mat-expansion-panel-spacing:last-child,.mat-accordion>*:last-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-bottom:0}.mat-action-row{border-top-style:solid;border-top-width:1px;display:flex;flex-direction:row;justify-content:flex-end;padding:16px 8px 16px 24px;border-top-color:var(--mat-expansion-actions-divider-color, var(--mat-sys-outline))}.mat-action-row .mat-button-base,.mat-action-row .mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-action-row .mat-button-base,[dir=rtl] .mat-action-row .mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2,data:{animation:[Bce.bodyExpansion]},changeDetection:0})}return r})();function Lce(r){return r.fromState==="void"}var ap=(()=>{class r{panel=V(sp,{host:!0});_element=V(ut);_focusMonitor=V(el);_changeDetectorRef=V(qt);_animationMode=V(Xn,{optional:!0});_parentChangeSubscription=yr.EMPTY;constructor(){V(Ti).load(tl);let e=this.panel,n=V(zce,{optional:!0}),i=V(new Ya("tabindex"),{optional:!0}),o=e.accordion?e.accordion._stateChanges.pipe(sr(s=>!!(s.hideToggle||s.togglePosition))):Qi;this.tabIndex=parseInt(i||"")||0,this._parentChangeSubscription=Si(e.opened,e.closed,o,e._inputChanges.pipe(sr(s=>!!(s.hideToggle||s.disabled||s.togglePosition)))).subscribe(()=>this._changeDetectorRef.markForCheck()),e.closed.pipe(sr(()=>e._containsFocus())).subscribe(()=>this._focusMonitor.focusVia(this._element,"program")),n&&(this.expandedHeight=n.expandedHeight,this.collapsedHeight=n.collapsedHeight)}expandedHeight;collapsedHeight;tabIndex=0;get disabled(){return this.panel.disabled}_toggle(){this.disabled||this.panel.toggle()}_isExpanded(){return this.panel.expanded}_getExpandedState(){return this.panel._getExpandedState()}_getPanelId(){return this.panel.id}_getTogglePosition(){return this.panel.togglePosition}_showToggle(){return!this.panel.hideToggle&&!this.panel.disabled}_getHeaderHeight(){let e=this._isExpanded();return e&&this.expandedHeight?this.expandedHeight:!e&&this.collapsedHeight?this.collapsedHeight:null}_keydown(e){switch(e.keyCode){case 32:case 13:to(e)||(e.preventDefault(),this._toggle());break;default:this.panel.accordion&&this.panel.accordion._handleHeaderKeydown(e);return}}focus(e,n){e?this._focusMonitor.focusVia(this._element,e,n):this._element.nativeElement.focus(n)}ngAfterViewInit(){this._focusMonitor.monitor(this._element).subscribe(e=>{e&&this.panel.accordion&&this.panel.accordion._handleHeaderFocus(this)})}ngOnDestroy(){this._parentChangeSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._element)}static \u0275fac=function(n){return new(n||r)};static \u0275cmp=Be({type:r,selectors:[["mat-expansion-panel-header"]],hostAttrs:["role","button",1,"mat-expansion-panel-header","mat-focus-indicator"],hostVars:15,hostBindings:function(n,i){n&1&&Me("click",function(){return i._toggle()})("keydown",function(s){return i._keydown(s)}),n&2&&(rr("id",i.panel._headerId)("tabindex",i.disabled?-1:i.tabIndex)("aria-controls",i._getPanelId())("aria-expanded",i._isExpanded())("aria-disabled",i.panel.disabled),hn("height",i._getHeaderHeight()),Wt("mat-expanded",i._isExpanded())("mat-expansion-toggle-indicator-after",i._getTogglePosition()==="after")("mat-expansion-toggle-indicator-before",i._getTogglePosition()==="before")("_mat-animation-noopable",i._animationMode==="NoopAnimations"))},inputs:{expandedHeight:"expandedHeight",collapsedHeight:"collapsedHeight",tabIndex:[2,"tabIndex","tabIndex",e=>e==null?0:qi(e)]},features:[Ur],ngContentSelectors:b3e,decls:5,vars:3,consts:[[1,"mat-content"],[1,"mat-expansion-indicator"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 -960 960 960","aria-hidden","true","focusable","false"],["d","M480-345 240-585l56-56 184 184 184-184 56 56-240 240Z"]],template:function(n,i){n&1&&(un(v3e),W(0,"span",0),hr(1),hr(2,1),hr(3,2),$(),Oe(4,y3e,3,1,"span",1)),n&2&&(Wt("mat-content-hide-toggle",!i._showToggle()),K(4),Pe(i._showToggle()?4:-1))},styles:['.mat-expansion-panel-header{display:flex;flex-direction:row;align-items:center;padding:0 24px;border-radius:inherit;transition:height 225ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mat-expansion-header-collapsed-state-height, 48px);font-family:var(--mat-expansion-header-text-font, var(--mat-sys-title-medium-font));font-size:var(--mat-expansion-header-text-size, var(--mat-sys-title-medium-size));font-weight:var(--mat-expansion-header-text-weight, var(--mat-sys-title-medium-weight));line-height:var(--mat-expansion-header-text-line-height, var(--mat-sys-title-medium-line-height));letter-spacing:var(--mat-expansion-header-text-tracking, var(--mat-sys-title-medium-tracking))}.mat-expansion-panel-header.mat-expanded{height:var(--mat-expansion-header-expanded-state-height, 64px)}.mat-expansion-panel-header[aria-disabled=true]{color:var(--mat-expansion-header-disabled-state-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-expansion-panel-header:not([aria-disabled=true]){cursor:pointer}.mat-expansion-panel:not(.mat-expanded) .mat-expansion-panel-header:not([aria-disabled=true]):hover{background:var(--mat-expansion-header-hover-state-layer-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-hover-state-layer-opacity) * 100%), transparent))}@media(hover: none){.mat-expansion-panel:not(.mat-expanded) .mat-expansion-panel-header:not([aria-disabled=true]):hover{background:var(--mat-expansion-container-background-color, var(--mat-sys-surface))}}.mat-expansion-panel .mat-expansion-panel-header:not([aria-disabled=true]).cdk-keyboard-focused,.mat-expansion-panel .mat-expansion-panel-header:not([aria-disabled=true]).cdk-program-focused{background:var(--mat-expansion-header-focus-state-layer-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-focus-state-layer-opacity) * 100%), transparent))}.mat-expansion-panel-header._mat-animation-noopable{transition:none}.mat-expansion-panel-header:focus,.mat-expansion-panel-header:hover{outline:none}.mat-expansion-panel-header.mat-expanded:focus,.mat-expansion-panel-header.mat-expanded:hover{background:inherit}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before{flex-direction:row-reverse}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 16px 0 0}[dir=rtl] .mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 0 0 16px}.mat-content{display:flex;flex:1;flex-direction:row;overflow:hidden}.mat-content.mat-content-hide-toggle{margin-right:8px}[dir=rtl] .mat-content.mat-content-hide-toggle{margin-right:0;margin-left:8px}.mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-left:24px;margin-right:0}[dir=rtl] .mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-right:24px;margin-left:0}.mat-expansion-panel-header-title{color:var(--mat-expansion-header-text-color, var(--mat-sys-on-surface))}.mat-expansion-panel-header-title,.mat-expansion-panel-header-description{display:flex;flex-grow:1;flex-basis:0;margin-right:16px;align-items:center}[dir=rtl] .mat-expansion-panel-header-title,[dir=rtl] .mat-expansion-panel-header-description{margin-right:0;margin-left:16px}.mat-expansion-panel-header[aria-disabled=true] .mat-expansion-panel-header-title,.mat-expansion-panel-header[aria-disabled=true] .mat-expansion-panel-header-description{color:inherit}.mat-expansion-panel-header-description{flex-grow:2;color:var(--mat-expansion-header-description-color, var(--mat-sys-on-surface-variant))}.mat-expansion-indicator::after{border-style:solid;border-width:0 2px 2px 0;content:"";display:inline-block;padding:3px;transform:rotate(45deg);vertical-align:middle;color:var(--mat-expansion-header-indicator-color, var(--mat-sys-on-surface-variant));display:var(--mat-expansion-legacy-header-indicator-display, none)}.mat-expansion-indicator svg{width:24px;height:24px;margin:0 -8px;vertical-align:middle;fill:var(--mat-expansion-header-indicator-color, var(--mat-sys-on-surface-variant));display:var(--mat-expansion-header-indicator-display, inline-block)}@media(forced-colors: active){.mat-expansion-panel-content{border-top:1px solid;border-top-left-radius:0;border-top-right-radius:0}}'],encapsulation:2,data:{animation:[Bce.indicatorRotate]},changeDetection:0})}return r})();var Xv=(()=>{class r{static \u0275fac=function(n){return new(n||r)};static \u0275dir=ft({type:r,selectors:[["mat-panel-title"]],hostAttrs:[1,"mat-expansion-panel-header-title"]})}return r})(),Zv=(()=>{class r extends Oce{_keyManager;_ownHeaders=new Al;_headers;hideToggle=!1;displayMode="default";togglePosition="after";ngAfterContentInit(){this._headers.changes.pipe(si(this._headers)).subscribe(e=>{this._ownHeaders.reset(e.filter(n=>n.panel.accordion===this)),this._ownHeaders.notifyOnChanges()}),this._keyManager=new Tf(this._ownHeaders).withWrap().withHomeAndEnd()}_handleHeaderKeydown(e){this._keyManager.onKeydown(e)}_handleHeaderFocus(e){this._keyManager.updateActiveItem(e)}ngOnDestroy(){super.ngOnDestroy(),this._keyManager?.destroy(),this._ownHeaders.destroy()}static \u0275fac=(()=>{let e;return function(i){return(e||(e=Kn(r)))(i||r)}})();static \u0275dir=ft({type:r,selectors:[["mat-accordion"]],contentQueries:function(n,i,o){if(n&1&&Qn(o,ap,5),n&2){let s;Ft(s=Rt())&&(i._headers=s)}},hostAttrs:[1,"mat-accordion"],hostVars:2,hostBindings:function(n,i){n&2&&Wt("mat-accordion-multi",i.multi)},inputs:{hideToggle:[2,"hideToggle","hideToggle",Mt],displayMode:"displayMode",togglePosition:"togglePosition"},exportAs:["matAccordion"],features:[Lt([{provide:i5,useExisting:r}]),Ur,er]})}return r})(),Qv=(()=>{class r{static \u0275fac=function(n){return new(n||r)};static \u0275mod=Nt({type:r});static \u0275inj=kt({imports:[$r,Rce,Ld]})}return r})();var x3e=["*"],aM;function w3e(){if(aM===void 0&&(aM=null,typeof window<"u")){let r=window;r.trustedTypes!==void 0&&(aM=r.trustedTypes.createPolicy("angular#components",{createHTML:t=>t}))}return aM}function Y_(r){return w3e()?.createHTML(r)||r}function jce(r){return Error(`Unable to find icon with the name "${r}"`)}function C3e(){return Error("Could not find HttpClient for use with Angular Material icons. Please add provideHttpClient() to your providers.")}function Hce(r){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${r}".`)}function Uce(r){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${r}".`)}var Vd=class{url;svgText;options;svgElement;constructor(t,e,n){this.url=t,this.svgText=e,this.options=n}},S3e=(()=>{class r{_httpClient;_sanitizer;_errorHandler;_document;_svgIconConfigs=new Map;_iconSetConfigs=new Map;_cachedIconsByUrl=new Map;_inProgressUrlFetches=new Map;_fontCssClassesByAlias=new Map;_resolvers=[];_defaultFontSetClass=["material-icons","mat-ligature-font"];constructor(e,n,i,o){this._httpClient=e,this._sanitizer=n,this._errorHandler=o,this._document=i}addSvgIcon(e,n,i){return this.addSvgIconInNamespace("",e,n,i)}addSvgIconLiteral(e,n,i){return this.addSvgIconLiteralInNamespace("",e,n,i)}addSvgIconInNamespace(e,n,i,o){return this._addSvgIconConfig(e,n,new Vd(i,null,o))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,n,i,o){let s=this._sanitizer.sanitize(Ds.HTML,i);if(!s)throw Uce(i);let a=Y_(s);return this._addSvgIconConfig(e,n,new Vd("",a,o))}addSvgIconSet(e,n){return this.addSvgIconSetInNamespace("",e,n)}addSvgIconSetLiteral(e,n){return this.addSvgIconSetLiteralInNamespace("",e,n)}addSvgIconSetInNamespace(e,n,i){return this._addSvgIconSetConfig(e,new Vd(n,null,i))}addSvgIconSetLiteralInNamespace(e,n,i){let o=this._sanitizer.sanitize(Ds.HTML,n);if(!o)throw Uce(n);let s=Y_(o);return this._addSvgIconSetConfig(e,new Vd("",s,i))}registerFontClassAlias(e,n=e){return this._fontCssClassesByAlias.set(e,n),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(...e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){let n=this._sanitizer.sanitize(Ds.RESOURCE_URL,e);if(!n)throw Hce(e);let i=this._cachedIconsByUrl.get(n);return i?tt(lM(i)):this._loadSvgIconFromConfig(new Vd(e,null)).pipe(Fr(o=>this._cachedIconsByUrl.set(n,o)),at(o=>lM(o)))}getNamedSvgIcon(e,n=""){let i=qce(n,e),o=this._svgIconConfigs.get(i);if(o)return this._getSvgFromConfig(o);if(o=this._getIconConfigFromResolvers(n,e),o)return this._svgIconConfigs.set(i,o),this._getSvgFromConfig(o);let s=this._iconSetConfigs.get(n);return s?this._getSvgFromIconSetConfigs(e,s):zo(jce(i))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?tt(lM(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe(at(n=>lM(n)))}_getSvgFromIconSetConfigs(e,n){let i=this._extractIconWithNameFromAnySet(e,n);if(i)return tt(i);let o=n.filter(s=>!s.svgText).map(s=>this._loadSvgIconSetFromConfig(s).pipe(Ml(a=>{let c=`Loading icon set URL: ${this._sanitizer.sanitize(Ds.RESOURCE_URL,s.url)} failed: ${a.message}`;return this._errorHandler.handleError(new Error(c)),tt(null)})));return $c(o).pipe(at(()=>{let s=this._extractIconWithNameFromAnySet(e,n);if(!s)throw jce(e);return s}))}_extractIconWithNameFromAnySet(e,n){for(let i=n.length-1;i>=0;i--){let o=n[i];if(o.svgText&&o.svgText.toString().indexOf(e)>-1){let s=this._svgElementFromConfig(o),a=this._extractSvgIconFromSet(s,e,o.options);if(a)return a}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe(Fr(n=>e.svgText=n),at(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?tt(null):this._fetchIcon(e).pipe(Fr(n=>e.svgText=n))}_extractSvgIconFromSet(e,n,i){let o=e.querySelector(`[id="${n}"]`);if(!o)return null;let s=o.cloneNode(!0);if(s.removeAttribute("id"),s.nodeName.toLowerCase()==="svg")return this._setSvgAttributes(s,i);if(s.nodeName.toLowerCase()==="symbol")return this._setSvgAttributes(this._toSvgElement(s),i);let a=this._svgElementFromString(Y_("<svg></svg>"));return a.appendChild(s),this._setSvgAttributes(a,i)}_svgElementFromString(e){let n=this._document.createElement("DIV");n.innerHTML=e;let i=n.querySelector("svg");if(!i)throw Error("<svg> tag not found");return i}_toSvgElement(e){let n=this._svgElementFromString(Y_("<svg></svg>")),i=e.attributes;for(let o=0;o<i.length;o++){let{name:s,value:a}=i[o];s!=="id"&&n.setAttribute(s,a)}for(let o=0;o<e.childNodes.length;o++)e.childNodes[o].nodeType===this._document.ELEMENT_NODE&&n.appendChild(e.childNodes[o].cloneNode(!0));return n}_setSvgAttributes(e,n){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),n&&n.viewBox&&e.setAttribute("viewBox",n.viewBox),e}_fetchIcon(e){let{url:n,options:i}=e,o=i?.withCredentials??!1;if(!this._httpClient)throw C3e();if(n==null)throw Error(`Cannot fetch icon from URL "${n}".`);let s=this._sanitizer.sanitize(Ds.RESOURCE_URL,n);if(!s)throw Hce(n);let a=this._inProgressUrlFetches.get(s);if(a)return a;let l=this._httpClient.get(s,{responseType:"text",withCredentials:o}).pipe(at(c=>Y_(c)),Sa(()=>this._inProgressUrlFetches.delete(s)),tm());return this._inProgressUrlFetches.set(s,l),l}_addSvgIconConfig(e,n,i){return this._svgIconConfigs.set(qce(e,n),i),this}_addSvgIconSetConfig(e,n){let i=this._iconSetConfigs.get(e);return i?i.push(n):this._iconSetConfigs.set(e,[n]),this}_svgElementFromConfig(e){if(!e.svgElement){let n=this._svgElementFromString(e.svgText);this._setSvgAttributes(n,e.options),e.svgElement=n}return e.svgElement}_getIconConfigFromResolvers(e,n){for(let i=0;i<this._resolvers.length;i++){let o=this._resolvers[i](n,e);if(o)return D3e(o)?new Vd(o.url,null,o.options):new Vd(o,null)}}static \u0275fac=function(n){return new(n||r)(Tt(bc,8),Tt(tO),Tt(Xt,8),Tt(oa))};static \u0275prov=Fe({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function lM(r){return r.cloneNode(!0)}function qce(r,t){return r+":"+t}function D3e(r){return!!(r.url&&r.options)}var E3e=new He("MAT_ICON_DEFAULT_OPTIONS"),M3e=new He("mat-icon-location",{providedIn:"root",factory:A3e});function A3e(){let r=V(Xt),t=r?r.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}var Wce=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],T3e=Wce.map(r=>`[${r}]`).join(", "),I3e=/^url\(['"]?#(.*?)['"]?\)$/,Yi=(()=>{class r{_elementRef=V(ut);_iconRegistry=V(S3e);_location=V(M3e);_errorHandler=V(oa);_defaultColor;get color(){return this._color||this._defaultColor}set color(e){this._color=e}_color;inline=!1;get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}_svgIcon;get fontSet(){return this._fontSet}set fontSet(e){let n=this._cleanupFontValue(e);n!==this._fontSet&&(this._fontSet=n,this._updateFontIconClasses())}_fontSet;get fontIcon(){return this._fontIcon}set fontIcon(e){let n=this._cleanupFontValue(e);n!==this._fontIcon&&(this._fontIcon=n,this._updateFontIconClasses())}_fontIcon;_previousFontSetClass=[];_previousFontIconClass;_svgName;_svgNamespace;_previousPath;_elementsWithExternalReferences;_currentIconFetch=yr.EMPTY;constructor(){let e=V(new Ya("aria-hidden"),{optional:!0}),n=V(E3e,{optional:!0});n&&(n.color&&(this.color=this._defaultColor=n.color),n.fontSet&&(this.fontSet=n.fontSet)),e||this._elementRef.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(e){if(!e)return["",""];let n=e.split(":");switch(n.length){case 1:return["",n[0]];case 2:return n;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){let e=this._elementsWithExternalReferences;if(e&&e.size){let n=this._location.getPathname();n!==this._previousPath&&(this._previousPath=n,this._prependPathToReferences(n))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();let n=this._location.getPathname();this._previousPath=n,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(n),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){let e=this._elementRef.nativeElement,n=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();n--;){let i=e.childNodes[n];(i.nodeType!==1||i.nodeName.toLowerCase()==="svg")&&i.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;let e=this._elementRef.nativeElement,n=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(i=>i.length>0);this._previousFontSetClass.forEach(i=>e.classList.remove(i)),n.forEach(i=>e.classList.add(i)),this._previousFontSetClass=n,this.fontIcon!==this._previousFontIconClass&&!n.includes("mat-ligature-font")&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return typeof e=="string"?e.trim().split(" ")[0]:e}_prependPathToReferences(e){let n=this._elementsWithExternalReferences;n&&n.forEach((i,o)=>{i.forEach(s=>{o.setAttribute(s.name,`url('${e}#${s.value}')`)})})}_cacheChildrenWithExternalReferences(e){let n=e.querySelectorAll(T3e),i=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let o=0;o<n.length;o++)Wce.forEach(s=>{let a=n[o],l=a.getAttribute(s),c=l?l.match(I3e):null;if(c){let d=i.get(a);d||(d=[],i.set(a,d)),d.push({name:s,value:c[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){let[n,i]=this._splitIconName(e);n&&(this._svgNamespace=n),i&&(this._svgName=i),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(i,n).pipe(on(1)).subscribe(o=>this._setSvgElement(o),o=>{let s=`Error retrieving icon ${n}:${i}! ${o.message}`;this._errorHandler.handleError(new Error(s))})}}static \u0275fac=function(n){return new(n||r)};static \u0275cmp=Be({type:r,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:10,hostBindings:function(n,i){n&2&&(rr("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet)("fontIcon",i._usingFontIcon()?i.fontIcon:null),Li(i.color?"mat-"+i.color:""),Wt("mat-icon-inline",i.inline)("mat-icon-no-color",i.color!=="primary"&&i.color!=="accent"&&i.color!=="warn"))},inputs:{color:"color",inline:[2,"inline","inline",Mt],svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[Ur],ngContentSelectors:x3e,decls:1,vars:0,template:function(n,i){n&1&&(un(),hr(0))},styles:["mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color, inherit)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0})}return r})(),za=(()=>{class r{static \u0275fac=function(n){return new(n||r)};static \u0275mod=Nt({type:r});static \u0275inj=kt({imports:[$r,$r]})}return r})();var k3e=(()=>{class r{static \u0275fac=function(n){return new(n||r)};static \u0275cmp=Be({type:r,selectors:[["ng-component"]],hostAttrs:["cdk-text-field-style-loader",""],decls:0,vars:0,template:function(n,i){},styles:["textarea.cdk-textarea-autosize{resize:none}textarea.cdk-textarea-autosize-measuring{padding:2px 0 !important;box-sizing:content-box !important;height:auto !important;overflow:hidden !important}textarea.cdk-textarea-autosize-measuring-firefox{padding:2px 0 !important;box-sizing:content-box !important;height:0 !important}@keyframes cdk-text-field-autofill-start{/*!*/}@keyframes cdk-text-field-autofill-end{/*!*/}.cdk-text-field-autofill-monitored:-webkit-autofill{animation:cdk-text-field-autofill-start 0s 1ms}.cdk-text-field-autofill-monitored:not(:-webkit-autofill){animation:cdk-text-field-autofill-end 0s 1ms}"],encapsulation:2,changeDetection:0})}return r})(),$ce=Ia({passive:!0}),Gce=(()=>{class r{_platform=V(tn);_ngZone=V(xt);_styleLoader=V(Ti);_monitoredElements=new Map;constructor(){}monitor(e){if(!this._platform.isBrowser)return Qi;this._styleLoader.load(k3e);let n=ka(e),i=this._monitoredElements.get(n);if(i)return i.subject;let o=new Ke,s="cdk-text-field-autofilled",a=l=>{l.animationName==="cdk-text-field-autofill-start"&&!n.classList.contains(s)?(n.classList.add(s),this._ngZone.run(()=>o.next({target:l.target,isAutofilled:!0}))):l.animationName==="cdk-text-field-autofill-end"&&n.classList.contains(s)&&(n.classList.remove(s),this._ngZone.run(()=>o.next({target:l.target,isAutofilled:!1})))};return this._ngZone.runOutsideAngular(()=>{n.addEventListener("animationstart",a,$ce),n.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(n,{subject:o,unlisten:()=>{n.removeEventListener("animationstart",a,$ce)}}),o}stopMonitoring(e){let n=ka(e),i=this._monitoredElements.get(n);i&&(i.unlisten(),i.subject.complete(),n.classList.remove("cdk-text-field-autofill-monitored"),n.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(n))}ngOnDestroy(){this._monitoredElements.forEach((e,n)=>this.stopMonitoring(n))}static \u0275fac=function(n){return new(n||r)};static \u0275prov=Fe({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();var Yce=(()=>{class r{static \u0275fac=function(n){return new(n||r)};static \u0275mod=Nt({type:r});static \u0275inj=kt({})}return r})();var N3e=new He("MAT_INPUT_VALUE_ACCESSOR"),O3e=["button","checkbox","file","hidden","image","radio","range","reset","submit"],F3e=new He("MAT_INPUT_CONFIG"),Ki=(()=>{class r{_elementRef=V(ut);_platform=V(tn);ngControl=V(gl,{optional:!0,self:!0});_autofillMonitor=V(Gce);_ngZone=V(xt);_formField=V(G_,{optional:!0});_uid=V(qn).getId("mat-input-");_previousNativeValue;_inputValueAccessor;_signalBasedValueAccessor;_previousPlaceholder;_errorStateTracker;_webkitBlinkWheelListenerAttached=!1;_config=V(F3e,{optional:!0});_formFieldDescribedBy;_isServer;_isNativeSelect;_isTextarea;_isInFormField;focused=!1;stateChanges=new Ke;controlType="mat-input";autofilled=!1;get disabled(){return this._disabled}set disabled(e){this._disabled=Es(e),this.focused&&(this.focused=!1,this.stateChanges.next())}_disabled=!1;get id(){return this._id}set id(e){this._id=e||this._uid}_id;placeholder;name;get required(){return this._required??this.ngControl?.control?.hasValidator(pl.required)??!1}set required(e){this._required=Es(e)}_required;get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&iO().has(this._type)&&(this._elementRef.nativeElement.type=this._type),this._ensureWheelDefaultBehavior()}_type="text";get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(e){this._errorStateTracker.matcher=e}userAriaDescribedBy;get value(){return this._signalBasedValueAccessor?this._signalBasedValueAccessor.value():this._inputValueAccessor.value}set value(e){e!==this.value&&(this._signalBasedValueAccessor?this._signalBasedValueAccessor.value.set(e):this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=Es(e)}_readonly=!1;disabledInteractive;get errorState(){return this._errorStateTracker.errorState}set errorState(e){this._errorStateTracker.errorState=e}_neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(e=>iO().has(e));constructor(){let e=V(z_,{optional:!0}),n=V(Dn,{optional:!0}),i=V(fS),o=V(N3e,{optional:!0,self:!0}),s=this._elementRef.nativeElement,a=s.nodeName.toLowerCase();o?_f(o.value)?this._signalBasedValueAccessor=o:this._inputValueAccessor=o:this._inputValueAccessor=s,this._previousNativeValue=this.value,this.id=this.id,this._platform.IOS&&this._ngZone.runOutsideAngular(()=>{s.addEventListener("keyup",this._iOSKeyupListener)}),this._errorStateTracker=new jg(i,this.ngControl,n,e,this.stateChanges),this._isServer=!this._platform.isBrowser,this._isNativeSelect=a==="select",this._isTextarea=a==="textarea",this._isInFormField=!!this._formField,this.disabledInteractive=this._config?.disabledInteractive||!1,this._isNativeSelect&&(this.controlType=s.multiple?"mat-native-select-multiple":"mat-native-select"),this._signalBasedValueAccessor&&Io(()=>{this._signalBasedValueAccessor.value(),this.stateChanges.next()})}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener),this._webkitBlinkWheelListenerAttached&&this._elementRef.nativeElement.removeEventListener("wheel",this._webkitBlinkWheelListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),this.ngControl.disabled!==null&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}updateErrorState(){this._errorStateTracker.updateErrorState()}_focusChanged(e){if(e!==this.focused){if(!this._isNativeSelect&&e&&this.disabled&&this.disabledInteractive){let n=this._elementRef.nativeElement;n.type==="number"?(n.type="text",n.setSelectionRange(0,0),n.type="number"):n.setSelectionRange(0,0)}this.focused=e,this.stateChanges.next()}}_onInput(){}_dirtyCheckNativeValue(){let e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_dirtyCheckPlaceholder(){let e=this._getPlaceholder();if(e!==this._previousPlaceholder){let n=this._elementRef.nativeElement;this._previousPlaceholder=e,e?n.setAttribute("placeholder",e):n.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){O3e.indexOf(this._type)>-1}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!this._isNeverEmpty()&&!this._elementRef.nativeElement.value&&!this._isBadInput()&&!this.autofilled}get shouldLabelFloat(){if(this._isNativeSelect){let e=this._elementRef.nativeElement,n=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&n&&n.label)}else return this.focused&&!this.disabled||!this.empty}setDescribedByIds(e){let n=this._elementRef.nativeElement,i=n.getAttribute("aria-describedby"),o;if(i){let s=this._formFieldDescribedBy||e;o=e.concat(i.split(" ").filter(a=>a&&!s.includes(a)))}else o=e;this._formFieldDescribedBy=e,o.length?n.setAttribute("aria-describedby",o.join(" ")):n.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){let e=this._elementRef.nativeElement;return this._isNativeSelect&&(e.multiple||e.size>1)}_iOSKeyupListener=e=>{let n=e.target;!n.value&&n.selectionStart===0&&n.selectionEnd===0&&(n.setSelectionRange(1,1),n.setSelectionRange(0,0))};_webkitBlinkWheelListener=()=>{};_ensureWheelDefaultBehavior(){!this._webkitBlinkWheelListenerAttached&&this._type==="number"&&(this._platform.BLINK||this._platform.WEBKIT)&&(this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("wheel",this._webkitBlinkWheelListener)}),this._webkitBlinkWheelListenerAttached=!0),this._webkitBlinkWheelListenerAttached&&this._type!=="number"&&(this._elementRef.nativeElement.removeEventListener("wheel",this._webkitBlinkWheelListener),this._webkitBlinkWheelListenerAttached=!0)}_getReadonlyAttribute(){return this._isNativeSelect?null:this.readonly||this.disabled&&this.disabledInteractive?"true":null}static \u0275fac=function(n){return new(n||r)};static \u0275dir=ft({type:r,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:21,hostBindings:function(n,i){n&1&&Me("focus",function(){return i._focusChanged(!0)})("blur",function(){return i._focusChanged(!1)})("input",function(){return i._onInput()}),n&2&&(Za("id",i.id)("disabled",i.disabled&&!i.disabledInteractive)("required",i.required),rr("name",i.name||null)("readonly",i._getReadonlyAttribute())("aria-disabled",i.disabled&&i.disabledInteractive?"true":null)("aria-invalid",i.empty&&i.required?null:i.errorState)("aria-required",i.required)("id",i.id),Wt("mat-input-server",i._isServer)("mat-mdc-form-field-textarea-control",i._isInFormField&&i._isTextarea)("mat-mdc-form-field-input-control",i._isInFormField)("mat-mdc-input-disabled-interactive",i.disabledInteractive)("mdc-text-field__input",i._isInFormField)("mat-mdc-native-select-inline",i._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:[0,"aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly",disabledInteractive:[2,"disabledInteractive","disabledInteractive",Mt]},exportAs:["matInput"],features:[Lt([{provide:$_,useExisting:r}]),Ur,cr]})}return r})(),vo=(()=>{class r{static \u0275fac=function(n){return new(n||r)};static \u0275mod=Nt({type:r});static \u0275inj=kt({imports:[$r,Qr,Qr,Yce,$r]})}return r})();var R3e=["input"],P3e=["label"],L3e=["*"],B3e=new He("mat-checkbox-default-options",{providedIn:"root",factory:Xce});function Xce(){return{color:"accent",clickAction:"check-indeterminate",disabledInteractive:!1}}var Us=function(r){return r[r.Init=0]="Init",r[r.Checked=1]="Checked",r[r.Unchecked=2]="Unchecked",r[r.Indeterminate=3]="Indeterminate",r}(Us||{}),V3e={provide:vn,useExisting:Hr(()=>ja),multi:!0},s5=class{source;checked},Kce=Xce(),ja=(()=>{class r{_elementRef=V(ut);_changeDetectorRef=V(qt);_ngZone=V(xt);_animationMode=V(Xn,{optional:!0});_options=V(B3e,{optional:!0});focus(){this._inputElement.nativeElement.focus()}_createChangeEvent(e){let n=new s5;return n.source=this,n.checked=e,n}_getAnimationTargetElement(){return this._inputElement?.nativeElement}_animationClasses={uncheckedToChecked:"mdc-checkbox--anim-unchecked-checked",uncheckedToIndeterminate:"mdc-checkbox--anim-unchecked-indeterminate",checkedToUnchecked:"mdc-checkbox--anim-checked-unchecked",checkedToIndeterminate:"mdc-checkbox--anim-checked-indeterminate",indeterminateToChecked:"mdc-checkbox--anim-indeterminate-checked",indeterminateToUnchecked:"mdc-checkbox--anim-indeterminate-unchecked"};ariaLabel="";ariaLabelledby=null;ariaDescribedby;ariaExpanded;ariaControls;ariaOwns;_uniqueId;id;get inputId(){return`${this.id||this._uniqueId}-input`}required;labelPosition="after";name=null;change=new ct;indeterminateChange=new ct;value;disableRipple;_inputElement;_labelElement;tabIndex;color;disabledInteractive;_onTouched=()=>{};_currentAnimationClass="";_currentCheckState=Us.Init;_controlValueAccessorChangeFn=()=>{};_validatorChangeFn=()=>{};constructor(){V(Ti).load(tl);let e=V(new Ya("tabindex"),{optional:!0});this._options=this._options||Kce,this.color=this._options.color||Kce.color,this.tabIndex=e==null?0:parseInt(e)||0,this.id=this._uniqueId=V(qn).getId("mat-mdc-checkbox-"),this.disabledInteractive=this._options?.disabledInteractive??!1}ngOnChanges(e){e.required&&this._validatorChangeFn()}ngAfterViewInit(){this._syncIndeterminate(this._indeterminate)}get checked(){return this._checked}set checked(e){e!=this.checked&&(this._checked=e,this._changeDetectorRef.markForCheck())}_checked=!1;get disabled(){return this._disabled}set disabled(e){e!==this.disabled&&(this._disabled=e,this._changeDetectorRef.markForCheck())}_disabled=!1;get indeterminate(){return this._indeterminate}set indeterminate(e){let n=e!=this._indeterminate;this._indeterminate=e,n&&(this._indeterminate?this._transitionCheckState(Us.Indeterminate):this._transitionCheckState(this.checked?Us.Checked:Us.Unchecked),this.indeterminateChange.emit(this._indeterminate)),this._syncIndeterminate(this._indeterminate)}_indeterminate=!1;_isRippleDisabled(){return this.disableRipple||this.disabled}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}writeValue(e){this.checked=!!e}registerOnChange(e){this._controlValueAccessorChangeFn=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e}validate(e){return this.required&&e.value!==!0?{required:!0}:null}registerOnValidatorChange(e){this._validatorChangeFn=e}_transitionCheckState(e){let n=this._currentCheckState,i=this._getAnimationTargetElement();if(!(n===e||!i)&&(this._currentAnimationClass&&i.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(n,e),this._currentCheckState=e,this._currentAnimationClass.length>0)){i.classList.add(this._currentAnimationClass);let o=this._currentAnimationClass;this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{i.classList.remove(o)},1e3)})}}_emitChangeEvent(){this._controlValueAccessorChangeFn(this.checked),this.change.emit(this._createChangeEvent(this.checked)),this._inputElement&&(this._inputElement.nativeElement.checked=this.checked)}toggle(){this.checked=!this.checked,this._controlValueAccessorChangeFn(this.checked)}_handleInputClick(){let e=this._options?.clickAction;!this.disabled&&e!=="noop"?(this.indeterminate&&e!=="check"&&Promise.resolve().then(()=>{this._indeterminate=!1,this.indeterminateChange.emit(this._indeterminate)}),this._checked=!this._checked,this._transitionCheckState(this._checked?Us.Checked:Us.Unchecked),this._emitChangeEvent()):(this.disabled&&this.disabledInteractive||!this.disabled&&e==="noop")&&(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate)}_onInteractionEvent(e){e.stopPropagation()}_onBlur(){Promise.resolve().then(()=>{this._onTouched(),this._changeDetectorRef.markForCheck()})}_getAnimationClassForCheckStateTransition(e,n){if(this._animationMode==="NoopAnimations")return"";switch(e){case Us.Init:if(n===Us.Checked)return this._animationClasses.uncheckedToChecked;if(n==Us.Indeterminate)return this._checked?this._animationClasses.checkedToIndeterminate:this._animationClasses.uncheckedToIndeterminate;break;case Us.Unchecked:return n===Us.Checked?this._animationClasses.uncheckedToChecked:this._animationClasses.uncheckedToIndeterminate;case Us.Checked:return n===Us.Unchecked?this._animationClasses.checkedToUnchecked:this._animationClasses.checkedToIndeterminate;case Us.Indeterminate:return n===Us.Checked?this._animationClasses.indeterminateToChecked:this._animationClasses.indeterminateToUnchecked}return""}_syncIndeterminate(e){let n=this._inputElement;n&&(n.nativeElement.indeterminate=e)}_onInputClick(){this._handleInputClick()}_onTouchTargetClick(){this._handleInputClick(),this.disabled||this._inputElement.nativeElement.focus()}_preventBubblingFromLabel(e){e.target&&this._labelElement.nativeElement.contains(e.target)&&e.stopPropagation()}static \u0275fac=function(n){return new(n||r)};static \u0275cmp=Be({type:r,selectors:[["mat-checkbox"]],viewQuery:function(n,i){if(n&1&&(Cr(R3e,5),Cr(P3e,5)),n&2){let o;Ft(o=Rt())&&(i._inputElement=o.first),Ft(o=Rt())&&(i._labelElement=o.first)}},hostAttrs:[1,"mat-mdc-checkbox"],hostVars:16,hostBindings:function(n,i){n&2&&(Za("id",i.id),rr("tabindex",null)("aria-label",null)("aria-labelledby",null),Li(i.color?"mat-"+i.color:"mat-accent"),Wt("_mat-animation-noopable",i._animationMode==="NoopAnimations")("mdc-checkbox--disabled",i.disabled)("mat-mdc-checkbox-disabled",i.disabled)("mat-mdc-checkbox-checked",i.checked)("mat-mdc-checkbox-disabled-interactive",i.disabledInteractive))},inputs:{ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],ariaExpanded:[2,"aria-expanded","ariaExpanded",Mt],ariaControls:[0,"aria-controls","ariaControls"],ariaOwns:[0,"aria-owns","ariaOwns"],id:"id",required:[2,"required","required",Mt],labelPosition:"labelPosition",name:"name",value:"value",disableRipple:[2,"disableRipple","disableRipple",Mt],tabIndex:[2,"tabIndex","tabIndex",e=>e==null?void 0:qi(e)],color:"color",disabledInteractive:[2,"disabledInteractive","disabledInteractive",Mt],checked:[2,"checked","checked",Mt],disabled:[2,"disabled","disabled",Mt],indeterminate:[2,"indeterminate","indeterminate",Mt]},outputs:{change:"change",indeterminateChange:"indeterminateChange"},exportAs:["matCheckbox"],features:[Lt([V3e,{provide:yu,useExisting:r,multi:!0}]),Ur,cr],ngContentSelectors:L3e,decls:15,vars:23,consts:[["checkbox",""],["input",""],["label",""],["mat-internal-form-field","",3,"click","labelPosition"],[1,"mdc-checkbox"],[1,"mat-mdc-checkbox-touch-target",3,"click"],["type","checkbox",1,"mdc-checkbox__native-control",3,"blur","click","change","checked","indeterminate","disabled","id","required","tabIndex"],[1,"mdc-checkbox__ripple"],[1,"mdc-checkbox__background"],["focusable","false","viewBox","0 0 24 24","aria-hidden","true",1,"mdc-checkbox__checkmark"],["fill","none","d","M1.73,12.91 8.1,19.28 22.79,4.59",1,"mdc-checkbox__checkmark-path"],[1,"mdc-checkbox__mixedmark"],["mat-ripple","",1,"mat-mdc-checkbox-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mdc-label",3,"for"]],template:function(n,i){if(n&1){let o=ot();un(),W(0,"div",3),Me("click",function(a){return xe(o),we(i._preventBubblingFromLabel(a))}),W(1,"div",4,0)(3,"div",5),Me("click",function(){return xe(o),we(i._onTouchTargetClick())}),$(),W(4,"input",6,1),Me("blur",function(){return xe(o),we(i._onBlur())})("click",function(){return xe(o),we(i._onInputClick())})("change",function(a){return xe(o),we(i._onInteractionEvent(a))}),$(),Te(6,"div",7),W(7,"div",8),ru(),W(8,"svg",9),Te(9,"path",10),$(),Vq(),Te(10,"div",11),$(),Te(11,"div",12),$(),W(12,"label",13,2),hr(14),$()()}if(n&2){let o=Ao(2);oe("labelPosition",i.labelPosition),K(4),Wt("mdc-checkbox--selected",i.checked),oe("checked",i.checked)("indeterminate",i.indeterminate)("disabled",i.disabled&&!i.disabledInteractive)("id",i.inputId)("required",i.required)("tabIndex",i.disabled&&!i.disabledInteractive?-1:i.tabIndex),rr("aria-label",i.ariaLabel||null)("aria-labelledby",i.ariaLabelledby)("aria-describedby",i.ariaDescribedby)("aria-checked",i.indeterminate?"mixed":null)("aria-controls",i.ariaControls)("aria-disabled",i.disabled&&i.disabledInteractive?!0:null)("aria-expanded",i.ariaExpanded)("aria-owns",i.ariaOwns)("name",i.name)("value",i.value),K(7),oe("matRippleTrigger",o)("matRippleDisabled",i.disableRipple||i.disabled)("matRippleCentered",!0),K(),oe("for",i.inputId)}},dependencies:[_c,_$],styles:['.mdc-checkbox{display:inline-block;position:relative;flex:0 0 18px;box-sizing:content-box;width:18px;height:18px;line-height:0;white-space:nowrap;cursor:pointer;vertical-align:bottom;padding:calc((var(--mdc-checkbox-state-layer-size, 40px) - 18px)/2);margin:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2)}.mdc-checkbox:hover .mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity));background-color:var(--mdc-checkbox-unselected-hover-state-layer-color, var(--mat-sys-on-surface))}.mdc-checkbox:hover .mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-hover-state-layer-color, var(--mat-sys-on-surface))}.mdc-checkbox .mdc-checkbox__native-control:focus~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity));background-color:var(--mdc-checkbox-unselected-focus-state-layer-color, var(--mat-sys-on-surface))}.mdc-checkbox .mdc-checkbox__native-control:focus~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-focus-state-layer-color, var(--mat-sys-on-surface))}.mdc-checkbox:active .mdc-checkbox__native-control~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity));background-color:var(--mdc-checkbox-unselected-pressed-state-layer-color, var(--mat-sys-primary))}.mdc-checkbox:active .mdc-checkbox__native-control~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-pressed-state-layer-color, var(--mat-sys-primary))}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity));background-color:var(--mdc-checkbox-selected-hover-state-layer-color, var(--mat-sys-primary))}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-hover-state-layer-color, var(--mat-sys-primary))}.mdc-checkbox .mdc-checkbox__native-control:focus:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity));background-color:var(--mdc-checkbox-selected-focus-state-layer-color, var(--mat-sys-primary))}.mdc-checkbox .mdc-checkbox__native-control:focus:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-focus-state-layer-color, var(--mat-sys-primary))}.mdc-checkbox:active .mdc-checkbox__native-control:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity));background-color:var(--mdc-checkbox-selected-pressed-state-layer-color, var(--mat-sys-on-surface))}.mdc-checkbox:active .mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-pressed-state-layer-color, var(--mat-sys-on-surface))}.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox .mdc-checkbox__native-control~.mat-mdc-checkbox-ripple .mat-ripple-element,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox .mdc-checkbox__native-control~.mdc-checkbox__ripple{background-color:var(--mdc-checkbox-unselected-hover-state-layer-color, var(--mat-sys-on-surface))}.mdc-checkbox .mdc-checkbox__native-control{position:absolute;margin:0;padding:0;opacity:0;cursor:inherit;width:var(--mdc-checkbox-state-layer-size, 40px);height:var(--mdc-checkbox-state-layer-size, 40px);top:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2);right:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2);left:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2)}.mdc-checkbox--disabled{cursor:default;pointer-events:none}@media(forced-colors: active){.mdc-checkbox--disabled{opacity:.5}}.mdc-checkbox__background{display:inline-flex;position:absolute;align-items:center;justify-content:center;box-sizing:border-box;width:18px;height:18px;border:2px solid currentColor;border-radius:2px;background-color:rgba(0,0,0,0);pointer-events:none;will-change:background-color,border-color;transition:background-color 90ms cubic-bezier(0.4, 0, 0.6, 1),border-color 90ms cubic-bezier(0.4, 0, 0.6, 1);-webkit-print-color-adjust:exact;color-adjust:exact;border-color:var(--mdc-checkbox-unselected-icon-color, var(--mat-sys-on-surface-variant));top:calc((var(--mdc-checkbox-state-layer-size, 40px) - 18px)/2);left:calc((var(--mdc-checkbox-state-layer-size, 40px) - 18px)/2)}.mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-icon-color, var(--mat-sys-primary));background-color:var(--mdc-checkbox-selected-icon-color, var(--mat-sys-primary))}.mdc-checkbox--disabled .mdc-checkbox__background{border-color:var(--mdc-checkbox-disabled-unselected-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-checkbox__native-control:disabled:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:disabled:indeterminate~.mdc-checkbox__background{background-color:var(--mdc-checkbox-disabled-selected-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));border-color:rgba(0,0,0,0)}.mdc-checkbox:hover .mdc-checkbox__native-control:not(:checked)~.mdc-checkbox__background,.mdc-checkbox:hover .mdc-checkbox__native-control:not(:indeterminate)~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-hover-icon-color, var(--mat-sys-on-surface));background-color:rgba(0,0,0,0)}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox:hover .mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-hover-icon-color, var(--mat-sys-primary));background-color:var(--mdc-checkbox-selected-hover-icon-color, var(--mat-sys-primary))}.mdc-checkbox__native-control:focus:focus:not(:checked)~.mdc-checkbox__background,.mdc-checkbox__native-control:focus:focus:not(:indeterminate)~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-focus-icon-color, var(--mat-sys-on-surface))}.mdc-checkbox__native-control:focus:focus:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:focus:focus:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-focus-icon-color, var(--mat-sys-primary));background-color:var(--mdc-checkbox-selected-focus-icon-color, var(--mat-sys-primary))}.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox:hover .mdc-checkbox__native-control~.mdc-checkbox__background,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox .mdc-checkbox__native-control:focus~.mdc-checkbox__background,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__background{border-color:var(--mdc-checkbox-disabled-unselected-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background{background-color:var(--mdc-checkbox-disabled-selected-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));border-color:rgba(0,0,0,0)}.mdc-checkbox__checkmark{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;opacity:0;transition:opacity 180ms cubic-bezier(0.4, 0, 0.6, 1);color:var(--mdc-checkbox-selected-checkmark-color, var(--mat-sys-on-primary))}@media(forced-colors: active){.mdc-checkbox__checkmark{color:CanvasText}}.mdc-checkbox--disabled .mdc-checkbox__checkmark,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__checkmark{color:var(--mdc-checkbox-disabled-selected-checkmark-color, var(--mat-sys-surface))}@media(forced-colors: active){.mdc-checkbox--disabled .mdc-checkbox__checkmark,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__checkmark{color:CanvasText}}.mdc-checkbox__checkmark-path{transition:stroke-dashoffset 180ms cubic-bezier(0.4, 0, 0.6, 1);stroke:currentColor;stroke-width:3.12px;stroke-dashoffset:29.7833385;stroke-dasharray:29.7833385}.mdc-checkbox__mixedmark{width:100%;height:0;transform:scaleX(0) rotate(0deg);border-width:1px;border-style:solid;opacity:0;transition:opacity 90ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms cubic-bezier(0.4, 0, 0.6, 1);border-color:var(--mdc-checkbox-selected-checkmark-color, var(--mat-sys-on-primary))}@media(forced-colors: active){.mdc-checkbox__mixedmark{margin:0 1px}}.mdc-checkbox--disabled .mdc-checkbox__mixedmark,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__mixedmark{border-color:var(--mdc-checkbox-disabled-selected-checkmark-color, var(--mat-sys-surface))}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__background,.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__background,.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__background,.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__background{animation-duration:180ms;animation-timing-function:linear}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-unchecked-checked-checkmark-path 180ms linear;transition:none}.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-unchecked-indeterminate-mixedmark 90ms linear;transition:none}.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-checked-unchecked-checkmark-path 90ms linear;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__checkmark{animation:mdc-checkbox-checked-indeterminate-checkmark 90ms linear;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-checked-indeterminate-mixedmark 90ms linear;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__checkmark{animation:mdc-checkbox-indeterminate-checked-checkmark 500ms linear;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-checked-mixedmark 500ms linear;transition:none}.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-unchecked-mixedmark 300ms linear;transition:none}.mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background{transition:border-color 90ms cubic-bezier(0, 0, 0.2, 1),background-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark-path,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark-path{stroke-dashoffset:0}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark{transition:opacity 180ms cubic-bezier(0, 0, 0.2, 1),transform 180ms cubic-bezier(0, 0, 0.2, 1);opacity:1}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(-45deg)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark{transform:rotate(45deg);opacity:0;transition:opacity 90ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(0deg);opacity:1}@keyframes mdc-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:29.7833385}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 1)}100%{stroke-dashoffset:0}}@keyframes mdc-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mdc-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);opacity:1;stroke-dashoffset:0}to{opacity:0;stroke-dashoffset:-29.7833385}}@keyframes mdc-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(45deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(45deg);opacity:0}to{transform:rotate(360deg);opacity:1}}@keyframes mdc-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 1);transform:rotate(-45deg);opacity:0}to{transform:rotate(0deg);opacity:1}}@keyframes mdc-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(315deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;transform:scaleX(1);opacity:1}32.8%,100%{transform:scaleX(0);opacity:0}}.mat-mdc-checkbox{display:inline-block;position:relative;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-checkbox._mat-animation-noopable .mdc-checkbox *,.mat-mdc-checkbox._mat-animation-noopable .mdc-checkbox *::before{transition:none !important;animation:none !important}.mat-mdc-checkbox label{cursor:pointer}.mat-mdc-checkbox .mat-internal-form-field{color:var(--mat-checkbox-label-text-color, var(--mat-sys-on-surface));font-family:var(--mat-checkbox-label-text-font, var(--mat-sys-body-medium-font));line-height:var(--mat-checkbox-label-text-line-height, var(--mat-sys-body-medium-line-height));font-size:var(--mat-checkbox-label-text-size, var(--mat-sys-body-medium-size));letter-spacing:var(--mat-checkbox-label-text-tracking, var(--mat-sys-body-medium-tracking));font-weight:var(--mat-checkbox-label-text-weight, var(--mat-sys-body-medium-weight))}.mat-mdc-checkbox.mat-mdc-checkbox-disabled.mat-mdc-checkbox-disabled-interactive{pointer-events:auto}.mat-mdc-checkbox.mat-mdc-checkbox-disabled.mat-mdc-checkbox-disabled-interactive input{cursor:default}.mat-mdc-checkbox.mat-mdc-checkbox-disabled label{cursor:default;color:var(--mat-checkbox-disabled-label-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-checkbox label:empty{display:none}.mat-mdc-checkbox .mdc-checkbox__ripple{opacity:0}.mat-mdc-checkbox .mat-mdc-checkbox-ripple,.mdc-checkbox__ripple{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-checkbox .mat-mdc-checkbox-ripple:not(:empty),.mdc-checkbox__ripple:not(:empty){transform:translateZ(0)}.mat-mdc-checkbox-ripple .mat-ripple-element{opacity:.1}.mat-mdc-checkbox-touch-target{position:absolute;top:50%;left:50%;height:48px;width:48px;transform:translate(-50%, -50%);display:var(--mat-checkbox-touch-target-display, block)}.mat-mdc-checkbox-ripple::before{border-radius:50%}.mdc-checkbox__native-control:focus~.mat-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return r})();var Zl=(()=>{class r{static \u0275fac=function(n){return new(n||r)};static \u0275mod=Nt({type:r});static \u0275inj=kt({imports:[ja,$r,$r]})}return r})();var z3e=r=>({round:r});function j3e(r,t){if(r&1){let e=ot();W(0,"input",3),Cn("colorPickerChange",function(i){xe(e);let o=ie();return Mn(o.form().value[o.formControlName()],i)||(o.form().value[o.formControlName()]=i),we(i)}),Me("colorPickerChange",function(i){xe(e);let o=ie();return we(o.onColorChanged(i))}),$()}if(r&2){let e=ie();hn("background",e.form().value[e.formControlName()]),oe("id",e.formControlName()),wn("colorPicker",e.form().value[e.formControlName()])}}function H3e(r,t){if(r&1){let e=ot();W(0,"mat-checkbox",4),Cn("ngModelChange",function(i){xe(e);let o=ie();return Mn(o.noValue,i)||(o.noValue=i),we(i)}),Me("click",function(){xe(e);let i=ie();return we(i.onNoValueSelected())}),ge(1,"Pas de valeur"),$()}if(r&2){let e=ie();wn("ngModel",e.noValue)}}var Cu=(()=>{class r{get value(){return this._value()}set value(e){this._value.set(e),this.onChange(e),this.onTouched()}registerOnChange(e){this.onChange=e}writeValue(e){this.value=e}registerOnTouched(e){this.onTouched=e}constructor(){this.form=Ne(),this.round=Ne(!0),this.nullable=Ne(!0),this.formControlName=Ne(),this._ID="",this._value=qo(void 0,{alias:"value"}),this.onChange=()=>{},this.onTouched=()=>{}}ngAfterContentInit(){this.nullable()&&(this.noValue=!this.value)}onColorChanged(e){this.form().controls[this.formControlName()].setValue(e),e&&(this.noValue=!1)}onNoValueSelected(){this.noValue&&this.form().controls[this.formControlName()].setValue(null)}static{this.\u0275fac=function(n){return new(n||r)}}static{this.\u0275cmp=Be({type:r,selectors:[["jee-color-picker"]],inputs:{form:[1,"form"],round:[1,"round"],nullable:[1,"nullable"],formControlName:[1,"formControlName"],_value:[1,"value","_value"]},outputs:{_value:"valueChange"},features:[Lt([{provide:vn,useExisting:Hr(()=>r),multi:!0}])],decls:3,vars:5,consts:[[3,"ngClass"],["matInput","",3,"id","colorPicker","background"],[3,"ngModel"],["matInput","",3,"colorPickerChange","id","colorPicker"],[3,"ngModelChange","click","ngModel"]],template:function(n,i){n&1&&(W(0,"div",0),Oe(1,j3e,1,4,"input",1),$(),Oe(2,H3e,2,1,"mat-checkbox",2)),n&2&&(oe("ngClass",Un(3,z3e,i.round())),K(),Pe(i.form()?1:-1),K(),Pe(i.nullable()?2:-1))},dependencies:[eo,ho,Sr,en,Ro,vo,Ki,VE,vle,Zl,ja],styles:["[_nghost-%COMP%]{display:flex}.round[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:50px;overflow:hidden}.round[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:0;padding:0;width:200%;height:200%;cursor:pointer;transform:translate(-25%,-25%)}"]})}}return r})();var vh=class{constructor(){this.alternatives=[]}},uM=class{};var Zce=function(r){return r.action="action",r.info="info",r}(Zce||{}),Qce=function(r){return r.color="color",r.number="number",r.string="string",r}(Qce||{}),bh=class{toJSON(){return{commandRef:this.commandRef,providerCode:this.providerCode,isHistorized:this.isHistorized}}constructor(t){this.commandRef="",this.providerCode="",this.type=Zce.info,this.subType=Qce.string,this.isHistorized=!1,Object.assign(this,t)}};var yh=class{constructor(t){Object.assign(this,t)}};var Jce=(()=>{class r{constructor(){this.providersSettings=[]}static{this.PROVIDERS_KEY="jee-panel-providers"}getProviderSettingsById(e){return tt(this._getProvidersSettings().find(n=>n.id===e))}getProvidersSettings(){return tt(this._getProvidersSettings())}_getProvidersSettings(){if(this.providersSettings?.length)return this.providersSettings;let e=localStorage.getItem(r.PROVIDERS_KEY)||"{}",n=[],i=JSON.parse(e);return i=i??[],Array.isArray(i)||(i=[]),i.forEach(o=>{n.push(new yh(o))}),this.providersSettings=n,n}saveProvidersSettings(e){return e&&(this.providersSettings=e),localStorage.setItem(r.PROVIDERS_KEY,JSON.stringify(this.providersSettings)),tt(this.providersSettings)}saveProviderSettings(e){let n=this._getProvidersSettings();debugger;if(e.id){let i=n.find(o=>o.id===e.id);i&&Object.assign(i,e)}else{let i=Math.max(0,...n?.map(o=>o.id)||[0]);e.id=i+1,n.push(e)}return this.saveProvidersSettings().pipe(at(()=>e))}removeProviderSettings(e){return this.providersSettings=this.providersSettings.filter(n=>n.id!==e),this.saveProvidersSettings(this.providersSettings).pipe(at(()=>{}))}static{this.\u0275fac=function(n){return new(n||r)}}static{this.\u0275prov=Fe({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();var e0=(()=>{class r{constructor(){this.providerSettingsResource=V(Jce),this.dashboardsStorageService=V(Ql),this.availableProviders=[]}getAvailableProviders(){return tt(this.availableProviders)}getProvidersSettings(){return this.providerSettingsResource.getProvidersSettings().pipe(Fr(e=>{e.forEach(n=>{n.label=this.availableProviders.find(i=>i.providerType===n.type)?.providerName})}))}saveProviderSettings(e){return Zw(()=>!!e.id,this.providerSettingsResource.getProviderSettingsById(e.id),tt(void 0)).pipe(Wr(n=>{if(n){let i=n.code;return Object.assign(n,e),Zw(()=>i!==e.code,this.dashboardsStorageService.updateProviderCode(i,e.code),tt(void 0)).pipe(lc(()=>this.providerSettingsResource.saveProviderSettings(e)),at(o=>(Object.assign(n,o),n)))}return this.providerSettingsResource.saveProviderSettings(e)}))}removeProviderSettings(e){return this.providerSettingsResource.removeProviderSettings(e)}static{this.\u0275fac=function(n){return new(n||r)}}static{this.\u0275prov=Fe({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();var En=(()=>{class r{static{this.PROVIDER_SEPARATOR=" - "}get providers(){return Object.values(this._providers)}constructor(){this._injector=V(lr),this.providerSettingsService=V(e0),this._providers={}={}}initProviders(){return this._providers={},this.providerSettingsService.getProvidersSettings().pipe(at(e=>(e.forEach(n=>{try{this.getInstanceOf(n)}catch(i){console.error(i)}}),this.providers)))}getProvider(e){return this._providers[e]}getHistory(e,n,i=new Date){let o=this.getProvider(e.providerCode);return o?o.getHistory(e.commandRef,n,i):tt([])}getValue(e){let n=this.getProvider(e.providerCode);return n?n.getValue(e.commandRef):tt(new bh)}openCommandPickerModal(e,n){let i=new Ke,o=n?.providerCode;if(!o&&this._providers){let a=Object.keys(this._providers);a.length===1&&(o=a[0])}let s=this.getProvider(o);return s&&s.openCommandPickerModal(e,n).subscribe(a=>{i.next(a)}),i.asObservable()}openConfigurationModal(e){let n=new Ke;return this.getInstanceOf(e).openConfigurationModal().subscribe(i=>{this.providerSettingsService.saveProviderSettings(i).subscribe(()=>{n.next(i)})}),n.asObservable()}broadcastDashboardsEvent(e){this._providers&&Object.keys(this._providers).forEach(n=>{this._providers[n].onDashboardEvent(e)})}deleteIntanceOf(e){this._providers[e]&&(this._providers[e].OnDestroy(),delete this._providers[e])}getInstanceOf(e){let n=e.type,i=e.code;if(this._providers[i])return this._providers[i];let o=this.providerSettingsService.availableProviders.find(s=>s.providerType===n);if(o){let a=lr.create({providers:[o.useClass],parent:this._injector})?.get(o.useClass);if(a)return e.label=o.providerName,a.setSettings(e),this._providers[i]=a,this._providers[i]}throw new Error("getInstanceOf : no provider with type "+n)}static{this.\u0275fac=function(n){return new(n||r)}}static{this.\u0275prov=Fe({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();var U3e=["knob"],q3e=["valueIndicatorContainer"];function W3e(r,t){if(r&1&&(W(0,"div",2,1)(2,"div",5)(3,"span",6),ge(4),$()()()),r&2){let e=ie();K(4),zt(e.valueIndicatorText)}}var $3e=["trackActive"],G3e=["*"];function Y3e(r,t){if(r&1&&Te(0,"div"),r&2){let e=t.$implicit,n=t.$index,i=ie(3);Li(e===0?"mdc-slider__tick-mark--active":"mdc-slider__tick-mark--inactive"),hn("transform",i._calcTickMarkTransform(n))}}function K3e(r,t){if(r&1&&ur(0,Y3e,1,4,"div",8,Mi),r&2){let e=ie(2);dr(e._tickMarks)}}function X3e(r,t){if(r&1&&(W(0,"div",6,1),Oe(2,K3e,2,0),$()),r&2){let e=ie();K(2),Pe(e._cachedWidth?2:-1)}}function Z3e(r,t){if(r&1&&Te(0,"mat-slider-visual-thumb",7),r&2){let e=ie();oe("discrete",e.discrete)("thumbPosition",1)("valueIndicatorText",e.startValueIndicatorText)}}var Or=function(r){return r[r.START=1]="START",r[r.END=2]="END",r}(Or||{}),t0=function(r){return r[r.ACTIVE=0]="ACTIVE",r[r.INACTIVE=1]="INACTIVE",r}(t0||{}),a5=new He("_MatSlider"),eue=new He("_MatSliderThumb"),Q3e=new He("_MatSliderRangeThumb"),tue=new He("_MatSliderVisualThumb");var J3e=(()=>{class r{_cdr=V(qt);_ngZone=V(xt);_slider=V(a5);discrete;thumbPosition;valueIndicatorText;_ripple;_knob;_valueIndicatorContainer;_sliderInput;_sliderInputEl;_hoverRippleRef;_focusRippleRef;_activeRippleRef;_isHovered=!1;_isActive=!1;_isValueIndicatorVisible=!1;_hostElement=V(ut).nativeElement;_platform=V(tn);constructor(){}ngAfterViewInit(){let e=this._slider._getInput(this.thumbPosition);e&&(this._ripple.radius=24,this._sliderInput=e,this._sliderInputEl=this._sliderInput._hostElement,this._ngZone.runOutsideAngular(()=>{let n=this._sliderInputEl;n.addEventListener("pointermove",this._onPointerMove),n.addEventListener("pointerdown",this._onDragStart),n.addEventListener("pointerup",this._onDragEnd),n.addEventListener("pointerleave",this._onMouseLeave),n.addEventListener("focus",this._onFocus),n.addEventListener("blur",this._onBlur)}))}ngOnDestroy(){let e=this._sliderInputEl;e&&(e.removeEventListener("pointermove",this._onPointerMove),e.removeEventListener("pointerdown",this._onDragStart),e.removeEventListener("pointerup",this._onDragEnd),e.removeEventListener("pointerleave",this._onMouseLeave),e.removeEventListener("focus",this._onFocus),e.removeEventListener("blur",this._onBlur))}_onPointerMove=e=>{if(this._sliderInput._isFocused)return;let n=this._hostElement.getBoundingClientRect(),i=this._slider._isCursorOnSliderThumb(e,n);this._isHovered=i,i?this._showHoverRipple():this._hideRipple(this._hoverRippleRef)};_onMouseLeave=()=>{this._isHovered=!1,this._hideRipple(this._hoverRippleRef)};_onFocus=()=>{this._hideRipple(this._hoverRippleRef),this._showFocusRipple(),this._hostElement.classList.add("mdc-slider__thumb--focused")};_onBlur=()=>{this._isActive||this._hideRipple(this._focusRippleRef),this._isHovered&&this._showHoverRipple(),this._hostElement.classList.remove("mdc-slider__thumb--focused")};_onDragStart=e=>{e.button===0&&(this._isActive=!0,this._showActiveRipple())};_onDragEnd=()=>{this._isActive=!1,this._hideRipple(this._activeRippleRef),this._sliderInput._isFocused||this._hideRipple(this._focusRippleRef),this._platform.SAFARI&&this._showHoverRipple()};_showHoverRipple(){this._isShowingRipple(this._hoverRippleRef)||(this._hoverRippleRef=this._showRipple({enterDuration:0,exitDuration:0}),this._hoverRippleRef?.element.classList.add("mat-mdc-slider-hover-ripple"))}_showFocusRipple(){this._isShowingRipple(this._focusRippleRef)||(this._focusRippleRef=this._showRipple({enterDuration:0,exitDuration:0},!0),this._focusRippleRef?.element.classList.add("mat-mdc-slider-focus-ripple"))}_showActiveRipple(){this._isShowingRipple(this._activeRippleRef)||(this._activeRippleRef=this._showRipple({enterDuration:225,exitDuration:400}),this._activeRippleRef?.element.classList.add("mat-mdc-slider-active-ripple"))}_isShowingRipple(e){return e?.state===ca.FADING_IN||e?.state===ca.VISIBLE}_showRipple(e,n){if(!this._slider.disabled&&(this._showValueIndicator(),this._slider._isRange&&this._slider._getThumb(this.thumbPosition===Or.START?Or.END:Or.START)._showValueIndicator(),!(this._slider._globalRippleOptions?.disabled&&!n)))return this._ripple.launch({animation:this._slider._noopAnimations?{enterDuration:0,exitDuration:0}:e,centered:!0,persistent:!0})}_hideRipple(e){if(e?.fadeOut(),this._isShowingAnyRipple())return;this._slider._isRange||this._hideValueIndicator();let n=this._getSibling();n._isShowingAnyRipple()||(this._hideValueIndicator(),n._hideValueIndicator())}_showValueIndicator(){this._hostElement.classList.add("mdc-slider__thumb--with-indicator")}_hideValueIndicator(){this._hostElement.classList.remove("mdc-slider__thumb--with-indicator")}_getSibling(){return this._slider._getThumb(this.thumbPosition===Or.START?Or.END:Or.START)}_getValueIndicatorContainer(){return this._valueIndicatorContainer?.nativeElement}_getKnob(){return this._knob.nativeElement}_isShowingAnyRipple(){return this._isShowingRipple(this._hoverRippleRef)||this._isShowingRipple(this._focusRippleRef)||this._isShowingRipple(this._activeRippleRef)}static \u0275fac=function(n){return new(n||r)};static \u0275cmp=Be({type:r,selectors:[["mat-slider-visual-thumb"]],viewQuery:function(n,i){if(n&1&&(Cr(_c,5),Cr(U3e,5),Cr(q3e,5)),n&2){let o;Ft(o=Rt())&&(i._ripple=o.first),Ft(o=Rt())&&(i._knob=o.first),Ft(o=Rt())&&(i._valueIndicatorContainer=o.first)}},hostAttrs:[1,"mdc-slider__thumb","mat-mdc-slider-visual-thumb"],inputs:{discrete:"discrete",thumbPosition:"thumbPosition",valueIndicatorText:"valueIndicatorText"},features:[Lt([{provide:tue,useExisting:r}])],decls:4,vars:2,consts:[["knob",""],["valueIndicatorContainer",""],[1,"mdc-slider__value-indicator-container"],[1,"mdc-slider__thumb-knob"],["matRipple","",1,"mat-focus-indicator",3,"matRippleDisabled"],[1,"mdc-slider__value-indicator"],[1,"mdc-slider__value-indicator-text"]],template:function(n,i){n&1&&(Oe(0,W3e,5,1,"div",2),Te(1,"div",3,0)(3,"div",4)),n&2&&(Pe(i.discrete?0:-1),K(3),oe("matRippleDisabled",!0))},dependencies:[_c],styles:[".mat-mdc-slider-visual-thumb .mat-ripple{height:100%;width:100%}.mat-mdc-slider .mdc-slider__tick-marks{justify-content:start}.mat-mdc-slider .mdc-slider__tick-marks .mdc-slider__tick-mark--active,.mat-mdc-slider .mdc-slider__tick-marks .mdc-slider__tick-mark--inactive{position:absolute;left:2px}"],encapsulation:2,changeDetection:0})}return r})(),lp=(()=>{class r{_ngZone=V(xt);_cdr=V(qt);_elementRef=V(ut);_dir=V(no,{optional:!0});_globalRippleOptions=V(sy,{optional:!0});_trackActive;_thumbs;_input;_inputs;get disabled(){return this._disabled}set disabled(e){this._disabled=e;let n=this._getInput(Or.END),i=this._getInput(Or.START);n&&(n.disabled=this._disabled),i&&(i.disabled=this._disabled)}_disabled=!1;get discrete(){return this._discrete}set discrete(e){this._discrete=e,this._updateValueIndicatorUIs()}_discrete=!1;showTickMarks=!1;get min(){return this._min}set min(e){let n=isNaN(e)?this._min:e;this._min!==n&&this._updateMin(n)}_min=0;color;disableRipple=!1;_updateMin(e){let n=this._min;this._min=e,this._isRange?this._updateMinRange({old:n,new:e}):this._updateMinNonRange(e),this._onMinMaxOrStepChange()}_updateMinRange(e){let n=this._getInput(Or.END),i=this._getInput(Or.START),o=n.value,s=i.value;i.min=e.new,n.min=Math.max(e.new,i.value),i.max=Math.min(n.max,n.value),i._updateWidthInactive(),n._updateWidthInactive(),e.new<e.old?this._onTranslateXChangeBySideEffect(n,i):this._onTranslateXChangeBySideEffect(i,n),o!==n.value&&this._onValueChange(n),s!==i.value&&this._onValueChange(i)}_updateMinNonRange(e){let n=this._getInput(Or.END);if(n){let i=n.value;n.min=e,n._updateThumbUIByValue(),this._updateTrackUI(n),i!==n.value&&this._onValueChange(n)}}get max(){return this._max}set max(e){let n=isNaN(e)?this._max:e;this._max!==n&&this._updateMax(n)}_max=100;_updateMax(e){let n=this._max;this._max=e,this._isRange?this._updateMaxRange({old:n,new:e}):this._updateMaxNonRange(e),this._onMinMaxOrStepChange()}_updateMaxRange(e){let n=this._getInput(Or.END),i=this._getInput(Or.START),o=n.value,s=i.value;n.max=e.new,i.max=Math.min(e.new,n.value),n.min=i.value,n._updateWidthInactive(),i._updateWidthInactive(),e.new>e.old?this._onTranslateXChangeBySideEffect(i,n):this._onTranslateXChangeBySideEffect(n,i),o!==n.value&&this._onValueChange(n),s!==i.value&&this._onValueChange(i)}_updateMaxNonRange(e){let n=this._getInput(Or.END);if(n){let i=n.value;n.max=e,n._updateThumbUIByValue(),this._updateTrackUI(n),i!==n.value&&this._onValueChange(n)}}get step(){return this._step}set step(e){let n=isNaN(e)?this._step:e;this._step!==n&&this._updateStep(n)}_step=1;_updateStep(e){this._step=e,this._isRange?this._updateStepRange():this._updateStepNonRange(),this._onMinMaxOrStepChange()}_updateStepRange(){let e=this._getInput(Or.END),n=this._getInput(Or.START),i=e.value,o=n.value,s=n.value;e.min=this._min,n.max=this._max,e.step=this._step,n.step=this._step,this._platform.SAFARI&&(e.value=e.value,n.value=n.value),e.min=Math.max(this._min,n.value),n.max=Math.min(this._max,e.value),n._updateWidthInactive(),e._updateWidthInactive(),e.value<s?this._onTranslateXChangeBySideEffect(n,e):this._onTranslateXChangeBySideEffect(e,n),i!==e.value&&this._onValueChange(e),o!==n.value&&this._onValueChange(n)}_updateStepNonRange(){let e=this._getInput(Or.END);if(e){let n=e.value;e.step=this._step,this._platform.SAFARI&&(e.value=e.value),e._updateThumbUIByValue(),n!==e.value&&this._onValueChange(e)}}displayWith=e=>`${e}`;_tickMarks;_noopAnimations;_dirChangeSubscription;_resizeObserver;_cachedWidth;_cachedLeft;_rippleRadius=24;startValueIndicatorText="";endValueIndicatorText="";_endThumbTransform;_startThumbTransform;_isRange=!1;_isRtl=!1;_hasViewInitialized=!1;_tickMarkTrackWidth=0;_hasAnimation=!1;_resizeTimer=null;_platform=V(tn);constructor(){V(Ti).load(tl);let e=V(Xn,{optional:!0});this._noopAnimations=e==="NoopAnimations",this._dir&&(this._dirChangeSubscription=this._dir.change.subscribe(()=>this._onDirChange()),this._isRtl=this._dir.value==="rtl")}_knobRadius=8;_inputPadding;ngAfterViewInit(){this._platform.isBrowser&&this._updateDimensions();let e=this._getInput(Or.END),n=this._getInput(Or.START);this._isRange=!!e&&!!n,this._cdr.detectChanges();let i=this._getThumb(Or.END);this._rippleRadius=i._ripple.radius,this._inputPadding=this._rippleRadius-this._knobRadius,this._isRange?this._initUIRange(e,n):this._initUINonRange(e),this._updateTrackUI(e),this._updateTickMarkUI(),this._updateTickMarkTrackUI(),this._observeHostResize(),this._cdr.detectChanges()}_initUINonRange(e){e.initProps(),e.initUI(),this._updateValueIndicatorUI(e),this._hasViewInitialized=!0,e._updateThumbUIByValue()}_initUIRange(e,n){e.initProps(),e.initUI(),n.initProps(),n.initUI(),e._updateMinMax(),n._updateMinMax(),e._updateStaticStyles(),n._updateStaticStyles(),this._updateValueIndicatorUIs(),this._hasViewInitialized=!0,e._updateThumbUIByValue(),n._updateThumbUIByValue()}ngOnDestroy(){this._dirChangeSubscription.unsubscribe(),this._resizeObserver?.disconnect(),this._resizeObserver=null}_onDirChange(){this._isRtl=this._dir?.value==="rtl",this._isRange?this._onDirChangeRange():this._onDirChangeNonRange(),this._updateTickMarkUI()}_onDirChangeRange(){let e=this._getInput(Or.END),n=this._getInput(Or.START);e._setIsLeftThumb(),n._setIsLeftThumb(),e.translateX=e._calcTranslateXByValue(),n.translateX=n._calcTranslateXByValue(),e._updateStaticStyles(),n._updateStaticStyles(),e._updateWidthInactive(),n._updateWidthInactive(),e._updateThumbUIByValue(),n._updateThumbUIByValue()}_onDirChangeNonRange(){this._getInput(Or.END)._updateThumbUIByValue()}_observeHostResize(){typeof ResizeObserver>"u"||!ResizeObserver||this._ngZone.runOutsideAngular(()=>{this._resizeObserver=new ResizeObserver(()=>{this._isActive()||(this._resizeTimer&&clearTimeout(this._resizeTimer),this._onResize())}),this._resizeObserver.observe(this._elementRef.nativeElement)})}_isActive(){return this._getThumb(Or.START)._isActive||this._getThumb(Or.END)._isActive}_getValue(e=Or.END){let n=this._getInput(e);return n?n.value:this.min}_skipUpdate(){return!!(this._getInput(Or.START)?._skipUIUpdate||this._getInput(Or.END)?._skipUIUpdate)}_updateDimensions(){this._cachedWidth=this._elementRef.nativeElement.offsetWidth,this._cachedLeft=this._elementRef.nativeElement.getBoundingClientRect().left}_setTrackActiveStyles(e){let n=this._trackActive.nativeElement.style;n.left=e.left,n.right=e.right,n.transformOrigin=e.transformOrigin,n.transform=e.transform}_calcTickMarkTransform(e){return`translateX(${e*(this._tickMarkTrackWidth/(this._tickMarks.length-1))}px`}_onTranslateXChange(e){this._hasViewInitialized&&(this._updateThumbUI(e),this._updateTrackUI(e),this._updateOverlappingThumbUI(e))}_onTranslateXChangeBySideEffect(e,n){this._hasViewInitialized&&(e._updateThumbUIByValue(),n._updateThumbUIByValue())}_onValueChange(e){this._hasViewInitialized&&(this._updateValueIndicatorUI(e),this._updateTickMarkUI(),this._cdr.detectChanges())}_onMinMaxOrStepChange(){this._hasViewInitialized&&(this._updateTickMarkUI(),this._updateTickMarkTrackUI(),this._cdr.markForCheck())}_onResize(){if(this._hasViewInitialized){if(this._updateDimensions(),this._isRange){let e=this._getInput(Or.END),n=this._getInput(Or.START);e._updateThumbUIByValue(),n._updateThumbUIByValue(),e._updateStaticStyles(),n._updateStaticStyles(),e._updateMinMax(),n._updateMinMax(),e._updateWidthInactive(),n._updateWidthInactive()}else{let e=this._getInput(Or.END);e&&e._updateThumbUIByValue()}this._updateTickMarkUI(),this._updateTickMarkTrackUI(),this._cdr.detectChanges()}}_thumbsOverlap=!1;_areThumbsOverlapping(){let e=this._getInput(Or.START),n=this._getInput(Or.END);return!e||!n?!1:n.translateX-e.translateX<20}_updateOverlappingThumbClassNames(e){let n=e.getSibling(),i=this._getThumb(e.thumbPosition);this._getThumb(n.thumbPosition)._hostElement.classList.remove("mdc-slider__thumb--top"),i._hostElement.classList.toggle("mdc-slider__thumb--top",this._thumbsOverlap)}_updateOverlappingThumbUI(e){!this._isRange||this._skipUpdate()||this._thumbsOverlap!==this._areThumbsOverlapping()&&(this._thumbsOverlap=!this._thumbsOverlap,this._updateOverlappingThumbClassNames(e))}_updateThumbUI(e){if(this._skipUpdate())return;let n=this._getThumb(e.thumbPosition===Or.END?Or.END:Or.START);n._hostElement.style.transform=`translateX(${e.translateX}px)`}_updateValueIndicatorUI(e){if(this._skipUpdate())return;let n=this.displayWith(e.value);if(this._hasViewInitialized?e._valuetext.set(n):e._hostElement.setAttribute("aria-valuetext",n),this.discrete){e.thumbPosition===Or.START?this.startValueIndicatorText=n:this.endValueIndicatorText=n;let i=this._getThumb(e.thumbPosition);n.length<3?i._hostElement.classList.add("mdc-slider__thumb--short-value"):i._hostElement.classList.remove("mdc-slider__thumb--short-value")}}_updateValueIndicatorUIs(){let e=this._getInput(Or.END),n=this._getInput(Or.START);e&&this._updateValueIndicatorUI(e),n&&this._updateValueIndicatorUI(n)}_updateTickMarkTrackUI(){if(!this.showTickMarks||this._skipUpdate())return;let e=this._step&&this._step>0?this._step:1,i=(Math.floor(this.max/e)*e-this.min)/(this.max-this.min);this._tickMarkTrackWidth=this._cachedWidth*i-6}_updateTrackUI(e){this._skipUpdate()||(this._isRange?this._updateTrackUIRange(e):this._updateTrackUINonRange(e))}_updateTrackUIRange(e){let n=e.getSibling();if(!n||!this._cachedWidth)return;let i=Math.abs(n.translateX-e.translateX)/this._cachedWidth;e._isLeftThumb&&this._cachedWidth?this._setTrackActiveStyles({left:"auto",right:`${this._cachedWidth-n.translateX}px`,transformOrigin:"right",transform:`scaleX(${i})`}):this._setTrackActiveStyles({left:`${n.translateX}px`,right:"auto",transformOrigin:"left",transform:`scaleX(${i})`})}_updateTrackUINonRange(e){this._isRtl?this._setTrackActiveStyles({left:"auto",right:"0px",transformOrigin:"right",transform:`scaleX(${1-e.fillPercentage})`}):this._setTrackActiveStyles({left:"0px",right:"auto",transformOrigin:"left",transform:`scaleX(${e.fillPercentage})`})}_updateTickMarkUI(){if(!this.showTickMarks||this.step===void 0||this.min===void 0||this.max===void 0)return;let e=this.step>0?this.step:1;this._isRange?this._updateTickMarkUIRange(e):this._updateTickMarkUINonRange(e),this._isRtl&&this._tickMarks.reverse()}_updateTickMarkUINonRange(e){let n=this._getValue(),i=Math.max(Math.round((n-this.min)/e),0),o=Math.max(Math.round((this.max-n)/e),0);this._isRtl?i++:o++,this._tickMarks=Array(i).fill(t0.ACTIVE).concat(Array(o).fill(t0.INACTIVE))}_updateTickMarkUIRange(e){let n=this._getValue(),i=this._getValue(Or.START),o=Math.max(Math.round((i-this.min)/e),0),s=Math.max(Math.round((n-i)/e)+1,0),a=Math.max(Math.round((this.max-n)/e),0);this._tickMarks=Array(o).fill(t0.INACTIVE).concat(Array(s).fill(t0.ACTIVE),Array(a).fill(t0.INACTIVE))}_getInput(e){if(e===Or.END&&this._input)return this._input;if(this._inputs?.length)return e===Or.START?this._inputs.first:this._inputs.last}_getThumb(e){return e===Or.END?this._thumbs?.last:this._thumbs?.first}_setTransition(e){this._hasAnimation=!this._platform.IOS&&e&&!this._noopAnimations,this._elementRef.nativeElement.classList.toggle("mat-mdc-slider-with-animation",this._hasAnimation)}_isCursorOnSliderThumb(e,n){let i=n.width/2,o=n.x+i,s=n.y+i,a=e.clientX-o,l=e.clientY-s;return Math.pow(a,2)+Math.pow(l,2)<Math.pow(i,2)}static \u0275fac=function(n){return new(n||r)};static \u0275cmp=Be({type:r,selectors:[["mat-slider"]],contentQueries:function(n,i,o){if(n&1&&(Qn(o,eue,5),Qn(o,Q3e,4)),n&2){let s;Ft(s=Rt())&&(i._input=s.first),Ft(s=Rt())&&(i._inputs=s)}},viewQuery:function(n,i){if(n&1&&(Cr($3e,5),Cr(tue,5)),n&2){let o;Ft(o=Rt())&&(i._trackActive=o.first),Ft(o=Rt())&&(i._thumbs=o)}},hostAttrs:[1,"mat-mdc-slider","mdc-slider"],hostVars:12,hostBindings:function(n,i){n&2&&(Li("mat-"+(i.color||"primary")),Wt("mdc-slider--range",i._isRange)("mdc-slider--disabled",i.disabled)("mdc-slider--discrete",i.discrete)("mdc-slider--tick-marks",i.showTickMarks)("_mat-animation-noopable",i._noopAnimations))},inputs:{disabled:[2,"disabled","disabled",Mt],discrete:[2,"discrete","discrete",Mt],showTickMarks:[2,"showTickMarks","showTickMarks",Mt],min:[2,"min","min",qi],color:"color",disableRipple:[2,"disableRipple","disableRipple",Mt],max:[2,"max","max",qi],step:[2,"step","step",qi],displayWith:"displayWith"},exportAs:["matSlider"],features:[Lt([{provide:a5,useExisting:r}]),Ur],ngContentSelectors:G3e,decls:9,vars:5,consts:[["trackActive",""],["tickMarkContainer",""],[1,"mdc-slider__track"],[1,"mdc-slider__track--inactive"],[1,"mdc-slider__track--active"],[1,"mdc-slider__track--active_fill"],[1,"mdc-slider__tick-marks"],[3,"discrete","thumbPosition","valueIndicatorText"],[3,"class","transform"]],template:function(n,i){n&1&&(un(),hr(0),W(1,"div",2),Te(2,"div",3),W(3,"div",4),Te(4,"div",5,0),$(),Oe(6,X3e,3,1,"div",6),$(),Oe(7,Z3e,1,3,"mat-slider-visual-thumb",7),Te(8,"mat-slider-visual-thumb",7)),n&2&&(K(6),Pe(i.showTickMarks?6:-1),K(),Pe(i._isRange?7:-1),K(),oe("discrete",i.discrete)("thumbPosition",2)("valueIndicatorText",i.endValueIndicatorText))},dependencies:[J3e],styles:['.mdc-slider__track{position:absolute;top:50%;transform:translateY(-50%);width:100%;pointer-events:none;height:var(--mdc-slider-inactive-track-height, 4px)}.mdc-slider__track--active,.mdc-slider__track--inactive{display:flex;height:100%;position:absolute;width:100%}.mdc-slider__track--active{overflow:hidden;border-radius:var(--mdc-slider-active-track-shape, var(--mat-sys-corner-full));height:var(--mdc-slider-active-track-height, 4px);top:calc((var(--mdc-slider-inactive-track-height, 4px) - var(--mdc-slider-active-track-height, 4px))/2)}.mdc-slider__track--active_fill{border-top-style:solid;box-sizing:border-box;height:100%;width:100%;position:relative;transform-origin:left;transition:transform 80ms ease;border-color:var(--mdc-slider-active-track-color, var(--mat-sys-primary));border-top-width:var(--mdc-slider-active-track-height, 4px)}.mdc-slider--disabled .mdc-slider__track--active_fill{border-color:var(--mdc-slider-disabled-active-track-color, var(--mat-sys-on-surface))}[dir=rtl] .mdc-slider__track--active_fill{-webkit-transform-origin:right;transform-origin:right}.mdc-slider__track--inactive{left:0;top:0;opacity:.24;background-color:var(--mdc-slider-inactive-track-color, var(--mat-sys-surface-variant));height:var(--mdc-slider-inactive-track-height, 4px);border-radius:var(--mdc-slider-inactive-track-shape, var(--mat-sys-corner-full))}.mdc-slider--disabled .mdc-slider__track--inactive{background-color:var(--mdc-slider-disabled-inactive-track-color, var(--mat-sys-on-surface));opacity:.24}.mdc-slider__track--inactive::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media(forced-colors: active){.mdc-slider__track--inactive::before{border-color:CanvasText}}.mdc-slider__value-indicator-container{bottom:44px;left:50%;pointer-events:none;position:absolute;transform:translateX(-50%);transform:var(--mat-slider-value-indicator-container-transform, translateX(-50%) rotate(-45deg))}.mdc-slider__thumb--with-indicator .mdc-slider__value-indicator-container{pointer-events:auto}.mdc-slider__value-indicator{display:flex;align-items:center;border-radius:4px;height:32px;padding:0 12px;transform:scale(0);transform-origin:bottom;opacity:1;transition:transform 100ms cubic-bezier(0.4, 0, 1, 1);word-break:normal;background-color:var(--mdc-slider-label-container-color, var(--mat-sys-primary));color:var(--mdc-slider-label-label-text-color, var(--mat-sys-on-primary));width:var(--mat-slider-value-indicator-width, 28px);height:var(--mat-slider-value-indicator-height, 28px);padding:var(--mat-slider-value-indicator-padding, 0);opacity:var(--mat-slider-value-indicator-opacity, 1);border-radius:var(--mat-slider-value-indicator-border-radius, 50% 50% 50% 0)}.mdc-slider__thumb--with-indicator .mdc-slider__value-indicator{transition:transform 100ms cubic-bezier(0, 0, 0.2, 1);transform:scale(1)}.mdc-slider__value-indicator::before{border-left:6px solid rgba(0,0,0,0);border-right:6px solid rgba(0,0,0,0);border-top:6px solid;bottom:-5px;content:"";height:0;left:50%;position:absolute;transform:translateX(-50%);width:0;display:var(--mat-slider-value-indicator-caret-display, none);border-top-color:var(--mdc-slider-label-container-color, var(--mat-sys-primary))}.mdc-slider__value-indicator::after{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media(forced-colors: active){.mdc-slider__value-indicator::after{border-color:CanvasText}}.mdc-slider__value-indicator-text{text-align:center;width:var(--mat-slider-value-indicator-width, 28px);transform:var(--mat-slider-value-indicator-text-transform, rotate(45deg));font-family:var(--mdc-slider-label-label-text-font, var(--mat-sys-label-medium-font));font-size:var(--mdc-slider-label-label-text-size, var(--mat-sys-label-medium-size));font-weight:var(--mdc-slider-label-label-text-weight, var(--mat-sys-label-medium-weight));line-height:var(--mdc-slider-label-label-text-line-height, var(--mat-sys-label-medium-line-height));letter-spacing:var(--mdc-slider-label-label-text-tracking, var(--mat-sys-label-medium-tracking))}.mdc-slider__thumb{-webkit-user-select:none;user-select:none;display:flex;left:-24px;outline:none;position:absolute;height:48px;width:48px;pointer-events:none}.mdc-slider--discrete .mdc-slider__thumb{transition:transform 80ms ease}.mdc-slider--disabled .mdc-slider__thumb{pointer-events:none}.mdc-slider__thumb--top{z-index:1}.mdc-slider__thumb-knob{position:absolute;box-sizing:border-box;left:50%;top:50%;transform:translate(-50%, -50%);border-style:solid;width:var(--mdc-slider-handle-width, 20px);height:var(--mdc-slider-handle-height, 20px);border-width:calc(var(--mdc-slider-handle-height, 20px)/2) calc(var(--mdc-slider-handle-width, 20px)/2);box-shadow:var(--mdc-slider-handle-elevation, var(--mat-sys-level1));background-color:var(--mdc-slider-handle-color, var(--mat-sys-primary));border-color:var(--mdc-slider-handle-color, var(--mat-sys-primary));border-radius:var(--mdc-slider-handle-shape, var(--mat-sys-corner-full))}.mdc-slider__thumb:hover .mdc-slider__thumb-knob{background-color:var(--mdc-slider-hover-handle-color, var(--mat-sys-primary));border-color:var(--mdc-slider-hover-handle-color, var(--mat-sys-primary))}.mdc-slider__thumb--focused .mdc-slider__thumb-knob{background-color:var(--mdc-slider-focus-handle-color, var(--mat-sys-primary));border-color:var(--mdc-slider-focus-handle-color, var(--mat-sys-primary))}.mdc-slider--disabled .mdc-slider__thumb-knob{background-color:var(--mdc-slider-disabled-handle-color, var(--mat-sys-on-surface));border-color:var(--mdc-slider-disabled-handle-color, var(--mat-sys-on-surface))}.mdc-slider__thumb--top .mdc-slider__thumb-knob,.mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border:solid 1px #fff;box-sizing:content-box;border-color:var(--mdc-slider-with-overlap-handle-outline-color, var(--mat-sys-on-primary));border-width:var(--mdc-slider-with-overlap-handle-outline-width, 1px)}.mdc-slider__tick-marks{align-items:center;box-sizing:border-box;display:flex;height:100%;justify-content:space-between;padding:0 1px;position:absolute;width:100%}.mdc-slider__tick-mark--active,.mdc-slider__tick-mark--inactive{width:var(--mdc-slider-with-tick-marks-container-size, 2px);height:var(--mdc-slider-with-tick-marks-container-size, 2px);border-radius:var(--mdc-slider-with-tick-marks-container-shape, var(--mat-sys-corner-full))}.mdc-slider__tick-mark--inactive{opacity:var(--mdc-slider-with-tick-marks-inactive-container-opacity, 0.38);background-color:var(--mdc-slider-with-tick-marks-inactive-container-color, var(--mat-sys-on-surface-variant))}.mdc-slider--disabled .mdc-slider__tick-mark--inactive{opacity:var(--mdc-slider-with-tick-marks-inactive-container-opacity, 0.38);background-color:var(--mdc-slider-with-tick-marks-disabled-container-color, var(--mat-sys-on-surface))}.mdc-slider__tick-mark--active{opacity:var(--mdc-slider-with-tick-marks-active-container-opacity, 0.38);background-color:var(--mdc-slider-with-tick-marks-active-container-color, var(--mat-sys-on-primary))}.mdc-slider__input{cursor:pointer;left:2px;margin:0;height:44px;opacity:0;position:absolute;top:2px;width:44px;box-sizing:content-box}.mdc-slider__input.mat-mdc-slider-input-no-pointer-events{pointer-events:none}.mdc-slider__input.mat-slider__right-input{left:auto;right:0}.mat-mdc-slider{display:inline-block;box-sizing:border-box;outline:none;vertical-align:middle;cursor:pointer;height:48px;margin:0 8px;position:relative;touch-action:pan-y;width:auto;min-width:112px;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-slider.mdc-slider--disabled{cursor:auto;opacity:.38}.mat-mdc-slider .mdc-slider__thumb,.mat-mdc-slider .mdc-slider__track--active_fill{transition-duration:0ms}.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__thumb,.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__track--active_fill{transition-duration:80ms}.mat-mdc-slider.mdc-slider--discrete .mdc-slider__thumb,.mat-mdc-slider.mdc-slider--discrete .mdc-slider__track--active_fill{transition-duration:0ms}.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__thumb,.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__track--active_fill{transition-duration:80ms}.mat-mdc-slider .mat-ripple .mat-ripple-element{background-color:var(--mat-slider-ripple-color, var(--mat-sys-primary))}.mat-mdc-slider .mat-ripple .mat-mdc-slider-hover-ripple{background-color:var(--mat-slider-hover-state-layer-color, color-mix(in srgb, var(--mat-sys-primary) 5%, transparent))}.mat-mdc-slider .mat-ripple .mat-mdc-slider-focus-ripple,.mat-mdc-slider .mat-ripple .mat-mdc-slider-active-ripple{background-color:var(--mat-slider-focus-state-layer-color, color-mix(in srgb, var(--mat-sys-primary) 20%, transparent))}.mat-mdc-slider._mat-animation-noopable.mdc-slider--discrete .mdc-slider__thumb,.mat-mdc-slider._mat-animation-noopable.mdc-slider--discrete .mdc-slider__track--active_fill,.mat-mdc-slider._mat-animation-noopable .mdc-slider__value-indicator{transition:none}.mat-mdc-slider .mat-focus-indicator::before{border-radius:50%}.mdc-slider__thumb--focused .mat-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return r})();var eVe={provide:vn,useExisting:Hr(()=>K_),multi:!0};var K_=(()=>{class r{_ngZone=V(xt);_elementRef=V(ut);_cdr=V(qt);_slider=V(a5);get value(){return qi(this._hostElement.value,0)}set value(e){e=isNaN(e)?0:e;let n=e+"";if(!this._hasSetInitialValue){this._initialValue=n;return}this._isActive||this._setValue(n)}_setValue(e){this._hostElement.value=e,this._updateThumbUIByValue(),this._slider._onValueChange(this),this._cdr.detectChanges(),this._slider._cdr.markForCheck()}valueChange=new ct;dragStart=new ct;dragEnd=new ct;get translateX(){return this._slider.min>=this._slider.max?(this._translateX=this._tickMarkOffset,this._translateX):(this._translateX===void 0&&(this._translateX=this._calcTranslateXByValue()),this._translateX)}set translateX(e){this._translateX=e}_translateX;thumbPosition=Or.END;get min(){return qi(this._hostElement.min,0)}set min(e){this._hostElement.min=e+"",this._cdr.detectChanges()}get max(){return qi(this._hostElement.max,0)}set max(e){this._hostElement.max=e+"",this._cdr.detectChanges()}get step(){return qi(this._hostElement.step,0)}set step(e){this._hostElement.step=e+"",this._cdr.detectChanges()}get disabled(){return Mt(this._hostElement.disabled)}set disabled(e){this._hostElement.disabled=e,this._cdr.detectChanges(),this._slider.disabled!==this.disabled&&(this._slider.disabled=this.disabled)}get percentage(){return this._slider.min>=this._slider.max?this._slider._isRtl?1:0:(this.value-this._slider.min)/(this._slider.max-this._slider.min)}get fillPercentage(){return this._slider._cachedWidth?this._translateX===0?0:this.translateX/this._slider._cachedWidth:this._slider._isRtl?1:0}_hostElement=this._elementRef.nativeElement;_valuetext=vi("");_knobRadius=8;_tickMarkOffset=3;_isActive=!1;_isFocused=!1;_setIsFocused(e){this._isFocused=e}_hasSetInitialValue=!1;_initialValue;_formControl;_destroyed=new Ke;_skipUIUpdate=!1;_onChangeFn;_onTouchedFn=()=>{};_isControlInitialized=!1;_platform=V(tn);constructor(){this._ngZone.runOutsideAngular(()=>{this._hostElement.addEventListener("pointerdown",this._onPointerDown.bind(this)),this._hostElement.addEventListener("pointermove",this._onPointerMove.bind(this)),this._hostElement.addEventListener("pointerup",this._onPointerUp.bind(this))})}ngOnDestroy(){this._hostElement.removeEventListener("pointerdown",this._onPointerDown),this._hostElement.removeEventListener("pointermove",this._onPointerMove),this._hostElement.removeEventListener("pointerup",this._onPointerUp),this._destroyed.next(),this._destroyed.complete(),this.dragStart.complete(),this.dragEnd.complete()}initProps(){this._updateWidthInactive(),this.disabled!==this._slider.disabled&&(this._slider.disabled=!0),this.step=this._slider.step,this.min=this._slider.min,this.max=this._slider.max,this._initValue()}initUI(){this._updateThumbUIByValue()}_initValue(){this._hasSetInitialValue=!0,this._initialValue===void 0?this.value=this._getDefaultValue():(this._hostElement.value=this._initialValue,this._updateThumbUIByValue(),this._slider._onValueChange(this),this._cdr.detectChanges())}_getDefaultValue(){return this.min}_onBlur(){this._setIsFocused(!1),this._onTouchedFn()}_onFocus(){this._slider._setTransition(!1),this._slider._updateTrackUI(this),this._setIsFocused(!0)}_onChange(){this.valueChange.emit(this.value),this._isActive&&this._updateThumbUIByValue({withAnimation:!0})}_onInput(){this._onChangeFn?.(this.value),(this._slider.step||!this._isActive)&&this._updateThumbUIByValue({withAnimation:!0}),this._slider._onValueChange(this)}_onNgControlValueChange(){(!this._isActive||!this._isFocused)&&(this._slider._onValueChange(this),this._updateThumbUIByValue()),this._slider.disabled=this._formControl.disabled}_onPointerDown(e){if(!(this.disabled||e.button!==0)){if(this._platform.IOS){let n=this._slider._isCursorOnSliderThumb(e,this._slider._getThumb(this.thumbPosition)._hostElement.getBoundingClientRect());this._isActive=n,this._updateWidthActive(),this._slider._updateDimensions();return}this._isActive=!0,this._setIsFocused(!0),this._updateWidthActive(),this._slider._updateDimensions(),this._slider.step||this._updateThumbUIByPointerEvent(e,{withAnimation:!0}),this.disabled||(this._handleValueCorrection(e),this.dragStart.emit({source:this,parent:this._slider,value:this.value}))}}_handleValueCorrection(e){this._skipUIUpdate=!0,setTimeout(()=>{this._skipUIUpdate=!1,this._fixValue(e)},0)}_fixValue(e){let n=e.clientX-this._slider._cachedLeft,i=this._slider._cachedWidth,o=this._slider.step===0?1:this._slider.step,s=Math.floor((this._slider.max-this._slider.min)/o),a=this._slider._isRtl?1-n/i:n/i,c=Math.round(a*s)/s*(this._slider.max-this._slider.min)+this._slider.min,d=Math.round(c/o)*o,f=this.value;if(d===f){this._slider._onValueChange(this),this._slider.step>0?this._updateThumbUIByValue():this._updateThumbUIByPointerEvent(e,{withAnimation:this._slider._hasAnimation});return}this.value=d,this.valueChange.emit(this.value),this._onChangeFn?.(this.value),this._slider._onValueChange(this),this._slider.step>0?this._updateThumbUIByValue():this._updateThumbUIByPointerEvent(e,{withAnimation:this._slider._hasAnimation})}_onPointerMove(e){!this._slider.step&&this._isActive&&this._updateThumbUIByPointerEvent(e)}_onPointerUp(){this._isActive&&(this._isActive=!1,this._platform.SAFARI&&this._setIsFocused(!1),this.dragEnd.emit({source:this,parent:this._slider,value:this.value}),setTimeout(()=>this._updateWidthInactive(),this._platform.IOS?10:0))}_clamp(e){let n=this._tickMarkOffset,i=this._slider._cachedWidth-this._tickMarkOffset;return Math.max(Math.min(e,i),n)}_calcTranslateXByValue(){return this._slider._isRtl?(1-this.percentage)*(this._slider._cachedWidth-this._tickMarkOffset*2)+this._tickMarkOffset:this.percentage*(this._slider._cachedWidth-this._tickMarkOffset*2)+this._tickMarkOffset}_calcTranslateXByPointerEvent(e){return e.clientX-this._slider._cachedLeft}_updateWidthActive(){}_updateWidthInactive(){this._hostElement.style.padding=`0 ${this._slider._inputPadding}px`,this._hostElement.style.width=`calc(100% + ${this._slider._inputPadding-this._tickMarkOffset*2}px)`,this._hostElement.style.left=`-${this._slider._rippleRadius-this._tickMarkOffset}px`}_updateThumbUIByValue(e){this.translateX=this._clamp(this._calcTranslateXByValue()),this._updateThumbUI(e)}_updateThumbUIByPointerEvent(e,n){this.translateX=this._clamp(this._calcTranslateXByPointerEvent(e)),this._updateThumbUI(n)}_updateThumbUI(e){this._slider._setTransition(!!e?.withAnimation),this._slider._onTranslateXChange(this)}writeValue(e){(this._isControlInitialized||e!==null)&&(this.value=e)}registerOnChange(e){this._onChangeFn=e,this._isControlInitialized=!0}registerOnTouched(e){this._onTouchedFn=e}setDisabledState(e){this.disabled=e}focus(){this._hostElement.focus()}blur(){this._hostElement.blur()}static \u0275fac=function(n){return new(n||r)};static \u0275dir=ft({type:r,selectors:[["input","matSliderThumb",""]],hostAttrs:["type","range",1,"mdc-slider__input"],hostVars:1,hostBindings:function(n,i){n&1&&Me("change",function(){return i._onChange()})("input",function(){return i._onInput()})("blur",function(){return i._onBlur()})("focus",function(){return i._onFocus()}),n&2&&rr("aria-valuetext",i._valuetext())},inputs:{value:[2,"value","value",qi]},outputs:{valueChange:"valueChange",dragStart:"dragStart",dragEnd:"dragEnd"},exportAs:["matSliderThumb"],features:[Lt([eVe,{provide:eue,useExisting:r}]),Ur]})}return r})();var dM=(()=>{class r{static \u0275fac=function(n){return new(n||r)};static \u0275mod=Nt({type:r});static \u0275inj=kt({imports:[$r,Em]})}return r})();function tVe(r,t){if(r&1&&(W(0,"mat-label"),ge(1),$()),r&2){let e=ie();K(),zt(e.label())}}function rVe(r,t){if(r&1){let e=ot();W(0,"div")(1,"mat-slider",2),Me("change",function(i){xe(e);let o=ie();return we(o.sliderChanged(i))}),Te(2,"input",3),$()()}if(r&2){let e=ie();K(),oe("max",e.max())("min",e.min())("step",1)("discrete",!0),K(),oe("formControlName",e.formControlName())("value",e.form().value[e.formControlName()])}}var r0=(()=>{class r{constructor(){this.form=qo(),this.formControlName=Ne("number"),this.label=Ne(""),this.min=Ne(1),this.max=Ne(),this._value=qo(0,{alias:"value"}),this.onChange=()=>{},this.onTouched=()=>{}}get value(){return this._value()}set value(e){this._value.set(e),this.onChange(e),this.onTouched()}registerOnChange(e){this.onChange=e}writeValue(e){this.form()?this.formControl&&this.formControl.setValue(e):(this.form.set(new Fi({})),this.formControl=new ni(this.value),this.form().addControl(this.formControlName(),this.formControl),this.formControl.valueChanges.subscribe(i=>{this.value=i||0})),e&&(this.value=e)}registerOnTouched(e){this.onTouched=e}sliderChanged(e){}static{this.\u0275fac=function(n){return new(n||r)}}static{this.\u0275cmp=Be({type:r,selectors:[["jee-slider-number"]],inputs:{form:[1,"form"],formControlName:[1,"formControlName"],label:[1,"label"],min:[1,"min"],max:[1,"max"],_value:[1,"value","_value"]},outputs:{form:"formChange",_value:"valueChange"},features:[Lt([{provide:vn,useExisting:Hr(()=>r),multi:!0}])],decls:6,vars:6,consts:[[1,"jee-slider-number",3,"formGroup"],["matInput","","type","number",3,"value","formControlName","id"],[3,"change","max","min","step","discrete"],["matSliderThumb","",3,"formControlName","value"]],template:function(n,i){n&1&&(W(0,"div",0)(1,"div")(2,"mat-form-field"),Oe(3,tVe,2,1,"mat-label"),Te(4,"input",1),$()(),Oe(5,rVe,3,6,"div"),$()),n&2&&(oe("formGroup",i.form()),K(3),Pe(i.label()?3:-1),K(),oe("value",i.form().value[i.formControlName()])("formControlName",i.formControlName())("id",i.formControlName()),K(),Pe(i.max()!=null||i.max()!=null?5:-1))},dependencies:[Sr,ui,rp,en,di,vo,Ki,Vn,es,dM,lp,K_,Qr,fi,Dn,ji],styles:["input[_ngcontent-%COMP%]{width:50px}[_nghost-%COMP%]     .mat-slider-thumb{transform:scale(.7)!important}[_nghost-%COMP%]     .jee-slider-number{display:flex;flex-direction:row}mat-form-field[_ngcontent-%COMP%]{width:90px}"]})}}return r})();var nue=(()=>{class r{get vertical(){return this._vertical}set vertical(e){this._vertical=Es(e)}_vertical=!1;get inset(){return this._inset}set inset(e){this._inset=Es(e)}_inset=!1;static \u0275fac=function(n){return new(n||r)};static \u0275cmp=Be({type:r,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(n,i){n&2&&(rr("aria-orientation",i.vertical?"vertical":"horizontal"),Wt("mat-divider-vertical",i.vertical)("mat-divider-horizontal",!i.vertical)("mat-divider-inset",i.inset))},inputs:{vertical:"vertical",inset:"inset"},decls:0,vars:0,template:function(n,i){},styles:[".mat-divider{display:block;margin:0;border-top-style:solid;border-top-color:var(--mat-divider-color, var(--mat-sys-outline));border-top-width:var(--mat-divider-width, 1px)}.mat-divider.mat-divider-vertical{border-top:0;border-right-style:solid;border-right-color:var(--mat-divider-color, var(--mat-sys-outline));border-right-width:var(--mat-divider-width, 1px)}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}"],encapsulation:2,changeDetection:0})}return r})(),fM=(()=>{class r{static \u0275fac=function(n){return new(n||r)};static \u0275mod=Nt({type:r});static \u0275inj=kt({imports:[$r,$r]})}return r})();var iVe=["trigger"],oVe=["panel"],sVe=[[["mat-select-trigger"]],"*"],aVe=["mat-select-trigger","*"];function lVe(r,t){if(r&1&&(W(0,"span",4),ge(1),$()),r&2){let e=ie();K(),zt(e.placeholder)}}function cVe(r,t){r&1&&hr(0)}function uVe(r,t){if(r&1&&(W(0,"span",11),ge(1),$()),r&2){let e=ie(2);K(),zt(e.triggerValue)}}function dVe(r,t){if(r&1&&(W(0,"span",5),Oe(1,cVe,1,0)(2,uVe,2,1,"span",11),$()),r&2){let e=ie();K(),Pe(e.customTrigger?1:2)}}function fVe(r,t){if(r&1){let e=ot();W(0,"div",12,1),Me("@transformPanel.done",function(i){xe(e);let o=ie();return we(o._panelDoneAnimatingStream.next(i.toState))})("keydown",function(i){xe(e);let o=ie();return we(o._handleKeydown(i))}),hr(2,1),$()}if(r&2){let e=ie();w1("mat-mdc-select-panel mdc-menu-surface mdc-menu-surface--open ",e._getPanelTheme(),""),oe("ngClass",e.panelClass)("@transformPanel","showing"),rr("id",e.id+"-panel")("aria-multiselectable",e.multiple)("aria-label",e.ariaLabel||null)("aria-labelledby",e._getPanelAriaLabelledby())}}var hVe={transformPanelWrap:fl("transformPanelWrap",[ms("* => void",Vae("@transformPanel",[Bae()],{optional:!0}))]),transformPanel:fl("transformPanel",[Bs("void",ri({opacity:0,transform:"scale(1, 0.8)"})),ms("void => showing",Ls("120ms cubic-bezier(0, 0, 0.2, 1)",ri({opacity:1,transform:"scale(1, 1)"}))),ms("* => void",Ls("100ms linear",ri({opacity:0})))])};var iue=new He("mat-select-scroll-strategy",{providedIn:"root",factory:()=>{let r=V(oo);return()=>r.scrollStrategies.reposition()}});function mVe(r){return()=>r.scrollStrategies.reposition()}var pVe=new He("MAT_SELECT_CONFIG"),gVe={provide:iue,deps:[oo],useFactory:mVe},vVe=new He("MatSelectTrigger"),l5=class{source;value;constructor(t,e){this.source=t,this.value=e}},qs=(()=>{class r{_viewportRuler=V(dh);_changeDetectorRef=V(qt);_elementRef=V(ut);_dir=V(no,{optional:!0});_idGenerator=V(qn);_parentFormField=V(G_,{optional:!0});ngControl=V(gl,{self:!0,optional:!0});_liveAnnouncer=V(l$);_defaultOptions=V(pVe,{optional:!0});options;optionGroups;customTrigger;_positions=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"}];_scrollOptionIntoView(e){let n=this.options.toArray()[e];if(n){let i=this.panel.nativeElement,o=v$(e,this.options,this.optionGroups),s=n._getHostElement();e===0&&o===1?i.scrollTop=0:i.scrollTop=b$(s.offsetTop,s.offsetHeight,i.scrollTop,i.offsetHeight)}}_positioningSettled(){this._scrollOptionIntoView(this._keyManager.activeItemIndex||0)}_getChangeEvent(e){return new l5(this,e)}_scrollStrategyFactory=V(iue);_panelOpen=!1;_compareWith=(e,n)=>e===n;_uid=this._idGenerator.getId("mat-select-");_triggerAriaLabelledBy=null;_previousControl;_destroy=new Ke;_errorStateTracker;stateChanges=new Ke;disableAutomaticLabeling=!0;userAriaDescribedBy;_selectionModel;_keyManager;_preferredOverlayOrigin;_overlayWidth;_onChange=()=>{};_onTouched=()=>{};_valueId=this._idGenerator.getId("mat-select-value-");_panelDoneAnimatingStream=new Ke;_scrollStrategy;_overlayPanelClass=this._defaultOptions?.overlayPanelClass||"";get focused(){return this._focused||this._panelOpen}_focused=!1;controlType="mat-select";trigger;panel;_overlayDir;panelClass;disabled=!1;disableRipple=!1;tabIndex=0;get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(e){this._hideSingleSelectionIndicator=e,this._syncParentProperties()}_hideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1;get placeholder(){return this._placeholder}set placeholder(e){this._placeholder=e,this.stateChanges.next()}_placeholder;get required(){return this._required??this.ngControl?.control?.hasValidator(pl.required)??!1}set required(e){this._required=e,this.stateChanges.next()}_required;get multiple(){return this._multiple}set multiple(e){this._selectionModel,this._multiple=e}_multiple=!1;disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1;get compareWith(){return this._compareWith}set compareWith(e){this._compareWith=e,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(e){this._assignValue(e)&&this._onChange(e)}_value;ariaLabel="";ariaLabelledby;get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(e){this._errorStateTracker.matcher=e}typeaheadDebounceInterval;sortComparator;get id(){return this._id}set id(e){this._id=e||this._uid,this.stateChanges.next()}_id;get errorState(){return this._errorStateTracker.errorState}set errorState(e){this._errorStateTracker.errorState=e}panelWidth=this._defaultOptions&&typeof this._defaultOptions.panelWidth<"u"?this._defaultOptions.panelWidth:"auto";_initialized=new Ke;optionSelectionChanges=ra(()=>{let e=this.options;return e?e.changes.pipe(si(e),Wr(()=>Si(...e.map(n=>n.onSelectionChange)))):this._initialized.pipe(Wr(()=>this.optionSelectionChanges))});openedChange=new ct;_openedStream=this.openedChange.pipe(sr(e=>e),at(()=>{}));_closedStream=this.openedChange.pipe(sr(e=>!e),at(()=>{}));selectionChange=new ct;valueChange=new ct;constructor(){let e=V(fS),n=V(z_,{optional:!0}),i=V(Dn,{optional:!0}),o=V(new Ya("tabindex"),{optional:!0});this.ngControl&&(this.ngControl.valueAccessor=this),this._defaultOptions?.typeaheadDebounceInterval!=null&&(this.typeaheadDebounceInterval=this._defaultOptions.typeaheadDebounceInterval),this._errorStateTracker=new jg(e,this.ngControl,i,n,this.stateChanges),this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=o==null?0:parseInt(o)||0,this.id=this.id}ngOnInit(){this._selectionModel=new QE(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(ag(),Vt(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen)),this._viewportRuler.change().pipe(Vt(this._destroy)).subscribe(()=>{this.panelOpen&&(this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._changeDetectorRef.detectChanges())})}ngAfterContentInit(){this._initialized.next(),this._initialized.complete(),this._initKeyManager(),this._selectionModel.changed.pipe(Vt(this._destroy)).subscribe(e=>{e.added.forEach(n=>n.select()),e.removed.forEach(n=>n.deselect())}),this.options.changes.pipe(si(null),Vt(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){let e=this._getTriggerAriaLabelledby(),n=this.ngControl;if(e!==this._triggerAriaLabelledBy){let i=this._elementRef.nativeElement;this._triggerAriaLabelledBy=e,e?i.setAttribute("aria-labelledby",e):i.removeAttribute("aria-labelledby")}n&&(this._previousControl!==n.control&&(this._previousControl!==void 0&&n.disabled!==null&&n.disabled!==this.disabled&&(this.disabled=n.disabled),this._previousControl=n.control),this.updateErrorState())}ngOnChanges(e){(e.disabled||e.userAriaDescribedBy)&&this.stateChanges.next(),e.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this.typeaheadDebounceInterval)}ngOnDestroy(){this._keyManager?.destroy(),this._destroy.next(),this._destroy.complete(),this.stateChanges.complete(),this._clearFromModal()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._parentFormField&&(this._preferredOverlayOrigin=this._parentFormField.getConnectedOverlayOrigin()),this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._applyModalPanelOwnership(),this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_trackedModal=null;_applyModalPanelOwnership(){let e=this._elementRef.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!e)return;let n=`${this.id}-panel`;this._trackedModal&&aS(this._trackedModal,"aria-owns",n),hO(e,"aria-owns",n),this._trackedModal=e}_clearFromModal(){if(!this._trackedModal)return;let e=`${this.id}-panel`;aS(this._trackedModal,"aria-owns",e),this._trackedModal=null}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched(),this.stateChanges.next())}writeValue(e){this._assignValue(e)}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){let e=this._selectionModel.selected.map(n=>n.viewValue);return this._isRtl()&&e.reverse(),e.join(", ")}return this._selectionModel.selected[0].viewValue}updateErrorState(){this._errorStateTracker.updateErrorState()}_isRtl(){return this._dir?this._dir.value==="rtl":!1}_handleKeydown(e){this.disabled||(this.panelOpen?this._handleOpenKeydown(e):this._handleClosedKeydown(e))}_handleClosedKeydown(e){let n=e.keyCode,i=n===40||n===38||n===37||n===39,o=n===13||n===32,s=this._keyManager;if(!s.isTyping()&&o&&!to(e)||(this.multiple||e.altKey)&&i)e.preventDefault(),this.open();else if(!this.multiple){let a=this.selected;s.onKeydown(e);let l=this.selected;l&&a!==l&&this._liveAnnouncer.announce(l.viewValue,1e4)}}_handleOpenKeydown(e){let n=this._keyManager,i=e.keyCode,o=i===40||i===38,s=n.isTyping();if(o&&e.altKey)e.preventDefault(),this.close();else if(!s&&(i===13||i===32)&&n.activeItem&&!to(e))e.preventDefault(),n.activeItem._selectViaInteraction();else if(!s&&this._multiple&&i===65&&e.ctrlKey){e.preventDefault();let a=this.options.some(l=>!l.disabled&&!l.selected);this.options.forEach(l=>{l.disabled||(a?l.select():l.deselect())})}else{let a=n.activeItemIndex;n.onKeydown(e),this._multiple&&o&&e.shiftKey&&n.activeItem&&n.activeItemIndex!==a&&n.activeItem._selectViaInteraction()}}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this._keyManager?.cancelTypeahead(),!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe(on(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(e){if(this.options.forEach(n=>n.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&e)Array.isArray(e),e.forEach(n=>this._selectOptionByValue(n)),this._sortValues();else{let n=this._selectOptionByValue(e);n?this._keyManager.updateActiveItem(n):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(e){let n=this.options.find(i=>{if(this._selectionModel.isSelected(i))return!1;try{return i.value!=null&&this._compareWith(i.value,e)}catch{return!1}});return n&&this._selectionModel.select(n),n}_assignValue(e){return e!==this._value||this._multiple&&Array.isArray(e)?(this.options&&this._setSelectionByValue(e),this._value=e,!0):!1}_skipPredicate=e=>this.panelOpen?!1:e.disabled;_getOverlayWidth(e){return this.panelWidth==="auto"?(e instanceof ip?e.elementRef:e||this._elementRef).nativeElement.getBoundingClientRect().width:this.panelWidth===null?"":this.panelWidth}_syncParentProperties(){if(this.options)for(let e of this.options)e._changeDetectorRef.markForCheck()}_initKeyManager(){this._keyManager=new sS(this.options).withTypeAhead(this.typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withPageUpDown().withAllowedModifierKeys(["shiftKey"]).skipPredicate(this._skipPredicate),this._keyManager.tabOut.subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){let e=Si(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(Vt(e)).subscribe(n=>{this._onSelect(n.source,n.isUserInput),n.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),Si(...this.options.map(n=>n._stateChanges)).pipe(Vt(e)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this.stateChanges.next()})}_onSelect(e,n){let i=this._selectionModel.isSelected(e);e.value==null&&!this._multiple?(e.deselect(),this._selectionModel.clear(),this.value!=null&&this._propagateChanges(e.value)):(i!==e.selected&&(e.selected?this._selectionModel.select(e):this._selectionModel.deselect(e)),n&&this._keyManager.setActiveItem(e),this.multiple&&(this._sortValues(),n&&this.focus())),i!==this._selectionModel.isSelected(e)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){let e=this.options.toArray();this._selectionModel.sort((n,i)=>this.sortComparator?this.sortComparator(n,i,e):e.indexOf(n)-e.indexOf(i)),this.stateChanges.next()}}_propagateChanges(e){let n;this.multiple?n=this.selected.map(i=>i.value):n=this.selected?this.selected.value:e,this._value=n,this.valueChange.emit(n),this._onChange(n),this.selectionChange.emit(this._getChangeEvent(n)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){if(this._keyManager)if(this.empty){let e=-1;for(let n=0;n<this.options.length;n++)if(!this.options.get(n).disabled){e=n;break}this._keyManager.setActiveItem(e)}else this._keyManager.setActiveItem(this._selectionModel.selected[0])}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0}focus(e){this._elementRef.nativeElement.focus(e)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;let e=this._parentFormField?.getLabelId()||null,n=e?e+" ":"";return this.ariaLabelledby?n+this.ariaLabelledby:e}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;let e=this._parentFormField?.getLabelId(),n=(e?e+" ":"")+this._valueId;return this.ariaLabelledby&&(n+=" "+this.ariaLabelledby),n}_panelDoneAnimating(e){this.openedChange.emit(e)}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this.panelOpen||!this.empty||this.focused&&!!this.placeholder}static \u0275fac=function(n){return new(n||r)};static \u0275cmp=Be({type:r,selectors:[["mat-select"]],contentQueries:function(n,i,o){if(n&1&&(Qn(o,vVe,5),Qn(o,Wo,5),Qn(o,wO,5)),n&2){let s;Ft(s=Rt())&&(i.customTrigger=s.first),Ft(s=Rt())&&(i.options=s),Ft(s=Rt())&&(i.optionGroups=s)}},viewQuery:function(n,i){if(n&1&&(Cr(iVe,5),Cr(oVe,5),Cr(q_,5)),n&2){let o;Ft(o=Rt())&&(i.trigger=o.first),Ft(o=Rt())&&(i.panel=o.first),Ft(o=Rt())&&(i._overlayDir=o.first)}},hostAttrs:["role","combobox","aria-haspopup","listbox",1,"mat-mdc-select"],hostVars:19,hostBindings:function(n,i){n&1&&Me("keydown",function(s){return i._handleKeydown(s)})("focus",function(){return i._onFocus()})("blur",function(){return i._onBlur()}),n&2&&(rr("id",i.id)("tabindex",i.disabled?-1:i.tabIndex)("aria-controls",i.panelOpen?i.id+"-panel":null)("aria-expanded",i.panelOpen)("aria-label",i.ariaLabel||null)("aria-required",i.required.toString())("aria-disabled",i.disabled.toString())("aria-invalid",i.errorState)("aria-activedescendant",i._getAriaActiveDescendant()),Wt("mat-mdc-select-disabled",i.disabled)("mat-mdc-select-invalid",i.errorState)("mat-mdc-select-required",i.required)("mat-mdc-select-empty",i.empty)("mat-mdc-select-multiple",i.multiple))},inputs:{userAriaDescribedBy:[0,"aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",disabled:[2,"disabled","disabled",Mt],disableRipple:[2,"disableRipple","disableRipple",Mt],tabIndex:[2,"tabIndex","tabIndex",e=>e==null?0:qi(e)],hideSingleSelectionIndicator:[2,"hideSingleSelectionIndicator","hideSingleSelectionIndicator",Mt],placeholder:"placeholder",required:[2,"required","required",Mt],multiple:[2,"multiple","multiple",Mt],disableOptionCentering:[2,"disableOptionCentering","disableOptionCentering",Mt],compareWith:"compareWith",value:"value",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:[2,"typeaheadDebounceInterval","typeaheadDebounceInterval",qi],sortComparator:"sortComparator",id:"id",panelWidth:"panelWidth"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},exportAs:["matSelect"],features:[Lt([{provide:$_,useExisting:r},{provide:xO,useExisting:r}]),Ur,cr],ngContentSelectors:aVe,decls:11,vars:8,consts:[["fallbackOverlayOrigin","cdkOverlayOrigin","trigger",""],["panel",""],["cdk-overlay-origin","",1,"mat-mdc-select-trigger",3,"click"],[1,"mat-mdc-select-value"],[1,"mat-mdc-select-placeholder","mat-mdc-select-min-line"],[1,"mat-mdc-select-value-text"],[1,"mat-mdc-select-arrow-wrapper"],[1,"mat-mdc-select-arrow"],["viewBox","0 0 24 24","width","24px","height","24px","focusable","false","aria-hidden","true"],["d","M7 10l5 5 5-5z"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"backdropClick","attach","detach","cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayWidth"],[1,"mat-mdc-select-min-line"],["role","listbox","tabindex","-1",3,"keydown","ngClass"]],template:function(n,i){if(n&1){let o=ot();un(sVe),W(0,"div",2,0),Me("click",function(){return xe(o),we(i.open())}),W(3,"div",3),Oe(4,lVe,2,1,"span",4)(5,dVe,3,1,"span",5),$(),W(6,"div",6)(7,"div",7),ru(),W(8,"svg",8),Te(9,"path",9),$()()()(),Oe(10,fVe,3,9,"ng-template",10),Me("backdropClick",function(){return xe(o),we(i.close())})("attach",function(){return xe(o),we(i._onAttached())})("detach",function(){return xe(o),we(i.close())})}if(n&2){let o=Ao(1);K(3),rr("id",i._valueId),K(),Pe(i.empty?4:5),K(6),oe("cdkConnectedOverlayPanelClass",i._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",i._scrollStrategy)("cdkConnectedOverlayOrigin",i._preferredOverlayOrigin||o)("cdkConnectedOverlayOpen",i.panelOpen)("cdkConnectedOverlayPositions",i._positions)("cdkConnectedOverlayWidth",i._overlayWidth)}},dependencies:[ip,q_,ho],styles:['.mat-mdc-select{display:inline-block;width:100%;outline:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-select-enabled-trigger-text-color, var(--mat-sys-on-surface));font-family:var(--mat-select-trigger-text-font, var(--mat-sys-body-large-font));line-height:var(--mat-select-trigger-text-line-height, var(--mat-sys-body-large-line-height));font-size:var(--mat-select-trigger-text-size, var(--mat-sys-body-large-size));font-weight:var(--mat-select-trigger-text-weight, var(--mat-sys-body-large-weight));letter-spacing:var(--mat-select-trigger-text-tracking, var(--mat-sys-body-large-tracking))}div.mat-mdc-select-panel{box-shadow:var(--mat-select-container-elevation-shadow, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-select-disabled{color:var(--mat-select-disabled-trigger-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-mdc-select-disabled .mat-mdc-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-mdc-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-mdc-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-mdc-select-arrow-wrapper{height:24px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mdc-text-field--no-label .mat-mdc-select-arrow-wrapper{transform:none}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-invalid .mat-mdc-select-arrow,.mat-form-field-invalid:not(.mat-form-field-disabled) .mat-mdc-form-field-infix::after{color:var(--mat-select-invalid-arrow-color, var(--mat-sys-error))}.mat-mdc-select-arrow{width:10px;height:5px;position:relative;color:var(--mat-select-enabled-arrow-color, var(--mat-sys-on-surface-variant))}.mat-mdc-form-field.mat-focused .mat-mdc-select-arrow{color:var(--mat-select-focused-arrow-color, var(--mat-sys-primary))}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-disabled .mat-mdc-select-arrow{color:var(--mat-select-disabled-arrow-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-select-arrow svg{fill:currentColor;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}@media(forced-colors: active){.mat-mdc-select-arrow svg{fill:CanvasText}.mat-mdc-select-disabled .mat-mdc-select-arrow svg{fill:GrayText}}div.mat-mdc-select-panel{width:100%;max-height:275px;outline:0;overflow:auto;padding:8px 0;border-radius:4px;box-sizing:border-box;position:static;background-color:var(--mat-select-panel-background-color, var(--mat-sys-surface-container))}@media(forced-colors: active){div.mat-mdc-select-panel{outline:solid 1px}}.cdk-overlay-pane:not(.mat-mdc-select-panel-above) div.mat-mdc-select-panel{border-top-left-radius:0;border-top-right-radius:0;transform-origin:top center}.mat-mdc-select-panel-above div.mat-mdc-select-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:bottom center}div.mat-mdc-select-panel .mat-mdc-option{--mdc-list-list-item-container-color: var(--mat-select-panel-background-color)}.mat-mdc-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1);color:var(--mat-select-placeholder-text-color, var(--mat-sys-on-surface-variant))}._mat-animation-noopable .mat-mdc-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-mdc-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-mdc-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper{cursor:pointer}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mat-mdc-floating-label{max-width:calc(100% - 18px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 24px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-text-field--label-floating .mdc-notched-outline__notch{max-width:calc(100% - 24px)}.mat-mdc-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}.mat-form-field-appearance-fill .mat-mdc-select-arrow-wrapper{transform:var(--mat-select-arrow-transform, translateY(-8px))}'],encapsulation:2,data:{animation:[hVe.transformPanel]},changeDetection:0})}return r})();var ts=(()=>{class r{static \u0275fac=function(n){return new(n||r)};static \u0275mod=Nt({type:r});static \u0275inj=kt({providers:[gVe],imports:[Xl,CO,$r,uh,Qr,CO,$r]})}return r})();var bVe=(r,t)=>t.id,yVe=r=>({selected:r}),_Ve=()=>({"width.px":48,"height.px":48});function xVe(r,t){if(r&1&&(W(0,"mat-option",4),ge(1),$()),r&2){let e=t.$implicit;oe("value",e),K(),zt(e.name)}}function wVe(r,t){if(r&1){let e=ot();W(0,"mat-form-field")(1,"mat-label"),ge(2,"Rechercher"),$(),W(3,"input",11),Cn("ngModelChange",function(i){xe(e);let o=ie();return Mn(o.searchText,i)||(o.searchText=i),we(i)}),Me("ngModelChange",function(){xe(e);let i=ie();return we(i.onSearchIcon())}),$()()}if(r&2){let e=ie();K(3),wn("ngModel",e.searchText)}}function CVe(r,t){r&1&&(W(0,"div",12)(1,"mat-icon"),ge(2,"cached"),$()())}function SVe(r,t){if(r&1){let e=ot();W(0,"div",14),Me("click",function(){let i=xe(e).$implicit,o=ie(3);return we(o.onIconSelected(i))}),Te(1,"span",15)(2,"svg-icon",16),W(3,"div",17),ge(4),$()()}if(r&2){let e=t.$implicit,n=ie(3);oe("ngClass",Un(4,yVe,e===n.value.icon)),K(2),oe("src",n.iconSet.info.basePath+e+".svg")("svgStyle",Ig(6,_Ve)),K(2),zt(e)}}function DVe(r,t){if(r&1&&ur(0,SVe,5,7,"div",13,sa),r&2){let e=ie(2);dr(e.icons)}}function EVe(r,t){if(r&1&&(W(0,"div",6),Oe(1,CVe,3,0,"div",12)(2,DVe,2,0),$()),r&2){let e=ie();K(),Pe(e.iconsLoading?1:2)}}function MVe(r,t){if(r&1){let e=ot();W(0,"div",7)(1,"mat-form-field",18)(2,"mat-label"),ge(3,"Url"),$(),W(4,"input",11),Cn("ngModelChange",function(i){xe(e);let o=ie();return Mn(o.value.staticUrl,i)||(o.value.staticUrl=i),we(i)}),$()(),W(5,"mat-form-field",18)(6,"mat-label"),ge(7,"Fr\xE9quence de rafraihissement (en seconde)"),$(),W(8,"input",19),Cn("ngModelChange",function(i){xe(e);let o=ie();return Mn(o.value.refreshInterval,i)||(o.value.refreshInterval=i),we(i)}),$()()()}if(r&2){let e=ie();K(4),wn("ngModel",e.value.staticUrl),K(4),wn("ngModel",e.value.refreshInterval)}}var oue=(()=>{class r{constructor(e){this.data=e,this.dialogRef=V(so),this.elementRef=V(ut),this.searchText="",this.iconSet=null,this.command=null,this.staticUrl=null,this.icons=[],this.iconsService=V(Mv),this.iconSets=this.iconsService.iconsets,this.iconsLoading=!1,this.title=e.title,this.value=e.iconSettings||new ha}ngAfterViewInit(){}ngOnInit(){this.value.iconType||="icon",this.iconType=this.value?.iconType,this.value.iconType==="icon"&&this.value?.iconset&&(this.iconSet=this.iconSets.find(e=>e.id===this.value?.iconset)||null,this.iconType=this.iconSet,this.iconSetSelected())}onIconTypeChange(e){switch(this.value.iconset=void 0,this.value.icon=void 0,this.value.staticUrl=void 0,this.iconType){case"staticUrl":this.value.iconType="staticUrl";break;default:this.value.iconType="icon",this.iconSet=this.iconType,this.iconSetSelected();break}}onSearchIcon(){this.icons=this.iconSet?.info?.icons.filter(e=>e.indexOf(this.searchText)>=0)||[]}iconSetSelected(){if(!this.iconSet){this.value.icon="",this.icons=[];return}this.value||=new ha,this.value.iconset=this.iconSet.id,this.iconSet.info?(this.icons=this.iconSet.info.icons,this._scrollToSelectedIcon()):(this.iconsLoading=!0,this.iconsService.getIcons(this.iconSet.id).subscribe(e=>{this.iconSet.info=e,this.icons=e.icons,this.iconsLoading=!1,this._scrollToSelectedIcon()}))}onIconSelected(e){this.value.icon=e}onConfirm(){this.dialogRef.close(this.value)}onDismiss(){this.dialogRef.close()}_scrollToSelectedIcon(){setTimeout(()=>{let e=document.getElementsByClassName("selected");e&&e.length>=1&&e[0].scrollIntoView()},1e3)}static{this.\u0275fac=function(n){return new(n||r)(ze(ps))}}static{this.\u0275cmp=Be({type:r,selectors:[["jee-icon-picker-modal"]],decls:23,vars:3,consts:[["mat-dialog-title",""],["mat-dialog-content","",1,"icon-picker"],[1,"icon-picker-filters"],[3,"ngModelChange","selectionChange","ngModel"],[3,"value"],["value","staticUrl"],[1,"icon-picker-list"],[1,"icon-picker-staticurl"],["mat-dialog-actions",""],["mat-button","",3,"click"],["mat-raised-button","","color","primary",3,"click"],["matInput","",3,"ngModelChange","ngModel"],[1,"icon-loader"],[1,"icon-item",3,"ngClass"],[1,"icon-item",3,"click","ngClass"],[1,"icon-item-persistent"],[1,"icon-tile",3,"src","svgStyle"],[1,"icon-name"],[1,"full-width-field"],["matInput","","type","number","min","0",3,"ngModelChange","ngModel"]],template:function(n,i){n&1&&(W(0,"h1",0),ge(1,"Ic\xF4nes"),$(),W(2,"div",1)(3,"div",2)(4,"mat-form-field")(5,"mat-label"),ge(6,"Jeux d'icones"),$(),W(7,"mat-select",3),Cn("ngModelChange",function(s){return Mn(i.iconType,s)||(i.iconType=s),s}),Me("selectionChange",function(s){return i.onIconTypeChange(s)}),W(8,"mat-option"),ge(9,"Aucun"),$(),ur(10,xVe,2,2,"mat-option",4,bVe),Te(12,"mat-divider"),W(13,"mat-option",5),ge(14,"Depuis une Url"),$()()(),Oe(15,wVe,4,1,"mat-form-field"),$(),Oe(16,EVe,3,1,"div",6)(17,MVe,9,2,"div",7),$(),W(18,"div",8)(19,"button",9),Me("click",function(){return i.onDismiss()}),ge(20,"Annuler"),$(),W(21,"button",10),Me("click",function(){return i.onConfirm()}),ge(22,"Valider"),$()()),n&2&&(K(7),wn("ngModel",i.iconType),K(3),dr(i.iconSets),K(5),Pe((i.value==null?null:i.value.iconType)==="icon"?15:-1),K(),Pe((i.value==null?null:i.value.iconType)==="icon"?16:(i.value==null?null:i.value.iconType)==="staticUrl"?17:-1))},dependencies:[ho,Qr,Vn,es,ts,qs,Wo,vo,Ki,Sr,ui,rp,en,L4,Ro,Zl,Hs,Vs,js,zs,fM,nue,Wn,Fn,za,Yi,eE],styles:[".icon-picker[_ngcontent-%COMP%]{display:flex;flex:1;flex-direction:column}.icon-picker[_ngcontent-%COMP%]   .icon-picker-filters[_ngcontent-%COMP%]{display:flex;flex:0;width:100%;gap:10px}.icon-picker[_ngcontent-%COMP%]   .icon-picker-list[_ngcontent-%COMP%]{flex:1;display:grid;grid-template-columns:repeat(auto-fill,112px);width:100%;justify-content:space-between;column-gap:16px;row-gap:24px}.icon-picker[_ngcontent-%COMP%]   .icon-picker-list[_ngcontent-%COMP%]   .icon-item[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;height:128px;width:112px;place-content:center center;align-items:center;cursor:pointer;background-color:var(--widget-bg)}.icon-picker[_ngcontent-%COMP%]   .icon-picker-list[_ngcontent-%COMP%]   .icon-item.selected[_ngcontent-%COMP%]   span.icon-item-persistent[_ngcontent-%COMP%], .icon-picker[_ngcontent-%COMP%]   .icon-picker-list[_ngcontent-%COMP%]   .icon-item[_ngcontent-%COMP%]:hover   span.icon-item-persistent[_ngcontent-%COMP%]{opacity:.1}.icon-picker[_ngcontent-%COMP%]   .icon-picker-list[_ngcontent-%COMP%]   .icon-item[_ngcontent-%COMP%]   span.icon-item-persistent[_ngcontent-%COMP%]{inset:0;position:absolute;pointer-events:none;border-radius:inherit;background-color:#fff;opacity:0}.icon-picker[_ngcontent-%COMP%]   .icon-picker-list[_ngcontent-%COMP%]   .icon-item[_ngcontent-%COMP%]   .icon-name[_ngcontent-%COMP%]{text-align:center}"]})}}return r})();function AVe(r,t){if(r&1&&(W(0,"div",1),Te(1,"widget-icon",2),W(2,"span",3),ge(3),$()()),r&2){let e=ie();K(),oe("settings",e.previewIcon),K(2),zt(e.value.icon)}}var sue=(()=>{class r{constructor(){this.modalService=V(go),this.onChange=()=>{},this.onTouch=()=>{},this.disabled=!1,this.noValue=!1}ngAfterViewInit(){}ngOnInit(){}writeValue(e){this.value=e||new ha,this._setPreview()}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouch=e}setDisabledState(e){this.disabled=e}updateValue(){this.onChange(this.value),this.onTouch(),this._setPreview()}openIconPickerModal(){this.modalService.open(oue,{iconSettings:$n(this.value||new ha)}).afterClosed().subscribe(e=>{e&&(this.value=e,this.updateValue())})}_setPreview(){this.previewIcon=new ha({size:88}),this.previewIcon.iconType=this.value?.iconType||"icon",this.previewIcon.icon=this.value?.icon,this.previewIcon.iconset=this.value?.iconset,this.previewIcon.staticUrl=this.value?.staticUrl}static{this.\u0275fac=function(n){return new(n||r)}}static{this.\u0275cmp=Be({type:r,selectors:[["icon-picker"]],features:[Lt([{provide:vn,useExisting:Hr(()=>r),multi:!0}])],decls:2,vars:1,consts:[[1,"icon-selector",3,"click"],[1,"icon"],[3,"settings"],[1,"icon-name"]],template:function(n,i){n&1&&(W(0,"div",0),Me("click",function(){return i.openIconPickerModal()}),Oe(1,AVe,4,2,"div",1),$()),n&2&&(K(),Pe(i.value?1:-1))},dependencies:[Qr,Wn,Sr,Zl,th],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column}.icon-selector[_ngcontent-%COMP%]{background-color:var(--widget-bg);cursor:pointer;padding:10px;filter:brightness(110%);-webkit-filter:brightness(110%);border-radius:5px}.icon-selector[_ngcontent-%COMP%]:hover{filter:brightness(120%);-webkit-filter:brightness(120%)}.icon-selector[_ngcontent-%COMP%]:active{filter:brightness(130%);-webkit-filter:brightness(130%)}.icon-selector[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{padding:5px;border:1px solid white;display:flex;flex-direction:row;align-items:center;height:100px;min-width:100px;box-sizing:border-box}"]})}}return r})();function TVe(r,t){if(r&1&&(W(0,"div",0)(1,"label"),ge(2),$()()),r&2){let e=ie();K(2),zt(e.element().label)}}function IVe(r,t){if(r&1){let e=ot();W(0,"mat-checkbox",4),Cn("ngModelChange",function(i){xe(e);let o=ie();return Mn(o.noValue,i)||(o.noValue=i),we(i)}),Me("click",function(){xe(e);let i=ie();return we(i.onNoValueSelected())}),ge(1,"Valeur par d\xE9faut"),$()}if(r&2){let e=ie();wn("ngModel",e.noValue)}}function kVe(r,t){if(r&1&&Te(0,"jee-slider-number",6),r&2){let e,n,i=ie(2);oe("form",i.form)("min",(e=i.element().ui)==null?null:e.min)("max",(n=i.element().ui)==null?null:n.max)}}function NVe(r,t){if(r&1&&(W(0,"form",3),Te(1,"icon-picker",5),Oe(2,kVe,1,3,"jee-slider-number",6),$()),r&2){let e,n=ie();oe("formGroup",n.form),K(2),Pe((e=n.element().ui)!=null&&e.hideSize?-1:2)}}var n0=(()=>{class r{constructor(){this.element=Ne(new ZD),this.elementRef=V(ut),this.iconsService=V(Mv),this.value=new ha,this.onChange=()=>{},this.onTouch=()=>{},this.disabled=!1,this.iconSet=null,this.form=new Fi({}),this.noValue=!1}writeValue(e){this.value=e,this.element()?.ui?.nullable||(this.value||=new ha),this.noValue=!this.value,this.iconCtrl&&this.iconCtrl.patchValue(this.value)}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouch=e}setDisabledState(e){this.disabled=e}updateValue(){this.onChange(this.value),this.onTouch()}ngAfterContentInit(){this.iconCtrl=new ni(this.value),this.form.addControl("icon",this.iconCtrl),this.iconSizeCtrl=new ni(this.value?.size),this.form.addControl("iconSize",this.iconSizeCtrl),this.iconCtrl.valueChanges.subscribe(e=>{this.value=e,this.updateValue()}),this.iconSizeCtrl.valueChanges.subscribe(e=>{this.value.size=e,this.updateValue()})}onNoValueSelected(){if(this.noValue){this.value=void 0,this.updateValue();return}this.value=new ha,this.iconCtrl.setValue(this.value),this.iconSizeCtrl.setValue(this.value?.size),this.updateValue()}static{this.\u0275fac=function(n){return new(n||r)}}static{this.\u0275cmp=Be({type:r,selectors:[["widget-icon-picker"]],inputs:{element:[1,"element"]},features:[Lt([{provide:vn,useExisting:Hr(()=>r),multi:!0}])],decls:4,vars:3,consts:[[1,"col-label"],[1,"col-value"],[3,"ngModel"],[3,"formGroup"],[3,"ngModelChange","click","ngModel"],["formControlName","icon"],["formControlName","iconSize","label","Taille",3,"form","min","max"]],template:function(n,i){if(n&1&&(Oe(0,TVe,3,1,"div",0),W(1,"div",1),Oe(2,IVe,2,1,"mat-checkbox",2)(3,NVe,3,2,"form",3),$()),n&2){let o;Pe(i.element().label?0:-1),K(2),Pe(!((o=i.element())==null||o.ui==null)&&o.ui.nullable?2:-1),K(),Pe(i.noValue?-1:3)}},dependencies:[Sr,Kl,en,di,Ro,fi,Dn,ji,Zl,ja,sue,r0],styles:["[_nghost-%COMP%]{display:flex;flex:1}.col-label[_ngcontent-%COMP%]{align-self:start;margin-top:25px}.col-value[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:5px;align-items:start}.col-value[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:contents}"]})}}return r})();var hM=class extends ko{constructor(){super(...arguments),this.ui={}}};var OVe=()=>({hideSize:!0,nullable:!0}),FVe=r=>({ui:r});function RVe(r,t){r&1&&(W(0,"div"),ge(1," Cet \xE9cran permet de d\xE9finir l'affichage du widget en fonction de la valeur. "),Te(2,"br"),ge(3," Exemple de valeur possible : "),W(4,"ul")(5,"li"),ge(6,">90 : s'appliquera si la valeur est supr\xE9rieur \xE0 90"),$(),W(7,"li"),ge(8,"10 < %value% < 90 : s'appliquera si la valeur est comprise en 10 et 90"),$(),W(9,"li"),ge(10,"14 : s'appliquera si la valeur est \xE9gale \xE0 14"),$()()())}function PVe(r,t){if(r&1&&(W(0,"span"),ge(1),$()),r&2){let e=ie().$index,n=ie();K(),sn("\xA0=> ",n.value.alternatives[e].displayValue,"")}}function LVe(r,t){r&1&&(W(0,"mat-error"),ge(1,"Invalide"),$())}function BVe(r,t){if(r&1&&(W(0,"div",9)(1,"div",10),ge(2,"Couleur du titre"),$(),W(3,"div",11),Te(4,"jee-color-picker",12),$()(),W(5,"div",9)(6,"div",10),ge(7,"Couleur de la valeur"),$(),W(8,"div",11),Te(9,"jee-color-picker",13),$()(),W(10,"div",9)(11,"div",10),ge(12,"Couleur d'arri\xE8re plan"),$(),W(13,"div",11),Te(14,"jee-color-picker",14),$()()),r&2){let e=ie().$implicit;K(4),oe("form",e),K(5),oe("form",e),K(5),oe("form",e)}}function VVe(r,t){r&1&&(W(0,"div",15),Te(1,"widget-icon-picker",16),$(),W(2,"div",15)(3,"div",10),ge(4,"Ic\xF4ne en surbrillance"),$(),W(5,"div",11),Te(6,"mat-checkbox",17),$()(),W(7,"div",15),Te(8,"widget-icon-picker",18),$()),r&2&&(K(8),oe("element",Un(2,FVe,Ig(1,OVe))))}function zVe(r,t){if(r&1){let e=ot();W(0,"div",2)(1,"mat-expansion-panel")(2,"mat-expansion-panel-header")(3,"mat-panel-title"),ge(4),Oe(5,PVe,2,1,"span"),W(6,"button",4),Me("click",function(){let i=xe(e).$index,o=ie();return we(o.deleteAlternative(i))}),W(7,"mat-icon",5),ge(8," delete_forever"),$()()()(),W(9,"div",6)(10,"mat-form-field")(11,"mat-label"),ge(12,"Expression"),$(),Te(13,"input",7),Oe(14,LVe,2,0,"mat-error"),$(),W(15,"mat-form-field")(16,"mat-label"),ge(17,"Valeur remplacement"),$(),Te(18,"input",8),$()(),Oe(19,BVe,15,3)(20,VVe,9,4),$()()}if(r&2){let e,n,i=t.$implicit,o=t.$index,s=ie();oe("formGroup",i),K(4),sn(" Expression : ",s.value.alternatives[o].expression," "),K(),Pe(s.value.alternatives[o].displayValue!=null?5:-1),K(9),Pe(i.hasError("expression")?14:-1),K(5),Pe((e=s.element().ui)!=null&&e.hideColors?-1:19),K(),Pe((n=s.element().ui)!=null&&n.hideIcons?-1:20)}}var mM=(()=>{class r{constructor(){this.providersService=V(En),this.formBuilder=V(_u),this.element=Ne(new hM),this.value=new vh,this.onChange=()=>{},this.onTouch=()=>{},this.disabled=!1,this.form=Ne.required(),this.noColors=Ne(!1),this.noIcons=Ne(!1),this.noDescription=Ne(!1),this.formNames={},this.controlCommandLabel=new ni("")}writeValue(e){this.value=e??new vh,this.value.alternatives??=[]}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouch=e}setDisabledState(e){this.disabled=e}updateValue(){this.onChange(this.value),this.onTouch()}ngAfterContentInit(){this.formArrayAlternatives=this.formBuilder.array([]),this.form().addControl("alternatives",this.formArrayAlternatives),this.value.alternatives.forEach(e=>{this.addAlternativeFormControl(e)})}addAlternative(){let e=new uM;this.value.alternatives.push(e),this.addAlternativeFormControl(e)}deleteAlternative(e){this.value.alternatives.splice(e,1),this.formArrayAlternatives.removeAt(e),this.updateValue()}addAlternativeFormControl(e){let n=this.formBuilder.group({expression:[e.expression,pl.required],bgColor:[e.bgColor],labelColor:[e.labelColor],valueColor:[e.valueColor],icon:[e.icon],hightlightIcon:[e.hightlightIcon],bgIcon:[e.bgIcon],displayValue:[e.displayValue]});n.controls.expression.valueChanges.subscribe(i=>{debugger;e.expression=i||"",this.updateValue()}),n.controls.bgColor.valueChanges.subscribe(i=>{e.bgColor=i||void 0,this.updateValue()}),n.controls.displayValue.valueChanges.pipe(xn(200)).subscribe(i=>{e.displayValue=i||void 0,this.updateValue()}),n.controls.icon.valueChanges.pipe(xn(200)).subscribe(i=>{e.icon=i||void 0,this.updateValue()}),n.controls.bgIcon.valueChanges.pipe(xn(200)).subscribe(i=>{e.bgIcon=i||void 0,this.updateValue()}),n.controls.hightlightIcon.valueChanges.pipe(xn(200)).subscribe(i=>{e.hightlightIcon=i||void 0,this.updateValue()}),this.formArrayAlternatives.push(n)}static{this.\u0275fac=function(n){return new(n||r)}}static{this.\u0275cmp=Be({type:r,selectors:[["jee-alternative-picker"]],inputs:{element:[1,"element"],form:[1,"form"],noColors:[1,"noColors"],noIcons:[1,"noIcons"],noDescription:[1,"noDescription"]},features:[Lt([{provide:vn,useExisting:Hr(()=>r),multi:!0}])],decls:8,vars:2,consts:[[3,"formGroup"],["formArrayName","alternatives",1,"alternatives"],[1,"alternative-item",3,"formGroup"],["mat-button","",3,"click"],["mat-icon-button","","color","primary",3,"click"],[1,"delete-btn"],[1,"row","values"],["matInput","","type","text","formControlName","expression"],["matInput","","type","text","formControlName","displayValue"],[1,"row","alternative-item-color"],[1,"col-label"],[1,"col-value"],["formControlName","labelColor",3,"form"],["formControlName","valueColor",3,"form"],["formControlName","bgColor",3,"form"],[1,"row"],["label","Ic\xF4ne","formControlName","icon"],["formControlName","hightlightIcon"],["label","Ic\xF4ne d'arri\xE8re plan","formControlName","bgIcon",3,"element"]],template:function(n,i){n&1&&(Oe(0,RVe,11,0,"div"),W(1,"div",0),wf(2,1),W(3,"mat-accordion"),ur(4,zVe,21,6,"div",2,Mi),$(),Cf(),$(),W(6,"button",3),Me("click",function(){return i.addAlternative()}),ge(7,"Ajouter"),$()),n&2&&(Pe(i.noDescription()?-1:0),K(),oe("formGroup",i.form()),K(3),dr(i.formArrayAlternatives.controls))},dependencies:[Sr,ui,en,di,Qr,Vn,es,Kv,fi,Dn,ji,ch,Ki,Wn,Fn,Na,ja,za,Yi,Qv,Zv,sp,ap,Xv,Cu,n0],styles:[".alternatives[_ngcontent-%COMP%]{display:flex;flex:1;flex-direction:column}mat-expansion-panel[_ngcontent-%COMP%]{width:100%}.values[_ngcontent-%COMP%]{display:flex;place-content:space-between}.alternative-item[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:baseline;place-content:center space-evenly;gap:15px}.alternative-item[_ngcontent-%COMP%]   .alternative-item-color[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-self:baseline;gap:10px}.alternative-item[_ngcontent-%COMP%]   .alternative-item-color[_ngcontent-%COMP%]   jee-color-picker[_ngcontent-%COMP%]{margin-top:-10px}.alternative-item[_ngcontent-%COMP%]   .alternative-item-action[_ngcontent-%COMP%]{align-self:center}"]})}}return r})();var i0=function(r){return r.list="list",r.line="line",r.bar="bar",r}(i0||{}),ga=class{constructor(t){this.valueH=0,this.valueD=0,this.valueM=0,this.valueY=0,Object.assign(this,t)}static toDate(t){return xh[t]?.toDate()??new Date}toDate(){let t=new Date;return t.setHours(t.getHours()-(this.valueH??0)),t.setDate(t.getDate()-(this.valueD??0)),t.setMonth(t.getMonth()-(this.valueM??0)),t.setFullYear(t.getFullYear()-(this.valueY??0)),t}},xh=class r{static{this.h=new ga({code:"h",label:"La derni\xE8re heure",valueH:1})}static{this["8h"]=new ga({code:"8h",label:"les 8 derni\xE8res heures",valueH:8})}static{this["12h"]=new ga({code:"12h",label:"les 12 derni\xE8res heures",valueH:12})}static{this.D=new ga({code:"D",label:"les 24 derni\xE8res heures",valueH:24})}static{this["2D"]=new ga({code:"2D",label:"les 48 derni\xE8res heures",valueH:48})}static{this["3D"]=new ga({code:"3D",label:"les 72 derni\xE8res heures",valueH:72})}static{this.W=new ga({code:"W",label:"Les 7 derniers jours",valueD:7})}static{this["2W"]=new ga({code:"2W",label:"Les 2 derni\xE8res semaines",valueD:14})}static{this.M=new ga({code:"M",label:"Le dernier mois",valueM:1})}static{this["2M"]=new ga({code:"2M",label:"Les 2 derniers Mois",valueM:2})}static{this.Y=new ga({code:"Y",label:"Derni\xE8re ann\xE9e",valueY:1})}static{this.ALL=Object.values(r)}},Pc=class r{static{this.list={type:i0.list,label:"Liste"}}static{this.line={type:i0.line,label:"Ligne"}}static{this.bar={type:i0.bar,label:"Bar"}}static{this.ALL=Object.values(r)}},cp=class{constructor(){this.hideFilters=!1,this.titleFont=Mr.LabelFont(),this.autoRefresh=!1,this.period=xh.W.code,this.series=null}};var jVe=(r,t)=>t.type,HVe=(r,t)=>t.code;function UVe(r,t){if(r&1&&(W(0,"mat-option",6),ge(1),$()),r&2){let e=t.$implicit;oe("value",e.type),K(),zt(e.label)}}function qVe(r,t){if(r&1&&(W(0,"mat-option",6),ge(1),$()),r&2){let e=t.$implicit;oe("value",e.code),K(),zt(e.label)}}function WVe(r,t){if(r&1&&(W(0,"div",1)(1,"div",2)(2,"label"),ge(3,"Valeurs alternatives"),$()(),W(4,"div",3),Te(5,"jee-alternative-picker",7),$()()),r&2){let e=ie();K(5),oe("form",e.form())("formControlName",e.formNames.alternatives)}}var aue=(()=>{class r{constructor(){this.providersService=V(En),this.formBuilder=V(_u),this.element=Ne(new ko),this.noAlternatives=Ne(!0),this.form=Ne(),this.value=new cp,this.onChange=()=>{},this.onTouch=()=>{},this.disabled=!1,this.chartTypes=Pc.ALL,this.chartPeriods=xh.ALL,this.formNames={},this.controlCommandLabel=new ni(""),this.formArrayCommands=this.formBuilder.array([])}writeValue(e){this.value=e??new cp}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouch=e}setDisabledState(e){this.disabled=e}updateValue(){this.onChange(this.value),this.onTouch()}ngOnInit(){}ngAfterContentInit(){this.typeFromControl=this.addControl("type",this.value.type),this.addControl("period",this.value.period),this.addControl("alternatives",this.value.alternatives),this.addControl("hideFilters",this.value.hideFilters)}addControl(e,n){let i=new ni(n);return this.formNames[e]=this.element().name+"."+e,this.form().addControl(this.formNames[e],i),i.valueChanges.subscribe(o=>{this.value[e]=o,this.updateValue()}),i}static{this.\u0275fac=function(n){return new(n||r)}}static{this.\u0275cmp=Be({type:r,selectors:[["jee-chart-picker"]],inputs:{element:[1,"element"],noAlternatives:[1,"noAlternatives"],form:[1,"form"]},features:[Lt([{provide:vn,useExisting:Hr(()=>r),multi:!0}])],decls:26,vars:5,consts:[[3,"formGroup"],[1,"row"],[1,"col-label"],[1,"col-value"],[1,"full-width-field"],[3,"formControlName"],[3,"value"],[3,"form","formControlName"]],template:function(n,i){n&1&&(W(0,"div",0)(1,"div",1)(2,"div",2)(3,"label"),ge(4,"Graphique"),$()(),W(5,"div",3)(6,"mat-form-field",4)(7,"mat-select",5),ur(8,UVe,2,2,"mat-option",6,jVe),$()()()(),W(10,"div",1)(11,"div",2)(12,"label"),ge(13,"P\xE9riode"),$()(),W(14,"div",3)(15,"mat-form-field",4)(16,"mat-select",5),ur(17,qVe,2,2,"mat-option",6,HVe),$()()()(),W(19,"div",1)(20,"div",2)(21,"label"),ge(22,"Masquer les filtres"),$()(),W(23,"div",3),Te(24,"mat-checkbox",5),$()(),Oe(25,WVe,6,2,"div",1),$()),n&2&&(oe("formGroup",i.form()),K(7),oe("formControlName",i.formNames.type),K(),dr(i.chartTypes),K(8),oe("formControlName",i.formNames.period),K(),dr(i.chartPeriods),K(7),oe("formControlName",i.formNames.hideFilters),K(),Pe(!i.noAlternatives()&&i.typeFromControl.value?25:-1))},dependencies:[Sr,en,di,Qr,Vn,fi,Dn,ji,vo,Wn,za,ts,qs,Wo,mM,ja],encapsulation:2})}}return r})();var o0=class{constructor(t){this.command=null,this.name="",Object.assign(this,t)}};function $Ve(r,t){r&1&&(W(0,"mat-error"),ge(1,"Invalide"),$())}var s0=(()=>{class r{constructor(){this.providersService=V(En),this.element=Ne(),this.onChange=()=>{},this.onTouch=()=>{},this.disabled=!1,this.form=new Fi({}),this.formNames={},this.controlCommandLabel=new ni(""),this.labelId=""}writeValue(e){this.value=e,this._initialize()}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouch=e}setDisabledState(e){this.disabled=e}updateValue(){this.onChange(this.value),this.onTouch()}_initialize(){if(this.form.contains("commandLabel")){this._updateCommandLabel();return}this.form.addControl("commandLabel",this.controlCommandLabel),this._updateCommandLabel(),this.controlCommandLabel.valueChanges.pipe(xn(500)).subscribe(e=>{if(this.controlCommandLabel.setErrors({commandLabel:!1}),e){if((e?.split(En.PROVIDER_SEPARATOR)).length==2){let i=e.split(En.PROVIDER_SEPARATOR)[0];if(i){let o=e.split(En.PROVIDER_SEPARATOR)[1],a=this.providersService.getProvider(i)?.getCommandByLabelId(o);if(a){this.value=a,this.updateValue();return}}}this.controlCommandLabel.setErrors({commandLabel:!0})}})}openCommandPicker(){this.providersService.openCommandPickerModal(this.element(),this.value).subscribe(e=>{e&&(this.value=e,this._updateCommandLabel(),this.updateValue())})}_updateCommandLabel(){let e="";if(!this.value)return;let n=this.providersService.getProvider(this.value.providerCode);if(n){let i=n.getCommandLabelId(this.value);if(i){let o=this.value.providerCode+En.PROVIDER_SEPARATOR+i;this.controlCommandLabel.setValue(o,{emitEvent:!1})}}}static{this.\u0275fac=function(n){return new(n||r)}}static{this.\u0275cmp=Be({type:r,selectors:[["jee-command-picker"]],inputs:{element:[1,"element"]},features:[Lt([{provide:vn,useExisting:Hr(()=>r),multi:!0}])],decls:11,vars:5,consts:[[1,"row",3,"formGroup"],[1,"col-label"],[1,"col-value"],[1,"full-width-field"],["matInput","","type","text","formControlName","commandLabel",3,"id"],["matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"]],template:function(n,i){n&1&&(W(0,"form",0)(1,"div",1)(2,"label"),ge(3),$()(),W(4,"div",2)(5,"mat-form-field",3),Te(6,"input",4),W(7,"button",5),Me("click",function(){return i.openCommandPicker()}),W(8,"mat-icon"),ge(9,"menu"),$()(),Oe(10,$Ve,2,0,"mat-error"),$()()()),n&2&&(oe("formGroup",i.form),K(2),rr("for",i.element().name+"-command"),K(),zt(i.element().label),K(3),oe("id",i.element().name+"-command"),K(4),Pe(i.controlCommandLabel.hasError("commandLabel")?10:-1))},dependencies:[Sr,Kl,ui,en,di,Qr,Vn,Kv,sM,fi,Dn,ji,Ki,Wn,Na,za,Yi],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;flex:1}"]})}}return r})();function GVe(r,t){if(r&1){let e=ot();W(0,"div",2)(1,"mat-expansion-panel")(2,"mat-expansion-panel-header")(3,"mat-panel-title")(4,"button",4),Me("click",function(){let i=xe(e).$index,o=ie();return we(o.deleteCommand(i))}),W(5,"mat-icon",5),ge(6," delete_forever"),$()(),ge(7),$()(),Te(8,"jee-command-picker",6),W(9,"div",7)(10,"div",8)(11,"span"),ge(12,"Nom"),$()(),W(13,"div",9)(14,"mat-form-field"),Te(15,"input",10),$()()(),W(16,"div",7)(17,"div",8)(18,"span"),ge(19,"Couleur"),$()(),W(20,"div",9),Te(21,"jee-color-picker",11),$()()()()}if(r&2){let e=t.$implicit,n=t.$index,i=ie();oe("formGroup",e),K(7),sn(" Nom : ",i.series[n].name," "),K(),oe("element",i.element()),K(13),oe("form",e)("nullable",!1)}}var lue=(()=>{class r{writeValue(e){this.series=e??[],this.formArrayCommands.clear(),this.series.forEach(n=>{this.addCommandFormControl(n)})}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouch=e}setDisabledState(e){this.disabled=e}updateValue(){this.onChange(this.series),this.onTouch()}constructor(){this.providersService=V(En),this.formBuilder=V(_u),this.element=Ne(new ko),this.form=Ne(),this.series=[],this.onChange=()=>{},this.onTouch=()=>{},this.disabled=!1,this.formNames={},this.controlCommandLabel=new ni(""),this.formArrayCommands=this.formBuilder.array([]),this.labelId=""}ngOnInit(){this.form().addControl("commandListChart",this.formArrayCommands)}ngAfterContentInit(){let e=this.element();e.ui||(e.ui={}),e.ui.isHistorized||(e.ui.isHistorized=!0),e.ui.type||(e.ui.type="info")}addCommand(){let e=new o0;this.series.push(e),this.addCommandFormControl(e)}deleteCommand(e){this.series.splice(e,1),this.formArrayCommands.removeAt(e),this.updateValue()}addCommandFormControl(e){let n=this.formBuilder.group({command:[e.command],name:[e.name],color:[e.color]});n.controls.command.valueChanges.pipe(xn(200)).subscribe(i=>{e.command=i,this.updateValue()}),n.controls.name.valueChanges.pipe(xn(200)).subscribe(i=>{e.name=i,this.updateValue()}),n.controls.color.valueChanges.pipe(xn(200)).subscribe(i=>{e.color=i,this.updateValue()}),this.formArrayCommands.push(n)}static{this.\u0275fac=function(n){return new(n||r)}}static{this.\u0275cmp=Be({type:r,selectors:[["jee-command-list-chart-picker"]],inputs:{element:[1,"element"],form:[1,"form"]},features:[Lt([{provide:vn,useExisting:Hr(()=>r),multi:!0}])],decls:7,vars:1,consts:[[3,"formGroup"],["formArrayName","commandListChart",1,"commands"],[1,"row",3,"formGroup"],["mat-button","",3,"click"],["mat-icon-button","","color","primary",3,"click"],[1,"delete-btn"],["label","Commande","formControlName","command",3,"element"],[1,"row"],[1,"col-label"],[1,"col-value"],["matInput","","type","text","formControlName","name"],["formControlName","color",3,"form","nullable"]],template:function(n,i){n&1&&(wf(0,0),W(1,"div",1)(2,"mat-accordion"),ur(3,GVe,22,5,"div",2,Mi),$()(),W(5,"button",3),Me("click",function(){return i.addCommand()}),ge(6,"Ajouter"),$(),Cf()),n&2&&(oe("formGroup",i.form()),K(3),dr(i.formArrayCommands.controls))},dependencies:[Sr,ui,en,di,Qr,Vn,fi,Dn,ji,ch,vo,Ki,Wn,Fn,Na,za,Yi,s0,Cu,Qv,Zv,sp,ap,Xv],styles:["mat-expansion-panel[_ngcontent-%COMP%]{width:100%}"]})}}return r})();var Su=class{constructor(t){this.command=null,this.bgColor=null,this.labelColor=null,this.valueColor=null,this.value="",this.selected=!1,Object.assign(this,t)}};var pM=class extends ko{constructor(){super(...arguments),this.ui={}}};var a0=class extends ko{constructor(t){super(),Object.assign(this,t),this.value=t?.value??null}};function YVe(r,t){if(r&1&&(W(0,"div",7)(1,"div",8)(2,"span"),ge(3,"Couleur du fond"),$()(),W(4,"div",9),Te(5,"jee-color-picker",11),$()(),W(6,"div",7)(7,"div",8)(8,"span"),ge(9,"Couleur du titre"),$()(),W(10,"div",9),Te(11,"jee-color-picker",12),$()(),W(12,"div",7)(13,"div",8)(14,"span"),ge(15,"Couleur de la valeur"),$()(),W(16,"div",9),Te(17,"jee-color-picker",13),$()()),r&2){let e=ie(2);K(5),oe("form",e.commandForm),K(6),oe("form",e.commandForm),K(6),oe("form",e.commandForm)}}function KVe(r,t){}function XVe(r,t){if(r&1&&(W(0,"div",7),Te(1,"widget-icon-picker",14),$()),r&2){let e=ie(2);K(),oe("form",e.commandForm)}}function ZVe(r,t){if(r&1){let e=ot();W(0,"div",2)(1,"mat-expansion-panel")(2,"mat-expansion-panel-header")(3,"mat-panel-title")(4,"button",4),Me("click",function(i){let o=xe(e).$index,s=ie();return we(s.deleteCommand(o,i))}),W(5,"mat-icon",5),ge(6," delete_forever"),$()(),ge(7),$()(),Te(8,"jee-command-picker",6),W(9,"div",7)(10,"div",8)(11,"span"),ge(12,"Valeur"),$()(),W(13,"div",9)(14,"mat-form-field"),Te(15,"input",10),$()()(),Oe(16,YVe,18,3)(17,KVe,0,0)(18,XVe,2,1,"div",7),$()()}if(r&2){let e,n,i,o=t.$implicit,s=ie();oe("formGroup",o.formGroup),K(7),sn(" Mode : ",o.command.value," "),K(),oe("element",o.commandElement),K(8),Pe((e=s.element().ui)!=null&&e.hideColors?-1:16),K(),Pe((n=s.element().ui)!=null&&n.hideBackgroundIcon?-1:17),K(),Pe((i=s.element().ui)!=null&&i.hideIcon?-1:18)}}var cue=(()=>{class r{writeValue(e){this.value=e??[],this.formArrayCommands.clear(),this.items.length=0,this.value.forEach((n,i)=>{this.addCommandFormControl(n)})}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouch=e}setDisabledState(e){this.disabled=e}updateValue(){this.onChange(this.value),this.onTouch()}constructor(){this.providersService=V(En),this.formBuilder=V(_u),this.element=Ne(new pM),this.form=Ne.required(),this.value=[],this.items=[],this.onChange=()=>{},this.onTouch=()=>{},this.disabled=!1,this.formNames={},this.controlCommandLabel=new ni(""),this.formArrayCommands=this.formBuilder.array([]),this.labelId=""}ngOnInit(){this.form().addControl("commandList",this.formArrayCommands)}ngAfterContentInit(){}addCommand(){let e=new Su;this.value.push(e),this.addCommandFormControl(e)}deleteCommand(e,n){this.value.splice(e,1),this.items.splice(e,1),this.formArrayCommands.removeAt(e),this.updateValue(),n.stopPropagation()}addCommandFormControl(e){let n=this.formBuilder.group({command:[e.command],value:[e.value],bgColor:[e.bgColor],labelColor:[e.labelColor],valueColor:[e.valueColor],icon:[e.icon]}),o={commandElement:new a0({name:this.element().name+"-"+(this.items.length+1),value:e.command,parent:this.element(),formControl:n}),formGroup:n,command:e};this.items.push(o),n.controls.command.valueChanges.pipe(xn(200)).subscribe(s=>{console.log(s),e.command=s,this.updateValue()}),n.controls.value.valueChanges.pipe(xn(200)).subscribe(s=>{e.value=s,this.updateValue()}),n.controls.bgColor.valueChanges.pipe(xn(200)).subscribe(s=>{e.bgColor=s,this.updateValue()}),n.controls.labelColor.valueChanges.pipe(xn(200)).subscribe(s=>{e.labelColor=s||"",this.updateValue()}),n.controls.valueColor.valueChanges.pipe(xn(200)).subscribe(s=>{e.valueColor=s||"",this.updateValue()}),n.controls.icon.valueChanges.pipe(xn(200)).subscribe(s=>{e.icon=s||void 0,this.updateValue()}),this.formArrayCommands.push(n)}static{this.\u0275fac=function(n){return new(n||r)}}static{this.\u0275cmp=Be({type:r,selectors:[["jee-command-list-picker"]],inputs:{element:[1,"element"],form:[1,"form"]},features:[Lt([{provide:vn,useExisting:Hr(()=>r),multi:!0}])],decls:7,vars:1,consts:[[3,"formGroup"],["formArrayName","commandList",1,"commands"],[1,"row",3,"formGroup"],["mat-button","",3,"click"],["mat-icon-button","","color","primary",3,"click"],[1,"delete-btn"],["label","Commande","formControlName","command",3,"element"],[1,"row"],[1,"col-label"],[1,"col-value"],["matInput","","type","text","formControlName","value"],["formControlName","bgColor","noValue","true",3,"form"],["formControlName","labelColor","noValue","true",3,"form"],["formControlName","valueColor","noValue","true",3,"form"],["label","Ic\xF4ne","formControlName","icon",3,"form"]],template:function(n,i){n&1&&(wf(0,0),W(1,"div",1)(2,"mat-accordion"),ur(3,ZVe,19,6,"div",2,sa),$()(),W(5,"button",3),Me("click",function(){return i.addCommand()}),ge(6,"Ajouter"),$(),Cf()),n&2&&(oe("formGroup",i.form()),K(3),dr(i.items))},dependencies:[Sr,ui,en,di,Qr,Vn,fi,Dn,ji,ch,vo,Ki,Wn,Fn,Na,za,Yi,s0,Cu,Qv,Zv,sp,ap,Xv,n0],styles:["mat-expansion-panel[_ngcontent-%COMP%]{width:100%}"]})}}return r})();function QVe(r,t){if(r&1&&(W(0,"div",1)(1,"label"),ge(2),$()()),r&2){let e=ie();K(),rr("for",e.element().name),K(),zt(e.element().label)}}function JVe(r,t){if(r&1&&(W(0,"mat-form-field",3),Te(1,"input",7),$()),r&2){let e=ie();K(),oe("formControlName",e.element().name)("id",e.element().name)}}function eze(r,t){if(r&1&&Te(0,"jee-slider-number",4),r&2){let e,n,i=ie();oe("form",i.form())("formControlName",i.element().name)("min",(e=i.element())==null||e.ui==null?null:e.ui.min)("max",(n=i.element())==null||n.ui==null?null:n.ui.max)}}function tze(r,t){if(r&1&&(W(0,"mat-checkbox",5),ge(1),$()),r&2){let e,n=ie();oe("formControlName",n.element().name)("id",n.element().name),K(),sn(" ",(e=n.element().ui)==null?null:e.text,"")}}function rze(r,t){if(r&1&&Te(0,"jee-color-picker",6),r&2){let e,n=ie();oe("form",n.form())("formControlName",n.element().name)("nullable",((e=n.element().ui)==null?null:e.nullable)||!0)}}function nze(r,t){if(r&1&&(W(0,"mat-option",9),ge(1),$()),r&2){let e=t.$implicit;oe("value",e.value),K(),sn(" ",e.label," ")}}function ize(r,t){if(r&1&&(W(0,"mat-form-field",3)(1,"mat-select",8),ur(2,nze,2,2,"mat-option",9,sa),$()()),r&2){let e=ie();K(),oe("formControl",e.control()),K(),dr(e.element().ui.options)}}var uue=(()=>{class r{constructor(){this.providersService=V(En),this.label=Ne(null),this.element=Ne.required(),this.form=Ne.required(),this.control=Ne.required(),this.onChange=()=>{},this.onTouch=()=>{},this.disabled=!1,this.formInt=new Fi({}),this.labelId=""}writeValue(e){this.value=e,this._initialize()}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouch=e}setDisabledState(e){this.disabled=e}updateValue(){this.onChange(this.value),this.onTouch()}_initialize(){}static{this.\u0275fac=function(n){return new(n||r)}}static{this.\u0275cmp=Be({type:r,selectors:[["literal-type-picker"]],inputs:{label:[1,"label"],element:[1,"element"],form:[1,"form"],control:[1,"control"]},features:[Lt([{provide:vn,useExisting:Hr(()=>r),multi:!0}])],decls:8,vars:7,consts:[[1,"row",3,"formGroup"],[1,"col-label"],[1,"col-value"],[1,"full-width-field"],[3,"form","formControlName","min","max"],[3,"formControlName","id"],[3,"form","formControlName","nullable"],["matInput","","type","text",3,"formControlName","id"],[3,"formControl"],[3,"value"]],template:function(n,i){n&1&&(W(0,"form",0),Oe(1,QVe,3,2,"div",1),W(2,"div",2),Oe(3,JVe,2,2,"mat-form-field",3)(4,eze,1,4,"jee-slider-number",4)(5,tze,2,3,"mat-checkbox",5)(6,rze,1,3,"jee-color-picker",6)(7,ize,4,1,"mat-form-field",3),$()()),n&2&&(oe("formGroup",i.form()),K(),Pe(i.element().label?1:-1),K(2),Pe(i.element().type==="text"?3:-1),K(),Pe(i.element().type==="number"?4:-1),K(),Pe(i.element().type==="bool"?5:-1),K(),Pe(i.element().type==="color"?6:-1),K(),Pe(i.element().type==="select"?7:-1))},dependencies:[Sr,Kl,ui,en,di,fi,P4,Dn,ji,Zl,ja,Qr,Vn,vo,Ki,ts,qs,Wo,r0,Cu],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;flex:1}"]})}}return r})();function oze(r,t){if(r&1&&(W(0,"div",0)(1,"div",1)(2,"label"),ge(3,"Unit\xE9"),$()(),W(4,"div",2)(5,"mat-form-field"),Te(6,"input",5),$()()()),r&2){let e=ie();oe("formGroup",e.form),K(2),rr("for",e.formNames.unit),K(4),oe("formControlName",e.formNames.unit)}}var due=(()=>{class r{constructor(){this.element=Ne.required(),this.form=new Fi({}),this.value=new $o,this.onChange=()=>{},this.onTouch=()=>{},this.disabled=!1,this.formNames={}}writeValue(e){this.value=e??Mr.LabelFont(),this.refreshFormValue()}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouch=e}setDisabledState(e){this.disabled=e}updateValue(){this.onChange(this.value),this.onTouch()}refreshFormValue(){this.formNames.size&&(this.form.controls[this.formNames.size].patchValue(this.value.size),this.form.controls[this.formNames.color].patchValue(this.value.color),this.form.controls[this.formNames.unit].patchValue(this.value.unit),this.updateValue())}ngAfterContentInit(){this.addControl("size",this.value.size??Mr.LabelFont().size),this.addControl("color",this.value.color??"black"),this.addControl("unit",this.value.unit??"")}addControl(e,n){let i=this.element(),o=new ni(n);this.formNames[e]=this.element().name+"."+e,this.form.addControl(this.formNames[e],o),o.valueChanges.subscribe(s=>{this.value[e]=s,this.updateValue()})}static{this.\u0275fac=function(n){return new(n||r)}}static{this.\u0275cmp=Be({type:r,selectors:[["text-font-picker"]],inputs:{element:[1,"element"]},features:[Lt([{provide:vn,useExisting:Hr(()=>r),multi:!0}])],decls:13,vars:10,consts:[[1,"row",3,"formGroup"],[1,"col-label"],[1,"col-value"],["min","12","max","128",3,"form","formControlName","id"],[3,"form","formControlName"],["matInput","","type","text",3,"formControlName"]],template:function(n,i){if(n&1&&(W(0,"div",0)(1,"div",1)(2,"label"),ge(3,"Taille du texte"),$()(),W(4,"div",2),Te(5,"jee-slider-number",3),$()(),W(6,"div",0)(7,"div",1)(8,"label"),ge(9,"Couleur du texte"),$()(),W(10,"div",2),Te(11,"jee-color-picker",4),$()(),Oe(12,oze,7,3,"div",0)),n&2){let o;oe("formGroup",i.form),K(2),rr("for",i.formNames.size),K(3),oe("form",i.form)("formControlName",i.formNames.size)("id",i.formNames.size),K(),oe("formGroup",i.form),K(2),rr("for",i.formNames.color),K(3),oe("form",i.form)("formControlName",i.formNames.color),K(),Pe((o=i.element().ui)!=null&&o.hideFormat?-1:12)}},dependencies:[Sr,ui,en,di,Qr,Vn,vo,Ki,fi,Dn,ji,r0,Cu],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;flex:1}"]})}}return r})();function sze(r,t){if(r&1&&(W(0,"div",1)(1,"h4"),ge(2),$()()),r&2){let e=ie();K(2),zt(e.element().category)}}function aze(r,t){if(r&1&&Te(0,"literal-type-picker",2),r&2){let e=ie();oe("form",e.form())("formControlName",e.element().name)("element",e.element())("control",e.control)}}function lze(r,t){if(r&1&&Te(0,"text-font-picker",3),r&2){let e=ie();oe("formControlName",e.element().name)("element",e.element())}}function cze(r,t){if(r&1&&Te(0,"widget-icon-picker",4),r&2){let e=ie();oe("element",e.element())("formControlName",e.element().name)}}function uze(r,t){if(r&1&&Te(0,"jee-command-picker",4),r&2){let e=ie();oe("element",e.element())("formControlName",e.element().name)}}function dze(r,t){if(r&1&&Te(0,"jee-command-list-picker",5),r&2){let e=ie();oe("form",e.form())("element",e.element())("formControlName",e.element().name)}}function fze(r,t){if(r&1&&Te(0,"jee-alternative-picker",5),r&2){let e=ie();oe("form",e.form())("element",e.element())("formControlName",e.element().name)}}function hze(r,t){if(r&1&&Te(0,"jee-chart-picker",5),r&2){let e=ie();oe("form",e.form())("element",e.element())("formControlName",e.element().name)}}function mze(r,t){if(r&1&&Te(0,"jee-command-list-chart-picker",5),r&2){let e=ie();oe("form",e.form())("element",e.element())("formControlName",e.element().name)}}var fue=(()=>{class r{constructor(){this.element=Ne.required(),this.form=Ne.required(),this.valueCh=Mg(),this.isLiteralValue=!1}ngOnInit(){this.isLiteralValue=["color","text","number","bool","select"].indexOf(this.element().type?.toLowerCase())>=0;let e=this.element();this.isLiteralValue&&(e.value||(e.value="")),this.control=new ni(e.value),e.formControl=this.control,this.form().addControl(e.name,this.control),this.control.valueChanges.pipe(xn(500)).subscribe(n=>{let i=this.element();i.value=n,this.valueCh&&this.valueCh.emit({name:i.name,value:n})})}static{this.\u0275fac=function(n){return new(n||r)}}static{this.\u0275cmp=Be({type:r,selectors:[["form-element"]],inputs:{element:[1,"element"],form:[1,"form"]},outputs:{valueCh:"valueCh"},decls:10,vars:10,consts:[[1,"wrapper",3,"formGroup"],[1,"row"],[3,"form","formControlName","element","control"],[3,"formControlName","element"],[3,"element","formControlName"],[3,"form","element","formControlName"]],template:function(n,i){n&1&&(W(0,"div",0),Oe(1,sze,3,1,"div",1)(2,aze,1,4,"literal-type-picker",2)(3,lze,1,2,"text-font-picker",3)(4,cze,1,2,"widget-icon-picker",4)(5,uze,1,2,"jee-command-picker",4)(6,dze,1,3,"jee-command-list-picker",5)(7,fze,1,3,"jee-alternative-picker",5)(8,hze,1,3,"jee-chart-picker",5)(9,mze,1,3,"jee-command-list-chart-picker",5),$()),n&2&&(oe("formGroup",i.form()),K(),Pe(i.element().category?1:-1),K(),Pe(i.isLiteralValue?2:-1),K(),Pe(i.element().type==="font"?3:-1),K(),Pe(i.element().type==="icon"?4:-1),K(),Pe(i.element().type==="command"?5:-1),K(),Pe(i.element().type==="commandList"?6:-1),K(),Pe(i.element().type==="alternative"?7:-1),K(),Pe(i.element().type==="chart"?8:-1),K(),Pe(i.element().type==="commandListChart"?9:-1))},dependencies:[Sr,en,di,fi,Dn,ji,Qr,due,n0,s0,mM,cue,aue,lue,uue],styles:["[_nghost-%COMP%]{display:flex;flex:1}.wrapper[_ngcontent-%COMP%]{display:flex;flex:1;flex-direction:column}"]})}}return r})();var Du=(()=>{class r{constructor(){}toModel(e,n){n.flatMap(o=>o.rows).forEach(o=>{let s=e;for(var a=o.name.split(".");a.length-1&&(s=s[a.shift()]););s[a[a.length-1]]=o.value})}static{this.\u0275fac=function(n){return new(n||r)}}static{this.\u0275prov=Fe({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();function pze(r,t){if(r&1){let e=ot();W(0,"form-element",2),Me("valueCh",function(i){xe(e);let o=ie(3);return we(o._valueChanges(i))}),$()}if(r&2){let e=ie().$implicit,n=ie(2);oe("element",e)("form",n.form())}}function gze(r,t){if(r&1&&Oe(0,pze,1,2,"form-element",1),r&2){let e=t.$implicit,n=ie(2);Pe(n.isVisible(e)?0:-1)}}function vze(r,t){if(r&1&&(W(0,"form",0),ur(1,gze,1,1,null,null,Mi),$()),r&2){let e,n=ie();oe("formGroup",n.form()),K(),dr((e=n.dynamicForm())==null?null:e.rows)}}var hue=(()=>{class r{constructor(){this.dynamicForm=Ne(),this.form=Ne(new Fi({})),this.valueChanges=Mg(),this.dynamicFormService=V(Du)}ngOnInit(){}isVisible(e){return this.dynamicFormService.dynamicForms?.isVisible(e)}_valueChanges(e){this.valueChanges.emit(e)}static{this.\u0275fac=function(n){return new(n||r)}}static{this.\u0275cmp=Be({type:r,selectors:[["dynamic-form"]],inputs:{dynamicForm:[1,"dynamicForm"],form:[1,"form"]},outputs:{valueChanges:"valueChanges"},decls:1,vars:1,consts:[[3,"formGroup"],["ngDefaultControl","",3,"element","form"],["ngDefaultControl","",3,"valueCh","element","form"]],template:function(n,i){if(n&1&&Oe(0,vze,3,1,"form",0),n&2){let o;Pe((o=i.dynamicForm())!=null&&o.rows?0:-1)}},dependencies:[Sr,Kl,ui,di,fue,fi,Dn],encapsulation:2})}}return r})();function mue(r,t){let e={};return r.forEach(n=>{let i=t(n);e[i]=n}),e}var gM=class{get formControlsMap(){return this.getFormControlsMap(this.formGroup)}constructor(t,e,n){this.elementsMap={},this.dynamicForms=t,this.allElements=this.dynamicForms.flatMap(i=>i.rows),this.elementsMap=mue(this.allElements,i=>i.name),this.metadata=e,this.formGroup=n}isVisible(t){let e=this.elementsMap||{};if(t.hide){let n=!1,i=e[t.hide.name];if(i&&t.hide.equals.forEach(o=>{if(i.value==o){n=!0;return}}),n)return!1}if(t.show){let n=!1,i=e[t.show.name];return i&&t.show.equals.forEach(o=>{if(i.value==o){n=!0;return}}),n}return!0}getFormControlsMap(t,e=""){let n={};return t instanceof ni?n[e]=t:t instanceof Fi?Object.entries(t.controls).forEach(([i,o])=>{let s=e?`${e}.${i}`:i;Object.assign(n,this.getFormControlsMap(o,s))}):t instanceof V_&&t.controls.forEach((i,o)=>{let s=`${e}[${o}]`;Object.assign(n,this.getFormControlsMap(i,s))}),n}};function bze(r,t){if(r&1){let e=ot();W(0,"mat-tab",6)(1,"dynamic-form",7),Me("valueChanges",function(i){xe(e);let o=ie(2);return we(o.valueChanges(i))}),$()()}if(r&2){let e=ie().$implicit,n=ie();oe("label",e.label),K(),oe("dynamicForm",e)("form",n.form)}}function yze(r,t){if(r&1&&Oe(0,bze,2,3,"mat-tab",6),r&2){let e=t.$implicit,n=ie();Pe(n.isVisible(e)?0:-1)}}var vM=(()=>{class r{constructor(e,n){this.dialogRef=e,this.data=n,this.dynamicFormService=V(Du),this.form=new Fi({}),this.dynamicForms=n.dynamicForms,this.metadata=n.metadata,this.valueChanges=n.valueChanges??this._valueChanges,this.title=n.title}ngOnDestroy(){this.dynamicFormService.dynamicForms=null}ngOnInit(){this.dynamicFormService.dynamicForms=new gM(this.dynamicForms,this.metadata,this.form)}isVisible(e){return this.dynamicFormService.dynamicForms?.isVisible(e)}_valueChanges(e){}formSubmitted(e){this.dialogRef.close(this.dynamicForms)}static{this.\u0275fac=function(n){return new(n||r)(ze(so),ze(ps))}}static{this.\u0275cmp=Be({type:r,selectors:[["dynamic-form-modal"]],decls:12,vars:2,consts:[[1,"modal-content",3,"ngSubmit","formGroup"],["mat-dialog-title",""],["mat-dialog-content",""],["mat-dialog-actions","","align","end"],["mat-button","",3,"mat-dialog-close"],["mat-button","","type","submit","cdkFocusInitial",""],[3,"label"],[3,"valueChanges","dynamicForm","form"]],template:function(n,i){n&1&&(W(0,"form",0),Me("ngSubmit",function(s){return i.formSubmitted(s)}),W(1,"h2",1),ge(2),$(),W(3,"div",2)(4,"mat-tab-group"),ur(5,yze,1,1,null,null,Mi),$()(),W(7,"div",3)(8,"button",4),ge(9,"Annuler"),$(),W(10,"button",5),ge(11,"Enregister"),$()()()),n&2&&(oe("formGroup",i.form),K(2),sn(" ",i.title,`
`),K(3),dr(i.dynamicForms))},dependencies:[Nce,r5,kce,Wn,Fn,Hs,xu,Vs,js,zs,fi,Kl,di,Dn,Qr,Sr,hue],styles:[".modal-content[_ngcontent-%COMP%]{min-width:600px;margin:0}@media screen and (max-width: 959px){.modal-content[_ngcontent-%COMP%]{min-width:initial}}"]})}}return r})();var vue=["*"];function _ze(r,t){if(r&1&&Te(0,"div",0),r&2){let e=t.$index,n=ie();oe("ngStyle",n.gridRenderer.getGridColumnStyle(e))}}function xze(r,t){if(r&1&&Te(0,"div",1),r&2){let e=t.$index,n=ie();oe("ngStyle",n.gridRenderer.getGridRowStyle(e))}}function wze(r,t){if(r&1){let e=ot();W(0,"div",8),Me("mousedown",function(i){xe(e);let o=ie();return we(o.resize.dragStartDelay(i))})("touchstart",function(i){xe(e);let o=ie();return we(o.resize.dragStartDelay(i))}),$()}}function Cze(r,t){if(r&1){let e=ot();W(0,"div",9),Me("mousedown",function(i){xe(e);let o=ie();return we(o.resize.dragStartDelay(i))})("touchstart",function(i){xe(e);let o=ie();return we(o.resize.dragStartDelay(i))}),$()}}function Sze(r,t){if(r&1){let e=ot();W(0,"div",10),Me("mousedown",function(i){xe(e);let o=ie();return we(o.resize.dragStartDelay(i))})("touchstart",function(i){xe(e);let o=ie();return we(o.resize.dragStartDelay(i))}),$()}}function Dze(r,t){if(r&1){let e=ot();W(0,"div",11),Me("mousedown",function(i){xe(e);let o=ie();return we(o.resize.dragStartDelay(i))})("touchstart",function(i){xe(e);let o=ie();return we(o.resize.dragStartDelay(i))}),$()}}function Eze(r,t){if(r&1){let e=ot();W(0,"div",12),Me("mousedown",function(i){xe(e);let o=ie();return we(o.resize.dragStartDelay(i))})("touchstart",function(i){xe(e);let o=ie();return we(o.resize.dragStartDelay(i))}),$()}}function Mze(r,t){if(r&1){let e=ot();W(0,"div",13),Me("mousedown",function(i){xe(e);let o=ie();return we(o.resize.dragStartDelay(i))})("touchstart",function(i){xe(e);let o=ie();return we(o.resize.dragStartDelay(i))}),$()}}function Aze(r,t){if(r&1){let e=ot();W(0,"div",14),Me("mousedown",function(i){xe(e);let o=ie();return we(o.resize.dragStartDelay(i))})("touchstart",function(i){xe(e);let o=ie();return we(o.resize.dragStartDelay(i))}),$()}}function Tze(r,t){if(r&1){let e=ot();W(0,"div",15),Me("mousedown",function(i){xe(e);let o=ie();return we(o.resize.dragStartDelay(i))})("touchstart",function(i){xe(e);let o=ie();return we(o.resize.dragStartDelay(i))}),$()}}var ln=function(r){return r.Fit="fit",r.ScrollVertical="scrollVertical",r.ScrollHorizontal="scrollHorizontal",r.Fixed="fixed",r.VerticalFixed="verticalFixed",r.HorizontalFixed="horizontalFixed",r}(ln||{}),bue=function(r){return r.Always="always",r.OnDragAndResize="onDrag&Resize",r.None="none",r}(bue||{}),hi=function(r){return r.None="none",r.CompactUp="compactUp",r.CompactLeft="compactLeft",r.CompactUpAndLeft="compactUp&Left",r.CompactLeftAndUp="compactLeft&Up",r.CompactRight="compactRight",r.CompactUpAndRight="compactUp&Right",r.CompactRightAndUp="compactRight&Up",r.CompactDown="compactDown",r.CompactDownAndLeft="compactDown&Left",r.CompactLeftAndDown="compactLeft&Down",r.CompactDownAndRight="compactDown&Right",r.CompactRightAndDown="compactRight&Down",r}(hi||{}),gs=function(r){return r.LTR="ltr",r.RTL="rtl",r}(gs||{}),c5=class{constructor(t){this.gridster=t}destroy(){this.gridster=null}checkCompact(){this.gridster.$options.compactType!==hi.None&&(this.gridster.$options.compactType===hi.CompactUp?this.checkCompactMovement("y",-1):this.gridster.$options.compactType===hi.CompactLeft?this.checkCompactMovement("x",-1):this.gridster.$options.compactType===hi.CompactUpAndLeft?(this.checkCompactMovement("y",-1),this.checkCompactMovement("x",-1)):this.gridster.$options.compactType===hi.CompactLeftAndUp?(this.checkCompactMovement("x",-1),this.checkCompactMovement("y",-1)):this.gridster.$options.compactType===hi.CompactRight?this.checkCompactMovement("x",1):this.gridster.$options.compactType===hi.CompactUpAndRight?(this.checkCompactMovement("y",-1),this.checkCompactMovement("x",1)):this.gridster.$options.compactType===hi.CompactRightAndUp?(this.checkCompactMovement("x",1),this.checkCompactMovement("y",-1)):this.gridster.$options.compactType===hi.CompactDown?this.checkCompactMovement("y",1):this.gridster.$options.compactType===hi.CompactDownAndLeft?(this.checkCompactMovement("y",1),this.checkCompactMovement("x",-1)):this.gridster.$options.compactType===hi.CompactDownAndRight?(this.checkCompactMovement("y",1),this.checkCompactMovement("x",1)):this.gridster.$options.compactType===hi.CompactLeftAndDown?(this.checkCompactMovement("x",-1),this.checkCompactMovement("y",1)):this.gridster.$options.compactType===hi.CompactRightAndDown&&(this.checkCompactMovement("x",1),this.checkCompactMovement("y",1)))}checkCompactItem(t){this.gridster.$options.compactType!==hi.None&&(this.gridster.$options.compactType===hi.CompactUp?this.moveTillCollision(t,"y",-1):this.gridster.$options.compactType===hi.CompactLeft?this.moveTillCollision(t,"x",-1):this.gridster.$options.compactType===hi.CompactUpAndLeft?(this.moveTillCollision(t,"y",-1),this.moveTillCollision(t,"x",-1)):this.gridster.$options.compactType===hi.CompactLeftAndUp?(this.moveTillCollision(t,"x",-1),this.moveTillCollision(t,"y",-1)):this.gridster.$options.compactType===hi.CompactUpAndRight?(this.moveTillCollision(t,"y",-1),this.moveTillCollision(t,"x",1)):this.gridster.$options.compactType===hi.CompactDown?this.moveTillCollision(t,"y",1):this.gridster.$options.compactType===hi.CompactDownAndLeft?(this.moveTillCollision(t,"y",1),this.moveTillCollision(t,"x",-1)):this.gridster.$options.compactType===hi.CompactLeftAndDown?(this.moveTillCollision(t,"x",-1),this.moveTillCollision(t,"y",1)):this.gridster.$options.compactType===hi.CompactDownAndRight?(this.moveTillCollision(t,"y",1),this.moveTillCollision(t,"x",1)):this.gridster.$options.compactType===hi.CompactRightAndDown&&(this.moveTillCollision(t,"x",1),this.moveTillCollision(t,"y",1)))}checkCompactMovement(t,e){let n=!1;this.gridster.grid.forEach(i=>{i.$item.compactEnabled!==!1&&this.moveTillCollision(i.$item,t,e)&&(n=!0,i.item[t]=i.$item[t],i.itemChanged())}),n&&this.checkCompact()}moveTillCollision(t,e,n){return t[e]+=n,this.gridster.checkCollision(t)?(t[e]-=n,!1):(this.moveTillCollision(t,e,n),!0)}},Ize={gridType:ln.Fit,scale:1,fixedColWidth:250,fixedRowHeight:250,keepFixedHeightInMobile:!1,keepFixedWidthInMobile:!1,setGridSize:!1,compactType:hi.None,mobileBreakpoint:640,useBodyForBreakpoint:!1,allowMultiLayer:!1,defaultLayerIndex:0,maxLayerIndex:2,baseLayerIndex:1,minCols:1,maxCols:100,minRows:1,maxRows:100,defaultItemCols:1,defaultItemRows:1,maxItemCols:50,maxItemRows:50,minItemCols:1,minItemRows:1,minItemArea:1,maxItemArea:2500,addEmptyRowsCount:0,rowHeightRatio:1,margin:10,outerMargin:!0,outerMarginTop:null,outerMarginRight:null,outerMarginBottom:null,outerMarginLeft:null,useTransformPositioning:!0,scrollSensitivity:10,scrollSpeed:20,initCallback:void 0,destroyCallback:void 0,gridSizeChangedCallback:void 0,itemChangeCallback:void 0,itemResizeCallback:void 0,itemInitCallback:void 0,itemRemovedCallback:void 0,itemValidateCallback:void 0,enableEmptyCellClick:!1,enableEmptyCellContextMenu:!1,enableEmptyCellDrop:!1,enableEmptyCellDrag:!1,enableOccupiedCellDrop:!1,emptyCellClickCallback:void 0,emptyCellContextMenuCallback:void 0,emptyCellDropCallback:void 0,emptyCellDragCallback:void 0,emptyCellDragMaxCols:50,emptyCellDragMaxRows:50,ignoreMarginInRow:!1,draggable:{delayStart:0,enabled:!1,ignoreContentClass:"gridster-item-content",ignoreContent:!1,dragHandleClass:"drag-handler",stop:void 0,start:void 0,dropOverItems:!1,dropOverItemsCallback:void 0},resizable:{delayStart:0,enabled:!1,handles:{s:!0,e:!0,n:!0,w:!0,se:!0,ne:!0,sw:!0,nw:!0},stop:void 0,start:void 0},swap:!0,swapWhileDragging:!1,pushItems:!1,disablePushOnDrag:!1,disablePushOnResize:!1,pushDirections:{north:!0,east:!0,south:!0,west:!0},pushResizeItems:!1,displayGrid:bue.OnDragAndResize,disableWindowResize:!1,disableWarnings:!1,scrollToNewItems:!1,disableScrollHorizontal:!1,disableScrollVertical:!1,enableBoundaryControl:!1,disableAutoPositionOnConflict:!1,dirType:gs.LTR},Ws=class r{static merge(t,e,n){for(let i in e)e[i]!==void 0&&n.hasOwnProperty(i)&&(typeof e[i]=="object"?(i in t||(t[i]={}),t[i]=r.merge(t[i],e[i],n[i])):t[i]=e[i]);return t}static checkTouchEvent(t){t.clientX===void 0&&t.touches&&(t.touches&&t.touches.length?(t.clientX=t.touches[0].clientX,t.clientY=t.touches[0].clientY):t.changedTouches&&t.changedTouches.length&&(t.clientX=t.changedTouches[0].clientX,t.clientY=t.changedTouches[0].clientY))}static checkContentClassForEvent(t,e){if(t.$options.draggable.ignoreContent){if(!r.checkDragHandleClass(e.target,e.currentTarget,t.$options.draggable.dragHandleClass,t.$options.draggable.ignoreContentClass))return!0}else if(r.checkContentClass(e.target,e.currentTarget,t.$options.draggable.ignoreContentClass))return!0;return!1}static checkContentClassForEmptyCellClickEvent(t,e){return r.checkContentClass(e.target,e.currentTarget,t.$options.draggable.ignoreContentClass)||r.checkContentClass(e.target,e.currentTarget,t.$options.draggable.dragHandleClass)}static checkDragHandleClass(t,e,n,i){if(!t||t===e)return!1;if(t.hasAttribute("class")){let o=t.getAttribute("class").split(" ");if(o.indexOf(n)>-1)return!0;if(o.indexOf(i)>-1)return!1}return r.checkDragHandleClass(t.parentNode,e,n,i)}static checkContentClass(t,e,n){return!t||t===e?!1:t.hasAttribute("class")&&t.getAttribute("class").split(" ").indexOf(n)>-1?!0:r.checkContentClass(t.parentNode,e,n)}static compareItems(t,e){return t.y>e.y?-1:t.y<e.y?1:t.x>e.x?-1:1}},u5=class{constructor(t){this.gridster=t,this.emptyCellClickCb=e=>{if(!this.gridster||this.gridster.movingItem||Ws.checkContentClassForEmptyCellClickEvent(this.gridster,e))return;let n=this.getValidItemFromEvent(e);n&&(this.gridster.options.emptyCellClickCallback&&this.gridster.options.emptyCellClickCallback(e,n),this.gridster.cdRef.markForCheck())},this.emptyCellContextMenuCb=e=>{if(this.gridster.movingItem||Ws.checkContentClassForEmptyCellClickEvent(this.gridster,e))return;e.preventDefault(),e.stopPropagation();let n=this.getValidItemFromEvent(e);n&&(this.gridster.options.emptyCellContextMenuCallback&&this.gridster.options.emptyCellContextMenuCallback(e,n),this.gridster.cdRef.markForCheck())},this.emptyCellDragDrop=e=>{let n=this.getValidItemFromEvent(e);n&&(this.gridster.options.emptyCellDropCallback&&this.gridster.options.emptyCellDropCallback(e,n),this.gridster.cdRef.markForCheck())},this.emptyCellDragOver=e=>{e.preventDefault(),e.stopPropagation();let n=this.getValidItemFromEvent(e);n?(e.dataTransfer&&(e.dataTransfer.dropEffect="move"),this.gridster.movingItem=n):(e.dataTransfer&&(e.dataTransfer.dropEffect="none"),this.gridster.movingItem=null),this.gridster.previewStyle()},this.emptyCellMouseDown=e=>{if(Ws.checkContentClassForEmptyCellClickEvent(this.gridster,e))return;e.preventDefault(),e.stopPropagation();let n=this.getValidItemFromEvent(e);!n||e.buttons!==1&&!(e instanceof TouchEvent)||(this.initialItem=n,this.gridster.movingItem=n,this.gridster.previewStyle(),this.gridster.zone.runOutsideAngular(()=>{this.removeWindowMousemoveListenerFn=this.gridster.renderer.listen("window","mousemove",this.emptyCellMouseMove),this.removeWindowTouchmoveListenerFn=this.gridster.renderer.listen("window","touchmove",this.emptyCellMouseMove)}),this.removeWindowMouseupListenerFn=this.gridster.renderer.listen("window","mouseup",this.emptyCellMouseUp),this.removeWindowTouchendListenerFn=this.gridster.renderer.listen("window","touchend",this.emptyCellMouseUp))},this.emptyCellMouseMove=e=>{e.preventDefault(),e.stopPropagation();let n=this.getValidItemFromEvent(e,this.initialItem);n&&(this.gridster.movingItem=n,this.gridster.previewStyle())},this.emptyCellMouseUp=e=>{this.removeWindowMousemoveListenerFn(),this.removeWindowTouchmoveListenerFn(),this.removeWindowMouseupListenerFn(),this.removeWindowTouchendListenerFn();let n=this.getValidItemFromEvent(e,this.initialItem);n&&(this.gridster.movingItem=n),this.gridster.options.emptyCellDragCallback&&this.gridster.movingItem&&this.gridster.options.emptyCellDragCallback(e,this.gridster.movingItem),setTimeout(()=>{this.initialItem=null,this.gridster&&(this.gridster.movingItem=null,this.gridster.previewStyle())}),this.gridster.cdRef.markForCheck()}}destroy(){this.gridster.previewStyle&&this.gridster.previewStyle(),this.gridster.movingItem=null,this.initialItem=this.gridster=null,this.removeDocumentDragendListenerFn&&(this.removeDocumentDragendListenerFn(),this.removeDocumentDragendListenerFn=null)}updateOptions(){this.gridster.$options.enableEmptyCellClick&&!this.removeEmptyCellClickListenerFn&&this.gridster.options.emptyCellClickCallback?(this.removeEmptyCellClickListenerFn=this.gridster.renderer.listen(this.gridster.el,"click",this.emptyCellClickCb),this.removeEmptyCellTouchendListenerFn=this.gridster.renderer.listen(this.gridster.el,"touchend",this.emptyCellClickCb)):!this.gridster.$options.enableEmptyCellClick&&this.removeEmptyCellClickListenerFn&&this.removeEmptyCellTouchendListenerFn&&(this.removeEmptyCellClickListenerFn(),this.removeEmptyCellTouchendListenerFn(),this.removeEmptyCellClickListenerFn=null,this.removeEmptyCellTouchendListenerFn=null),this.gridster.$options.enableEmptyCellContextMenu&&!this.removeEmptyCellContextMenuListenerFn&&this.gridster.options.emptyCellContextMenuCallback?this.removeEmptyCellContextMenuListenerFn=this.gridster.renderer.listen(this.gridster.el,"contextmenu",this.emptyCellContextMenuCb):!this.gridster.$options.enableEmptyCellContextMenu&&this.removeEmptyCellContextMenuListenerFn&&(this.removeEmptyCellContextMenuListenerFn(),this.removeEmptyCellContextMenuListenerFn=null),this.gridster.$options.enableEmptyCellDrop&&!this.removeEmptyCellDropListenerFn&&this.gridster.options.emptyCellDropCallback?(this.removeEmptyCellDropListenerFn=this.gridster.renderer.listen(this.gridster.el,"drop",this.emptyCellDragDrop),this.gridster.zone.runOutsideAngular(()=>{this.removeEmptyCellDragoverListenerFn=this.gridster.renderer.listen(this.gridster.el,"dragover",this.emptyCellDragOver)}),this.removeDocumentDragendListenerFn=this.gridster.renderer.listen("document","dragend",()=>{this.gridster.movingItem=null,this.gridster.previewStyle()})):!this.gridster.$options.enableEmptyCellDrop&&this.removeEmptyCellDropListenerFn&&this.removeEmptyCellDragoverListenerFn&&this.removeDocumentDragendListenerFn&&(this.removeEmptyCellDropListenerFn(),this.removeEmptyCellDragoverListenerFn(),this.removeDocumentDragendListenerFn(),this.removeEmptyCellDragoverListenerFn=null,this.removeEmptyCellDropListenerFn=null,this.removeDocumentDragendListenerFn=null),this.gridster.$options.enableEmptyCellDrag&&!this.removeEmptyCellMousedownListenerFn&&this.gridster.options.emptyCellDragCallback?(this.removeEmptyCellMousedownListenerFn=this.gridster.renderer.listen(this.gridster.el,"mousedown",this.emptyCellMouseDown),this.removeEmptyCellTouchstartListenerFn=this.gridster.renderer.listen(this.gridster.el,"touchstart",this.emptyCellMouseDown)):!this.gridster.$options.enableEmptyCellDrag&&this.removeEmptyCellMousedownListenerFn&&this.removeEmptyCellTouchstartListenerFn&&(this.removeEmptyCellMousedownListenerFn(),this.removeEmptyCellTouchstartListenerFn(),this.removeEmptyCellMousedownListenerFn=null,this.removeEmptyCellTouchstartListenerFn=null)}getPixelsX(t,e){let n=this.gridster.options.scale;return n?(t.clientX-e.left)/n+this.gridster.el.scrollLeft-this.gridster.gridRenderer.getLeftMargin():t.clientX+this.gridster.el.scrollLeft-e.left-this.gridster.gridRenderer.getLeftMargin()}getPixelsY(t,e){let n=this.gridster.options.scale;return n?(t.clientY-e.top)/n+this.gridster.el.scrollTop-this.gridster.gridRenderer.getTopMargin():t.clientY+this.gridster.el.scrollTop-e.top-this.gridster.gridRenderer.getTopMargin()}getValidItemFromEvent(t,e){t.preventDefault(),t.stopPropagation(),Ws.checkTouchEvent(t);let n=this.gridster.el.getBoundingClientRect(),i=this.getPixelsX(t,n),o=this.getPixelsY(t,n),s={x:this.gridster.pixelsToPositionX(i,Math.floor,!0),y:this.gridster.pixelsToPositionY(o,Math.floor,!0),cols:this.gridster.$options.defaultItemCols,rows:this.gridster.$options.defaultItemRows};if(e&&(s.cols=Math.min(Math.abs(e.x-s.x)+1,this.gridster.$options.emptyCellDragMaxCols),s.rows=Math.min(Math.abs(e.y-s.y)+1,this.gridster.$options.emptyCellDragMaxRows),e.x<s.x?s.x=e.x:e.x-s.x>this.gridster.$options.emptyCellDragMaxCols-1&&(s.x=this.gridster.movingItem?this.gridster.movingItem.x:0),e.y<s.y?s.y=e.y:e.y-s.y>this.gridster.$options.emptyCellDragMaxRows-1&&(s.y=this.gridster.movingItem?this.gridster.movingItem.y:0)),!(!this.gridster.$options.enableOccupiedCellDrop&&this.gridster.checkCollision(s)))return s}},d5=class{constructor(t){this.gridster=t,this.lastGridColumnStyles={},this.lastGridRowStyles={}}destroy(){this.gridster=null}updateItem(t,e,n){if(this.gridster.mobile)this.clearCellPosition(n,t),this.gridster.$options.keepFixedHeightInMobile?n.setStyle(t,"height",(e.rows-1)*this.gridster.$options.margin+e.rows*this.gridster.$options.fixedRowHeight+"px"):n.setStyle(t,"height",e.rows*this.gridster.curWidth/e.cols+"px"),this.gridster.$options.keepFixedWidthInMobile?n.setStyle(t,"width",this.gridster.$options.fixedColWidth+"px"):n.setStyle(t,"width",""),n.setStyle(t,"margin-bottom",this.gridster.$options.margin+"px"),n.setStyle(t,gs.LTR?"margin-right":"margin-left","");else{let i=Math.round(this.gridster.curColWidth*e.x),o=Math.round(this.gridster.curRowHeight*e.y),s=this.gridster.curColWidth*e.cols-this.gridster.$options.margin,a=this.gridster.curRowHeight*e.rows-this.gridster.$options.margin;this.setCellPosition(n,t,i,o),n.setStyle(t,"width",s+"px"),n.setStyle(t,"height",a+"px");let l=null,c=null;this.gridster.$options.outerMargin&&(this.gridster.rows===e.rows+e.y&&(this.gridster.$options.outerMarginBottom!==null?l=this.gridster.$options.outerMarginBottom+"px":l=this.gridster.$options.margin+"px"),this.gridster.columns===e.cols+e.x&&(this.gridster.$options.outerMarginBottom!==null?c=this.gridster.$options.outerMarginRight+"px":c=this.gridster.$options.margin+"px")),n.setStyle(t,"margin-bottom",l),n.setStyle(t,gs.LTR?"margin-right":"margin-left",c)}}updateGridster(){let t="",e="",n="",i="";if(this.gridster.$options.gridType===ln.Fit)t=ln.Fit,e=ln.ScrollVertical,n=ln.ScrollHorizontal,i=ln.Fixed;else if(this.gridster.$options.gridType===ln.ScrollVertical)this.gridster.curRowHeight=this.gridster.curColWidth*this.gridster.$options.rowHeightRatio,t=ln.ScrollVertical,e=ln.Fit,n=ln.ScrollHorizontal,i=ln.Fixed;else if(this.gridster.$options.gridType===ln.ScrollHorizontal){let o=this.gridster.$options.rowHeightRatio,s=o>=1?o:o+1;this.gridster.curColWidth=this.gridster.curRowHeight*s,t=ln.ScrollHorizontal,e=ln.Fit,n=ln.ScrollVertical,i=ln.Fixed}else this.gridster.$options.gridType===ln.Fixed?(this.gridster.curColWidth=this.gridster.$options.fixedColWidth+(this.gridster.$options.ignoreMarginInRow?0:this.gridster.$options.margin),this.gridster.curRowHeight=this.gridster.$options.fixedRowHeight+(this.gridster.$options.ignoreMarginInRow?0:this.gridster.$options.margin),t=ln.Fixed,e=ln.Fit,n=ln.ScrollVertical,i=ln.ScrollHorizontal):this.gridster.$options.gridType===ln.VerticalFixed?(this.gridster.curRowHeight=this.gridster.$options.fixedRowHeight+(this.gridster.$options.ignoreMarginInRow?0:this.gridster.$options.margin),t=ln.ScrollVertical,e=ln.Fit,n=ln.ScrollHorizontal,i=ln.Fixed):this.gridster.$options.gridType===ln.HorizontalFixed&&(this.gridster.curColWidth=this.gridster.$options.fixedColWidth+(this.gridster.$options.ignoreMarginInRow?0:this.gridster.$options.margin),t=ln.ScrollHorizontal,e=ln.Fit,n=ln.ScrollVertical,i=ln.Fixed);this.gridster.mobile||this.gridster.$options.setGridSize&&this.gridster.$options.gridType!==ln.Fit?this.gridster.renderer.removeClass(this.gridster.el,t):this.gridster.renderer.addClass(this.gridster.el,t),this.gridster.renderer.removeClass(this.gridster.el,e),this.gridster.renderer.removeClass(this.gridster.el,n),this.gridster.renderer.removeClass(this.gridster.el,i)}getGridColumnStyle(t){let e={left:this.gridster.curColWidth*t,width:this.gridster.curColWidth-this.gridster.$options.margin,height:this.gridster.gridRows.length*this.gridster.curRowHeight-this.gridster.$options.margin,style:{}};e.style=pr(Ue({},this.getLeftPosition(e.left)),{width:e.width+"px",height:e.height+"px"});let n=this.lastGridColumnStyles[t];return n&&n.left===e.left&&n.width===e.width&&n.height===e.height?n.style:(this.lastGridColumnStyles[t]=e,e.style)}getGridRowStyle(t){let e={top:this.gridster.curRowHeight*t,width:this.gridster.gridColumns.length*this.gridster.curColWidth+this.gridster.$options.margin,height:this.gridster.curRowHeight-this.gridster.$options.margin,style:{}};e.style=pr(Ue({},this.getTopPosition(e.top)),{width:e.width+"px",height:e.height+"px"});let n=this.lastGridRowStyles[t];return n&&n.top===e.top&&n.width===e.width&&n.height===e.height?n.style:(this.lastGridRowStyles[t]=e,e.style)}getLeftPosition(t){let e=this.gridster.$options.dirType===gs.RTL?-t:t;return this.gridster.$options.useTransformPositioning?{transform:"translateX("+e+"px)"}:{left:this.getLeftMargin()+e+"px"}}getTopPosition(t){return this.gridster.$options.useTransformPositioning?{transform:"translateY("+t+"px)"}:{top:this.getTopMargin()+t+"px"}}clearCellPosition(t,e){this.gridster.$options.useTransformPositioning?t.setStyle(e,"transform",""):(t.setStyle(e,"top",""),t.setStyle(e,"left",""))}setCellPosition(t,e,n,i){let o=this.gridster.$options.dirType===gs.RTL?-n:n;if(this.gridster.$options.useTransformPositioning){let s="translate3d("+o+"px, "+i+"px, 0)";t.setStyle(e,"transform",s)}else t.setStyle(e,"left",this.getLeftMargin()+o+"px"),t.setStyle(e,"top",this.getTopMargin()+i+"px")}getLeftMargin(){return this.gridster.$options.outerMargin?this.gridster.$options.outerMarginLeft!==null?this.gridster.$options.outerMarginLeft:this.gridster.$options.margin:0}getTopMargin(){return this.gridster.$options.outerMargin?this.gridster.$options.outerMarginTop!==null?this.gridster.$options.outerMarginTop:this.gridster.$options.margin:0}},kze=(()=>{class r{constructor(e,n){this.renderer=n,this.el=e.nativeElement}ngOnInit(){this.sub=this.previewStyle$.subscribe(e=>this.previewStyle(e))}ngOnDestroy(){this.sub&&this.sub.unsubscribe()}previewStyle(e){e?(this.renderer.setStyle(this.el,"display","block"),this.gridRenderer.updateItem(this.el,e,this.renderer)):this.renderer.setStyle(this.el,"display","")}static{this.\u0275fac=function(n){return new(n||r)(ze(ut),ze(gi))}}static{this.\u0275cmp=Be({type:r,selectors:[["gridster-preview"]],inputs:{previewStyle$:"previewStyle$",gridRenderer:"gridRenderer"},decls:0,vars:0,template:function(n,i){},styles:[`gridster-preview{position:absolute;display:none;background:#00000026}
`],encapsulation:2})}}return r})(),l0=(()=>{class r{constructor(e,n,i,o){this.renderer=n,this.cdRef=i,this.zone=o,this.columns=0,this.rows=0,this.gridColumns=[],this.gridRows=[],this.previewStyle$=new ct,this.calculateLayout$=new Ke,this.resize$=new Ke,this.destroy$=new Ke,this.optionsChanged=()=>{this.setOptions();let s=this.grid.length-1,a;for(;s>=0;s--)a=this.grid[s],a.updateOptions();this.calculateLayout()},this.onResize=()=>{this.el.clientWidth&&(this.options.setGridSize&&(this.renderer.setStyle(this.el,"width",""),this.renderer.setStyle(this.el,"height","")),this.setGridSize(),this.calculateLayout())},this.getNextPossiblePosition=(s,a={})=>{s.cols===-1&&(s.cols=this.$options.defaultItemCols),s.rows===-1&&(s.rows=this.$options.defaultItemRows),this.setGridDimensions();let l=a.y||0,c;for(;l<this.rows;l++)for(s.y=l,c=a.x||0;c<this.columns;c++)if(s.x=c,!this.checkCollision(s))return!0;let d=this.$options.maxRows>=this.rows+s.rows,f=this.$options.maxCols>=this.columns+s.cols;return!(this.rows<=this.columns&&d)&&f?(s.x=this.columns,s.y=0,!0):d?(s.y=this.rows,s.x=0,!0):!1},this.getFirstPossiblePosition=s=>{let a=Object.assign({},s);return this.getNextPossiblePosition(a),a},this.getLastPossiblePosition=s=>{let a={y:0,x:0};a=this.grid.reduce((c,d)=>{let f={y:d.$item.y+d.$item.rows-1,x:d.$item.x+d.$item.cols-1};return Ws.compareItems(c,f)===1?f:c},a);let l=Object.assign({},s);return this.getNextPossiblePosition(l,a),l},this.el=e.nativeElement,this.$options=JSON.parse(JSON.stringify(Ize)),this.mobile=!1,this.curWidth=0,this.curHeight=0,this.grid=[],this.curColWidth=0,this.curRowHeight=0,this.dragInProgress=!1,this.emptyCell=new u5(this),this.compact=new c5(this),this.gridRenderer=new d5(this)}static checkCollisionTwoItemsForSwaping(e,n){let i=e.cols===1?0:1,o=n.cols===1?0:1,s=e.rows===1?0:1,a=n.rows===1?0:1;return e.x+i<n.x+n.cols&&e.x+e.cols>n.x+o&&e.y+s<n.y+n.rows&&e.y+e.rows>n.y+a}checkCollisionTwoItems(e,n){if(!(e.x<n.x+n.cols&&e.x+e.cols>n.x&&e.y<n.y+n.rows&&e.y+e.rows>n.y))return!1;if(!this.$options.allowMultiLayer)return!0;let o=this.$options.defaultLayerIndex,s=e.layerIndex===void 0?o:e.layerIndex,a=n.layerIndex===void 0?o:n.layerIndex;return s===a}ngOnInit(){this.options.initCallback&&this.options.initCallback(this),this.calculateLayout$.pipe(xn(0),Vt(this.destroy$)).subscribe(()=>this.calculateLayout()),this.resize$.pipe(Wr(()=>rd(100)),Vt(this.destroy$)).subscribe(()=>this.resize())}ngOnChanges(e){e.options&&(this.setOptions(),this.options.api={optionsChanged:this.optionsChanged,resize:this.onResize,getNextPossiblePosition:this.getNextPossiblePosition,getFirstPossiblePosition:this.getFirstPossiblePosition,getLastPossiblePosition:this.getLastPossiblePosition,getItemComponent:n=>this.getItemComponent(n)},this.columns=this.$options.minCols,this.rows=this.$options.minRows+this.$options.addEmptyRowsCount,this.setGridSize(),this.calculateLayout())}resize(){let e,n;this.$options.gridType==="fit"&&!this.mobile?(n=this.el.offsetWidth,e=this.el.offsetHeight):(n=this.el.clientWidth,e=this.el.clientHeight),(n!==this.curWidth||e!==this.curHeight)&&this.checkIfToResize()&&this.onResize()}setOptions(){this.$options=Ws.merge(this.$options,this.options,this.$options),!this.$options.disableWindowResize&&!this.windowResize?this.windowResize=this.renderer.listen("window","resize",this.onResize):this.$options.disableWindowResize&&this.windowResize&&(this.windowResize(),this.windowResize=null),this.emptyCell.updateOptions()}ngOnDestroy(){this.destroy$.next(),this.previewStyle$.complete(),this.windowResize&&this.windowResize(),this.options&&this.options.destroyCallback&&this.options.destroyCallback(this),this.options&&this.options.api&&(this.options.api.resize=void 0,this.options.api.optionsChanged=void 0,this.options.api.getNextPossiblePosition=void 0,this.options.api=void 0),this.emptyCell.destroy(),this.emptyCell=null,this.compact.destroy(),this.compact=null}checkIfToResize(){let e=this.el.clientWidth,n=this.el.offsetWidth,i=this.el.scrollWidth,o=this.el.clientHeight,s=this.el.offsetHeight,a=this.el.scrollHeight,l=e<n&&a>s&&a-s<n-e,c=o<s&&i>n&&i-n<s-o;return l?!1:!c}checkIfMobile(){return this.$options.useBodyForBreakpoint?this.$options.mobileBreakpoint>document.body.clientWidth:this.$options.mobileBreakpoint>this.curWidth}setGridSize(){let e=this.el,n,i;this.$options.setGridSize||this.$options.gridType===ln.Fit&&!this.mobile?(n=e.offsetWidth,i=e.offsetHeight):(n=e.clientWidth,i=e.clientHeight),this.curWidth=n,this.curHeight=i}setGridDimensions(){this.setGridSize(),!this.mobile&&this.checkIfMobile()?(this.mobile=!this.mobile,this.renderer.addClass(this.el,"mobile")):this.mobile&&!this.checkIfMobile()&&(this.mobile=!this.mobile,this.renderer.removeClass(this.el,"mobile"));let e=this.$options.minRows,n=this.$options.minCols,i=this.grid.length-1,o;for(;i>=0;i--)o=this.grid[i],o.notPlaced||(e=Math.max(e,o.$item.y+o.$item.rows),n=Math.max(n,o.$item.x+o.$item.cols));e+=this.$options.addEmptyRowsCount,(this.columns!==n||this.rows!==e)&&(this.columns=n,this.rows=e,this.options.gridSizeChangedCallback&&this.options.gridSizeChangedCallback(this))}calculateLayout(){if(this.compact&&this.compact.checkCompact(),this.setGridDimensions(),this.$options.outerMargin){let i=-this.$options.margin;this.$options.outerMarginLeft!==null?(i+=this.$options.outerMarginLeft,this.renderer.setStyle(this.el,"padding-left",this.$options.outerMarginLeft+"px")):(i+=this.$options.margin,this.renderer.setStyle(this.el,"padding-left",this.$options.margin+"px")),this.$options.outerMarginRight!==null?(i+=this.$options.outerMarginRight,this.renderer.setStyle(this.el,"padding-right",this.$options.outerMarginRight+"px")):(i+=this.$options.margin,this.renderer.setStyle(this.el,"padding-right",this.$options.margin+"px")),this.curColWidth=(this.curWidth-i)/this.columns;let o=-this.$options.margin;this.$options.outerMarginTop!==null?(o+=this.$options.outerMarginTop,this.renderer.setStyle(this.el,"padding-top",this.$options.outerMarginTop+"px")):(o+=this.$options.margin,this.renderer.setStyle(this.el,"padding-top",this.$options.margin+"px")),this.$options.outerMarginBottom!==null?(o+=this.$options.outerMarginBottom,this.renderer.setStyle(this.el,"padding-bottom",this.$options.outerMarginBottom+"px")):(o+=this.$options.margin,this.renderer.setStyle(this.el,"padding-bottom",this.$options.margin+"px")),this.curRowHeight=(this.curHeight-o)/this.rows*this.$options.rowHeightRatio}else this.curColWidth=(this.curWidth+this.$options.margin)/this.columns,this.curRowHeight=(this.curHeight+this.$options.margin)/this.rows*this.$options.rowHeightRatio,this.renderer.setStyle(this.el,"padding-left","0px"),this.renderer.setStyle(this.el,"padding-right","0px"),this.renderer.setStyle(this.el,"padding-top","0px"),this.renderer.setStyle(this.el,"padding-bottom","0px");this.gridRenderer.updateGridster(),this.$options.setGridSize?(this.renderer.addClass(this.el,"gridSize"),this.mobile||(this.renderer.setStyle(this.el,"width",this.columns*this.curColWidth+this.$options.margin+"px"),this.renderer.setStyle(this.el,"height",this.rows*this.curRowHeight+this.$options.margin+"px"))):(this.renderer.removeClass(this.el,"gridSize"),this.renderer.setStyle(this.el,"width",""),this.renderer.setStyle(this.el,"height","")),this.updateGrid();let e=this.grid.length-1,n;for(;e>=0;e--)n=this.grid[e],n.setSize(),n.drag.toggle(),n.resize.toggle();this.resize$.next()}updateGrid(){this.$options.displayGrid==="always"&&!this.mobile?this.renderer.addClass(this.el,"display-grid"):this.$options.displayGrid==="onDrag&Resize"&&this.dragInProgress?this.renderer.addClass(this.el,"display-grid"):(this.$options.displayGrid==="none"||!this.dragInProgress||this.mobile)&&this.renderer.removeClass(this.el,"display-grid"),this.setGridDimensions(),this.gridColumns.length=r.getNewArrayLength(this.columns,this.curWidth,this.curColWidth),this.gridRows.length=r.getNewArrayLength(this.rows,this.curHeight,this.curRowHeight),this.cdRef.markForCheck()}addItem(e){e.$item.cols===void 0&&(e.$item.cols=this.$options.defaultItemCols,e.item.cols=e.$item.cols,e.itemChanged()),e.$item.rows===void 0&&(e.$item.rows=this.$options.defaultItemRows,e.item.rows=e.$item.rows,e.itemChanged()),e.$item.x===-1||e.$item.y===-1?this.autoPositionItem(e):this.checkCollision(e.$item)&&(this.$options.disableWarnings||(e.notPlaced=!0,console.warn("Can't be placed in the bounds of the dashboard, trying to auto position!/n"+JSON.stringify(e.item,["cols","rows","x","y"]))),this.$options.disableAutoPositionOnConflict?e.notPlaced=!0:this.autoPositionItem(e)),this.grid.push(e),this.calculateLayout$.next()}removeItem(e){this.grid.splice(this.grid.indexOf(e),1),this.calculateLayout$.next(),this.options.itemRemovedCallback&&this.options.itemRemovedCallback(e.item,e)}checkCollision(e){let n=!1;if(this.options.itemValidateCallback&&(n=!this.options.itemValidateCallback(e)),!n&&this.checkGridCollision(e)&&(n=!0),!n){let i=this.findItemWithItem(e);i&&(n=i)}return n}checkGridCollision(e){let n=e.y>-1&&e.x>-1,i=e.cols+e.x<=this.$options.maxCols,o=e.rows+e.y<=this.$options.maxRows,s=e.maxItemCols===void 0?this.$options.maxItemCols:e.maxItemCols,a=e.minItemCols===void 0?this.$options.minItemCols:e.minItemCols,l=e.maxItemRows===void 0?this.$options.maxItemRows:e.maxItemRows,c=e.minItemRows===void 0?this.$options.minItemRows:e.minItemRows,d=e.cols<=s&&e.cols>=a,f=e.rows<=l&&e.rows>=c,m=e.minItemArea===void 0?this.$options.minItemArea:e.minItemArea,p=e.maxItemArea===void 0?this.$options.maxItemArea:e.maxItemArea,b=e.cols*e.rows,y=m<=b,C=p>=b;return!(n&&i&&o&&d&&f&&y&&C)}findItemWithItem(e){let n=0,i;for(;n<this.grid.length;n++)if(i=this.grid[n],i.$item!==e&&this.checkCollisionTwoItems(i.$item,e))return i;return!1}findItemsWithItem(e){let n=[],i=0,o;for(;i<this.grid.length;i++)o=this.grid[i],o.$item!==e&&this.checkCollisionTwoItems(o.$item,e)&&n.push(o);return n}autoPositionItem(e){this.getNextPossiblePosition(e.$item)?(e.notPlaced=!1,e.item.x=e.$item.x,e.item.y=e.$item.y,e.itemChanged()):(e.notPlaced=!0,this.$options.disableWarnings||console.warn("Can't be placed in the bounds of the dashboard!/n"+JSON.stringify(e.item,["cols","rows","x","y"])))}pixelsToPositionX(e,n,i){let o=n(e/this.curColWidth);return i?o:Math.max(o,0)}pixelsToPositionY(e,n,i){let o=n(e/this.curRowHeight);return i?o:Math.max(o,0)}positionXToPixels(e){return e*this.curColWidth}positionYToPixels(e){return e*this.curRowHeight}getItemComponent(e){return this.grid.find(n=>n.item===e)}checkCollisionForSwaping(e){let n=!1;if(this.options.itemValidateCallback&&(n=!this.options.itemValidateCallback(e)),!n&&this.checkGridCollision(e)&&(n=!0),!n){let i=this.findItemWithItemForSwapping(e);i&&(n=i)}return n}findItemWithItemForSwapping(e){let n=this.grid.length-1,i;for(;n>-1;n--)if(i=this.grid[n],i.$item!==e&&r.checkCollisionTwoItemsForSwaping(i.$item,e))return i;return!1}previewStyle(e=!1){this.movingItem?(this.compact&&e&&this.compact.checkCompactItem(this.movingItem),this.previewStyle$.next(this.movingItem)):this.previewStyle$.next(null)}static getNewArrayLength(e,n,i){let o=Math.max(e,Math.floor(n/i));return o<0?0:Number.isFinite(o)?Math.floor(o):0}static{this.\u0275fac=function(n){return new(n||r)(ze(ut),ze(gi),ze(qt),ze(xt))}}static{this.\u0275cmp=Be({type:r,selectors:[["gridster"]],inputs:{options:"options"},features:[cr],ngContentSelectors:vue,decls:6,vars:2,consts:[[1,"gridster-column",3,"ngStyle"],[1,"gridster-row",3,"ngStyle"],[1,"gridster-preview",3,"gridRenderer","previewStyle$"]],template:function(n,i){n&1&&(un(),ur(0,_ze,1,1,"div",0,Mi),ur(2,xze,1,1,"div",1,Mi),hr(4),Te(5,"gridster-preview",2)),n&2&&(dr(i.gridColumns),K(2),dr(i.gridRows),K(3),oe("gridRenderer",i.gridRenderer)("previewStyle$",i.previewStyle$))},dependencies:[Ng,kze],styles:[`gridster{position:relative;box-sizing:border-box;background:gray;width:100%;height:100%;-webkit-user-select:none;user-select:none;display:block}gridster.fit{overflow-x:hidden;overflow-y:hidden}gridster.scrollVertical{overflow-x:hidden;overflow-y:auto}gridster.scrollHorizontal{overflow-x:auto;overflow-y:hidden}gridster.fixed{overflow:auto}gridster.mobile{overflow-x:hidden;overflow-y:auto}gridster.mobile gridster-item{position:relative}gridster.gridSize{height:initial;width:initial}gridster.gridSize.fit{height:100%;width:100%}gridster .gridster-column,gridster .gridster-row{position:absolute;display:none;transition:.3s;box-sizing:border-box}gridster.display-grid .gridster-column,gridster.display-grid .gridster-row{display:block}gridster .gridster-column{border-left:1px solid white;border-right:1px solid white}gridster .gridster-row{border-top:1px solid white;border-bottom:1px solid white}
`],encapsulation:2})}}return r})(),bM=class{constructor(t){this.iteration=0,this.pushedItems=[],this.pushedItemsTemp=[],this.pushedItemsTempPath=[],this.pushedItemsPath=[],this.gridsterItem=t,this.gridster=t.gridster,this.tryPattern={fromEast:[this.tryWest,this.trySouth,this.tryNorth,this.tryEast],fromWest:[this.tryEast,this.trySouth,this.tryNorth,this.tryWest],fromNorth:[this.trySouth,this.tryEast,this.tryWest,this.tryNorth],fromSouth:[this.tryNorth,this.tryEast,this.tryWest,this.trySouth]},this.fromSouth="fromSouth",this.fromNorth="fromNorth",this.fromEast="fromEast",this.fromWest="fromWest"}destroy(){this.gridster=this.gridsterItem=null}pushItems(t,e){if(this.gridster.$options.pushItems&&!e){this.pushedItemsOrder=[],this.iteration=0;let n=this.push(this.gridsterItem,t);return n||this.restoreTempItems(),this.pushedItemsOrder=[],this.pushedItemsTemp=[],this.pushedItemsTempPath=[],n}else return!1}restoreTempItems(){let t=this.pushedItemsTemp.length-1;for(;t>-1;t--)this.removeFromTempPushed(this.pushedItemsTemp[t])}restoreItems(){let t=0,e=this.pushedItems.length,n;for(;t<e;t++)n=this.pushedItems[t],n.$item.x=n.item.x||0,n.$item.y=n.item.y||0,n.setSize();this.pushedItems=[],this.pushedItemsPath=[]}setPushedItems(){let t=0,e=this.pushedItems.length,n;for(;t<e;t++)n=this.pushedItems[t],n.checkItemChanges(n.$item,n.item);this.pushedItems=[],this.pushedItemsPath=[]}checkPushBack(){let t=this.pushedItems.length-1,e=!1;for(;t>-1;t--)this.checkPushedItem(this.pushedItems[t],t)&&(e=!0);e&&this.checkPushBack()}push(t,e){if(this.iteration>100)return console.warn("max iteration reached"),!1;if(this.gridster.checkGridCollision(t.$item)||e==="")return!1;let n=this.gridster.findItemsWithItem(t.$item),i=e===this.fromNorth||e===this.fromWest;n.sort((c,d)=>i?d.$item.y-c.$item.y||d.$item.x-c.$item.x:c.$item.y-d.$item.y||c.$item.x-d.$item.x);let o=0,s,a=!0,l=[];for(;o<n.length;o++){if(s=n[o],s===this.gridsterItem)continue;if(!s.canBeDragged()){a=!1;break}let c=this.pushedItemsTemp.indexOf(s);if(c>-1&&this.pushedItemsTempPath[c].length>10){a=!1;break}if(this.tryPattern[e][0].call(this,s,t))this.pushedItemsOrder.push(s),l.push(s);else if(this.tryPattern[e][1].call(this,s,t))this.pushedItemsOrder.push(s),l.push(s);else if(this.tryPattern[e][2].call(this,s,t))this.pushedItemsOrder.push(s),l.push(s);else if(this.tryPattern[e][3].call(this,s,t))this.pushedItemsOrder.push(s),l.push(s);else{a=!1;break}}if(!a&&(o=this.pushedItemsOrder.lastIndexOf(l[0]),o>-1)){let c=this.pushedItemsOrder.length-1;for(;c>=o;c--)s=this.pushedItemsOrder[c],this.pushedItemsOrder.pop(),this.removeFromTempPushed(s),this.removeFromPushedItem(s)}return this.iteration++,a}trySouth(t,e){return this.gridster.$options.pushDirections.south?(this.addToTempPushed(t),t.$item.y=e.$item.y+e.$item.rows,this.push(t,this.fromNorth)?(t.setSize(),this.addToPushed(t),!0):(this.removeFromTempPushed(t),!1)):!1}tryNorth(t,e){return this.gridster.$options.pushDirections.north?(this.addToTempPushed(t),t.$item.y=e.$item.y-t.$item.rows,this.push(t,this.fromSouth)?(t.setSize(),this.addToPushed(t),!0):(this.removeFromTempPushed(t),!1)):!1}tryEast(t,e){return this.gridster.$options.pushDirections.east?(this.addToTempPushed(t),t.$item.x=e.$item.x+e.$item.cols,this.push(t,this.fromWest)?(t.setSize(),this.addToPushed(t),!0):(this.removeFromTempPushed(t),!1)):!1}tryWest(t,e){return this.gridster.$options.pushDirections.west?(this.addToTempPushed(t),t.$item.x=e.$item.x-t.$item.cols,this.push(t,this.fromEast)?(t.setSize(),this.addToPushed(t),!0):(this.removeFromTempPushed(t),!1)):!1}addToTempPushed(t){let e=this.pushedItemsTemp.indexOf(t);e===-1&&(e=this.pushedItemsTemp.push(t)-1,this.pushedItemsTempPath[e]=[]),this.pushedItemsTempPath[e].push({x:t.$item.x,y:t.$item.y})}removeFromTempPushed(t){let e=this.pushedItemsTemp.indexOf(t),n=this.pushedItemsTempPath[e].pop();n&&(t.$item.x=n.x,t.$item.y=n.y,t.setSize(),this.pushedItemsTempPath[e].length||(this.pushedItemsTemp.splice(e,1),this.pushedItemsTempPath.splice(e,1)))}addToPushed(t){if(this.pushedItems.indexOf(t)<0)this.pushedItems.push(t),this.pushedItemsPath.push([{x:t.item.x||0,y:t.item.y||0},{x:t.$item.x,y:t.$item.y}]);else{let e=this.pushedItems.indexOf(t);this.pushedItemsPath[e].push({x:t.$item.x,y:t.$item.y})}}removeFromPushed(t){t>-1&&(this.pushedItems.splice(t,1),this.pushedItemsPath.splice(t,1))}removeFromPushedItem(t){let e=this.pushedItems.indexOf(t);e>-1&&(this.pushedItemsPath[e].pop(),this.pushedItemsPath.length||(this.pushedItems.splice(e,1),this.pushedItemsPath.splice(e,1)))}checkPushedItem(t,e){let n=this.pushedItemsPath[e],i=n.length-2,o,s,a,l=!1;for(;i>-1;i--)o=n[i],s=t.$item.x,a=t.$item.y,t.$item.x=o.x,t.$item.y=o.y,this.gridster.findItemWithItem(t.$item)?(t.$item.x=s,t.$item.y=a):(t.setSize(),n.splice(i+1,n.length-i-1),l=!0);return n.length<2&&this.removeFromPushed(e),l}},X_,up,yue=50,Jl,Z_,zd,Q_,J_,ex,tx;function _ue(r,t,e,n,i,o,s,a,l,c){X_=r.$options.scrollSensitivity,up=r.$options.scrollSpeed,Jl=r.el,Z_=l,zd=c;let d=Jl.offsetWidth,f=Jl.offsetHeight,m=Jl.scrollLeft,p=Jl.scrollTop,b=e-p,y=f+p-e-i,{clientX:C,clientY:S}=o;if(!r.$options.disableScrollVertical)if(s.clientY<S&&y<X_){if(Due(),Z_&&zd&&!zd.south||tx)return;tx=pue(1,a,s)}else if(s.clientY>S&&p>0&&b<X_){if(Sue(),Z_&&zd&&!zd.north||ex)return;ex=pue(-1,a,s)}else s.clientY!==S&&v5();let A=m+d-t-n,x=t-m;if(!r.$options.disableScrollHorizontal)if(s.clientX<C&&A<=X_){if(Cue(),Z_&&zd&&!zd.east||Q_)return;Q_=gue(1,a,s)}else if(s.clientX>C&&m>0&&x<X_){if(wue(),Z_&&zd&&!zd.west||J_)return;J_=gue(-1,a,s)}else s.clientX!==C&&g5()}function pue(r,t,e){let n=e.clientY;return window.setInterval(()=>{(!Jl||r===-1&&Jl.scrollTop-up<0)&&v5(),Jl.scrollTop+=r*up,n+=r*up,t({clientX:e.clientX,clientY:n})},yue)}function gue(r,t,e){let n=e.clientX;return window.setInterval(()=>{(!Jl||r===-1&&Jl.scrollLeft-up<0)&&g5(),Jl.scrollLeft+=r*up,n+=r*up,t({clientX:n,clientY:e.clientY})},yue)}function xue(){g5(),v5(),Jl=null}function g5(){wue(),Cue()}function v5(){Due(),Sue()}function wue(){Q_&&(clearInterval(Q_),Q_=0)}function Cue(){J_&&(clearInterval(J_),J_=0)}function Sue(){tx&&(clearInterval(tx),tx=0)}function Due(){ex&&(clearInterval(ex),ex=0)}var f5=class{constructor(t){this.gridsterItem=t,this.gridster=t.gridster}destroy(){this.gridster=this.gridsterItem=this.swapedItem=null}swapItems(){this.gridster.$options.swap&&(this.checkSwapBack(),this.checkSwap(this.gridsterItem))}checkSwapBack(){if(this.swapedItem){let t=this.swapedItem.$item.x,e=this.swapedItem.$item.y;this.swapedItem.$item.x=this.swapedItem.item.x||0,this.swapedItem.$item.y=this.swapedItem.item.y||0,this.gridster.checkCollision(this.swapedItem.$item)?(this.swapedItem.$item.x=t,this.swapedItem.$item.y=e):(this.swapedItem.setSize(),this.gridsterItem.$item.x=this.gridsterItem.item.x||0,this.gridsterItem.$item.y=this.gridsterItem.item.y||0,this.swapedItem=void 0)}}restoreSwapItem(){this.swapedItem&&(this.swapedItem.$item.x=this.swapedItem.item.x||0,this.swapedItem.$item.y=this.swapedItem.item.y||0,this.swapedItem.setSize(),this.swapedItem=void 0)}setSwapItem(){this.swapedItem&&(this.swapedItem.checkItemChanges(this.swapedItem.$item,this.swapedItem.item),this.swapedItem=void 0)}checkSwap(t){let e;if(this.gridster.$options.swapWhileDragging?e=this.gridster.checkCollisionForSwaping(t.$item):e=this.gridster.checkCollision(t.$item),e&&e!==!0&&e.canBeDragged()){let n=e,i=n.$item.x,o=n.$item.y,s=t.$item.x,a=t.$item.y,l=s-i,c=a-o;n.$item.x=t.item.x-l,n.$item.y=t.item.y-c,t.$item.x=n.item.x+l,t.$item.y=n.item.y+c,this.gridster.checkCollision(n.$item)||this.gridster.checkCollision(t.$item)?(t.$item.x=s,t.$item.y=a,n.$item.x=i,n.$item.y=o):(n.setSize(),this.swapedItem=n,this.gridster.$options.swapWhileDragging&&(this.gridsterItem.checkItemChanges(this.gridsterItem.$item,this.gridsterItem.item),this.setSwapItem()))}}},Nze="gridster-item-resizable-handler",bl=function(r){return r.UP="UP",r.DOWN="DOWN",r.LEFT="LEFT",r.RIGHT="RIGHT",r}(bl||{}),h5=class{constructor(t,e,n){this.zone=n,this.collision=!1,this.dragMove=i=>{i.stopPropagation(),i.preventDefault(),Ws.checkTouchEvent(i);let o=this.getDirections(i);this.gridster.options.enableBoundaryControl&&(o.includes(bl.UP)&&this.gridsterItem.el.getBoundingClientRect().top<this.gridster.el.getBoundingClientRect().top+(this.outerMarginTop??this.margin)&&(o=o.filter(s=>s!=bl.UP),i=new MouseEvent(i.type,{clientX:i.clientX,clientY:this.lastMouse.clientY})),o.includes(bl.LEFT)&&this.gridsterItem.el.getBoundingClientRect().left<this.gridster.el.getBoundingClientRect().left+(this.outerMarginLeft??this.margin)&&(o=o.filter(s=>s!=bl.LEFT),i=new MouseEvent(i.type,{clientX:this.lastMouse.clientX,clientY:i.clientY})),o.includes(bl.RIGHT)&&this.gridsterItem.el.getBoundingClientRect().right>this.gridster.el.getBoundingClientRect().right-(this.outerMarginRight??this.margin)&&(o=o.filter(s=>s!=bl.RIGHT),i=new MouseEvent(i.type,{clientX:this.lastMouse.clientX,clientY:i.clientY})),o.includes(bl.DOWN)&&this.gridsterItem.el.getBoundingClientRect().bottom>this.gridster.el.getBoundingClientRect().bottom-(this.outerMarginBottom??this.margin)&&(o=o.filter(s=>s!=bl.DOWN),i=new MouseEvent(i.type,{clientX:i.clientX,clientY:this.lastMouse.clientY}))),o.length&&(this.offsetLeft=this.gridster.el.scrollLeft-this.gridster.el.offsetLeft,this.offsetTop=this.gridster.el.scrollTop-this.gridster.el.offsetTop,_ue(this.gridster,this.left,this.top,this.width,this.height,i,this.lastMouse,this.calculateItemPositionFromMousePosition),this.calculateItemPositionFromMousePosition(i))},this.calculateItemPositionFromMousePosition=i=>{this.gridster.options.scale?this.calculateItemPositionWithScale(i,this.gridster.options.scale):this.calculateItemPositionWithoutScale(i),this.calculateItemPosition(),this.lastMouse.clientX=i.clientX,this.lastMouse.clientY=i.clientY,this.zone.run(()=>{this.gridster.updateGrid()})},this.dragStop=i=>{i.stopPropagation(),i.preventDefault(),xue(),this.cancelOnBlur(),this.mousemove(),this.mouseup(),this.mouseleave(),this.touchmove(),this.touchend(),this.touchcancel(),this.gridsterItem.renderer.removeClass(this.gridsterItem.el,"gridster-item-moving"),this.gridster.dragInProgress=!1,this.gridster.updateGrid(),this.path=[],this.gridster.options.draggable&&this.gridster.options.draggable.stop?Promise.resolve(this.gridster.options.draggable.stop(this.gridsterItem.item,this.gridsterItem,i)).then(this.makeDrag,this.cancelDrag):this.makeDrag(),setTimeout(()=>{this.gridster&&(this.gridster.movingItem=null,this.gridster.previewStyle(!0))})},this.cancelDrag=()=>{this.gridsterItem.$item.x=this.gridsterItem.item.x||0,this.gridsterItem.$item.y=this.gridsterItem.item.y||0,this.gridsterItem.setSize(),this.push&&this.push.restoreItems(),this.swap&&this.swap.restoreSwapItem(),this.push&&(this.push.destroy(),this.push=null),this.swap&&(this.swap.destroy(),this.swap=null)},this.makeDrag=()=>{this.gridster.$options.draggable.dropOverItems&&this.gridster.options.draggable&&this.gridster.options.draggable.dropOverItemsCallback&&this.collision&&this.collision!==!0&&this.collision.$item&&this.gridster.options.draggable.dropOverItemsCallback(this.gridsterItem.item,this.collision.item,this.gridster),this.collision=!1,this.gridsterItem.setSize(),this.gridsterItem.checkItemChanges(this.gridsterItem.$item,this.gridsterItem.item),this.push&&this.push.setPushedItems(),this.swap&&this.swap.setSwapItem(),this.push&&(this.push.destroy(),this.push=null),this.swap&&(this.swap.destroy(),this.swap=null)},this.dragStartDelay=i=>{if(i.target.classList.contains(Nze)||Ws.checkContentClassForEvent(this.gridster,i))return;if(Ws.checkTouchEvent(i),!this.gridster.$options.draggable.delayStart){this.dragStart(i);return}let s=setTimeout(()=>{this.dragStart(i),b()},this.gridster.$options.draggable.delayStart),a=this.gridsterItem.renderer.listen("document","mouseup",b),l=this.gridsterItem.renderer.listen("document","mouseleave",b),c=this.gridsterItem.renderer.listen("window","blur",b),d=this.gridsterItem.renderer.listen("document","touchmove",p),f=this.gridsterItem.renderer.listen("document","touchend",b),m=this.gridsterItem.renderer.listen("document","touchcancel",b);function p(y){Ws.checkTouchEvent(y),(Math.abs(y.clientX-i.clientX)>9||Math.abs(y.clientY-i.clientY)>9)&&b()}function b(){clearTimeout(s),c(),a(),l(),d(),f(),m()}},this.gridsterItem=t,this.gridster=e,this.lastMouse={clientX:0,clientY:0},this.path=[]}destroy(){this.gridster.previewStyle&&this.gridster.previewStyle(!0),this.gridsterItem=this.gridster=this.collision=null,this.mousedown&&(this.mousedown(),this.touchstart())}dragStart(t){t.which&&t.which!==1||(this.gridster.options.draggable&&this.gridster.options.draggable.start&&this.gridster.options.draggable.start(this.gridsterItem.item,this.gridsterItem,t),t.stopPropagation(),t.preventDefault(),this.zone.runOutsideAngular(()=>{this.mousemove=this.gridsterItem.renderer.listen("document","mousemove",this.dragMove),this.touchmove=this.gridster.renderer.listen(this.gridster.el,"touchmove",this.dragMove)}),this.mouseup=this.gridsterItem.renderer.listen("document","mouseup",this.dragStop),this.mouseleave=this.gridsterItem.renderer.listen("document","mouseleave",this.dragStop),this.cancelOnBlur=this.gridsterItem.renderer.listen("window","blur",this.dragStop),this.touchend=this.gridsterItem.renderer.listen("document","touchend",this.dragStop),this.touchcancel=this.gridsterItem.renderer.listen("document","touchcancel",this.dragStop),this.gridsterItem.renderer.addClass(this.gridsterItem.el,"gridster-item-moving"),this.margin=this.gridster.$options.margin,this.outerMarginTop=this.gridster.$options.outerMarginTop,this.outerMarginRight=this.gridster.$options.outerMarginRight,this.outerMarginBottom=this.gridster.$options.outerMarginBottom,this.outerMarginLeft=this.gridster.$options.outerMarginLeft,this.offsetLeft=this.gridster.el.scrollLeft-this.gridster.el.offsetLeft,this.offsetTop=this.gridster.el.scrollTop-this.gridster.el.offsetTop,this.left=this.gridsterItem.left-this.margin,this.top=this.gridsterItem.top-this.margin,this.originalClientX=t.clientX,this.originalClientY=t.clientY,this.width=this.gridsterItem.width,this.height=this.gridsterItem.height,this.gridster.$options.dirType===gs.RTL?this.diffLeft=t.clientX-this.gridster.el.scrollWidth+this.gridsterItem.left:this.diffLeft=t.clientX+this.offsetLeft-this.margin-this.left,this.diffTop=t.clientY+this.offsetTop-this.margin-this.top,this.gridster.movingItem=this.gridsterItem.$item,this.gridster.previewStyle(!0),this.push=new bM(this.gridsterItem),this.swap=new f5(this.gridsterItem),this.gridster.dragInProgress=!0,this.gridster.updateGrid(),this.path.push({x:this.gridsterItem.item.x||0,y:this.gridsterItem.item.y||0}))}calculateItemPositionWithScale(t,e){this.gridster.$options.dirType===gs.RTL?this.left=this.gridster.el.scrollWidth-this.originalClientX+(t.clientX-this.originalClientX)/e+this.diffLeft:this.left=this.originalClientX+(t.clientX-this.originalClientX)/e+this.offsetLeft-this.diffLeft,this.top=this.originalClientY+(t.clientY-this.originalClientY)/e+this.offsetTop-this.diffTop}calculateItemPositionWithoutScale(t){this.gridster.$options.dirType===gs.RTL?this.left=this.gridster.el.scrollWidth-t.clientX+this.diffLeft:this.left=t.clientX+this.offsetLeft-this.diffLeft,this.top=t.clientY+this.offsetTop-this.diffTop}calculateItemPosition(){if(this.gridster.movingItem=this.gridsterItem.$item,this.positionX=this.gridster.pixelsToPositionX(this.left,Math.round),this.positionY=this.gridster.pixelsToPositionY(this.top,Math.round),this.positionXBackup=this.gridsterItem.$item.x,this.positionYBackup=this.gridsterItem.$item.y,this.gridsterItem.$item.x=this.positionX,this.gridster.checkGridCollision(this.gridsterItem.$item)&&(this.gridsterItem.$item.x=this.positionXBackup),this.gridsterItem.$item.y=this.positionY,this.gridster.checkGridCollision(this.gridsterItem.$item)&&(this.gridsterItem.$item.y=this.positionYBackup),this.gridster.gridRenderer.setCellPosition(this.gridsterItem.renderer,this.gridsterItem.el,this.left,this.top),this.positionXBackup!==this.gridsterItem.$item.x||this.positionYBackup!==this.gridsterItem.$item.y){let t=this.path[this.path.length-1],e="";t.x<this.gridsterItem.$item.x?e=this.push.fromWest:t.x>this.gridsterItem.$item.x?e=this.push.fromEast:t.y<this.gridsterItem.$item.y?e=this.push.fromNorth:t.y>this.gridsterItem.$item.y&&(e=this.push.fromSouth),this.push.pushItems(e,this.gridster.$options.disablePushOnDrag),this.swap.swapItems(),this.collision=this.gridster.checkCollision(this.gridsterItem.$item),this.collision?(this.gridsterItem.$item.x=this.positionXBackup,this.gridsterItem.$item.y=this.positionYBackup,this.gridster.$options.draggable.dropOverItems&&this.collision!==!0&&this.collision.$item&&(this.gridster.movingItem=null)):this.path.push({x:this.gridsterItem.$item.x,y:this.gridsterItem.$item.y}),this.push.checkPushBack()}else this.collision=!1;this.gridster.previewStyle(!0)}toggle(){let t=this.gridsterItem.canBeDragged();!this.enabled&&t?(this.enabled=!this.enabled,this.mousedown=this.gridsterItem.renderer.listen(this.gridsterItem.el,"mousedown",this.dragStartDelay),this.touchstart=this.gridsterItem.renderer.listen(this.gridsterItem.el,"touchstart",this.dragStartDelay)):this.enabled&&!t&&(this.enabled=!this.enabled,this.mousedown(),this.touchstart())}getDirections(t){let e=[];return this.lastMouse.clientX===0&&this.lastMouse.clientY===0&&(this.lastMouse.clientY=t.clientY,this.lastMouse.clientX=t.clientX),this.lastMouse.clientY>t.clientY&&e.push(bl.UP),this.lastMouse.clientY<t.clientY&&e.push(bl.DOWN),this.lastMouse.clientX<t.clientX&&e.push(bl.RIGHT),this.lastMouse.clientX>t.clientX&&e.push(bl.LEFT),e}},m5=class{constructor(t){this.pushedItems=[],this.pushedItemsPath=[],this.gridsterItem=t,this.gridster=t.gridster,this.tryPattern={fromEast:this.tryWest,fromWest:this.tryEast,fromNorth:this.trySouth,fromSouth:this.tryNorth},this.fromSouth="fromSouth",this.fromNorth="fromNorth",this.fromEast="fromEast",this.fromWest="fromWest"}destroy(){this.gridster=this.gridsterItem=null}pushItems(t){return this.gridster.$options.pushResizeItems?this.push(this.gridsterItem,t):!1}restoreItems(){let t=0,e=this.pushedItems.length,n;for(;t<e;t++)n=this.pushedItems[t],n.$item.x=n.item.x||0,n.$item.y=n.item.y||0,n.$item.cols=n.item.cols||1,n.$item.row=n.item.row||1,n.setSize();this.pushedItems=[],this.pushedItemsPath=[]}setPushedItems(){let t=0,e=this.pushedItems.length,n;for(;t<e;t++)n=this.pushedItems[t],n.checkItemChanges(n.$item,n.item);this.pushedItems=[],this.pushedItemsPath=[]}checkPushBack(){let t=this.pushedItems.length-1,e=!1;for(;t>-1;t--)this.checkPushedItem(this.pushedItems[t],t)&&(e=!0);e&&this.checkPushBack()}push(t,e){let n=this.gridster.checkCollision(t.$item);if(n&&n!==!0&&n!==this.gridsterItem&&n.canBeResized()){if(this.tryPattern[e].call(this,n,t,e))return!0}else if(n===!1)return!0;return!1}trySouth(t,e,n){let i=t.$item.y,o=t.$item.rows;return t.$item.y=e.$item.y+e.$item.rows,t.$item.rows=o+i-t.$item.y,!this.gridster.checkCollisionTwoItems(t.$item,e.$item)&&!this.gridster.checkGridCollision(t.$item)?(t.setSize(),this.addToPushed(t),this.push(e,n),!0):(t.$item.y=i,t.$item.rows=o,!1)}tryNorth(t,e,n){let i=t.$item.rows;return t.$item.rows=e.$item.y-t.$item.y,!this.gridster.checkCollisionTwoItems(t.$item,e.$item)&&!this.gridster.checkGridCollision(t.$item)?(t.setSize(),this.addToPushed(t),this.push(e,n),!0):(t.$item.rows=i,!1)}tryEast(t,e,n){let i=t.$item.x,o=t.$item.cols;return t.$item.x=e.$item.x+e.$item.cols,t.$item.cols=o+i-t.$item.x,!this.gridster.checkCollisionTwoItems(t.$item,e.$item)&&!this.gridster.checkGridCollision(t.$item)?(t.setSize(),this.addToPushed(t),this.push(e,n),!0):(t.$item.x=i,t.$item.cols=o,!1)}tryWest(t,e,n){let i=t.$item.cols;return t.$item.cols=e.$item.x-t.$item.x,!this.gridster.checkCollisionTwoItems(t.$item,e.$item)&&!this.gridster.checkGridCollision(t.$item)?(t.setSize(),this.addToPushed(t),this.push(e,n),!0):(t.$item.cols=i,!1)}addToPushed(t){if(this.pushedItems.indexOf(t)<0)this.pushedItems.push(t),this.pushedItemsPath.push([{x:t.item.x||0,y:t.item.y||0,cols:t.item.cols||0,rows:t.item.rows||0},{x:t.$item.x,y:t.$item.y,cols:t.$item.cols,rows:t.$item.rows}]);else{let e=this.pushedItems.indexOf(t);this.pushedItemsPath[e].push({x:t.$item.x,y:t.$item.y,cols:t.$item.cols,rows:t.$item.rows})}}removeFromPushed(t){t>-1&&(this.pushedItems.splice(t,1),this.pushedItemsPath.splice(t,1))}checkPushedItem(t,e){let n=this.pushedItemsPath[e],i=n.length-2,o,s,a,l,c;for(;i>-1;i--)o=n[i],s=t.$item.x,a=t.$item.y,l=t.$item.cols,c=t.$item.rows,t.$item.x=o.x,t.$item.y=o.y,t.$item.cols=o.cols,t.$item.rows=o.rows,this.gridster.findItemWithItem(t.$item)?(t.$item.x=s,t.$item.y=a,t.$item.cols=l,t.$item.rows=c):(t.setSize(),n.splice(i+1,n.length-1-i));return n.length<2?(this.removeFromPushed(e),!0):!1}},p5=class{constructor(t,e,n){this.zone=n,this.directionFunction=null,this.dragMove=i=>{if(this.directionFunction===null)throw new Error("The `directionFunction` has not been set before calling `dragMove`.");i.stopPropagation(),i.preventDefault(),Ws.checkTouchEvent(i),this.offsetTop=this.gridster.el.scrollTop-this.gridster.el.offsetTop,this.offsetLeft=this.gridster.el.scrollLeft-this.gridster.el.offsetLeft,_ue(this.gridster,this.left,this.top,this.width,this.height,i,this.lastMouse,this.directionFunction,!0,this.resizeEventScrollType);let o=this.gridster.options.scale||1;this.directionFunction({clientX:this.originalClientX+(i.clientX-this.originalClientX)/o,clientY:this.originalClientY+(i.clientY-this.originalClientY)/o}),this.lastMouse.clientX=i.clientX,this.lastMouse.clientY=i.clientY,this.zone.run(()=>{this.gridster.updateGrid()})},this.dragStop=i=>{i.stopPropagation(),i.preventDefault(),xue(),this.mousemove(),this.mouseup(),this.mouseleave(),this.cancelOnBlur(),this.touchmove(),this.touchend(),this.touchcancel(),this.gridster.dragInProgress=!1,this.gridster.updateGrid(),this.gridster.options.resizable&&this.gridster.options.resizable.stop?Promise.resolve(this.gridster.options.resizable.stop(this.gridsterItem.item,this.gridsterItem,i)).then(this.makeResize,this.cancelResize):this.makeResize(),setTimeout(()=>{this.gridsterItem.renderer.removeClass(this.gridsterItem.el,"gridster-item-resizing"),this.gridster&&(this.gridster.movingItem=null,this.gridster.previewStyle())})},this.cancelResize=()=>{this.gridsterItem.$item.cols=this.gridsterItem.item.cols||1,this.gridsterItem.$item.rows=this.gridsterItem.item.rows||1,this.gridsterItem.$item.x=this.gridsterItem.item.x||0,this.gridsterItem.$item.y=this.gridsterItem.item.y||0,this.gridsterItem.setSize(),this.push.restoreItems(),this.pushResize.restoreItems(),this.push.destroy(),this.push=null,this.pushResize.destroy(),this.pushResize=null},this.makeResize=()=>{this.gridsterItem.setSize(),this.gridsterItem.checkItemChanges(this.gridsterItem.$item,this.gridsterItem.item),this.push.setPushedItems(),this.pushResize.setPushedItems(),this.push.destroy(),this.push=null,this.pushResize.destroy(),this.pushResize=null},this.handleNorth=i=>{this.top=i.clientY+this.offsetTop-this.diffTop,this.height=this.bottom-this.top,this.minHeight>this.height?(this.height=this.minHeight,this.top=this.bottom-this.minHeight):this.gridster.options.enableBoundaryControl&&(this.top=Math.max(0,this.top),this.height=this.bottom-this.top);let o=this.gridster.options.pushItems?this.margin:0;if(this.newPosition=this.gridster.pixelsToPositionY(this.top+o,Math.floor),this.gridsterItem.$item.y!==this.newPosition){if(this.itemBackup[1]=this.gridsterItem.$item.y,this.itemBackup[3]=this.gridsterItem.$item.rows,this.gridsterItem.$item.rows+=this.gridsterItem.$item.y-this.newPosition,this.gridsterItem.$item.y=this.newPosition,this.pushResize.pushItems(this.pushResize.fromSouth),this.push.pushItems(this.push.fromSouth,this.gridster.$options.disablePushOnResize),this.gridster.checkCollision(this.gridsterItem.$item)){this.gridsterItem.$item.y=this.itemBackup[1],this.gridsterItem.$item.rows=this.itemBackup[3],this.top=this.gridster.positionYToPixels(this.gridsterItem.$item.y),this.setItemTop(this.gridster.positionYToPixels(this.gridsterItem.$item.y)),this.setItemHeight(this.gridster.positionYToPixels(this.gridsterItem.$item.rows)-this.margin);return}else this.gridster.previewStyle();this.pushResize.checkPushBack(),this.push.checkPushBack()}this.setItemTop(this.top),this.setItemHeight(this.height)},this.handleWest=i=>{let o=this.gridster.$options.dirType===gs.RTL?this.originalClientX+(this.originalClientX-i.clientX):i.clientX;this.left=o+this.offsetLeft-this.diffLeft,this.width=this.right-this.left,this.minWidth>this.width?(this.width=this.minWidth,this.left=this.right-this.minWidth):this.gridster.options.enableBoundaryControl&&(this.left=Math.max(0,this.left),this.width=this.right-this.left);let s=this.gridster.options.pushItems?this.margin:0;if(this.newPosition=this.gridster.pixelsToPositionX(this.left+s,Math.floor),this.gridsterItem.$item.x!==this.newPosition){if(this.itemBackup[0]=this.gridsterItem.$item.x,this.itemBackup[2]=this.gridsterItem.$item.cols,this.gridsterItem.$item.cols+=this.gridsterItem.$item.x-this.newPosition,this.gridsterItem.$item.x=this.newPosition,this.pushResize.pushItems(this.pushResize.fromEast),this.push.pushItems(this.push.fromEast,this.gridster.$options.disablePushOnResize),this.gridster.checkCollision(this.gridsterItem.$item)){this.gridsterItem.$item.x=this.itemBackup[0],this.gridsterItem.$item.cols=this.itemBackup[2],this.left=this.gridster.positionXToPixels(this.gridsterItem.$item.x),this.setItemLeft(this.gridster.positionXToPixels(this.gridsterItem.$item.x)),this.setItemWidth(this.gridster.positionXToPixels(this.gridsterItem.$item.cols)-this.margin);return}else this.gridster.previewStyle();this.pushResize.checkPushBack(),this.push.checkPushBack()}this.setItemLeft(this.left),this.setItemWidth(this.width)},this.handleSouth=i=>{if(this.height=i.clientY+this.offsetTop-this.diffBottom-this.top,this.minHeight>this.height&&(this.height=this.minHeight),this.bottom=this.top+this.height,this.gridster.options.enableBoundaryControl){let s=this.outerMarginBottom??this.margin,a=this.gridster.el.getBoundingClientRect();this.bottom=Math.min(this.bottom,a.bottom-a.top-2*s),this.height=this.bottom-this.top}let o=this.gridster.options.pushItems?0:this.margin;if(this.newPosition=this.gridster.pixelsToPositionY(this.bottom+o,Math.ceil),this.gridsterItem.$item.y+this.gridsterItem.$item.rows!==this.newPosition){if(this.itemBackup[3]=this.gridsterItem.$item.rows,this.gridsterItem.$item.rows=this.newPosition-this.gridsterItem.$item.y,this.pushResize.pushItems(this.pushResize.fromNorth),this.push.pushItems(this.push.fromNorth,this.gridster.$options.disablePushOnResize),this.gridster.checkCollision(this.gridsterItem.$item)){this.gridsterItem.$item.rows=this.itemBackup[3],this.setItemHeight(this.gridster.positionYToPixels(this.gridsterItem.$item.rows)-this.margin);return}else this.gridster.previewStyle();this.pushResize.checkPushBack(),this.push.checkPushBack()}this.setItemHeight(this.height)},this.handleEast=i=>{let o=this.gridster.$options.dirType===gs.RTL?this.originalClientX+(this.originalClientX-i.clientX):i.clientX;if(this.width=o+this.offsetLeft-this.diffRight-this.left,this.minWidth>this.width&&(this.width=this.minWidth),this.right=this.left+this.width,this.gridster.options.enableBoundaryControl){let a=this.outerMarginRight??this.margin,l=this.gridster.el.getBoundingClientRect();this.right=Math.min(this.right,l.right-l.left-2*a),this.width=this.right-this.left}let s=this.gridster.options.pushItems?0:this.margin;if(this.newPosition=this.gridster.pixelsToPositionX(this.right+s,Math.ceil),this.gridsterItem.$item.x+this.gridsterItem.$item.cols!==this.newPosition){if(this.itemBackup[2]=this.gridsterItem.$item.cols,this.gridsterItem.$item.cols=this.newPosition-this.gridsterItem.$item.x,this.pushResize.pushItems(this.pushResize.fromWest),this.push.pushItems(this.push.fromWest,this.gridster.$options.disablePushOnResize),this.gridster.checkCollision(this.gridsterItem.$item)){this.gridsterItem.$item.cols=this.itemBackup[2],this.setItemWidth(this.gridster.positionXToPixels(this.gridsterItem.$item.cols)-this.margin);return}else this.gridster.previewStyle();this.pushResize.checkPushBack(),this.push.checkPushBack()}this.setItemWidth(this.width)},this.handleNorthWest=i=>{this.handleNorth(i),this.handleWest(i)},this.handleNorthEast=i=>{this.handleNorth(i),this.handleEast(i)},this.handleSouthWest=i=>{this.handleSouth(i),this.handleWest(i)},this.handleSouthEast=i=>{this.handleSouth(i),this.handleEast(i)},this.gridsterItem=t,this.gridster=e,this.lastMouse={clientX:0,clientY:0},this.itemBackup=[0,0,0,0],this.resizeEventScrollType={west:!1,east:!1,north:!1,south:!1}}destroy(){this.gridster?.previewStyle(),this.gridster=this.gridsterItem=null}dragStart(t){if(t.which&&t.which!==1)return;this.gridster.options.resizable&&this.gridster.options.resizable.start&&this.gridster.options.resizable.start(this.gridsterItem.item,this.gridsterItem,t),t.stopPropagation(),t.preventDefault(),this.zone.runOutsideAngular(()=>{this.mousemove=this.gridsterItem.renderer.listen("document","mousemove",this.dragMove),this.touchmove=this.gridster.renderer.listen(this.gridster.el,"touchmove",this.dragMove)}),this.mouseup=this.gridsterItem.renderer.listen("document","mouseup",this.dragStop),this.mouseleave=this.gridsterItem.renderer.listen("document","mouseleave",this.dragStop),this.cancelOnBlur=this.gridsterItem.renderer.listen("window","blur",this.dragStop),this.touchend=this.gridsterItem.renderer.listen("document","touchend",this.dragStop),this.touchcancel=this.gridsterItem.renderer.listen("document","touchcancel",this.dragStop),this.gridsterItem.renderer.addClass(this.gridsterItem.el,"gridster-item-resizing"),this.lastMouse.clientX=t.clientX,this.lastMouse.clientY=t.clientY,this.left=this.gridsterItem.left,this.top=this.gridsterItem.top,this.originalClientX=t.clientX,this.originalClientY=t.clientY,this.width=this.gridsterItem.width,this.height=this.gridsterItem.height,this.bottom=this.gridsterItem.top+this.gridsterItem.height,this.right=this.gridsterItem.left+this.gridsterItem.width,this.margin=this.gridster.$options.margin,this.outerMarginTop=this.gridster.$options.outerMarginTop,this.outerMarginRight=this.gridster.$options.outerMarginRight,this.outerMarginBottom=this.gridster.$options.outerMarginBottom,this.outerMarginLeft=this.gridster.$options.outerMarginLeft,this.offsetLeft=this.gridster.el.scrollLeft-this.gridster.el.offsetLeft,this.offsetTop=this.gridster.el.scrollTop-this.gridster.el.offsetTop,this.diffLeft=t.clientX+this.offsetLeft-this.left,this.diffRight=t.clientX+this.offsetLeft-this.right,this.diffTop=t.clientY+this.offsetTop-this.top,this.diffBottom=t.clientY+this.offsetTop-this.bottom,this.minHeight=this.gridster.positionYToPixels(this.gridsterItem.$item.minItemRows||this.gridster.$options.minItemRows)-this.margin,this.minWidth=this.gridster.positionXToPixels(this.gridsterItem.$item.minItemCols||this.gridster.$options.minItemCols)-this.margin,this.gridster.movingItem=this.gridsterItem.$item,this.gridster.previewStyle(),this.push=new bM(this.gridsterItem),this.pushResize=new m5(this.gridsterItem),this.gridster.dragInProgress=!0,this.gridster.updateGrid();let{classList:e}=t.target;e.contains("handle-n")?(this.resizeEventScrollType.north=!0,this.directionFunction=this.handleNorth):e.contains("handle-w")?this.gridster.$options.dirType===gs.RTL?(this.resizeEventScrollType.east=!0,this.directionFunction=this.handleEast):(this.resizeEventScrollType.west=!0,this.directionFunction=this.handleWest):e.contains("handle-s")?(this.resizeEventScrollType.south=!0,this.directionFunction=this.handleSouth):e.contains("handle-e")?this.gridster.$options.dirType===gs.RTL?(this.resizeEventScrollType.west=!0,this.directionFunction=this.handleWest):(this.resizeEventScrollType.east=!0,this.directionFunction=this.handleEast):e.contains("handle-nw")?this.gridster.$options.dirType===gs.RTL?(this.resizeEventScrollType.north=!0,this.resizeEventScrollType.east=!0,this.directionFunction=this.handleNorthEast):(this.resizeEventScrollType.north=!0,this.resizeEventScrollType.west=!0,this.directionFunction=this.handleNorthWest):e.contains("handle-ne")?this.gridster.$options.dirType===gs.RTL?(this.resizeEventScrollType.north=!0,this.resizeEventScrollType.west=!0,this.directionFunction=this.handleNorthWest):(this.resizeEventScrollType.north=!0,this.resizeEventScrollType.east=!0,this.directionFunction=this.handleNorthEast):e.contains("handle-sw")?this.gridster.$options.dirType===gs.RTL?(this.resizeEventScrollType.south=!0,this.resizeEventScrollType.east=!0,this.directionFunction=this.handleSouthEast):(this.resizeEventScrollType.south=!0,this.resizeEventScrollType.west=!0,this.directionFunction=this.handleSouthWest):e.contains("handle-se")&&(this.gridster.$options.dirType===gs.RTL?(this.resizeEventScrollType.south=!0,this.resizeEventScrollType.west=!0,this.directionFunction=this.handleSouthWest):(this.resizeEventScrollType.south=!0,this.resizeEventScrollType.east=!0,this.directionFunction=this.handleSouthEast))}toggle(){this.resizeEnabled=this.gridsterItem.canBeResized(),this.resizableHandles=this.gridsterItem.getResizableHandles()}dragStartDelay(t){if(Ws.checkTouchEvent(t),!this.gridster.$options.resizable.delayStart){this.dragStart(t);return}let e=setTimeout(()=>{this.dragStart(t),d()},this.gridster.$options.resizable.delayStart),{cancelMouse:n,cancelMouseLeave:i,cancelOnBlur:o,cancelTouchMove:s,cancelTouchEnd:a,cancelTouchCancel:l}=this.zone.runOutsideAngular(()=>{let f=this.gridsterItem.renderer.listen("document","mouseup",d),m=this.gridsterItem.renderer.listen("document","mouseleave",d),p=this.gridsterItem.renderer.listen("window","blur",d),b=this.gridsterItem.renderer.listen("document","touchmove",c),y=this.gridsterItem.renderer.listen("document","touchend",d),C=this.gridsterItem.renderer.listen("document","touchcancel",d);return{cancelMouse:f,cancelMouseLeave:m,cancelOnBlur:p,cancelTouchMove:b,cancelTouchEnd:y,cancelTouchCancel:C}});function c(f){Ws.checkTouchEvent(f),(Math.abs(f.clientX-t.clientX)>9||Math.abs(f.clientY-t.clientY)>9)&&d()}function d(){clearTimeout(e),o(),n(),i(),s(),a(),l()}}setItemTop(t){this.gridster.gridRenderer.setCellPosition(this.gridsterItem.renderer,this.gridsterItem.el,this.left,t)}setItemLeft(t){this.gridster.gridRenderer.setCellPosition(this.gridsterItem.renderer,this.gridsterItem.el,t,this.top)}setItemHeight(t){this.gridsterItem.renderer.setStyle(this.gridsterItem.el,"height",t+"px")}setItemWidth(t){this.gridsterItem.renderer.setStyle(this.gridsterItem.el,"width",t+"px")}},Eue=(()=>{class r{get zIndex(){return this.getLayerIndex()+this.gridster.$options.baseLayerIndex}constructor(e,n,i,o){this.renderer=i,this.zone=o,this.itemInit=new ct,this.itemChange=new ct,this.itemResize=new ct,this.el=e.nativeElement,this.$item={cols:-1,rows:-1,x:-1,y:-1},this.gridster=n,this.drag=new h5(this,n,this.zone),this.resize=new p5(this,n,this.zone)}ngOnInit(){this.gridster.addItem(this)}ngOnChanges(e){e.item&&(this.updateOptions(),this.init||this.gridster.calculateLayout$.next()),e.item&&e.item.previousValue&&this.setSize()}updateOptions(){this.$item=Ws.merge(this.$item,this.item,{cols:void 0,rows:void 0,x:void 0,y:void 0,layerIndex:void 0,dragEnabled:void 0,resizeEnabled:void 0,compactEnabled:void 0,maxItemRows:void 0,minItemRows:void 0,maxItemCols:void 0,minItemCols:void 0,maxItemArea:void 0,minItemArea:void 0,resizableHandles:{s:void 0,e:void 0,n:void 0,w:void 0,se:void 0,ne:void 0,sw:void 0,nw:void 0}})}ngOnDestroy(){this.gridster.removeItem(this),this.drag.destroy(),this.resize.destroy(),this.gridster=this.drag=this.resize=null}setSize(){this.renderer.setStyle(this.el,"display",this.notPlaced?"":"block"),this.gridster.gridRenderer.updateItem(this.el,this.$item,this.renderer),this.updateItemSize()}updateItemSize(){let e=this.$item.y*this.gridster.curRowHeight,n=this.$item.x*this.gridster.curColWidth,i=this.$item.cols*this.gridster.curColWidth-this.gridster.$options.margin,o=this.$item.rows*this.gridster.curRowHeight-this.gridster.$options.margin;this.top=e,this.left=n,!this.init&&i>0&&o>0&&(this.init=!0,this.item.initCallback&&this.item.initCallback(this.item,this),this.gridster.options.itemInitCallback&&this.gridster.options.itemInitCallback(this.item,this),this.itemInit.next({item:this.item,itemComponent:this}),this.gridster.$options.scrollToNewItems&&this.el.scrollIntoView(!1)),(i!==this.width||o!==this.height)&&(this.width=i,this.height=o,this.gridster.options.itemResizeCallback&&this.gridster.options.itemResizeCallback(this.item,this),this.itemResize.next({item:this.item,itemComponent:this}))}itemChanged(){this.gridster.options.itemChangeCallback&&this.gridster.options.itemChangeCallback(this.item,this),this.itemChange.next({item:this.item,itemComponent:this})}checkItemChanges(e,n){e.rows===n.rows&&e.cols===n.cols&&e.x===n.x&&e.y===n.y||(this.gridster.checkCollision(this.$item)?(this.$item.x=n.x||0,this.$item.y=n.y||0,this.$item.cols=n.cols||1,this.$item.rows=n.rows||1,this.setSize()):(this.item.cols=this.$item.cols,this.item.rows=this.$item.rows,this.item.x=this.$item.x,this.item.y=this.$item.y,this.gridster.calculateLayout$.next(),this.itemChanged()))}canBeDragged(){let e=this.gridster.$options.draggable.enabled,n=this.$item.dragEnabled===void 0?e:this.$item.dragEnabled;return!this.gridster.mobile&&e&&n}canBeResized(){let e=this.gridster.$options.resizable.enabled,n=this.$item.resizeEnabled===void 0?e:this.$item.resizeEnabled;return!this.gridster.mobile&&e&&n}getResizableHandles(){let e=this.gridster.$options.resizable.handles,n=this.$item.resizableHandles;return n===void 0?e:Ue(Ue({},e),n)}bringToFront(e){if(e&&e<=0)return;let n=this.getLayerIndex(),i=this.gridster.$options.maxLayerIndex;if(n<i){let o=e?n+e:i;this.item.layerIndex=this.$item.layerIndex=o>i?i:o}}sendToBack(e){if(e&&e<=0)return;let n=this.getLayerIndex();if(n>0){let i=e?n-e:0;this.item.layerIndex=this.$item.layerIndex=i<0?0:i}}getLayerIndex(){return this.item.layerIndex!==void 0?this.item.layerIndex:this.gridster.$options.defaultLayerIndex!==void 0?this.gridster.$options.defaultLayerIndex:0}static{this.\u0275fac=function(n){return new(n||r)(ze(ut),ze(l0),ze(gi),ze(xt))}}static{this.\u0275cmp=Be({type:r,selectors:[["gridster-item"]],hostVars:2,hostBindings:function(n,i){n&2&&hn("z-index",i.zIndex)},inputs:{item:"item"},outputs:{itemInit:"itemInit",itemChange:"itemChange",itemResize:"itemResize"},features:[cr],ngContentSelectors:vue,decls:9,vars:8,consts:[[1,"gridster-item-resizable-handler","handle-s"],[1,"gridster-item-resizable-handler","handle-e"],[1,"gridster-item-resizable-handler","handle-n"],[1,"gridster-item-resizable-handler","handle-w"],[1,"gridster-item-resizable-handler","handle-se"],[1,"gridster-item-resizable-handler","handle-ne"],[1,"gridster-item-resizable-handler","handle-sw"],[1,"gridster-item-resizable-handler","handle-nw"],[1,"gridster-item-resizable-handler","handle-s",3,"mousedown","touchstart"],[1,"gridster-item-resizable-handler","handle-e",3,"mousedown","touchstart"],[1,"gridster-item-resizable-handler","handle-n",3,"mousedown","touchstart"],[1,"gridster-item-resizable-handler","handle-w",3,"mousedown","touchstart"],[1,"gridster-item-resizable-handler","handle-se",3,"mousedown","touchstart"],[1,"gridster-item-resizable-handler","handle-ne",3,"mousedown","touchstart"],[1,"gridster-item-resizable-handler","handle-sw",3,"mousedown","touchstart"],[1,"gridster-item-resizable-handler","handle-nw",3,"mousedown","touchstart"]],template:function(n,i){n&1&&(un(),hr(0),Oe(1,wze,1,0,"div",0)(2,Cze,1,0,"div",1)(3,Sze,1,0,"div",2)(4,Dze,1,0,"div",3)(5,Eze,1,0,"div",4)(6,Mze,1,0,"div",5)(7,Aze,1,0,"div",6)(8,Tze,1,0,"div",7)),n&2&&(K(),Pe(i.resize.resizableHandles!=null&&i.resize.resizableHandles.s&&i.resize.resizeEnabled?1:-1),K(),Pe(i.resize.resizableHandles!=null&&i.resize.resizableHandles.e&&i.resize.resizeEnabled?2:-1),K(),Pe(i.resize.resizableHandles!=null&&i.resize.resizableHandles.n&&i.resize.resizeEnabled?3:-1),K(),Pe(i.resize.resizableHandles!=null&&i.resize.resizableHandles.w&&i.resize.resizeEnabled?4:-1),K(),Pe(i.resize.resizableHandles!=null&&i.resize.resizableHandles.se&&i.resize.resizeEnabled?5:-1),K(),Pe(i.resize.resizableHandles!=null&&i.resize.resizableHandles.ne&&i.resize.resizeEnabled?6:-1),K(),Pe(i.resize.resizableHandles!=null&&i.resize.resizableHandles.sw&&i.resize.resizeEnabled?7:-1),K(),Pe(i.resize.resizableHandles!=null&&i.resize.resizableHandles.nw&&i.resize.resizeEnabled?8:-1))},styles:[`gridster-item{box-sizing:border-box;z-index:1;position:absolute;overflow:hidden;transition:.3s;display:none;background:#fff;-webkit-user-select:text;user-select:text}gridster-item.gridster-item-moving{cursor:move}gridster-item.gridster-item-resizing,gridster-item.gridster-item-moving{transition:0s;z-index:2;box-shadow:0 0 5px 5px #0003,0 6px 10px #00000024,0 1px 18px #0000001f}.gridster-item-resizable-handler{position:absolute;z-index:2}.gridster-item-resizable-handler.handle-n{cursor:ns-resize;height:10px;right:0;top:0;left:0}.gridster-item-resizable-handler.handle-e{cursor:ew-resize;width:10px;bottom:0;right:0;top:0}.gridster-item-resizable-handler.handle-s{cursor:ns-resize;height:10px;right:0;bottom:0;left:0}.gridster-item-resizable-handler.handle-w{cursor:ew-resize;width:10px;left:0;top:0;bottom:0}.gridster-item-resizable-handler.handle-ne{cursor:ne-resize;width:10px;height:10px;right:0;top:0}.gridster-item-resizable-handler.handle-nw{cursor:nw-resize;width:10px;height:10px;left:0;top:0}.gridster-item-resizable-handler.handle-se{cursor:se-resize;width:0;height:0;right:0;bottom:0;border-style:solid;border-width:0 0 10px 10px;border-color:transparent}.gridster-item-resizable-handler.handle-sw{cursor:sw-resize;width:10px;height:10px;left:0;bottom:0}gridster-item:hover .gridster-item-resizable-handler.handle-se{border-color:transparent transparent #ccc}
`],encapsulation:2})}}return r})();var Mue=(()=>{class r{static{this.\u0275fac=function(n){return new(n||r)}}static{this.\u0275mod=Nt({type:r})}static{this.\u0275inj=kt({})}}return r})();var yl=class r{constructor(t){this.id=0,this.settings=new yM,this.default=!1,this.widgets=[],Object.assign(this,t),r.ensureDashboardSettings(this)}getCommands(){return this.widgets?.length?this._getCommands(this.widgets):[]}_getCommands(t){if(!t)return[];let e=[];if(t&&typeof t=="object"){if("providerCode"in t)return e.push(t),e;Object.values(t).forEach(n=>{n&&typeof n=="object"&&e.push(...this._getCommands(n))})}return e}hasCode(t){return this.settings?.code?.toLocaleLowerCase()==t?.toLocaleLowerCase()}static ensureDashboardSettings(t){t.settings=new yM(t.settings),t.widgets||=[]}},yM=class r{constructor(t){this.title="",this.code="",this.titleFont=new $o,this.thumbnail=new _M,Object.assign(this,t),r.ensureSettings(this)}static ensureSettings(t){t.titleFont=Mr.LabelFont(),t.columns=t.columns??12,t.rowsHeight=t.rowsHeight??50,t.thumbnail=t.thumbnail??new _M,t.thumbnail.titleFont=t.thumbnail.titleFont??new $o}},_M=class{constructor(){this.titleFont=new $o}};function c0(r){r||(Sg(c0),r=V(Il));let t=new Jt(e=>r.onDestroy(e.next.bind(e)));return e=>e.pipe(Vt(t))}var Aue=(()=>{class r{static{this.PINNED_KEY="jee-panel-sidenav"}constructor(){this.hasBackdrop=!0,this.pinned=!1,this._onPinned=new ss(1)}configure(e,n){this._sidenav=e,this._drawerContainer=n;let i=Es(localStorage.getItem(r.PINNED_KEY+"-pinned"));i&&(this.pinned=i,this._sidenav.open().then(()=>{this._setAlwaysOpened(),setTimeout(()=>{this._onPinned.next(this.pinned)})}))}animationEnd(){return this._sidenav?._animationEnd}onPinned(){return this._onPinned.asObservable()}togglePin(){this._sidenav&&(this.pinned?this._setFloated():this._setAlwaysOpened(),this.pinned=!this.pinned,localStorage.setItem(r.PINNED_KEY+"-pinned",this.pinned.toString()),setTimeout(()=>{this._onPinned.next(this.pinned)}))}_setAlwaysOpened(){this._sidenav.mode="side",this._sidenav.disableClose=!0,this.hasBackdrop=!1}_setFloated(){this._sidenav.mode="over",this._sidenav.disableClose=!1,this.hasBackdrop=!0}static{this.\u0275fac=function(n){return new(n||r)}}static{this.\u0275prov=Fe({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();var xM=(()=>{class r{constructor(){this.hideExtra=!1,this.editMode=vi(!1),this.pageTitleSubject=new ss(1),this.pageTitle$=this.pageTitleSubject.asObservable().pipe(nd(0)),this._pageTitle="",this.actionsSubject=new ss(1),this.actions$=this.actionsSubject.asObservable().pipe(nd(0))}set pageTitle(e){this._pageTitle=e,this.pageTitleSubject.next(e)}get pageTitle(){return this._pageTitle}set actions(e){this._actions=e,this.actionsSubject.next(e)}get actions(){return this._actions}static{this.\u0275fac=function(n){return new(n||r)}}static{this.\u0275prov=Fe({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();function Rze(r,t){if(r&1){let e=ot();W(0,"div",4),Me("mousedown",function(i){return xe(e),we(i.stopPropagation())})("touchstart",function(i){return xe(e),we(i.stopPropagation())}),$()}}function Pze(r,t){if(r&1&&(W(0,"gridster-item",3,0)(2,"div",5),Xa(3,6),$()()),r&2){let e=t.$implicit,n=Ao(1),i=ie();oe("item",e),K(3),oe("configuration",e)("isEditing",i.isEditing)("gridsterItemComponent",n)}}var rx={gridType:ln.VerticalFixed,fixedRowHeight:50,minCols:10,maxCols:10,pushItems:!0,outerMarginBottom:10,draggable:{enabled:!0},resizable:{enabled:!0}},Tue=12,b5=(()=>{class r{constructor(e,n,i,o){this.dashboardManager=e,this.route=n,this.router=i,this.pageTitleService=o,this.widgets=[],this.isEditing=!1,this.destroyRef=V(Il),this.providersService=V(En),this.dynamicFormService=V(Du),this.modalService=V(go),this.sidenavService=V(Aue),this.gridster=Ei.required(l0),this.currentGroupId=null,this.currentItem=null,this.initialPositions=[],this.options=Ue({},rx),this.options.itemResizeCallback=(s,a)=>{a["jeepanel-widget"]?.onResize()},this.options.draggable={enabled:!0,start:(s,a,l)=>this.onDragStart(s),stop:(s,a,l)=>this.onDragStop(s)},this.sidenavService.onPinned()?.pipe(c0()).subscribe(()=>{this.gridster().calculateLayout$.next(void 0)})}ngOnDestroy(){this.dashboardManager.Close()}ngOnInit(){this.route.params.subscribe(e=>{this.isEditing=Es(this.route.snapshot.queryParams.edit),this.dashboardCode=e.code,this.refreshDasboardSettings()}),this.dashboardManager.onDashboardsUpdated().pipe(c0(this.destroyRef)).subscribe(e=>{let n=e.find(i=>i.id===this.dashboard.id);if(!n){this.router.navigate(["dashboards"]);return}n?.hasCode(this.dashboardCode)||this.router.navigate(["dashboards",n?.settings.code])})}ngAfterViewInit(){}refreshDasboardSettings(){this.pageTitleService.editMode.set(this.isEditing),(this.dashboardCode?this.dashboardManager.getDashboard(this.dashboardCode):this.dashboardManager.getRootDashboard()).subscribe(n=>{this.dashboardCode=n.settings.code,this.originalDashboard=n,this.dashboard=new yl($n(this.originalDashboard)),this.initialize()})}initialize(){this.dashboardManager.dashboard=this.dashboard,this.dashboard.widgets??=[],this.widgets=this.dashboard.widgets;let e=[],n=Object.keys(dp).filter(i=>!dp[i].hide).map(i=>({text:dp[i].label,action:()=>this.addWidget(i)})).sort((i,o)=>i?.text>=o?.text?1:-1);this.isEditing?e=[{icon:"close",text:"Quitter le mode \xE9dition",action:()=>this.changeMode()},{icon:"save",text:"Enregistrer",mobilePinned:!0,action:()=>this.saveDashboard()},{icon:"settings",text:"Param\xE8tres",action:()=>this.showSettings()},{icon:"add",text:"Ajouter",actions:n}]:e=[{icon:"edit",action:()=>this.changeMode()}],this.pageTitleService.actions=e,this.pageTitleService.hideExtra=this.isEditing,this.refreshSettings(this.dashboard.settings),setTimeout(()=>{this.providersService.broadcastDashboardsEvent(this.isEditing?jd.Edit:jd.View)})}addWidget(e){let o=1,s=1,a=this.options.fixedRowHeight??rx.fixedRowHeight;a<200&&(s=200/a),this.widgets.push(new Oi({id:0,x:0,y:0,cols:o,rows:s,widgetType:e,dashboardId:this.dashboard.id}))}showSettings(){let e=new Mm("G\xE9n\xE9ral",[{name:"title",type:"text",label:"Titre",value:this.dashboard.settings.title,validators:{required:!0}},{name:"code",type:"text",label:"Code",value:this.dashboard.settings.code,validators:{required:!0}}]),n=new Mm("Dashboard",[{name:"columns",type:"number",label:"Nb colonnes",ui:{min:1,max:24},value:this.dashboard.settings.columns},{name:"rowsHeight",type:"number",label:"Hauteur des lignes",ui:{min:1,max:200},value:this.dashboard.settings.rowsHeight},{name:"oneColumnOnMobile",type:"bool",label:"Vue mobile",ui:{text:"Une seule colonne"},value:this.dashboard.settings.oneColumnOnMobile}]),i=[e,n];this.modalService.open(vM,{title:"Param\xE8tres du dashboard",dynamicForms:i}).afterClosed().subscribe(s=>{s&&(this.dynamicFormService.toModel(this.dashboard.settings,s),this.dashboardManager.saveDashboard(this.dashboard),this.refreshSettings(this.dashboard.settings))})}saveDashboard(){this.dashboardManager.saveDashboard(this.dashboard).subscribe(()=>{this.originalDashboard=new yl($n(this.dashboard))})}changeMode(){let e=()=>{this.isEditing=!this.isEditing;let n=this.isEditing?{edit:!0}:null;this.router.navigate(["."],{relativeTo:this.route,queryParams:n}),this.refreshDasboardSettings()};if(this.isEditing){JSON.stringify(this.dashboard)!==JSON.stringify(this.originalDashboard)?this.modalService.open(ph,{title:"Confirmation",message:"Attention : vos changements vont \xEAtre perdus. Voulez vous continuer ?",actions:[{text:"Non",value:!1},{text:"Oui",value:!0},{text:"Sauver et quitter",value:null}]}).afterClosed().subscribe(i=>{i?e():i===null&&this.dashboardManager.saveDashboard(this.dashboard).subscribe(()=>{e()})}):e();return}e()}refreshSettings(e){this.pageTitleService.pageTitle=e.title,this.options&&(this.options.draggable&&(this.options.draggable.enabled=this.isEditing),this.options.fixedRowHeight=e.rowsHeight??rx.fixedRowHeight,this.options.outerMarginRight=this.isEditing?30:0,this.options.resizable.enabled=this.isEditing,this.options.minCols=e.columns||Tue,this.options.maxCols=e.columns||Tue,this.options.mobileBreakpoint=e.oneColumnOnMobile?dce:0,this.options?.api?.optionsChanged&&this.options?.api?.optionsChanged())}onDragStart(e){e.groupId&&(this.initialPositions=this.widgets.filter(n=>n!=e&&n.groupId===e.groupId).map(n=>({item:n,originalX:n.x,originalY:n.y})),this.initialPositions.length&&(this.currentGroupId=e.groupId,this.currentItem={item:e,originalX:e.x,originalY:e.y},this.dragInterval=setInterval(()=>this.onDragMove(e),50)))}onDragMove(e){let n=this.gridster().movingItem;if(this.currentGroupId&&this.currentItem&&n){e.x=n.x,e.y=n.y;let i=n.x-this.currentItem.originalX,o=n.y-this.currentItem.originalY;if(console.log(i),!i&&!o)return;this.initialPositions.forEach(s=>{s.item!==e&&(s.item.x=s.originalX+i,s.item.y=s.originalY+o)}),this.options.api&&this.options.api.optionsChanged&&(this.gridster().calculateLayout$.next(void 0),this.options.api.optionsChanged())}}onDragStop(e){this.currentGroupId=null,this.currentItem=null,clearInterval(this.dragInterval)}static{this.\u0275fac=function(n){return new(n||r)(ze(bo),ze(gu),ze(Gl),ze(xM))}}static{this.\u0275cmp=Be({type:r,selectors:[["dashboards-page"]],viewQuery:function(n,i){n&1&&Ai(i.gridster,l0,5),n&2&&ai()},decls:4,vars:2,consts:[["gridsterItem",""],[3,"options"],[1,"hack-mobile-scrollbar"],[3,"item"],[1,"hack-mobile-scrollbar",3,"mousedown","touchstart"],[1,"widget"],["dynamic-widget","",3,"configuration","isEditing","gridsterItemComponent"]],template:function(n,i){n&1&&(W(0,"gridster",1),Oe(1,Rze,1,0,"div",2),ur(2,Pze,4,4,"gridster-item",3,Mi),$()),n&2&&(oe("options",i.options),K(),Pe(i.isEditing?1:-1),K(),dr(i.widgets))},dependencies:[Mue,l0,Eue,mce],styles:["@media screen and (max-width: 959px){gridster.editing[_ngcontent-%COMP%]{margin-right:25px}}.widget[_ngcontent-%COMP%]{height:100%;background-color:var(--widget-bg)}"]})}}return r})();var Lze=0,nx=class{constructor(t,e){this.from=t,this.to=e}},fn=class{constructor(t={}){this.id=Lze++,this.perNode=!!t.perNode,this.deserialize=t.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(t){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof t!="function"&&(t=$s.match(t)),e=>{let n=t(e);return n===void 0?null:[this,n]}}};fn.closedBy=new fn({deserialize:r=>r.split(" ")});fn.openedBy=new fn({deserialize:r=>r.split(" ")});fn.group=new fn({deserialize:r=>r.split(" ")});fn.isolate=new fn({deserialize:r=>{if(r&&r!="rtl"&&r!="ltr"&&r!="auto")throw new RangeError("Invalid value for isolate: "+r);return r||"auto"}});fn.contextHash=new fn({perNode:!0});fn.lookAhead=new fn({perNode:!0});fn.mounted=new fn({perNode:!0});var u0=class{constructor(t,e,n){this.tree=t,this.overlay=e,this.parser=n}static get(t){return t&&t.props&&t.props[fn.mounted.id]}},Bze=Object.create(null),$s=class r{constructor(t,e,n,i=0){this.name=t,this.props=e,this.id=n,this.flags=i}static define(t){let e=t.props&&t.props.length?Object.create(null):Bze,n=(t.top?1:0)|(t.skipped?2:0)|(t.error?4:0)|(t.name==null?8:0),i=new r(t.name||"",e,t.id,n);if(t.props){for(let o of t.props)if(Array.isArray(o)||(o=o(i)),o){if(o[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");e[o[0].id]=o[1]}}return i}prop(t){return this.props[t.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(t){if(typeof t=="string"){if(this.name==t)return!0;let e=this.prop(fn.group);return e?e.indexOf(t)>-1:!1}return this.id==t}static match(t){let e=Object.create(null);for(let n in t)for(let i of n.split(" "))e[i]=t[n];return n=>{for(let i=n.prop(fn.group),o=-1;o<(i?i.length:0);o++){let s=e[o<0?n.name:i[o]];if(s)return s}}}};$s.none=new $s("",Object.create(null),0,8);var ix=class r{constructor(t){this.types=t;for(let e=0;e<t.length;e++)if(t[e].id!=e)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...t){let e=[];for(let n of this.types){let i=null;for(let o of t){let s=o(n);s&&(i||(i=Object.assign({},n.props)),i[s[0].id]=s[1])}e.push(i?new $s(n.name,i,n.id,n.flags):n)}return new r(e)}},wM=new WeakMap,Iue=new WeakMap,Po=function(r){return r[r.ExcludeBuffers=1]="ExcludeBuffers",r[r.IncludeAnonymous=2]="IncludeAnonymous",r[r.IgnoreMounts=4]="IgnoreMounts",r[r.IgnoreOverlays=8]="IgnoreOverlays",r}(Po||{}),ao=class r{constructor(t,e,n,i,o){if(this.type=t,this.children=e,this.positions=n,this.length=i,this.props=null,o&&o.length){this.props=Object.create(null);for(let[s,a]of o)this.props[typeof s=="number"?s:s.id]=a}}toString(){let t=u0.get(this);if(t&&!t.overlay)return t.tree.toString();let e="";for(let n of this.children){let i=n.toString();i&&(e&&(e+=","),e+=i)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(e.length?"("+e+")":""):e}cursor(t=0){return new ax(this.topNode,t)}cursorAt(t,e=0,n=0){let i=wM.get(this)||this.topNode,o=new ax(i);return o.moveTo(t,e),wM.set(this,o._tree),o}get topNode(){return new Eu(this,0,0,null)}resolve(t,e=0){let n=ox(wM.get(this)||this.topNode,t,e,!1);return wM.set(this,n),n}resolveInner(t,e=0){let n=ox(Iue.get(this)||this.topNode,t,e,!0);return Iue.set(this,n),n}resolveStack(t,e=0){return Vze(this,t,e)}iterate(t){let{enter:e,leave:n,from:i=0,to:o=this.length}=t,s=t.mode||0,a=(s&Po.IncludeAnonymous)>0;for(let l=this.cursor(s|Po.IncludeAnonymous);;){let c=!1;if(l.from<=o&&l.to>=i&&(!a&&l.type.isAnonymous||e(l)!==!1)){if(l.firstChild())continue;c=!0}for(;c&&n&&(a||!l.type.isAnonymous)&&n(l),!l.nextSibling();){if(!l.parent())return;c=!0}}}prop(t){return t.perNode?this.props?this.props[t.id]:void 0:this.type.prop(t)}get propValues(){let t=[];if(this.props)for(let e in this.props)t.push([+e,this.props[e]]);return t}balance(t={}){return this.children.length<=8?this:D5($s.none,this.children,this.positions,0,this.children.length,0,this.length,(e,n,i)=>new r(this.type,e,n,i,this.propValues),t.makeTree||((e,n,i)=>new r($s.none,e,n,i)))}static build(t){return zze(t)}};ao.empty=new ao($s.none,[],[],0);var y5=class r{constructor(t,e){this.buffer=t,this.index=e}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new r(this.buffer,this.index)}},wh=class r{constructor(t,e,n){this.buffer=t,this.length=e,this.set=n}get type(){return $s.none}toString(){let t=[];for(let e=0;e<this.buffer.length;)t.push(this.childString(e)),e=this.buffer[e+3];return t.join(",")}childString(t){let e=this.buffer[t],n=this.buffer[t+3],i=this.set.types[e],o=i.name;if(/\W/.test(o)&&!i.isError&&(o=JSON.stringify(o)),t+=4,n==t)return o;let s=[];for(;t<n;)s.push(this.childString(t)),t=this.buffer[t+3];return o+"("+s.join(",")+")"}findChild(t,e,n,i,o){let{buffer:s}=this,a=-1;for(let l=t;l!=e&&!(Oue(o,i,s[l+1],s[l+2])&&(a=l,n>0));l=s[l+3]);return a}slice(t,e,n){let i=this.buffer,o=new Uint16Array(e-t),s=0;for(let a=t,l=0;a<e;){o[l++]=i[a++],o[l++]=i[a++]-n;let c=o[l++]=i[a++]-n;o[l++]=i[a++]-t,s=Math.max(s,c)}return new r(o,s,this.set)}};function Oue(r,t,e,n){switch(r){case-2:return e<t;case-1:return n>=t&&e<t;case 0:return e<t&&n>t;case 1:return e<=t&&n>t;case 2:return n>t;case 4:return!0}}function ox(r,t,e,n){for(var i;r.from==r.to||(e<1?r.from>=t:r.from>t)||(e>-1?r.to<=t:r.to<t);){let s=!n&&r instanceof Eu&&r.index<0?null:r.parent;if(!s)return r;r=s}let o=n?0:Po.IgnoreOverlays;if(n)for(let s=r,a=s.parent;a;s=a,a=s.parent)s instanceof Eu&&s.index<0&&((i=a.enter(t,e,o))===null||i===void 0?void 0:i.from)!=s.from&&(r=a);for(;;){let s=r.enter(t,e,o);if(!s)return r;r=s}}var SM=class{cursor(t=0){return new ax(this,t)}getChild(t,e=null,n=null){let i=kue(this,t,e,n);return i.length?i[0]:null}getChildren(t,e=null,n=null){return kue(this,t,e,n)}resolve(t,e=0){return ox(this,t,e,!1)}resolveInner(t,e=0){return ox(this,t,e,!0)}matchContext(t){return _5(this.parent,t)}enterUnfinishedNodesBefore(t){let e=this.childBefore(t),n=this;for(;e;){let i=e.lastChild;if(!i||i.to!=e.to)break;i.type.isError&&i.from==i.to?(n=e,e=i.prevSibling):e=i}return n}get node(){return this}get next(){return this.parent}},Eu=class r extends SM{constructor(t,e,n,i){super(),this._tree=t,this.from=e,this.index=n,this._parent=i}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(t,e,n,i,o=0){for(let s=this;;){for(let{children:a,positions:l}=s._tree,c=e>0?a.length:-1;t!=c;t+=e){let d=a[t],f=l[t]+s.from;if(Oue(i,n,f,f+d.length)){if(d instanceof wh){if(o&Po.ExcludeBuffers)continue;let m=d.findChild(0,d.buffer.length,e,n-f,i);if(m>-1)return new sx(new x5(s,d,t,f),null,m)}else if(o&Po.IncludeAnonymous||!d.type.isAnonymous||S5(d)){let m;if(!(o&Po.IgnoreMounts)&&(m=u0.get(d))&&!m.overlay)return new r(m.tree,f,t,s);let p=new r(d,f,t,s);return o&Po.IncludeAnonymous||!p.type.isAnonymous?p:p.nextChild(e<0?d.children.length-1:0,e,n,i)}}}if(o&Po.IncludeAnonymous||!s.type.isAnonymous||(s.index>=0?t=s.index+e:t=e<0?-1:s._parent._tree.children.length,s=s._parent,!s))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(t){return this.nextChild(0,1,t,2)}childBefore(t){return this.nextChild(this._tree.children.length-1,-1,t,-2)}enter(t,e,n=0){let i;if(!(n&Po.IgnoreOverlays)&&(i=u0.get(this._tree))&&i.overlay){let o=t-this.from;for(let{from:s,to:a}of i.overlay)if((e>0?s<=o:s<o)&&(e<0?a>=o:a>o))return new r(i.tree,i.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,t,e,n)}nextSignificantParent(){let t=this;for(;t.type.isAnonymous&&t._parent;)t=t._parent;return t}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}};function kue(r,t,e,n){let i=r.cursor(),o=[];if(!i.firstChild())return o;if(e!=null){for(let s=!1;!s;)if(s=i.type.is(e),!i.nextSibling())return o}for(;;){if(n!=null&&i.type.is(n))return o;if(i.type.is(t)&&o.push(i.node),!i.nextSibling())return n==null?o:[]}}function _5(r,t,e=t.length-1){for(let n=r;e>=0;n=n.parent){if(!n)return!1;if(!n.type.isAnonymous){if(t[e]&&t[e]!=n.name)return!1;e--}}return!0}var x5=class{constructor(t,e,n,i){this.parent=t,this.buffer=e,this.index=n,this.start=i}},sx=class r extends SM{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(t,e,n){super(),this.context=t,this._parent=e,this.index=n,this.type=t.buffer.set.types[t.buffer.buffer[n]]}child(t,e,n){let{buffer:i}=this.context,o=i.findChild(this.index+4,i.buffer[this.index+3],t,e-this.context.start,n);return o<0?null:new r(this.context,this,o)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(t){return this.child(1,t,2)}childBefore(t){return this.child(-1,t,-2)}enter(t,e,n=0){if(n&Po.ExcludeBuffers)return null;let{buffer:i}=this.context,o=i.findChild(this.index+4,i.buffer[this.index+3],e>0?1:-1,t-this.context.start,e);return o<0?null:new r(this.context,this,o)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(t){return this._parent?null:this.context.parent.nextChild(this.context.index+t,t,0,4)}get nextSibling(){let{buffer:t}=this.context,e=t.buffer[this.index+3];return e<(this._parent?t.buffer[this._parent.index+3]:t.buffer.length)?new r(this.context,this._parent,e):this.externalSibling(1)}get prevSibling(){let{buffer:t}=this.context,e=this._parent?this._parent.index+4:0;return this.index==e?this.externalSibling(-1):new r(this.context,this._parent,t.findChild(e,this.index,-1,0,4))}get tree(){return null}toTree(){let t=[],e=[],{buffer:n}=this.context,i=this.index+4,o=n.buffer[this.index+3];if(o>i){let s=n.buffer[this.index+1];t.push(n.slice(i,o,s)),e.push(0)}return new ao(this.type,t,e,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}};function Fue(r){if(!r.length)return null;let t=0,e=r[0];for(let o=1;o<r.length;o++){let s=r[o];(s.from>e.from||s.to<e.to)&&(e=s,t=o)}let n=e instanceof Eu&&e.index<0?null:e.parent,i=r.slice();return n?i[t]=n:i.splice(t,1),new w5(i,e)}var w5=class{constructor(t,e){this.heads=t,this.node=e}get next(){return Fue(this.heads)}};function Vze(r,t,e){let n=r.resolveInner(t,e),i=null;for(let o=n instanceof Eu?n:n.context.parent;o;o=o.parent)if(o.index<0){let s=o.parent;(i||(i=[n])).push(s.resolve(t,e)),o=s}else{let s=u0.get(o.tree);if(s&&s.overlay&&s.overlay[0].from<=t&&s.overlay[s.overlay.length-1].to>=t){let a=new Eu(s.tree,s.overlay[0].from+o.from,-1,o);(i||(i=[n])).push(ox(a,t,e,!1))}}return i?Fue(i):n}var ax=class{get name(){return this.type.name}constructor(t,e=0){if(this.mode=e,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,t instanceof Eu)this.yieldNode(t);else{this._tree=t.context.parent,this.buffer=t.context;for(let n=t._parent;n;n=n._parent)this.stack.unshift(n.index);this.bufferNode=t,this.yieldBuf(t.index)}}yieldNode(t){return t?(this._tree=t,this.type=t.type,this.from=t.from,this.to=t.to,!0):!1}yieldBuf(t,e){this.index=t;let{start:n,buffer:i}=this.buffer;return this.type=e||i.set.types[i.buffer[t]],this.from=n+i.buffer[t+1],this.to=n+i.buffer[t+2],!0}yield(t){return t?t instanceof Eu?(this.buffer=null,this.yieldNode(t)):(this.buffer=t.context,this.yieldBuf(t.index,t.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(t,e,n){if(!this.buffer)return this.yield(this._tree.nextChild(t<0?this._tree._tree.children.length-1:0,t,e,n,this.mode));let{buffer:i}=this.buffer,o=i.findChild(this.index+4,i.buffer[this.index+3],t,e-this.buffer.start,n);return o<0?!1:(this.stack.push(this.index),this.yieldBuf(o))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(t){return this.enterChild(1,t,2)}childBefore(t){return this.enterChild(-1,t,-2)}enter(t,e,n=this.mode){return this.buffer?n&Po.ExcludeBuffers?!1:this.enterChild(1,t,e):this.yield(this._tree.enter(t,e,n))}parent(){if(!this.buffer)return this.yieldNode(this.mode&Po.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let t=this.mode&Po.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(t)}sibling(t){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+t,t,0,4,this.mode)):!1;let{buffer:e}=this.buffer,n=this.stack.length-1;if(t<0){let i=n<0?0:this.stack[n]+4;if(this.index!=i)return this.yieldBuf(e.findChild(i,this.index,-1,0,4))}else{let i=e.buffer[this.index+3];if(i<(n<0?e.buffer.length:e.buffer[this.stack[n]+3]))return this.yieldBuf(i)}return n<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+t,t,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(t){let e,n,{buffer:i}=this;if(i){if(t>0){if(this.index<i.buffer.buffer.length)return!1}else for(let o=0;o<this.index;o++)if(i.buffer.buffer[o+3]<this.index)return!1;({index:e,parent:n}=i)}else({index:e,_parent:n}=this._tree);for(;n;{index:e,_parent:n}=n)if(e>-1)for(let o=e+t,s=t<0?-1:n._tree.children.length;o!=s;o+=t){let a=n._tree.children[o];if(this.mode&Po.IncludeAnonymous||a instanceof wh||!a.type.isAnonymous||S5(a))return!1}return!0}move(t,e){if(e&&this.enterChild(t,0,4))return!0;for(;;){if(this.sibling(t))return!0;if(this.atLastNode(t)||!this.parent())return!1}}next(t=!0){return this.move(1,t)}prev(t=!0){return this.move(-1,t)}moveTo(t,e=0){for(;(this.from==this.to||(e<1?this.from>=t:this.from>t)||(e>-1?this.to<=t:this.to<t))&&this.parent(););for(;this.enterChild(1,t,e););return this}get node(){if(!this.buffer)return this._tree;let t=this.bufferNode,e=null,n=0;if(t&&t.context==this.buffer)e:for(let i=this.index,o=this.stack.length;o>=0;){for(let s=t;s;s=s._parent)if(s.index==i){if(i==this.index)return s;e=s,n=o+1;break e}i=this.stack[--o]}for(let i=n;i<this.stack.length;i++)e=new sx(this.buffer,e,this.stack[i]);return this.bufferNode=new sx(this.buffer,e,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(t,e){for(let n=0;;){let i=!1;if(this.type.isAnonymous||t(this)!==!1){if(this.firstChild()){n++;continue}this.type.isAnonymous||(i=!0)}for(;;){if(i&&e&&e(this),i=this.type.isAnonymous,!n)return;if(this.nextSibling())break;this.parent(),n--,i=!0}}}matchContext(t){if(!this.buffer)return _5(this.node.parent,t);let{buffer:e}=this.buffer,{types:n}=e.set;for(let i=t.length-1,o=this.stack.length-1;i>=0;o--){if(o<0)return _5(this._tree,t,i);let s=n[e.buffer[this.stack[o]]];if(!s.isAnonymous){if(t[i]&&t[i]!=s.name)return!1;i--}}return!0}};function S5(r){return r.children.some(t=>t instanceof wh||!t.type.isAnonymous||S5(t))}function zze(r){var t;let{buffer:e,nodeSet:n,maxBufferLength:i=1024,reused:o=[],minRepeatType:s=n.types.length}=r,a=Array.isArray(e)?new y5(e,e.length):e,l=n.types,c=0,d=0;function f(E,w,T,k,I,O){let{id:R,start:j,end:q,size:X}=a,Y=d,P=c;for(;X<0;)if(a.next(),X==-1){let me=o[R];T.push(me),k.push(j-E);return}else if(X==-3){c=R;return}else if(X==-4){d=R;return}else throw new RangeError(`Unrecognized record size: ${X}`);let L=l[R],Z,U,ce=j-E;if(q-j<=i&&(U=C(a.pos-w,I))){let me=new Uint16Array(U.size-U.skip),se=a.pos-U.size,Q=me.length;for(;a.pos>se;)Q=S(U.start,me,Q);Z=new wh(me,q-U.start,n),ce=U.start-E}else{let me=a.pos-X;a.next();let se=[],Q=[],he=R>=s?R:-1,ke=0,be=q;for(;a.pos>me;)he>=0&&a.id==he&&a.size>=0?(a.end<=be-i&&(b(se,Q,j,ke,a.end,be,he,Y,P),ke=se.length,be=a.end),a.next()):O>2500?m(j,me,se,Q):f(j,me,se,Q,he,O+1);if(he>=0&&ke>0&&ke<se.length&&b(se,Q,j,ke,j,be,he,Y,P),se.reverse(),Q.reverse(),he>-1&&ke>0){let ee=p(L,P);Z=D5(L,se,Q,0,se.length,0,q-j,ee,ee)}else Z=y(L,se,Q,q-j,Y-q,P)}T.push(Z),k.push(ce)}function m(E,w,T,k){let I=[],O=0,R=-1;for(;a.pos>w;){let{id:j,start:q,end:X,size:Y}=a;if(Y>4)a.next();else{if(R>-1&&q<R)break;R<0&&(R=X-i),I.push(j,q,X),O++,a.next()}}if(O){let j=new Uint16Array(O*4),q=I[I.length-2];for(let X=I.length-3,Y=0;X>=0;X-=3)j[Y++]=I[X],j[Y++]=I[X+1]-q,j[Y++]=I[X+2]-q,j[Y++]=Y;T.push(new wh(j,I[2]-q,n)),k.push(q-E)}}function p(E,w){return(T,k,I)=>{let O=0,R=T.length-1,j,q;if(R>=0&&(j=T[R])instanceof ao){if(!R&&j.type==E&&j.length==I)return j;(q=j.prop(fn.lookAhead))&&(O=k[R]+j.length+q)}return y(E,T,k,I,O,w)}}function b(E,w,T,k,I,O,R,j,q){let X=[],Y=[];for(;E.length>k;)X.push(E.pop()),Y.push(w.pop()+T-I);E.push(y(n.types[R],X,Y,O-I,j-O,q)),w.push(I-T)}function y(E,w,T,k,I,O,R){if(O){let j=[fn.contextHash,O];R=R?[j].concat(R):[j]}if(I>25){let j=[fn.lookAhead,I];R=R?[j].concat(R):[j]}return new ao(E,w,T,k,R)}function C(E,w){let T=a.fork(),k=0,I=0,O=0,R=T.end-i,j={size:0,start:0,skip:0};e:for(let q=T.pos-E;T.pos>q;){let X=T.size;if(T.id==w&&X>=0){j.size=k,j.start=I,j.skip=O,O+=4,k+=4,T.next();continue}let Y=T.pos-X;if(X<0||Y<q||T.start<R)break;let P=T.id>=s?4:0,L=T.start;for(T.next();T.pos>Y;){if(T.size<0)if(T.size==-3)P+=4;else break e;else T.id>=s&&(P+=4);T.next()}I=L,k+=X,O+=P}return(w<0||k==E)&&(j.size=k,j.start=I,j.skip=O),j.size>4?j:void 0}function S(E,w,T){let{id:k,start:I,end:O,size:R}=a;if(a.next(),R>=0&&k<s){let j=T;if(R>4){let q=a.pos-(R-4);for(;a.pos>q;)T=S(E,w,T)}w[--T]=j,w[--T]=O-E,w[--T]=I-E,w[--T]=k}else R==-3?c=k:R==-4&&(d=k);return T}let A=[],x=[];for(;a.pos>0;)f(r.start||0,r.bufferStart||0,A,x,-1,0);let M=(t=r.length)!==null&&t!==void 0?t:A.length?x[0]+A[0].length:0;return new ao(l[r.topID],A.reverse(),x.reverse(),M)}var Nue=new WeakMap;function CM(r,t){if(!r.isAnonymous||t instanceof wh||t.type!=r)return 1;let e=Nue.get(t);if(e==null){e=1;for(let n of t.children){if(n.type!=r||!(n instanceof ao)){e=1;break}e+=CM(r,n)}Nue.set(t,e)}return e}function D5(r,t,e,n,i,o,s,a,l){let c=0;for(let b=n;b<i;b++)c+=CM(r,t[b]);let d=Math.ceil(c*1.5/8),f=[],m=[];function p(b,y,C,S,A){for(let x=C;x<S;){let M=x,E=y[x],w=CM(r,b[x]);for(x++;x<S;x++){let T=CM(r,b[x]);if(w+T>=d)break;w+=T}if(x==M+1){if(w>d){let T=b[M];p(T.children,T.positions,0,T.children.length,y[M]+A);continue}f.push(b[M])}else{let T=y[x-1]+b[x-1].length-E;f.push(D5(r,b,y,M,x,E,T,null,l))}m.push(E+A-o)}}return p(t,e,n,i,0),(a||l)(f,m,s)}var hp=class r{constructor(t,e,n,i,o=!1,s=!1){this.from=t,this.to=e,this.tree=n,this.offset=i,this.open=(o?1:0)|(s?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(t,e=[],n=!1){let i=[new r(0,t.length,t,0,!1,n)];for(let o of e)o.to>t.length&&i.push(o);return i}static applyChanges(t,e,n=128){if(!e.length)return t;let i=[],o=1,s=t.length?t[0]:null;for(let a=0,l=0,c=0;;a++){let d=a<e.length?e[a]:null,f=d?d.fromA:1e9;if(f-l>=n)for(;s&&s.from<f;){let m=s;if(l>=m.from||f<=m.to||c){let p=Math.max(m.from,l)-c,b=Math.min(m.to,f)-c;m=p>=b?null:new r(p,b,m.tree,m.offset+c,a>0,!!d)}if(m&&i.push(m),s.to>f)break;s=o<t.length?t[o++]:null}if(!d)break;l=d.toA,c=d.toA-d.toB}return i}},d0=class{startParse(t,e,n){return typeof t=="string"&&(t=new C5(t)),n=n?n.length?n.map(i=>new nx(i.from,i.to)):[new nx(0,0)]:[new nx(0,t.length)],this.createParse(t,e||[],n)}parse(t,e,n){let i=this.startParse(t,e,n);for(;;){let o=i.advance();if(o)return o}}},C5=class{constructor(t){this.string=t}get length(){return this.string.length}chunk(t){return this.string.slice(t)}get lineChunks(){return!1}read(t,e){return this.string.slice(t,e)}};var IUt=new fn({perNode:!0});var M5=class r{constructor(t,e,n,i,o,s,a,l,c,d=0,f){this.p=t,this.stack=e,this.state=n,this.reducePos=i,this.pos=o,this.score=s,this.buffer=a,this.bufferBase=l,this.curContext=c,this.lookAhead=d,this.parent=f}toString(){return`[${this.stack.filter((t,e)=>e%3==0).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(t,e,n=0){let i=t.parser.context;return new r(t,[],e,n,n,0,[],0,i?new DM(i,i.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(t,e){this.stack.push(this.state,e,this.bufferBase+this.buffer.length),this.state=t}reduce(t){var e;let n=t>>19,i=t&65535,{parser:o}=this.p,s=this.reducePos<this.pos-25;s&&this.setLookAhead(this.pos);let a=o.dynamicPrecedence(i);if(a&&(this.score+=a),n==0){this.pushState(o.getGoto(this.state,i,!0),this.reducePos),i<o.minRepeatTerm&&this.storeNode(i,this.reducePos,this.reducePos,s?8:4,!0),this.reduceContext(i,this.reducePos);return}let l=this.stack.length-(n-1)*3-(t&262144?6:0),c=l?this.stack[l-2]:this.p.ranges[0].from,d=this.reducePos-c;d>=2e3&&!(!((e=this.p.parser.nodeSet.types[i])===null||e===void 0)&&e.isAnonymous)&&(c==this.p.lastBigReductionStart?(this.p.bigReductionCount++,this.p.lastBigReductionSize=d):this.p.lastBigReductionSize<d&&(this.p.bigReductionCount=1,this.p.lastBigReductionStart=c,this.p.lastBigReductionSize=d));let f=l?this.stack[l-1]:0,m=this.bufferBase+this.buffer.length-f;if(i<o.minRepeatTerm||t&131072){let p=o.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(i,c,p,m+4,!0)}if(t&262144)this.state=this.stack[l];else{let p=this.stack[l-3];this.state=o.getGoto(p,i,!0)}for(;this.stack.length>l;)this.stack.pop();this.reduceContext(i,c)}storeNode(t,e,n,i=4,o=!1){if(t==0&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let s=this,a=this.buffer.length;if(a==0&&s.parent&&(a=s.bufferBase-s.parent.bufferBase,s=s.parent),a>0&&s.buffer[a-4]==0&&s.buffer[a-1]>-1){if(e==n)return;if(s.buffer[a-2]>=e){s.buffer[a-2]=n;return}}}if(!o||this.pos==n)this.buffer.push(t,e,n,i);else{let s=this.buffer.length;if(s>0&&this.buffer[s-4]!=0){let a=!1;for(let l=s;l>0&&this.buffer[l-2]>n;l-=4)if(this.buffer[l-1]>=0){a=!0;break}if(a)for(;s>0&&this.buffer[s-2]>n;)this.buffer[s]=this.buffer[s-4],this.buffer[s+1]=this.buffer[s-3],this.buffer[s+2]=this.buffer[s-2],this.buffer[s+3]=this.buffer[s-1],s-=4,i>4&&(i-=4)}this.buffer[s]=t,this.buffer[s+1]=e,this.buffer[s+2]=n,this.buffer[s+3]=i}}shift(t,e,n,i){if(t&131072)this.pushState(t&65535,this.pos);else if(t&262144)this.pos=i,this.shiftContext(e,n),e<=this.p.parser.maxNode&&this.buffer.push(e,n,i,4);else{let o=t,{parser:s}=this.p;(i>this.pos||e<=s.maxNode)&&(this.pos=i,s.stateFlag(o,1)||(this.reducePos=i)),this.pushState(o,n),this.shiftContext(e,n),e<=s.maxNode&&this.buffer.push(e,n,i,4)}}apply(t,e,n,i){t&65536?this.reduce(t):this.shift(t,e,n,i)}useNode(t,e){let n=this.p.reused.length-1;(n<0||this.p.reused[n]!=t)&&(this.p.reused.push(t),n++);let i=this.pos;this.reducePos=this.pos=i+t.length,this.pushState(e,i),this.buffer.push(n,i,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,t,this,this.p.stream.reset(this.pos-t.length)))}split(){let t=this,e=t.buffer.length;for(;e>0&&t.buffer[e-2]>t.reducePos;)e-=4;let n=t.buffer.slice(e),i=t.bufferBase+e;for(;t&&i==t.bufferBase;)t=t.parent;return new r(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,n,i,this.curContext,this.lookAhead,t)}recoverByDelete(t,e){let n=t<=this.p.parser.maxNode;n&&this.storeNode(t,this.pos,e,4),this.storeNode(0,this.pos,e,n?8:4),this.pos=this.reducePos=e,this.score-=190}canShift(t){for(let e=new A5(this);;){let n=this.p.parser.stateSlot(e.state,4)||this.p.parser.hasAction(e.state,t);if(n==0)return!1;if(!(n&65536))return!0;e.reduce(n)}}recoverByInsert(t){if(this.stack.length>=300)return[];let e=this.p.parser.nextStates(this.state);if(e.length>8||this.stack.length>=120){let i=[];for(let o=0,s;o<e.length;o+=2)(s=e[o+1])!=this.state&&this.p.parser.hasAction(s,t)&&i.push(e[o],s);if(this.stack.length<120)for(let o=0;i.length<8&&o<e.length;o+=2){let s=e[o+1];i.some((a,l)=>l&1&&a==s)||i.push(e[o],s)}e=i}let n=[];for(let i=0;i<e.length&&n.length<4;i+=2){let o=e[i+1];if(o==this.state)continue;let s=this.split();s.pushState(o,this.pos),s.storeNode(0,s.pos,s.pos,4,!0),s.shiftContext(e[i],this.pos),s.reducePos=this.pos,s.score-=200,n.push(s)}return n}forceReduce(){let{parser:t}=this.p,e=t.stateSlot(this.state,5);if(!(e&65536))return!1;if(!t.validAction(this.state,e)){let n=e>>19,i=e&65535,o=this.stack.length-n*3;if(o<0||t.getGoto(this.stack[o],i,!1)<0){let s=this.findForcedReduction();if(s==null)return!1;e=s}this.storeNode(0,this.pos,this.pos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(e),!0}findForcedReduction(){let{parser:t}=this.p,e=[],n=(i,o)=>{if(!e.includes(i))return e.push(i),t.allActions(i,s=>{if(!(s&393216))if(s&65536){let a=(s>>19)-o;if(a>1){let l=s&65535,c=this.stack.length-a*3;if(c>=0&&t.getGoto(this.stack[c],l,!1)>=0)return a<<19|65536|l}}else{let a=n(s,o+1);if(a!=null)return a}})};return n(this.state,0)}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(this.stack.length!=3)return!1;let{parser:t}=this.p;return t.data[t.stateSlot(this.state,1)]==65535&&!t.stateSlot(this.state,4)}restart(){this.storeNode(0,this.pos,this.pos,4,!0),this.state=this.stack[0],this.stack.length=0}sameState(t){if(this.state!=t.state||this.stack.length!=t.stack.length)return!1;for(let e=0;e<this.stack.length;e+=3)if(this.stack[e]!=t.stack[e])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(t){return this.p.parser.dialect.flags[t]}shiftContext(t,e){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,t,this,this.p.stream.reset(e)))}reduceContext(t,e){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,t,this,this.p.stream.reset(e)))}emitContext(){let t=this.buffer.length-1;(t<0||this.buffer[t]!=-3)&&this.buffer.push(this.curContext.hash,this.pos,this.pos,-3)}emitLookAhead(){let t=this.buffer.length-1;(t<0||this.buffer[t]!=-4)&&this.buffer.push(this.lookAhead,this.pos,this.pos,-4)}updateContext(t){if(t!=this.curContext.context){let e=new DM(this.curContext.tracker,t);e.hash!=this.curContext.hash&&this.emitContext(),this.curContext=e}}setLookAhead(t){t>this.lookAhead&&(this.emitLookAhead(),this.lookAhead=t)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}},DM=class{constructor(t,e){this.tracker=t,this.context=e,this.hash=t.strict?t.hash(e):0}},A5=class{constructor(t){this.start=t,this.state=t.state,this.stack=t.stack,this.base=this.stack.length}reduce(t){let e=t&65535,n=t>>19;n==0?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=(n-1)*3;let i=this.start.p.parser.getGoto(this.stack[this.base-3],e,!0);this.state=i}},T5=class r{constructor(t,e,n){this.stack=t,this.pos=e,this.index=n,this.buffer=t.buffer,this.index==0&&this.maybeNext()}static create(t,e=t.bufferBase+t.buffer.length){return new r(t,e,e-t.bufferBase)}maybeNext(){let t=this.stack.parent;t!=null&&(this.index=this.stack.bufferBase-t.bufferBase,this.stack=t,this.buffer=t.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,this.index==0&&this.maybeNext()}fork(){return new r(this.stack,this.pos,this.index)}};function lx(r,t=Uint16Array){if(typeof r!="string")return r;let e=null;for(let n=0,i=0;n<r.length;){let o=0;for(;;){let s=r.charCodeAt(n++),a=!1;if(s==126){o=65535;break}s>=92&&s--,s>=34&&s--;let l=s-32;if(l>=46&&(l-=46,a=!0),o+=l,a)break;o*=46}e?e[i++]=o:e=new t(o)}return e}var f0=class{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}},Rue=new f0,I5=class{constructor(t,e){this.input=t,this.ranges=e,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=Rue,this.rangeIndex=0,this.pos=this.chunkPos=e[0].from,this.range=e[0],this.end=e[e.length-1].to,this.readNext()}resolveOffset(t,e){let n=this.range,i=this.rangeIndex,o=this.pos+t;for(;o<n.from;){if(!i)return null;let s=this.ranges[--i];o-=n.from-s.to,n=s}for(;e<0?o>n.to:o>=n.to;){if(i==this.ranges.length-1)return null;let s=this.ranges[++i];o+=s.from-n.to,n=s}return o}clipPos(t){if(t>=this.range.from&&t<this.range.to)return t;for(let e of this.ranges)if(e.to>t)return Math.max(t,e.from);return this.end}peek(t){let e=this.chunkOff+t,n,i;if(e>=0&&e<this.chunk.length)n=this.pos+t,i=this.chunk.charCodeAt(e);else{let o=this.resolveOffset(t,1);if(o==null)return-1;if(n=o,n>=this.chunk2Pos&&n<this.chunk2Pos+this.chunk2.length)i=this.chunk2.charCodeAt(n-this.chunk2Pos);else{let s=this.rangeIndex,a=this.range;for(;a.to<=n;)a=this.ranges[++s];this.chunk2=this.input.chunk(this.chunk2Pos=n),n+this.chunk2.length>a.to&&(this.chunk2=this.chunk2.slice(0,a.to-n)),i=this.chunk2.charCodeAt(0)}}return n>=this.token.lookAhead&&(this.token.lookAhead=n+1),i}acceptToken(t,e=0){let n=e?this.resolveOffset(e,-1):this.pos;if(n==null||n<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=t,this.token.end=n}acceptTokenTo(t,e){this.token.value=t,this.token.end=e}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:t,chunkPos:e}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=t,this.chunk2Pos=e,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let t=this.input.chunk(this.pos),e=this.pos+t.length;this.chunk=e>this.range.to?t.slice(0,this.range.to-this.pos):t,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}advance(t=1){for(this.chunkOff+=t;this.pos+t>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();t-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=t,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(t,e){if(e?(this.token=e,e.start=t,e.lookAhead=t+1,e.value=e.extended=-1):this.token=Rue,this.pos!=t){if(this.pos=t,t==this.end)return this.setDone(),this;for(;t<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;t>=this.range.to;)this.range=this.ranges[++this.rangeIndex];t>=this.chunkPos&&t<this.chunkPos+this.chunk.length?this.chunkOff=t-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(t,e){if(t>=this.chunkPos&&e<=this.chunkPos+this.chunk.length)return this.chunk.slice(t-this.chunkPos,e-this.chunkPos);if(t>=this.chunk2Pos&&e<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(t-this.chunk2Pos,e-this.chunk2Pos);if(t>=this.range.from&&e<=this.range.to)return this.input.read(t,e);let n="";for(let i of this.ranges){if(i.from>=e)break;i.to>t&&(n+=this.input.read(Math.max(i.from,t),Math.min(i.to,e)))}return n}},Ch=class{constructor(t,e){this.data=t,this.id=e}token(t,e){let{parser:n}=e.p;zue(this.data,t,e,this.id,n.data,n.tokenPrecTable)}};Ch.prototype.contextual=Ch.prototype.fallback=Ch.prototype.extend=!1;var k5=class{constructor(t,e,n){this.precTable=e,this.elseToken=n,this.data=typeof t=="string"?lx(t):t}token(t,e){let n=t.pos,i=0;for(;;){let o=t.next<0,s=t.resolveOffset(1,1);if(zue(this.data,t,e,0,this.data,this.precTable),t.token.value>-1)break;if(this.elseToken==null)return;if(o||i++,s==null)break;t.reset(s,t.token)}i&&(t.reset(n,t.token),t.acceptToken(this.elseToken,i))}};k5.prototype.contextual=Ch.prototype.fallback=Ch.prototype.extend=!1;function zue(r,t,e,n,i,o){let s=0,a=1<<n,{dialect:l}=e.p.parser;e:for(;a&r[s];){let c=r[s+1];for(let p=s+3;p<c;p+=2)if((r[p+1]&a)>0){let b=r[p];if(l.allows(b)&&(t.token.value==-1||t.token.value==b||Hze(b,t.token.value,i,o))){t.acceptToken(b);break}}let d=t.next,f=0,m=r[s+2];if(t.next<0&&m>f&&r[c+m*3-3]==65535){s=r[c+m*3-1];continue e}for(;f<m;){let p=f+m>>1,b=c+p+(p<<1),y=r[b],C=r[b+1]||65536;if(d<y)m=p;else if(d>=C)f=p+1;else{s=r[b+2],t.advance();continue e}}break}}function Pue(r,t,e){for(let n=t,i;(i=r[n])!=65535;n++)if(i==e)return n-t;return-1}function Hze(r,t,e,n){let i=Pue(e,n,t);return i<0||Pue(e,n,r)<i}var _l=typeof process<"u"&&process.env&&/\bparse\b/.test(process.env.LOG),E5=null;function Lue(r,t,e){let n=r.cursor(Po.IncludeAnonymous);for(n.moveTo(t);;)if(!(e<0?n.childBefore(t):n.childAfter(t)))for(;;){if((e<0?n.to<t:n.from>t)&&!n.type.isError)return e<0?Math.max(0,Math.min(n.to-1,t-25)):Math.min(r.length,Math.max(n.from+1,t+25));if(e<0?n.prevSibling():n.nextSibling())break;if(!n.parent())return e<0?0:r.length}}var N5=class{constructor(t,e){this.fragments=t,this.nodeSet=e,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let t=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(t){for(this.safeFrom=t.openStart?Lue(t.tree,t.from+t.offset,1)-t.offset:t.from,this.safeTo=t.openEnd?Lue(t.tree,t.to+t.offset,-1)-t.offset:t.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(t.tree),this.start.push(-t.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(t){if(t<this.nextStart)return null;for(;this.fragment&&this.safeTo<=t;)this.nextFragment();if(!this.fragment)return null;for(;;){let e=this.trees.length-1;if(e<0)return this.nextFragment(),null;let n=this.trees[e],i=this.index[e];if(i==n.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let o=n.children[i],s=this.start[e]+n.positions[i];if(s>t)return this.nextStart=s,null;if(o instanceof ao){if(s==t){if(s<this.safeFrom)return null;let a=s+o.length;if(a<=this.safeTo){let l=o.prop(fn.lookAhead);if(!l||a+l<this.fragment.to)return o}}this.index[e]++,s+o.length>=Math.max(this.safeFrom,t)&&(this.trees.push(o),this.start.push(s),this.index.push(0))}else this.index[e]++,this.nextStart=s+o.length}}},O5=class{constructor(t,e){this.stream=e,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=t.tokenizers.map(n=>new f0)}getActions(t){let e=0,n=null,{parser:i}=t.p,{tokenizers:o}=i,s=i.stateSlot(t.state,3),a=t.curContext?t.curContext.hash:0,l=0;for(let c=0;c<o.length;c++){if(!(1<<c&s))continue;let d=o[c],f=this.tokens[c];if(!(n&&!d.fallback)&&((d.contextual||f.start!=t.pos||f.mask!=s||f.context!=a)&&(this.updateCachedToken(f,d,t),f.mask=s,f.context=a),f.lookAhead>f.end+25&&(l=Math.max(f.lookAhead,l)),f.value!=0)){let m=e;if(f.extended>-1&&(e=this.addActions(t,f.extended,f.end,e)),e=this.addActions(t,f.value,f.end,e),!d.extend&&(n=f,e>m))break}}for(;this.actions.length>e;)this.actions.pop();return l&&t.setLookAhead(l),!n&&t.pos==this.stream.end&&(n=new f0,n.value=t.p.parser.eofTerm,n.start=n.end=t.pos,e=this.addActions(t,n.value,n.end,e)),this.mainToken=n,this.actions}getMainToken(t){if(this.mainToken)return this.mainToken;let e=new f0,{pos:n,p:i}=t;return e.start=n,e.end=Math.min(n+1,i.stream.end),e.value=n==i.stream.end?i.parser.eofTerm:0,e}updateCachedToken(t,e,n){let i=this.stream.clipPos(n.pos);if(e.token(this.stream.reset(i,t),n),t.value>-1){let{parser:o}=n.p;for(let s=0;s<o.specialized.length;s++)if(o.specialized[s]==t.value){let a=o.specializers[s](this.stream.read(t.start,t.end),n);if(a>=0&&n.p.parser.dialect.allows(a>>1)){a&1?t.extended=a>>1:t.value=a>>1;break}}}else t.value=0,t.end=this.stream.clipPos(i+1)}putAction(t,e,n,i){for(let o=0;o<i;o+=3)if(this.actions[o]==t)return i;return this.actions[i++]=t,this.actions[i++]=e,this.actions[i++]=n,i}addActions(t,e,n,i){let{state:o}=t,{parser:s}=t.p,{data:a}=s;for(let l=0;l<2;l++)for(let c=s.stateSlot(o,l?2:1);;c+=3){if(a[c]==65535)if(a[c+1]==1)c=Hd(a,c+2);else{i==0&&a[c+1]==2&&(i=this.putAction(Hd(a,c+2),e,n,i));break}a[c]==e&&(i=this.putAction(Hd(a,c+1),e,n,i))}return i}},F5=class{constructor(t,e,n,i){this.parser=t,this.input=e,this.ranges=i,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.lastBigReductionStart=-1,this.lastBigReductionSize=0,this.bigReductionCount=0,this.stream=new I5(e,i),this.tokens=new O5(t,this.stream),this.topTerm=t.top[1];let{from:o}=i[0];this.stacks=[M5.start(this,t.top[0],o)],this.fragments=n.length&&this.stream.end-o>t.bufferLength*4?new N5(n,t.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let t=this.stacks,e=this.minStackPos,n=this.stacks=[],i,o;if(this.bigReductionCount>300&&t.length==1){let[s]=t;for(;s.forceReduce()&&s.stack.length&&s.stack[s.stack.length-2]>=this.lastBigReductionStart;);this.bigReductionCount=this.lastBigReductionSize=0}for(let s=0;s<t.length;s++){let a=t[s];for(;;){if(this.tokens.mainToken=null,a.pos>e)n.push(a);else{if(this.advanceStack(a,n,t))continue;{i||(i=[],o=[]),i.push(a);let l=this.tokens.getMainToken(a);o.push(l.value,l.end)}}break}}if(!n.length){let s=i&&Uze(i);if(s)return _l&&console.log("Finish with "+this.stackID(s)),this.stackToTree(s);if(this.parser.strict)throw _l&&i&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+e);this.recovering||(this.recovering=5)}if(this.recovering&&i){let s=this.stoppedAt!=null&&i[0].pos>this.stoppedAt?i[0]:this.runRecovery(i,o,n);if(s)return _l&&console.log("Force-finish "+this.stackID(s)),this.stackToTree(s.forceAll())}if(this.recovering){let s=this.recovering==1?1:this.recovering*3;if(n.length>s)for(n.sort((a,l)=>l.score-a.score);n.length>s;)n.pop();n.some(a=>a.reducePos>e)&&this.recovering--}else if(n.length>1){e:for(let s=0;s<n.length-1;s++){let a=n[s];for(let l=s+1;l<n.length;l++){let c=n[l];if(a.sameState(c)||a.buffer.length>500&&c.buffer.length>500)if((a.score-c.score||a.buffer.length-c.buffer.length)>0)n.splice(l--,1);else{n.splice(s--,1);continue e}}}n.length>12&&n.splice(12,n.length-12)}this.minStackPos=n[0].pos;for(let s=1;s<n.length;s++)n[s].pos<this.minStackPos&&(this.minStackPos=n[s].pos);return null}stopAt(t){if(this.stoppedAt!=null&&this.stoppedAt<t)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=t}advanceStack(t,e,n){let i=t.pos,{parser:o}=this,s=_l?this.stackID(t)+" -> ":"";if(this.stoppedAt!=null&&i>this.stoppedAt)return t.forceReduce()?t:null;if(this.fragments){let c=t.curContext&&t.curContext.tracker.strict,d=c?t.curContext.hash:0;for(let f=this.fragments.nodeAt(i);f;){let m=this.parser.nodeSet.types[f.type.id]==f.type?o.getGoto(t.state,f.type.id):-1;if(m>-1&&f.length&&(!c||(f.prop(fn.contextHash)||0)==d))return t.useNode(f,m),_l&&console.log(s+this.stackID(t)+` (via reuse of ${o.getName(f.type.id)})`),!0;if(!(f instanceof ao)||f.children.length==0||f.positions[0]>0)break;let p=f.children[0];if(p instanceof ao&&f.positions[0]==0)f=p;else break}}let a=o.stateSlot(t.state,4);if(a>0)return t.reduce(a),_l&&console.log(s+this.stackID(t)+` (via always-reduce ${o.getName(a&65535)})`),!0;if(t.stack.length>=8400)for(;t.stack.length>6e3&&t.forceReduce(););let l=this.tokens.getActions(t);for(let c=0;c<l.length;){let d=l[c++],f=l[c++],m=l[c++],p=c==l.length||!n,b=p?t:t.split(),y=this.tokens.mainToken;if(b.apply(d,f,y?y.start:b.pos,m),_l&&console.log(s+this.stackID(b)+` (via ${d&65536?`reduce of ${o.getName(d&65535)}`:"shift"} for ${o.getName(f)} @ ${i}${b==t?"":", split"})`),p)return!0;b.pos>i?e.push(b):n.push(b)}return!1}advanceFully(t,e){let n=t.pos;for(;;){if(!this.advanceStack(t,null,null))return!1;if(t.pos>n)return Bue(t,e),!0}}runRecovery(t,e,n){let i=null,o=!1;for(let s=0;s<t.length;s++){let a=t[s],l=e[s<<1],c=e[(s<<1)+1],d=_l?this.stackID(a)+" -> ":"";if(a.deadEnd&&(o||(o=!0,a.restart(),_l&&console.log(d+this.stackID(a)+" (restarted)"),this.advanceFully(a,n))))continue;let f=a.split(),m=d;for(let p=0;f.forceReduce()&&p<10&&(_l&&console.log(m+this.stackID(f)+" (via force-reduce)"),!this.advanceFully(f,n));p++)_l&&(m=this.stackID(f)+" -> ");for(let p of a.recoverByInsert(l))_l&&console.log(d+this.stackID(p)+" (via recover-insert)"),this.advanceFully(p,n);this.stream.end>a.pos?(c==a.pos&&(c++,l=0),a.recoverByDelete(l,c),_l&&console.log(d+this.stackID(a)+` (via recover-delete ${this.parser.getName(l)})`),Bue(a,n)):(!i||i.score<a.score)&&(i=a)}return i}stackToTree(t){return t.close(),ao.build({buffer:T5.create(t),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:t.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(t){let e=(E5||(E5=new WeakMap)).get(t);return e||E5.set(t,e=String.fromCodePoint(this.nextStackID++)),e+t}};function Bue(r,t){for(let e=0;e<t.length;e++){let n=t[e];if(n.pos==r.pos&&n.sameState(r)){t[e].score<r.score&&(t[e]=r);return}}t.push(r)}var R5=class{constructor(t,e,n){this.source=t,this.flags=e,this.disabled=n}allows(t){return!this.disabled||this.disabled[t]==0}};var EM=class r extends d0{constructor(t){if(super(),this.wrappers=[],t.version!=14)throw new RangeError(`Parser version (${t.version}) doesn't match runtime version (14)`);let e=t.nodeNames.split(" ");this.minRepeatTerm=e.length;for(let a=0;a<t.repeatNodeCount;a++)e.push("");let n=Object.keys(t.topRules).map(a=>t.topRules[a][1]),i=[];for(let a=0;a<e.length;a++)i.push([]);function o(a,l,c){i[a].push([l,l.deserialize(String(c))])}if(t.nodeProps)for(let a of t.nodeProps){let l=a[0];typeof l=="string"&&(l=fn[l]);for(let c=1;c<a.length;){let d=a[c++];if(d>=0)o(d,l,a[c++]);else{let f=a[c+-d];for(let m=-d;m>0;m--)o(a[c++],l,f);c++}}}this.nodeSet=new ix(e.map((a,l)=>$s.define({name:l>=this.minRepeatTerm?void 0:a,id:l,props:i[l],top:n.indexOf(l)>-1,error:l==0,skipped:t.skippedNodes&&t.skippedNodes.indexOf(l)>-1}))),t.propSources&&(this.nodeSet=this.nodeSet.extend(...t.propSources)),this.strict=!1,this.bufferLength=1024;let s=lx(t.tokenData);this.context=t.context,this.specializerSpecs=t.specialized||[],this.specialized=new Uint16Array(this.specializerSpecs.length);for(let a=0;a<this.specializerSpecs.length;a++)this.specialized[a]=this.specializerSpecs[a].term;this.specializers=this.specializerSpecs.map(Vue),this.states=lx(t.states,Uint32Array),this.data=lx(t.stateData),this.goto=lx(t.goto),this.maxTerm=t.maxTerm,this.tokenizers=t.tokenizers.map(a=>typeof a=="number"?new Ch(s,a):a),this.topRules=t.topRules,this.dialects=t.dialects||{},this.dynamicPrecedences=t.dynamicPrecedences||null,this.tokenPrecTable=t.tokenPrec,this.termNames=t.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(t,e,n){let i=new F5(this,t,e,n);for(let o of this.wrappers)i=o(i,t,e,n);return i}getGoto(t,e,n=!1){let i=this.goto;if(e>=i[0])return-1;for(let o=i[e+1];;){let s=i[o++],a=s&1,l=i[o++];if(a&&n)return l;for(let c=o+(s>>1);o<c;o++)if(i[o]==t)return l;if(a)return-1}}hasAction(t,e){let n=this.data;for(let i=0;i<2;i++)for(let o=this.stateSlot(t,i?2:1),s;;o+=3){if((s=n[o])==65535)if(n[o+1]==1)s=n[o=Hd(n,o+2)];else{if(n[o+1]==2)return Hd(n,o+2);break}if(s==e||s==0)return Hd(n,o+1)}return 0}stateSlot(t,e){return this.states[t*6+e]}stateFlag(t,e){return(this.stateSlot(t,0)&e)>0}validAction(t,e){return!!this.allActions(t,n=>n==e?!0:null)}allActions(t,e){let n=this.stateSlot(t,4),i=n?e(n):void 0;for(let o=this.stateSlot(t,1);i==null;o+=3){if(this.data[o]==65535)if(this.data[o+1]==1)o=Hd(this.data,o+2);else break;i=e(Hd(this.data,o+1))}return i}nextStates(t){let e=[];for(let n=this.stateSlot(t,1);;n+=3){if(this.data[n]==65535)if(this.data[n+1]==1)n=Hd(this.data,n+2);else break;if(!(this.data[n+2]&1)){let i=this.data[n+1];e.some((o,s)=>s&1&&o==i)||e.push(this.data[n],i)}}return e}configure(t){let e=Object.assign(Object.create(r.prototype),this);if(t.props&&(e.nodeSet=this.nodeSet.extend(...t.props)),t.top){let n=this.topRules[t.top];if(!n)throw new RangeError(`Invalid top rule name ${t.top}`);e.top=n}return t.tokenizers&&(e.tokenizers=this.tokenizers.map(n=>{let i=t.tokenizers.find(o=>o.from==n);return i?i.to:n})),t.specializers&&(e.specializers=this.specializers.slice(),e.specializerSpecs=this.specializerSpecs.map((n,i)=>{let o=t.specializers.find(a=>a.from==n.external);if(!o)return n;let s=Object.assign(Object.assign({},n),{external:o.to});return e.specializers[i]=Vue(s),s})),t.contextTracker&&(e.context=t.contextTracker),t.dialect&&(e.dialect=this.parseDialect(t.dialect)),t.strict!=null&&(e.strict=t.strict),t.wrap&&(e.wrappers=e.wrappers.concat(t.wrap)),t.bufferLength!=null&&(e.bufferLength=t.bufferLength),e}hasWrappers(){return this.wrappers.length>0}getName(t){return this.termNames?this.termNames[t]:String(t<=this.maxNode&&this.nodeSet.types[t].name||t)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(t){let e=this.dynamicPrecedences;return e==null?0:e[t]||0}parseDialect(t){let e=Object.keys(this.dialects),n=e.map(()=>!1);if(t)for(let o of t.split(" ")){let s=e.indexOf(o);s>=0&&(n[s]=!0)}let i=null;for(let o=0;o<e.length;o++)if(!n[o])for(let s=this.dialects[e[o]],a;(a=this.data[s++])!=65535;)(i||(i=new Uint8Array(this.maxTerm+1)))[a]=1;return new R5(t,n,i)}static deserialize(t){return new r(t)}};function Hd(r,t){return r[t]|r[t+1]<<16}function Uze(r){let t=null;for(let e of r){let n=e.p.stoppedAt;(e.pos==e.p.stream.end||n!=null&&e.pos>n)&&e.p.parser.stateFlag(e.state,2)&&(!t||t.score<e.score)&&(t=e)}return t}function Vue(r){if(r.external){let t=r.extend?1:0;return(e,n)=>r.external(e,n)<<1|t}return r.get}var qze=0,Lc=class r{constructor(t,e,n,i){this.name=t,this.set=e,this.base=n,this.modified=i,this.id=qze++}toString(){let{name:t}=this;for(let e of this.modified)e.name&&(t=`${e.name}(${t})`);return t}static define(t,e){let n=typeof t=="string"?t:"?";if(t instanceof r&&(e=t),e?.base)throw new Error("Can not derive from a modified tag");let i=new r(n,[],null,[]);if(i.set.push(i),e)for(let o of e.set)i.set.push(o);return i}static defineModifier(t){let e=new IM(t);return n=>n.modified.indexOf(e)>-1?n:IM.get(n.base||n,n.modified.concat(e).sort((i,o)=>i.id-o.id))}},Wze=0,IM=class r{constructor(t){this.name=t,this.instances=[],this.id=Wze++}static get(t,e){if(!e.length)return t;let n=e[0].instances.find(a=>a.base==t&&$ze(e,a.modified));if(n)return n;let i=[],o=new Lc(t.name,i,t,e);for(let a of e)a.instances.push(o);let s=Gze(e);for(let a of t.set)if(!a.modified.length)for(let l of s)i.push(r.get(a,l));return o}};function $ze(r,t){return r.length==t.length&&r.every((e,n)=>e==t[n])}function Gze(r){let t=[[]];for(let e=0;e<r.length;e++)for(let n=0,i=t.length;n<i;n++)t.push(t[n].concat(r[e]));return t.sort((e,n)=>n.length-e.length)}function kM(r){let t=Object.create(null);for(let e in r){let n=r[e];Array.isArray(n)||(n=[n]);for(let i of e.split(" "))if(i){let o=[],s=2,a=i;for(let f=0;;){if(a=="..."&&f>0&&f+3==i.length){s=1;break}let m=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(a);if(!m)throw new RangeError("Invalid path: "+i);if(o.push(m[0]=="*"?"":m[0][0]=='"'?JSON.parse(m[0]):m[0]),f+=m[0].length,f==i.length)break;let p=i[f++];if(f==i.length&&p=="!"){s=0;break}if(p!="/")throw new RangeError("Invalid path: "+i);a=i.slice(f)}let l=o.length-1,c=o[l];if(!c)throw new RangeError("Invalid path: "+i);let d=new ux(n,s,l>0?o.slice(0,l):null);t[c]=d.sort(t[c])}}return Yze.add(t)}var Yze=new fn,ux=class{constructor(t,e,n,i){this.tags=t,this.mode=e,this.context=n,this.next=i}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(t){return!t||t.depth<this.depth?(this.next=t,this):(t.next=this.sort(t.next),t)}get depth(){return this.context?this.context.length:0}};ux.empty=new ux([],2,null);function B5(r,t){let e=Object.create(null);for(let o of r)if(!Array.isArray(o.tag))e[o.tag.id]=o.class;else for(let s of o.tag)e[s.id]=o.class;let{scope:n,all:i=null}=t||{};return{style:o=>{let s=i;for(let a of o)for(let l of a.set){let c=e[l.id];if(c){s=s?s+" "+c:c;break}}return s},scope:n}}var Et=Lc.define,MM=Et(),Sh=Et(),jue=Et(Sh),Hue=Et(Sh),Dh=Et(),AM=Et(Dh),P5=Et(Dh),Tu=Et(),mp=Et(Tu),Mu=Et(),Au=Et(),L5=Et(),cx=Et(L5),TM=Et(),bt={comment:MM,lineComment:Et(MM),blockComment:Et(MM),docComment:Et(MM),name:Sh,variableName:Et(Sh),typeName:jue,tagName:Et(jue),propertyName:Hue,attributeName:Et(Hue),className:Et(Sh),labelName:Et(Sh),namespace:Et(Sh),macroName:Et(Sh),literal:Dh,string:AM,docString:Et(AM),character:Et(AM),attributeValue:Et(AM),number:P5,integer:Et(P5),float:Et(P5),bool:Et(Dh),regexp:Et(Dh),escape:Et(Dh),color:Et(Dh),url:Et(Dh),keyword:Mu,self:Et(Mu),null:Et(Mu),atom:Et(Mu),unit:Et(Mu),modifier:Et(Mu),operatorKeyword:Et(Mu),controlKeyword:Et(Mu),definitionKeyword:Et(Mu),moduleKeyword:Et(Mu),operator:Au,derefOperator:Et(Au),arithmeticOperator:Et(Au),logicOperator:Et(Au),bitwiseOperator:Et(Au),compareOperator:Et(Au),updateOperator:Et(Au),definitionOperator:Et(Au),typeOperator:Et(Au),controlOperator:Et(Au),punctuation:L5,separator:Et(L5),bracket:cx,angleBracket:Et(cx),squareBracket:Et(cx),paren:Et(cx),brace:Et(cx),content:Tu,heading:mp,heading1:Et(mp),heading2:Et(mp),heading3:Et(mp),heading4:Et(mp),heading5:Et(mp),heading6:Et(mp),contentSeparator:Et(Tu),list:Et(Tu),quote:Et(Tu),emphasis:Et(Tu),strong:Et(Tu),link:Et(Tu),monospace:Et(Tu),strikethrough:Et(Tu),inserted:Et(),deleted:Et(),changed:Et(),invalid:Et(),meta:TM,documentMeta:Et(TM),annotation:Et(TM),processingInstruction:Et(TM),definition:Lc.defineModifier("definition"),constant:Lc.defineModifier("constant"),function:Lc.defineModifier("function"),standard:Lc.defineModifier("standard"),local:Lc.defineModifier("local"),special:Lc.defineModifier("special")};for(let r in bt){let t=bt[r];t instanceof Lc&&(t.name=r)}var RUt=B5([{tag:bt.link,class:"tok-link"},{tag:bt.heading,class:"tok-heading"},{tag:bt.emphasis,class:"tok-emphasis"},{tag:bt.strong,class:"tok-strong"},{tag:bt.keyword,class:"tok-keyword"},{tag:bt.atom,class:"tok-atom"},{tag:bt.bool,class:"tok-bool"},{tag:bt.url,class:"tok-url"},{tag:bt.labelName,class:"tok-labelName"},{tag:bt.inserted,class:"tok-inserted"},{tag:bt.deleted,class:"tok-deleted"},{tag:bt.literal,class:"tok-literal"},{tag:bt.string,class:"tok-string"},{tag:bt.number,class:"tok-number"},{tag:[bt.regexp,bt.escape,bt.special(bt.string)],class:"tok-string2"},{tag:bt.variableName,class:"tok-variableName"},{tag:bt.local(bt.variableName),class:"tok-variableName tok-local"},{tag:bt.definition(bt.variableName),class:"tok-variableName tok-definition"},{tag:bt.special(bt.variableName),class:"tok-variableName2"},{tag:bt.definition(bt.propertyName),class:"tok-propertyName tok-definition"},{tag:bt.typeName,class:"tok-typeName"},{tag:bt.namespace,class:"tok-namespace"},{tag:bt.className,class:"tok-className"},{tag:bt.macroName,class:"tok-macroName"},{tag:bt.propertyName,class:"tok-propertyName"},{tag:bt.operator,class:"tok-operator"},{tag:bt.comment,class:"tok-comment"},{tag:bt.meta,class:"tok-meta"},{tag:bt.invalid,class:"tok-invalid"},{tag:bt.punctuation,class:"tok-punctuation"}]);var Kze=kM({String:bt.string,Number:bt.number,"True False":bt.bool,PropertyName:bt.propertyName,Null:bt.null,",":bt.separator,"[ ]":bt.squareBracket,"{ }":bt.brace}),Uue=EM.deserialize({version:14,states:"$bOVQPOOOOQO'#Cb'#CbOnQPO'#CeOvQPO'#CjOOQO'#Cp'#CpQOQPOOOOQO'#Cg'#CgO}QPO'#CfO!SQPO'#CrOOQO,59P,59PO![QPO,59PO!aQPO'#CuOOQO,59U,59UO!iQPO,59UOVQPO,59QOqQPO'#CkO!nQPO,59^OOQO1G.k1G.kOVQPO'#ClO!vQPO,59aOOQO1G.p1G.pOOQO1G.l1G.lOOQO,59V,59VOOQO-E6i-E6iOOQO,59W,59WOOQO-E6j-E6j",stateData:"#O~OcOS~OQSORSOSSOTSOWQO]ROePO~OVXOeUO~O[[O~PVOg^O~Oh_OVfX~OVaO~OhbO[iX~O[dO~Oh_OVfa~OhbO[ia~O",goto:"!kjPPPPPPkPPkqwPPk{!RPPP!XP!ePP!hXSOR^bQWQRf_TVQ_Q`WRg`QcZRicQTOQZRQe^RhbRYQR]R",nodeNames:"\u26A0 JsonText True False Null Number String } { Object Property PropertyName ] [ Array",maxTerm:25,nodeProps:[["isolate",-2,6,11,""],["openedBy",7,"{",12,"["],["closedBy",8,"}",13,"]"]],propSources:[Kze],skippedNodes:[0],repeatNodeCount:2,tokenData:"(|~RaXY!WYZ!W]^!Wpq!Wrs!]|}$u}!O$z!Q!R%T!R![&c![!]&t!}#O&y#P#Q'O#Y#Z'T#b#c'r#h#i(Z#o#p(r#q#r(w~!]Oc~~!`Wpq!]qr!]rs!xs#O!]#O#P!}#P;'S!];'S;=`$o<%lO!]~!}Oe~~#QXrs!]!P!Q!]#O#P!]#U#V!]#Y#Z!]#b#c!]#f#g!]#h#i!]#i#j#m~#pR!Q![#y!c!i#y#T#Z#y~#|R!Q![$V!c!i$V#T#Z$V~$YR!Q![$c!c!i$c#T#Z$c~$fR!Q![!]!c!i!]#T#Z!]~$rP;=`<%l!]~$zOh~~$}Q!Q!R%T!R![&c~%YRT~!O!P%c!g!h%w#X#Y%w~%fP!Q![%i~%nRT~!Q![%i!g!h%w#X#Y%w~%zR{|&T}!O&T!Q![&Z~&WP!Q![&Z~&`PT~!Q![&Z~&hST~!O!P%c!Q![&c!g!h%w#X#Y%w~&yOg~~'OO]~~'TO[~~'WP#T#U'Z~'^P#`#a'a~'dP#g#h'g~'jP#X#Y'm~'rOR~~'uP#i#j'x~'{P#`#a(O~(RP#`#a(U~(ZOS~~(^P#f#g(a~(dP#i#j(g~(jP#X#Y(m~(rOQ~~(wOW~~(|OV~",tokenizers:[0],topRules:{JsonText:[0,1]},tokenPrec:0});var kn=class r{lineAt(t){if(t<0||t>this.length)throw new RangeError(`Invalid position ${t} in document of length ${this.length}`);return this.lineInner(t,!1,1,0)}line(t){if(t<1||t>this.lines)throw new RangeError(`Invalid line number ${t} in ${this.lines}-line document`);return this.lineInner(t,!0,1,0)}replace(t,e,n){[t,e]=b0(this,t,e);let i=[];return this.decompose(0,t,i,2),n.length&&n.decompose(0,n.length,i,3),this.decompose(e,this.length,i,1),m0.from(i,this.length-(e-t)+n.length)}append(t){return this.replace(this.length,this.length,t)}slice(t,e=this.length){[t,e]=b0(this,t,e);let n=[];return this.decompose(t,e,n,0),m0.from(n,e-t)}eq(t){if(t==this)return!0;if(t.length!=this.length||t.lines!=this.lines)return!1;let e=this.scanIdentical(t,1),n=this.length-this.scanIdentical(t,-1),i=new vp(this),o=new vp(t);for(let s=e,a=e;;){if(i.next(s),o.next(s),s=0,i.lineBreak!=o.lineBreak||i.done!=o.done||i.value!=o.value)return!1;if(a+=i.value.length,i.done||a>=n)return!0}}iter(t=1){return new vp(this,t)}iterRange(t,e=this.length){return new PM(this,t,e)}iterLines(t,e){let n;if(t==null)n=this.iter();else{e==null&&(e=this.lines+1);let i=this.line(t).from;n=this.iterRange(i,Math.max(i,e==this.lines+1?this.length:e<=1?0:this.line(e-1).to))}return new LM(n)}toString(){return this.sliceString(0)}toJSON(){let t=[];return this.flatten(t),t}constructor(){}static of(t){if(t.length==0)throw new RangeError("A document must have at least one line");return t.length==1&&!t[0]?r.empty:t.length<=32?new xl(t):m0.from(xl.split(t,[]))}},xl=class r extends kn{constructor(t,e=Xze(t)){super(),this.text=t,this.length=e}get lines(){return this.text.length}get children(){return null}lineInner(t,e,n,i){for(let o=0;;o++){let s=this.text[o],a=i+s.length;if((e?n:a)>=t)return new j5(i,a,n,s);i=a+1,n++}}decompose(t,e,n,i){let o=t<=0&&e>=this.length?this:new r(que(this.text,t,e),Math.min(e,this.length)-Math.max(0,t));if(i&1){let s=n.pop(),a=FM(o.text,s.text.slice(),0,o.length);if(a.length<=32)n.push(new r(a,s.length+o.length));else{let l=a.length>>1;n.push(new r(a.slice(0,l)),new r(a.slice(l)))}}else n.push(o)}replace(t,e,n){if(!(n instanceof r))return super.replace(t,e,n);[t,e]=b0(this,t,e);let i=FM(this.text,FM(n.text,que(this.text,0,t)),e),o=this.length+n.length-(e-t);return i.length<=32?new r(i,o):m0.from(r.split(i,[]),o)}sliceString(t,e=this.length,n=`
`){[t,e]=b0(this,t,e);let i="";for(let o=0,s=0;o<=e&&s<this.text.length;s++){let a=this.text[s],l=o+a.length;o>t&&s&&(i+=n),t<l&&e>o&&(i+=a.slice(Math.max(0,t-o),e-o)),o=l+1}return i}flatten(t){for(let e of this.text)t.push(e)}scanIdentical(){return 0}static split(t,e){let n=[],i=-1;for(let o of t)n.push(o),i+=o.length+1,n.length==32&&(e.push(new r(n,i)),n=[],i=-1);return i>-1&&e.push(new r(n,i)),e}},m0=class r extends kn{constructor(t,e){super(),this.children=t,this.length=e,this.lines=0;for(let n of t)this.lines+=n.lines}lineInner(t,e,n,i){for(let o=0;;o++){let s=this.children[o],a=i+s.length,l=n+s.lines-1;if((e?l:a)>=t)return s.lineInner(t,e,n,i);i=a+1,n=l+1}}decompose(t,e,n,i){for(let o=0,s=0;s<=e&&o<this.children.length;o++){let a=this.children[o],l=s+a.length;if(t<=l&&e>=s){let c=i&((s<=t?1:0)|(l>=e?2:0));s>=t&&l<=e&&!c?n.push(a):a.decompose(t-s,e-s,n,c)}s=l+1}}replace(t,e,n){if([t,e]=b0(this,t,e),n.lines<this.lines)for(let i=0,o=0;i<this.children.length;i++){let s=this.children[i],a=o+s.length;if(t>=o&&e<=a){let l=s.replace(t-o,e-o,n),c=this.lines-s.lines+l.lines;if(l.lines<c>>4&&l.lines>c>>6){let d=this.children.slice();return d[i]=l,new r(d,this.length-(e-t)+n.length)}return super.replace(o,a,l)}o=a+1}return super.replace(t,e,n)}sliceString(t,e=this.length,n=`
`){[t,e]=b0(this,t,e);let i="";for(let o=0,s=0;o<this.children.length&&s<=e;o++){let a=this.children[o],l=s+a.length;s>t&&o&&(i+=n),t<l&&e>s&&(i+=a.sliceString(t-s,e-s,n)),s=l+1}return i}flatten(t){for(let e of this.children)e.flatten(t)}scanIdentical(t,e){if(!(t instanceof r))return 0;let n=0,[i,o,s,a]=e>0?[0,0,this.children.length,t.children.length]:[this.children.length-1,t.children.length-1,-1,-1];for(;;i+=e,o+=e){if(i==s||o==a)return n;let l=this.children[i],c=t.children[o];if(l!=c)return n+l.scanIdentical(c,e);n+=l.length+1}}static from(t,e=t.reduce((n,i)=>n+i.length+1,-1)){let n=0;for(let p of t)n+=p.lines;if(n<32){let p=[];for(let b of t)b.flatten(p);return new xl(p,e)}let i=Math.max(32,n>>5),o=i<<1,s=i>>1,a=[],l=0,c=-1,d=[];function f(p){let b;if(p.lines>o&&p instanceof r)for(let y of p.children)f(y);else p.lines>s&&(l>s||!l)?(m(),a.push(p)):p instanceof xl&&l&&(b=d[d.length-1])instanceof xl&&p.lines+b.lines<=32?(l+=p.lines,c+=p.length+1,d[d.length-1]=new xl(b.text.concat(p.text),b.length+1+p.length)):(l+p.lines>i&&m(),l+=p.lines,c+=p.length+1,d.push(p))}function m(){l!=0&&(a.push(d.length==1?d[0]:r.from(d,c)),c=-1,l=d.length=0)}for(let p of t)f(p);return m(),a.length==1?a[0]:new r(a,e)}};kn.empty=new xl([""],0);function Xze(r){let t=-1;for(let e of r)t+=e.length+1;return t}function FM(r,t,e=0,n=1e9){for(let i=0,o=0,s=!0;o<r.length&&i<=n;o++){let a=r[o],l=i+a.length;l>=e&&(l>n&&(a=a.slice(0,n-i)),i<e&&(a=a.slice(e-i)),s?(t[t.length-1]+=a,s=!1):t.push(a)),i=l+1}return t}function que(r,t,e){return FM(r,[""],t,e)}var vp=class{constructor(t,e=1){this.dir=e,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[t],this.offsets=[e>0?1:(t instanceof xl?t.text.length:t.children.length)<<1]}nextInner(t,e){for(this.done=this.lineBreak=!1;;){let n=this.nodes.length-1,i=this.nodes[n],o=this.offsets[n],s=o>>1,a=i instanceof xl?i.text.length:i.children.length;if(s==(e>0?a:0)){if(n==0)return this.done=!0,this.value="",this;e>0&&this.offsets[n-1]++,this.nodes.pop(),this.offsets.pop()}else if((o&1)==(e>0?0:1)){if(this.offsets[n]+=e,t==0)return this.lineBreak=!0,this.value=`
`,this;t--}else if(i instanceof xl){let l=i.text[s+(e<0?-1:0)];if(this.offsets[n]+=e,l.length>Math.max(0,t))return this.value=t==0?l:e>0?l.slice(t):l.slice(0,l.length-t),this;t-=l.length}else{let l=i.children[s+(e<0?-1:0)];t>l.length?(t-=l.length,this.offsets[n]+=e):(e<0&&this.offsets[n]--,this.nodes.push(l),this.offsets.push(e>0?1:(l instanceof xl?l.text.length:l.children.length)<<1))}}}next(t=0){return t<0&&(this.nextInner(-t,-this.dir),t=this.value.length),this.nextInner(t,this.dir)}},PM=class{constructor(t,e,n){this.value="",this.done=!1,this.cursor=new vp(t,e>n?-1:1),this.pos=e>n?t.length:0,this.from=Math.min(e,n),this.to=Math.max(e,n)}nextInner(t,e){if(e<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;t+=Math.max(0,e<0?this.pos-this.to:this.from-this.pos);let n=e<0?this.pos-this.from:this.to-this.pos;t>n&&(t=n),n-=t;let{value:i}=this.cursor.next(t);return this.pos+=(i.length+t)*e,this.value=i.length<=n?i:e<0?i.slice(i.length-n):i.slice(0,n),this.done=!this.value,this}next(t=0){return t<0?t=Math.max(t,this.from-this.pos):t>0&&(t=Math.min(t,this.to-this.pos)),this.nextInner(t,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}},LM=class{constructor(t){this.inner=t,this.afterBreak=!0,this.value="",this.done=!1}next(t=0){let{done:e,lineBreak:n,value:i}=this.inner.next(t);return e&&this.afterBreak?(this.value="",this.afterBreak=!1):e?(this.done=!0,this.value=""):n?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=i,this.afterBreak=!1),this}get lineBreak(){return!1}};typeof Symbol<"u"&&(kn.prototype[Symbol.iterator]=function(){return this.iter()},vp.prototype[Symbol.iterator]=PM.prototype[Symbol.iterator]=LM.prototype[Symbol.iterator]=function(){return this});var j5=class{constructor(t,e,n,i){this.from=t,this.to=e,this.number=n,this.text=i}get length(){return this.to-this.from}};function b0(r,t,e){return t=Math.max(0,Math.min(r.length,t)),[t,Math.max(t,Math.min(r.length,e))]}var p0="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(r=>r?parseInt(r,36):1);for(let r=1;r<p0.length;r++)p0[r]+=p0[r-1];function Zze(r){for(let t=1;t<p0.length;t+=2)if(p0[t]>r)return p0[t-1]<=r;return!1}function Wue(r){return r>=127462&&r<=127487}var $ue=8205;function ku(r,t,e=!0,n=!0){return(e?ede:Qze)(r,t,n)}function ede(r,t,e){if(t==r.length)return t;t&&tde(r.charCodeAt(t))&&rde(r.charCodeAt(t-1))&&t--;let n=RM(r,t);for(t+=H5(n);t<r.length;){let i=RM(r,t);if(n==$ue||i==$ue||e&&Zze(i))t+=H5(i),n=i;else if(Wue(i)){let o=0,s=t-2;for(;s>=0&&Wue(RM(r,s));)o++,s-=2;if(o%2==0)break;t+=2}else break}return t}function Qze(r,t,e){for(;t>0;){let n=ede(r,t-2,e);if(n<t)return n;t--}return 0}function tde(r){return r>=56320&&r<57344}function rde(r){return r>=55296&&r<56320}function RM(r,t){let e=r.charCodeAt(t);if(!rde(e)||t+1==r.length)return e;let n=r.charCodeAt(t+1);return tde(n)?(e-55296<<10)+(n-56320)+65536:e}function H5(r){return r<65536?1:2}var U5=/\r\n?|\n/,Ha=function(r){return r[r.Simple=0]="Simple",r[r.TrackDel=1]="TrackDel",r[r.TrackBefore=2]="TrackBefore",r[r.TrackAfter=3]="TrackAfter",r}(Ha||(Ha={})),bp=class r{constructor(t){this.sections=t}get length(){let t=0;for(let e=0;e<this.sections.length;e+=2)t+=this.sections[e];return t}get newLength(){let t=0;for(let e=0;e<this.sections.length;e+=2){let n=this.sections[e+1];t+=n<0?this.sections[e]:n}return t}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps(t){for(let e=0,n=0,i=0;e<this.sections.length;){let o=this.sections[e++],s=this.sections[e++];s<0?(t(n,i,o),i+=o):i+=s,n+=o}}iterChangedRanges(t,e=!1){q5(this,t,e)}get invertedDesc(){let t=[];for(let e=0;e<this.sections.length;){let n=this.sections[e++],i=this.sections[e++];i<0?t.push(n,i):t.push(i,n)}return new r(t)}composeDesc(t){return this.empty?t:t.empty?this:nde(this,t)}mapDesc(t,e=!1){return t.empty?this:W5(this,t,e)}mapPos(t,e=-1,n=Ha.Simple){let i=0,o=0;for(let s=0;s<this.sections.length;){let a=this.sections[s++],l=this.sections[s++],c=i+a;if(l<0){if(c>t)return o+(t-i);o+=a}else{if(n!=Ha.Simple&&c>=t&&(n==Ha.TrackDel&&i<t&&c>t||n==Ha.TrackBefore&&i<t||n==Ha.TrackAfter&&c>t))return null;if(c>t||c==t&&e<0&&!a)return t==i||e<0?o:o+l;o+=l}i=c}if(t>i)throw new RangeError(`Position ${t} is out of range for changeset of length ${i}`);return o}touchesRange(t,e=t){for(let n=0,i=0;n<this.sections.length&&i<=e;){let o=this.sections[n++],s=this.sections[n++],a=i+o;if(s>=0&&i<=e&&a>=t)return i<t&&a>e?"cover":!0;i=a}return!1}toString(){let t="";for(let e=0;e<this.sections.length;){let n=this.sections[e++],i=this.sections[e++];t+=(t?" ":"")+n+(i>=0?":"+i:"")}return t}toJSON(){return this.sections}static fromJSON(t){if(!Array.isArray(t)||t.length%2||t.some(e=>typeof e!="number"))throw new RangeError("Invalid JSON representation of ChangeDesc");return new r(t)}static create(t){return new r(t)}},wl=class r extends bp{constructor(t,e){super(t),this.inserted=e}apply(t){if(this.length!=t.length)throw new RangeError("Applying change set to a document with the wrong length");return q5(this,(e,n,i,o,s)=>t=t.replace(i,i+(n-e),s),!1),t}mapDesc(t,e=!1){return W5(this,t,e,!0)}invert(t){let e=this.sections.slice(),n=[];for(let i=0,o=0;i<e.length;i+=2){let s=e[i],a=e[i+1];if(a>=0){e[i]=a,e[i+1]=s;let l=i>>1;for(;n.length<l;)n.push(kn.empty);n.push(s?t.slice(o,o+s):kn.empty)}o+=s}return new r(e,n)}compose(t){return this.empty?t:t.empty?this:nde(this,t,!0)}map(t,e=!1){return t.empty?this:W5(this,t,e,!0)}iterChanges(t,e=!1){q5(this,t,e)}get desc(){return bp.create(this.sections)}filter(t){let e=[],n=[],i=[],o=new yp(this);e:for(let s=0,a=0;;){let l=s==t.length?1e9:t[s++];for(;a<l||a==l&&o.len==0;){if(o.done)break e;let d=Math.min(o.len,l-a);Gs(i,d,-1);let f=o.ins==-1?-1:o.off==0?o.ins:0;Gs(e,d,f),f>0&&Eh(n,e,o.text),o.forward(d),a+=d}let c=t[s++];for(;a<c;){if(o.done)break e;let d=Math.min(o.len,c-a);Gs(e,d,-1),Gs(i,d,o.ins==-1?-1:o.off==0?o.ins:0),o.forward(d),a+=d}}return{changes:new r(e,n),filtered:bp.create(i)}}toJSON(){let t=[];for(let e=0;e<this.sections.length;e+=2){let n=this.sections[e],i=this.sections[e+1];i<0?t.push(n):i==0?t.push([n]):t.push([n].concat(this.inserted[e>>1].toJSON()))}return t}static of(t,e,n){let i=[],o=[],s=0,a=null;function l(d=!1){if(!d&&!i.length)return;s<e&&Gs(i,e-s,-1);let f=new r(i,o);a=a?a.compose(f.map(a)):f,i=[],o=[],s=0}function c(d){if(Array.isArray(d))for(let f of d)c(f);else if(d instanceof r){if(d.length!=e)throw new RangeError(`Mismatched change set length (got ${d.length}, expected ${e})`);l(),a=a?a.compose(d.map(a)):d}else{let{from:f,to:m=f,insert:p}=d;if(f>m||f<0||m>e)throw new RangeError(`Invalid change range ${f} to ${m} (in doc of length ${e})`);let b=p?typeof p=="string"?kn.of(p.split(n||U5)):p:kn.empty,y=b.length;if(f==m&&y==0)return;f<s&&l(),f>s&&Gs(i,f-s,-1),Gs(i,m-f,y),Eh(o,i,b),s=m}}return c(t),l(!a),a}static empty(t){return new r(t?[t,-1]:[],[])}static fromJSON(t){if(!Array.isArray(t))throw new RangeError("Invalid JSON representation of ChangeSet");let e=[],n=[];for(let i=0;i<t.length;i++){let o=t[i];if(typeof o=="number")e.push(o,-1);else{if(!Array.isArray(o)||typeof o[0]!="number"||o.some((s,a)=>a&&typeof s!="string"))throw new RangeError("Invalid JSON representation of ChangeSet");if(o.length==1)e.push(o[0],0);else{for(;n.length<i;)n.push(kn.empty);n[i]=kn.of(o.slice(1)),e.push(o[0],n[i].length)}}}return new r(e,n)}static createSet(t,e){return new r(t,e)}};function Gs(r,t,e,n=!1){if(t==0&&e<=0)return;let i=r.length-2;i>=0&&e<=0&&e==r[i+1]?r[i]+=t:t==0&&r[i]==0?r[i+1]+=e:n?(r[i]+=t,r[i+1]+=e):r.push(t,e)}function Eh(r,t,e){if(e.length==0)return;let n=t.length-2>>1;if(n<r.length)r[r.length-1]=r[r.length-1].append(e);else{for(;r.length<n;)r.push(kn.empty);r.push(e)}}function q5(r,t,e){let n=r.inserted;for(let i=0,o=0,s=0;s<r.sections.length;){let a=r.sections[s++],l=r.sections[s++];if(l<0)i+=a,o+=a;else{let c=i,d=o,f=kn.empty;for(;c+=a,d+=l,l&&n&&(f=f.append(n[s-2>>1])),!(e||s==r.sections.length||r.sections[s+1]<0);)a=r.sections[s++],l=r.sections[s++];t(i,c,o,d,f),i=c,o=d}}}function W5(r,t,e,n=!1){let i=[],o=n?[]:null,s=new yp(r),a=new yp(t);for(let l=-1;;)if(s.ins==-1&&a.ins==-1){let c=Math.min(s.len,a.len);Gs(i,c,-1),s.forward(c),a.forward(c)}else if(a.ins>=0&&(s.ins<0||l==s.i||s.off==0&&(a.len<s.len||a.len==s.len&&!e))){let c=a.len;for(Gs(i,a.ins,-1);c;){let d=Math.min(s.len,c);s.ins>=0&&l<s.i&&s.len<=d&&(Gs(i,0,s.ins),o&&Eh(o,i,s.text),l=s.i),s.forward(d),c-=d}a.next()}else if(s.ins>=0){let c=0,d=s.len;for(;d;)if(a.ins==-1){let f=Math.min(d,a.len);c+=f,d-=f,a.forward(f)}else if(a.ins==0&&a.len<d)d-=a.len,a.next();else break;Gs(i,c,l<s.i?s.ins:0),o&&l<s.i&&Eh(o,i,s.text),l=s.i,s.forward(s.len-d)}else{if(s.done&&a.done)return o?wl.createSet(i,o):bp.create(i);throw new Error("Mismatched change set lengths")}}function nde(r,t,e=!1){let n=[],i=e?[]:null,o=new yp(r),s=new yp(t);for(let a=!1;;){if(o.done&&s.done)return i?wl.createSet(n,i):bp.create(n);if(o.ins==0)Gs(n,o.len,0,a),o.next();else if(s.len==0&&!s.done)Gs(n,0,s.ins,a),i&&Eh(i,n,s.text),s.next();else{if(o.done||s.done)throw new Error("Mismatched change set lengths");{let l=Math.min(o.len2,s.len),c=n.length;if(o.ins==-1){let d=s.ins==-1?-1:s.off?0:s.ins;Gs(n,l,d,a),i&&d&&Eh(i,n,s.text)}else s.ins==-1?(Gs(n,o.off?0:o.len,l,a),i&&Eh(i,n,o.textBit(l))):(Gs(n,o.off?0:o.len,s.off?0:s.ins,a),i&&!s.off&&Eh(i,n,s.text));a=(o.ins>l||s.ins>=0&&s.len>l)&&(a||n.length>c),o.forward2(l),s.forward(l)}}}}var yp=class{constructor(t){this.set=t,this.i=0,this.next()}next(){let{sections:t}=this.set;this.i<t.length?(this.len=t[this.i++],this.ins=t[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:t}=this.set,e=this.i-2>>1;return e>=t.length?kn.empty:t[e]}textBit(t){let{inserted:e}=this.set,n=this.i-2>>1;return n>=e.length&&!t?kn.empty:e[n].slice(this.off,t==null?void 0:this.off+t)}forward(t){t==this.len?this.next():(this.len-=t,this.off+=t)}forward2(t){this.ins==-1?this.forward(t):t==this.ins?this.next():(this.ins-=t,this.off+=t)}},h0=class r{constructor(t,e,n){this.from=t,this.to=e,this.flags=n}get anchor(){return this.flags&32?this.to:this.from}get head(){return this.flags&32?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return this.flags&8?-1:this.flags&16?1:0}get bidiLevel(){let t=this.flags&7;return t==7?null:t}get goalColumn(){let t=this.flags>>6;return t==16777215?void 0:t}map(t,e=-1){let n,i;return this.empty?n=i=t.mapPos(this.from,e):(n=t.mapPos(this.from,1),i=t.mapPos(this.to,-1)),n==this.from&&i==this.to?this:new r(n,i,this.flags)}extend(t,e=t){if(t<=this.anchor&&e>=this.anchor)return Dr.range(t,e);let n=Math.abs(t-this.anchor)>Math.abs(e-this.anchor)?t:e;return Dr.range(this.anchor,n)}eq(t,e=!1){return this.anchor==t.anchor&&this.head==t.head&&(!e||!this.empty||this.assoc==t.assoc)}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(t){if(!t||typeof t.anchor!="number"||typeof t.head!="number")throw new RangeError("Invalid JSON representation for SelectionRange");return Dr.range(t.anchor,t.head)}static create(t,e,n){return new r(t,e,n)}},Dr=class r{constructor(t,e){this.ranges=t,this.mainIndex=e}map(t,e=-1){return t.empty?this:r.create(this.ranges.map(n=>n.map(t,e)),this.mainIndex)}eq(t,e=!1){if(this.ranges.length!=t.ranges.length||this.mainIndex!=t.mainIndex)return!1;for(let n=0;n<this.ranges.length;n++)if(!this.ranges[n].eq(t.ranges[n],e))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new r([this.main],0)}addRange(t,e=!0){return r.create([t].concat(this.ranges),e?0:this.mainIndex+1)}replaceRange(t,e=this.mainIndex){let n=this.ranges.slice();return n[e]=t,r.create(n,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(t=>t.toJSON()),main:this.mainIndex}}static fromJSON(t){if(!t||!Array.isArray(t.ranges)||typeof t.main!="number"||t.main>=t.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new r(t.ranges.map(e=>h0.fromJSON(e)),t.main)}static single(t,e=t){return new r([r.range(t,e)],0)}static create(t,e=0){if(t.length==0)throw new RangeError("A selection needs at least one range");for(let n=0,i=0;i<t.length;i++){let o=t[i];if(o.empty?o.from<=n:o.from<n)return r.normalized(t.slice(),e);n=o.to}return new r(t,e)}static cursor(t,e=0,n,i){return h0.create(t,t,(e==0?0:e<0?8:16)|(n==null?7:Math.min(6,n))|(i??16777215)<<6)}static range(t,e,n,i){let o=(n??16777215)<<6|(i==null?7:Math.min(6,i));return e<t?h0.create(e,t,48|o):h0.create(t,e,(e>t?8:0)|o)}static normalized(t,e=0){let n=t[e];t.sort((i,o)=>i.from-o.from),e=t.indexOf(n);for(let i=1;i<t.length;i++){let o=t[i],s=t[i-1];if(o.empty?o.from<=s.to:o.from<s.to){let a=s.from,l=Math.max(o.to,s.to);i<=e&&e--,t.splice(--i,2,o.anchor>o.head?r.range(l,a):r.range(a,l))}}return new r(t,e)}};function ide(r,t){for(let e of r.ranges)if(e.to>t)throw new RangeError("Selection points outside of document")}var e8=0,qr=class r{constructor(t,e,n,i,o){this.combine=t,this.compareInput=e,this.compare=n,this.isStatic=i,this.id=e8++,this.default=t([]),this.extensions=typeof o=="function"?o(this):o}get reader(){return this}static define(t={}){return new r(t.combine||(e=>e),t.compareInput||((e,n)=>e===n),t.compare||(t.combine?(e,n)=>e===n:t8),!!t.static,t.enables)}of(t){return new g0([],this,0,t)}compute(t,e){if(this.isStatic)throw new Error("Can't compute a static facet");return new g0(t,this,1,e)}computeN(t,e){if(this.isStatic)throw new Error("Can't compute a static facet");return new g0(t,this,2,e)}from(t,e){return e||(e=n=>n),this.compute([t],n=>e(n.field(t)))}};function t8(r,t){return r==t||r.length==t.length&&r.every((e,n)=>e===t[n])}var g0=class{constructor(t,e,n,i){this.dependencies=t,this.facet=e,this.type=n,this.value=i,this.id=e8++}dynamicSlot(t){var e;let n=this.value,i=this.facet.compareInput,o=this.id,s=t[o]>>1,a=this.type==2,l=!1,c=!1,d=[];for(let f of this.dependencies)f=="doc"?l=!0:f=="selection"?c=!0:((e=t[f.id])!==null&&e!==void 0?e:1)&1||d.push(t[f.id]);return{create(f){return f.values[s]=n(f),1},update(f,m){if(l&&m.docChanged||c&&(m.docChanged||m.selection)||$5(f,d)){let p=n(f);if(a?!Gue(p,f.values[s],i):!i(p,f.values[s]))return f.values[s]=p,1}return 0},reconfigure:(f,m)=>{let p,b=m.config.address[o];if(b!=null){let y=jM(m,b);if(this.dependencies.every(C=>C instanceof qr?m.facet(C)===f.facet(C):C instanceof qd?m.field(C,!1)==f.field(C,!1):!0)||(a?Gue(p=n(f),y,i):i(p=n(f),y)))return f.values[s]=y,0}else p=n(f);return f.values[s]=p,1}}}};function Gue(r,t,e){if(r.length!=t.length)return!1;for(let n=0;n<r.length;n++)if(!e(r[n],t[n]))return!1;return!0}function $5(r,t){let e=!1;for(let n of t)fx(r,n)&1&&(e=!0);return e}function Jze(r,t,e){let n=e.map(l=>r[l.id]),i=e.map(l=>l.type),o=n.filter(l=>!(l&1)),s=r[t.id]>>1;function a(l){let c=[];for(let d=0;d<n.length;d++){let f=jM(l,n[d]);if(i[d]==2)for(let m of f)c.push(m);else c.push(f)}return t.combine(c)}return{create(l){for(let c of n)fx(l,c);return l.values[s]=a(l),1},update(l,c){if(!$5(l,o))return 0;let d=a(l);return t.compare(d,l.values[s])?0:(l.values[s]=d,1)},reconfigure(l,c){let d=$5(l,n),f=c.config.facets[t.id],m=c.facet(t);if(f&&!d&&t8(e,f))return l.values[s]=m,0;let p=a(l);return t.compare(p,m)?(l.values[s]=m,0):(l.values[s]=p,1)}}}var Yue=qr.define({static:!0}),qd=class r{constructor(t,e,n,i,o){this.id=t,this.createF=e,this.updateF=n,this.compareF=i,this.spec=o,this.provides=void 0}static define(t){let e=new r(e8++,t.create,t.update,t.compare||((n,i)=>n===i),t);return t.provide&&(e.provides=t.provide(e)),e}create(t){let e=t.facet(Yue).find(n=>n.field==this);return(e?.create||this.createF)(t)}slot(t){let e=t[this.id]>>1;return{create:n=>(n.values[e]=this.create(n),1),update:(n,i)=>{let o=n.values[e],s=this.updateF(o,i);return this.compareF(o,s)?0:(n.values[e]=s,1)},reconfigure:(n,i)=>i.config.address[this.id]!=null?(n.values[e]=i.field(this),0):(n.values[e]=this.create(n),1)}}init(t){return[this,Yue.of({field:this,create:t})]}get extension(){return this}},pp={lowest:4,low:3,default:2,high:1,highest:0};function dx(r){return t=>new BM(t,r)}var r8={highest:dx(pp.highest),high:dx(pp.high),default:dx(pp.default),low:dx(pp.low),lowest:dx(pp.lowest)},BM=class{constructor(t,e){this.inner=t,this.prec=e}},VM=class r{of(t){return new hx(this,t)}reconfigure(t){return r.reconfigure.of({compartment:this,extension:t})}get(t){return t.config.compartments.get(this)}},hx=class{constructor(t,e){this.compartment=t,this.inner=e}},zM=class r{constructor(t,e,n,i,o,s){for(this.base=t,this.compartments=e,this.dynamicSlots=n,this.address=i,this.staticValues=o,this.facets=s,this.statusTemplate=[];this.statusTemplate.length<n.length;)this.statusTemplate.push(0)}staticFacet(t){let e=this.address[t.id];return e==null?t.default:this.staticValues[e>>1]}static resolve(t,e,n){let i=[],o=Object.create(null),s=new Map;for(let m of e4e(t,e,s))m instanceof qd?i.push(m):(o[m.facet.id]||(o[m.facet.id]=[])).push(m);let a=Object.create(null),l=[],c=[];for(let m of i)a[m.id]=c.length<<1,c.push(p=>m.slot(p));let d=n?.config.facets;for(let m in o){let p=o[m],b=p[0].facet,y=d&&d[m]||[];if(p.every(C=>C.type==0))if(a[b.id]=l.length<<1|1,t8(y,p))l.push(n.facet(b));else{let C=b.combine(p.map(S=>S.value));l.push(n&&b.compare(C,n.facet(b))?n.facet(b):C)}else{for(let C of p)C.type==0?(a[C.id]=l.length<<1|1,l.push(C.value)):(a[C.id]=c.length<<1,c.push(S=>C.dynamicSlot(S)));a[b.id]=c.length<<1,c.push(C=>Jze(C,b,p))}}let f=c.map(m=>m(a));return new r(t,s,f,a,l,o)}};function e4e(r,t,e){let n=[[],[],[],[],[]],i=new Map;function o(s,a){let l=i.get(s);if(l!=null){if(l<=a)return;let c=n[l].indexOf(s);c>-1&&n[l].splice(c,1),s instanceof hx&&e.delete(s.compartment)}if(i.set(s,a),Array.isArray(s))for(let c of s)o(c,a);else if(s instanceof hx){if(e.has(s.compartment))throw new RangeError("Duplicate use of compartment in extensions");let c=t.get(s.compartment)||s.inner;e.set(s.compartment,c),o(c,a)}else if(s instanceof BM)o(s.inner,s.prec);else if(s instanceof qd)n[a].push(s),s.provides&&o(s.provides,a);else if(s instanceof g0)n[a].push(s),s.facet.extensions&&o(s.facet.extensions,pp.default);else{let c=s.extension;if(!c)throw new Error(`Unrecognized extension value in extension set (${s}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);o(c,a)}}return o(r,pp.default),n.reduce((s,a)=>s.concat(a))}function fx(r,t){if(t&1)return 2;let e=t>>1,n=r.status[e];if(n==4)throw new Error("Cyclic dependency between fields and/or facets");if(n&2)return n;r.status[e]=4;let i=r.computeSlot(r,r.config.dynamicSlots[e]);return r.status[e]=2|i}function jM(r,t){return t&1?r.config.staticValues[t>>1]:r.values[t>>1]}var Kue=qr.define(),V5=qr.define({combine:r=>r.some(t=>t),static:!0}),ode=qr.define({combine:r=>r.length?r[0]:void 0,static:!0}),sde=qr.define(),ade=qr.define(),lde=qr.define(),Xue=qr.define({combine:r=>r.length?r[0]:!1}),Ud=class{constructor(t,e){this.type=t,this.value=e}static define(){return new G5}},G5=class{of(t){return new Ud(this,t)}},Y5=class{constructor(t){this.map=t}of(t){return new va(this,t)}},va=(()=>{class r{constructor(e,n){this.type=e,this.value=n}map(e){let n=this.type.map(this.value,e);return n===void 0?void 0:n==this.value?this:new r(this.type,n)}is(e){return this.type==e}static define(e={}){return new Y5(e.map||(n=>n))}static mapEffects(e,n){if(!e.length)return e;let i=[];for(let o of e){let s=o.map(n);s&&i.push(s)}return i}}return r.reconfigure=r.define(),r.appendConfig=r.define(),r})(),Mh=(()=>{class r{constructor(e,n,i,o,s,a){this.startState=e,this.changes=n,this.selection=i,this.effects=o,this.annotations=s,this.scrollIntoView=a,this._doc=null,this._state=null,i&&ide(i,n.newLength),s.some(l=>l.type==r.time)||(this.annotations=s.concat(r.time.of(Date.now())))}static create(e,n,i,o,s,a){return new r(e,n,i,o,s,a)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(e){for(let n of this.annotations)if(n.type==e)return n.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(e){let n=this.annotation(r.userEvent);return!!(n&&(n==e||n.length>e.length&&n.slice(0,e.length)==e&&n[e.length]=="."))}}return r.time=Ud.define(),r.userEvent=Ud.define(),r.addToHistory=Ud.define(),r.remote=Ud.define(),r})();function t4e(r,t){let e=[];for(let n=0,i=0;;){let o,s;if(n<r.length&&(i==t.length||t[i]>=r[n]))o=r[n++],s=r[n++];else if(i<t.length)o=t[i++],s=t[i++];else return e;!e.length||e[e.length-1]<o?e.push(o,s):e[e.length-1]<s&&(e[e.length-1]=s)}}function cde(r,t,e){var n;let i,o,s;return e?(i=t.changes,o=wl.empty(t.changes.length),s=r.changes.compose(t.changes)):(i=t.changes.map(r.changes),o=r.changes.mapDesc(t.changes,!0),s=r.changes.compose(i)),{changes:s,selection:t.selection?t.selection.map(o):(n=r.selection)===null||n===void 0?void 0:n.map(i),effects:va.mapEffects(r.effects,i).concat(va.mapEffects(t.effects,o)),annotations:r.annotations.length?r.annotations.concat(t.annotations):t.annotations,scrollIntoView:r.scrollIntoView||t.scrollIntoView}}function K5(r,t,e){let n=t.selection,i=v0(t.annotations);return t.userEvent&&(i=i.concat(Mh.userEvent.of(t.userEvent))),{changes:t.changes instanceof wl?t.changes:wl.of(t.changes||[],e,r.facet(ode)),selection:n&&(n instanceof Dr?n:Dr.single(n.anchor,n.head)),effects:v0(t.effects),annotations:i,scrollIntoView:!!t.scrollIntoView}}function ude(r,t,e){let n=K5(r,t.length?t[0]:{},r.doc.length);t.length&&t[0].filter===!1&&(e=!1);for(let o=1;o<t.length;o++){t[o].filter===!1&&(e=!1);let s=!!t[o].sequential;n=cde(n,K5(r,t[o],s?n.changes.newLength:r.doc.length),s)}let i=Mh.create(r,n.changes,n.selection,n.effects,n.annotations,n.scrollIntoView);return n4e(e?r4e(i):i)}function r4e(r){let t=r.startState,e=!0;for(let i of t.facet(sde)){let o=i(r);if(o===!1){e=!1;break}Array.isArray(o)&&(e=e===!0?o:t4e(e,o))}if(e!==!0){let i,o;if(e===!1)o=r.changes.invertedDesc,i=wl.empty(t.doc.length);else{let s=r.changes.filter(e);i=s.changes,o=s.filtered.mapDesc(s.changes).invertedDesc}r=Mh.create(t,i,r.selection&&r.selection.map(o),va.mapEffects(r.effects,o),r.annotations,r.scrollIntoView)}let n=t.facet(ade);for(let i=n.length-1;i>=0;i--){let o=n[i](r);o instanceof Mh?r=o:Array.isArray(o)&&o.length==1&&o[0]instanceof Mh?r=o[0]:r=ude(t,v0(o),!1)}return r}function n4e(r){let t=r.startState,e=t.facet(lde),n=r;for(let i=e.length-1;i>=0;i--){let o=e[i](r);o&&Object.keys(o).length&&(n=cde(n,K5(t,o,r.changes.newLength),!0))}return n==r?r:Mh.create(t,r.changes,r.selection,n.effects,n.annotations,n.scrollIntoView)}var i4e=[];function v0(r){return r==null?i4e:Array.isArray(r)?r:[r]}var Iu=function(r){return r[r.Word=0]="Word",r[r.Space=1]="Space",r[r.Other=2]="Other",r}(Iu||(Iu={})),o4e=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/,X5;try{X5=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch{}function s4e(r){if(X5)return X5.test(r);for(let t=0;t<r.length;t++){let e=r[t];if(/\w/.test(e)||e>"\x80"&&(e.toUpperCase()!=e.toLowerCase()||o4e.test(e)))return!0}return!1}function a4e(r){return t=>{if(!/\S/.test(t))return Iu.Space;if(s4e(t))return Iu.Word;for(let e=0;e<r.length;e++)if(t.indexOf(r[e])>-1)return Iu.Word;return Iu.Other}}var Nu=(()=>{class r{constructor(e,n,i,o,s,a){this.config=e,this.doc=n,this.selection=i,this.values=o,this.status=e.statusTemplate.slice(),this.computeSlot=s,a&&(a._state=this);for(let l=0;l<this.config.dynamicSlots.length;l++)fx(this,l<<1);this.computeSlot=null}field(e,n=!0){let i=this.config.address[e.id];if(i==null){if(n)throw new RangeError("Field is not present in this state");return}return fx(this,i),jM(this,i)}update(...e){return ude(this,e,!0)}applyTransaction(e){let n=this.config,{base:i,compartments:o}=n;for(let l of e.effects)l.is(VM.reconfigure)?(n&&(o=new Map,n.compartments.forEach((c,d)=>o.set(d,c)),n=null),o.set(l.value.compartment,l.value.extension)):l.is(va.reconfigure)?(n=null,i=l.value):l.is(va.appendConfig)&&(n=null,i=v0(i).concat(l.value));let s;n?s=e.startState.values.slice():(n=zM.resolve(i,o,this),s=new r(n,this.doc,this.selection,n.dynamicSlots.map(()=>null),(c,d)=>d.reconfigure(c,this),null).values);let a=e.startState.facet(V5)?e.newSelection:e.newSelection.asSingle();new r(n,e.newDoc,a,s,(l,c)=>c.update(l,e),e)}replaceSelection(e){return typeof e=="string"&&(e=this.toText(e)),this.changeByRange(n=>({changes:{from:n.from,to:n.to,insert:e},range:Dr.cursor(n.from+e.length)}))}changeByRange(e){let n=this.selection,i=e(n.ranges[0]),o=this.changes(i.changes),s=[i.range],a=v0(i.effects);for(let l=1;l<n.ranges.length;l++){let c=e(n.ranges[l]),d=this.changes(c.changes),f=d.map(o);for(let p=0;p<l;p++)s[p]=s[p].map(f);let m=o.mapDesc(d,!0);s.push(c.range.map(m)),o=o.compose(f),a=va.mapEffects(a,f).concat(va.mapEffects(v0(c.effects),m))}return{changes:o,selection:Dr.create(s,n.mainIndex),effects:a}}changes(e=[]){return e instanceof wl?e:wl.of(e,this.doc.length,this.facet(r.lineSeparator))}toText(e){return kn.of(e.split(this.facet(r.lineSeparator)||U5))}sliceDoc(e=0,n=this.doc.length){return this.doc.sliceString(e,n,this.lineBreak)}facet(e){let n=this.config.address[e.id];return n==null?e.default:(fx(this,n),jM(this,n))}toJSON(e){let n={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(e)for(let i in e){let o=e[i];o instanceof qd&&this.config.address[o.id]!=null&&(n[i]=o.spec.toJSON(this.field(e[i]),this))}return n}static fromJSON(e,n={},i){if(!e||typeof e.doc!="string")throw new RangeError("Invalid JSON representation for EditorState");let o=[];if(i){for(let s in i)if(Object.prototype.hasOwnProperty.call(e,s)){let a=i[s],l=e[s];o.push(a.init(c=>a.spec.fromJSON(l,c)))}}return r.create({doc:e.doc,selection:Dr.fromJSON(e.selection),extensions:n.extensions?o.concat([n.extensions]):o})}static create(e={}){let n=zM.resolve(e.extensions||[],new Map),i=e.doc instanceof kn?e.doc:kn.of((e.doc||"").split(n.staticFacet(r.lineSeparator)||U5)),o=e.selection?e.selection instanceof Dr?e.selection:Dr.single(e.selection.anchor,e.selection.head):Dr.single(0);return ide(o,i.length),n.staticFacet(V5)||(o=o.asSingle()),new r(n,i,o,n.dynamicSlots.map(()=>null),(s,a)=>a.create(s),null)}get tabSize(){return this.facet(r.tabSize)}get lineBreak(){return this.facet(r.lineSeparator)||`
`}get readOnly(){return this.facet(Xue)}phrase(e,...n){for(let i of this.facet(r.phrases))if(Object.prototype.hasOwnProperty.call(i,e)){e=i[e];break}return n.length&&(e=e.replace(/\$(\$|\d*)/g,(i,o)=>{if(o=="$")return"$";let s=+(o||1);return!s||s>n.length?i:n[s-1]})),e}languageDataAt(e,n,i=-1){let o=[];for(let s of this.facet(Kue))for(let a of s(this,n,i))Object.prototype.hasOwnProperty.call(a,e)&&o.push(a[e]);return o}charCategorizer(e){return a4e(this.languageDataAt("wordChars",e).join(""))}wordAt(e){let{text:n,from:i,length:o}=this.doc.lineAt(e),s=this.charCategorizer(e),a=e-i,l=e-i;for(;a>0;){let c=ku(n,a,!1);if(s(n.slice(c,a))!=Iu.Word)break;a=c}for(;l<o;){let c=ku(n,l);if(s(n.slice(l,c))!=Iu.Word)break;l=c}return a==l?null:Dr.range(a+i,l+i)}}return r.allowMultipleSelections=V5,r.tabSize=qr.define({combine:t=>t.length?t[0]:4}),r.lineSeparator=ode,r.readOnly=Xue,r.phrases=qr.define({compare(t,e){let n=Object.keys(t),i=Object.keys(e);return n.length==i.length&&n.every(o=>t[o]==e[o])}}),r.languageData=Kue,r.changeFilter=sde,r.transactionFilter=ade,r.transactionExtender=lde,r})();VM.reconfigure=va.define();var Wd=class{eq(t){return this==t}range(t,e=t){return mx.create(t,e,this)}};Wd.prototype.startSide=Wd.prototype.endSide=0;Wd.prototype.point=!1;Wd.prototype.mapMode=Ha.TrackDel;var mx=class r{constructor(t,e,n){this.from=t,this.to=e,this.value=n}static create(t,e,n){return new r(t,e,n)}};function Z5(r,t){return r.from-t.from||r.value.startSide-t.value.startSide}var Q5=class r{constructor(t,e,n,i){this.from=t,this.to=e,this.value=n,this.maxPoint=i}get length(){return this.to[this.to.length-1]}findIndex(t,e,n,i=0){let o=n?this.to:this.from;for(let s=i,a=o.length;;){if(s==a)return s;let l=s+a>>1,c=o[l]-t||(n?this.value[l].endSide:this.value[l].startSide)-e;if(l==s)return c>=0?s:a;c>=0?a=l:s=l+1}}between(t,e,n,i){for(let o=this.findIndex(e,-1e9,!0),s=this.findIndex(n,1e9,!1,o);o<s;o++)if(i(this.from[o]+t,this.to[o]+t,this.value[o])===!1)return!1}map(t,e){let n=[],i=[],o=[],s=-1,a=-1;for(let l=0;l<this.value.length;l++){let c=this.value[l],d=this.from[l]+t,f=this.to[l]+t,m,p;if(d==f){let b=e.mapPos(d,c.startSide,c.mapMode);if(b==null||(m=p=b,c.startSide!=c.endSide&&(p=e.mapPos(d,c.endSide),p<m)))continue}else if(m=e.mapPos(d,c.startSide),p=e.mapPos(f,c.endSide),m>p||m==p&&c.startSide>0&&c.endSide<=0)continue;(p-m||c.endSide-c.startSide)<0||(s<0&&(s=m),c.point&&(a=Math.max(a,p-m)),n.push(c),i.push(m-s),o.push(p-s))}return{mapped:n.length?new r(i,o,n,a):null,pos:s}}},Ys=(()=>{class r{constructor(e,n,i,o){this.chunkPos=e,this.chunk=n,this.nextLayer=i,this.maxPoint=o}static create(e,n,i,o){return new r(e,n,i,o)}get length(){let e=this.chunk.length-1;return e<0?0:Math.max(this.chunkEnd(e),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let e=this.nextLayer.size;for(let n of this.chunk)e+=n.value.length;return e}chunkEnd(e){return this.chunkPos[e]+this.chunk[e].length}update(e){let{add:n=[],sort:i=!1,filterFrom:o=0,filterTo:s=this.length}=e,a=e.filter;if(n.length==0&&!a)return this;if(i&&(n=n.slice().sort(Z5)),this.isEmpty)return n.length?r.of(n):this;let l=new HM(this,null,-1).goto(0),c=0,d=[],f=new y0;for(;l.value||c<n.length;)if(c<n.length&&(l.from-n[c].from||l.startSide-n[c].value.startSide)>=0){let m=n[c++];f.addInner(m.from,m.to,m.value)||d.push(m)}else l.rangeIndex==1&&l.chunkIndex<this.chunk.length&&(c==n.length||this.chunkEnd(l.chunkIndex)<n[c].from)&&(!a||o>this.chunkEnd(l.chunkIndex)||s<this.chunkPos[l.chunkIndex])&&f.addChunk(this.chunkPos[l.chunkIndex],this.chunk[l.chunkIndex])?l.nextChunk():((!a||o>l.to||s<l.from||a(l.from,l.to,l.value))&&(f.addInner(l.from,l.to,l.value)||d.push(mx.create(l.from,l.to,l.value))),l.next());return f.finishInner(this.nextLayer.isEmpty&&!d.length?r.empty:this.nextLayer.update({add:d,filter:a,filterFrom:o,filterTo:s}))}map(e){if(e.empty||this.isEmpty)return this;let n=[],i=[],o=-1;for(let a=0;a<this.chunk.length;a++){let l=this.chunkPos[a],c=this.chunk[a],d=e.touchesRange(l,l+c.length);if(d===!1)o=Math.max(o,c.maxPoint),n.push(c),i.push(e.mapPos(l));else if(d===!0){let{mapped:f,pos:m}=c.map(l,e);f&&(o=Math.max(o,f.maxPoint),n.push(f),i.push(m))}}let s=this.nextLayer.map(e);return n.length==0?s:new r(i,n,s||r.empty,o)}between(e,n,i){if(!this.isEmpty){for(let o=0;o<this.chunk.length;o++){let s=this.chunkPos[o],a=this.chunk[o];if(n>=s&&e<=s+a.length&&a.between(s,e-s,n-s,i)===!1)return}this.nextLayer.between(e,n,i)}}iter(e=0){return px.from([this]).goto(e)}get isEmpty(){return this.nextLayer==this}static iter(e,n=0){return px.from(e).goto(n)}static compare(e,n,i,o,s=-1){let a=e.filter(m=>m.maxPoint>0||!m.isEmpty&&m.maxPoint>=s),l=n.filter(m=>m.maxPoint>0||!m.isEmpty&&m.maxPoint>=s),c=Zue(a,l,i),d=new gp(a,c,s),f=new gp(l,c,s);i.iterGaps((m,p,b)=>Que(d,m,f,p,b,o)),i.empty&&i.length==0&&Que(d,0,f,0,0,o)}static eq(e,n,i=0,o){o==null&&(o=999999999);let s=e.filter(f=>!f.isEmpty&&n.indexOf(f)<0),a=n.filter(f=>!f.isEmpty&&e.indexOf(f)<0);if(s.length!=a.length)return!1;if(!s.length)return!0;let l=Zue(s,a),c=new gp(s,l,0).goto(i),d=new gp(a,l,0).goto(i);for(;;){if(c.to!=d.to||!J5(c.active,d.active)||c.point&&(!d.point||!c.point.eq(d.point)))return!1;if(c.to>o)return!0;c.next(),d.next()}}static spans(e,n,i,o,s=-1){let a=new gp(e,null,s).goto(n),l=n,c=a.openStart;for(;;){let d=Math.min(a.to,i);if(a.point){let f=a.activeForPoint(a.to),m=a.pointFrom<n?f.length+1:a.point.startSide<0?f.length:Math.min(f.length,c);o.point(l,d,a.point,f,m,a.pointRank),c=Math.min(a.openEnd(d),f.length)}else d>l&&(o.span(l,d,a.active,c),c=a.openEnd(d));if(a.to>i)return c+(a.point&&a.to>i?1:0);l=a.to,a.next()}}static of(e,n=!1){let i=new y0;for(let o of e instanceof mx?[e]:n?l4e(e):e)i.add(o.from,o.to,o.value);return i.finish()}static join(e){if(!e.length)return r.empty;let n=e[e.length-1];for(let i=e.length-2;i>=0;i--)for(let o=e[i];o!=r.empty;o=o.nextLayer)n=new r(o.chunkPos,o.chunk,n,Math.max(o.maxPoint,n.maxPoint));return n}}return r.empty=new r([],[],null,-1),r})();function l4e(r){if(r.length>1)for(let t=r[0],e=1;e<r.length;e++){let n=r[e];if(Z5(t,n)>0)return r.slice().sort(Z5);t=n}return r}Ys.empty.nextLayer=Ys.empty;var y0=class r{finishChunk(t){this.chunks.push(new Q5(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,t&&(this.from=[],this.to=[],this.value=[])}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(t,e,n){this.addInner(t,e,n)||(this.nextLayer||(this.nextLayer=new r)).add(t,e,n)}addInner(t,e,n){let i=t-this.lastTo||n.startSide-this.last.endSide;if(i<=0&&(t-this.lastFrom||n.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return i<0?!1:(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=t),this.from.push(t-this.chunkStart),this.to.push(e-this.chunkStart),this.last=n,this.lastFrom=t,this.lastTo=e,this.value.push(n),n.point&&(this.maxPoint=Math.max(this.maxPoint,e-t)),!0)}addChunk(t,e){if((t-this.lastTo||e.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,e.maxPoint),this.chunks.push(e),this.chunkPos.push(t);let n=e.value.length-1;return this.last=e.value[n],this.lastFrom=e.from[n]+t,this.lastTo=e.to[n]+t,!0}finish(){return this.finishInner(Ys.empty)}finishInner(t){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return t;let e=Ys.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(t):t,this.setMaxPoint);return this.from=null,e}};function Zue(r,t,e){let n=new Map;for(let o of r)for(let s=0;s<o.chunk.length;s++)o.chunk[s].maxPoint<=0&&n.set(o.chunk[s],o.chunkPos[s]);let i=new Set;for(let o of t)for(let s=0;s<o.chunk.length;s++){let a=n.get(o.chunk[s]);a!=null&&(e?e.mapPos(a):a)==o.chunkPos[s]&&!e?.touchesRange(a,a+o.chunk[s].length)&&i.add(o.chunk[s])}return i}var HM=class{constructor(t,e,n,i=0){this.layer=t,this.skip=e,this.minPoint=n,this.rank=i}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(t,e=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(t,e,!1),this}gotoInner(t,e,n){for(;this.chunkIndex<this.layer.chunk.length;){let i=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(i)||this.layer.chunkEnd(this.chunkIndex)<t||i.maxPoint<this.minPoint))break;this.chunkIndex++,n=!1}if(this.chunkIndex<this.layer.chunk.length){let i=this.layer.chunk[this.chunkIndex].findIndex(t-this.layer.chunkPos[this.chunkIndex],e,!0);(!n||this.rangeIndex<i)&&this.setRangeIndex(i)}this.next()}forward(t,e){(this.to-t||this.endSide-e)<0&&this.gotoInner(t,e,!0)}next(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}else{let t=this.layer.chunkPos[this.chunkIndex],e=this.layer.chunk[this.chunkIndex],n=t+e.from[this.rangeIndex];if(this.from=n,this.to=t+e.to[this.rangeIndex],this.value=e.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex(t){if(t==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=t}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(t){return this.from-t.from||this.startSide-t.startSide||this.rank-t.rank||this.to-t.to||this.endSide-t.endSide}},px=class r{constructor(t){this.heap=t}static from(t,e=null,n=-1){let i=[];for(let o=0;o<t.length;o++)for(let s=t[o];!s.isEmpty;s=s.nextLayer)s.maxPoint>=n&&i.push(new HM(s,e,n,o));return i.length==1?i[0]:new r(i)}get startSide(){return this.value?this.value.startSide:0}goto(t,e=-1e9){for(let n of this.heap)n.goto(t,e);for(let n=this.heap.length>>1;n>=0;n--)z5(this.heap,n);return this.next(),this}forward(t,e){for(let n of this.heap)n.forward(t,e);for(let n=this.heap.length>>1;n>=0;n--)z5(this.heap,n);(this.to-t||this.value.endSide-e)<0&&this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let t=this.heap[0];this.from=t.from,this.to=t.to,this.value=t.value,this.rank=t.rank,t.value&&t.next(),z5(this.heap,0)}}};function z5(r,t){for(let e=r[t];;){let n=(t<<1)+1;if(n>=r.length)break;let i=r[n];if(n+1<r.length&&i.compare(r[n+1])>=0&&(i=r[n+1],n++),e.compare(i)<0)break;r[n]=e,r[t]=i,t=n}}var gp=class{constructor(t,e,n){this.minPoint=n,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=px.from(t,e,n)}goto(t,e=-1e9){return this.cursor.goto(t,e),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=t,this.endSide=e,this.openStart=-1,this.next(),this}forward(t,e){for(;this.minActive>-1&&(this.activeTo[this.minActive]-t||this.active[this.minActive].endSide-e)<0;)this.removeActive(this.minActive);this.cursor.forward(t,e)}removeActive(t){NM(this.active,t),NM(this.activeTo,t),NM(this.activeRank,t),this.minActive=Jue(this.active,this.activeTo)}addActive(t){let e=0,{value:n,to:i,rank:o}=this.cursor;for(;e<this.activeRank.length&&(o-this.activeRank[e]||i-this.activeTo[e])>0;)e++;OM(this.active,e,n),OM(this.activeTo,e,i),OM(this.activeRank,e,o),t&&OM(t,e,this.cursor.from),this.minActive=Jue(this.active,this.activeTo)}next(){let t=this.to,e=this.point;this.point=null;let n=this.openStart<0?[]:null;for(;;){let i=this.minActive;if(i>-1&&(this.activeTo[i]-this.cursor.from||this.active[i].endSide-this.cursor.startSide)<0){if(this.activeTo[i]>t){this.to=this.activeTo[i],this.endSide=this.active[i].endSide;break}this.removeActive(i),n&&NM(n,i)}else if(this.cursor.value)if(this.cursor.from>t){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}else{let o=this.cursor.value;if(!o.point)this.addActive(n),this.cursor.next();else if(e&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{this.point=o,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=o.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}}else{this.to=this.endSide=1e9;break}}if(n){this.openStart=0;for(let i=n.length-1;i>=0&&n[i]<t;i--)this.openStart++}}activeForPoint(t){if(!this.active.length)return this.active;let e=[];for(let n=this.active.length-1;n>=0&&!(this.activeRank[n]<this.pointRank);n--)(this.activeTo[n]>t||this.activeTo[n]==t&&this.active[n].endSide>=this.point.endSide)&&e.push(this.active[n]);return e.reverse()}openEnd(t){let e=0;for(let n=this.activeTo.length-1;n>=0&&this.activeTo[n]>t;n--)e++;return e}};function Que(r,t,e,n,i,o){r.goto(t),e.goto(n);let s=n+i,a=n,l=n-t;for(;;){let c=r.to+l-e.to||r.endSide-e.endSide,d=c<0?r.to+l:e.to,f=Math.min(d,s);if(r.point||e.point?r.point&&e.point&&(r.point==e.point||r.point.eq(e.point))&&J5(r.activeForPoint(r.to),e.activeForPoint(e.to))||o.comparePoint(a,f,r.point,e.point):f>a&&!J5(r.active,e.active)&&o.compareRange(a,f,r.active,e.active),d>s)break;a=d,c<=0&&r.next(),c>=0&&e.next()}}function J5(r,t){if(r.length!=t.length)return!1;for(let e=0;e<r.length;e++)if(r[e]!=t[e]&&!r[e].eq(t[e]))return!1;return!0}function NM(r,t){for(let e=t,n=r.length-1;e<n;e++)r[e]=r[e+1];r.pop()}function OM(r,t,e){for(let n=r.length-1;n>=t;n--)r[n+1]=r[n];r[t]=e}function Jue(r,t){let e=-1,n=1e9;for(let i=0;i<t.length;i++)(t[i]-n||r[i].endSide-r[e].endSide)<0&&(e=i,n=t[i]);return e}function dde(r,t,e,n){for(let i=0,o=0;;){if(o>=t)return i;if(i==r.length)break;o+=r.charCodeAt(i)==9?e-o%e:1,i=ku(r,i)}return n===!0?-1:r.length}var n8="\u037C",fde=typeof Symbol>"u"?"__"+n8:Symbol.for(n8),i8=typeof Symbol>"u"?"__styleSet"+Math.floor(Math.random()*1e8):Symbol("styleSet"),hde=typeof globalThis<"u"?globalThis:typeof window<"u"?window:{},ec=class{constructor(t,e){this.rules=[];let{finish:n}=e||{};function i(s){return/^@/.test(s)?[s]:s.split(/,\s*/)}function o(s,a,l,c){let d=[],f=/^@(\w+)\b/.exec(s[0]),m=f&&f[1]=="keyframes";if(f&&a==null)return l.push(s[0]+";");for(let p in a){let b=a[p];if(/&/.test(p))o(p.split(/,\s*/).map(y=>s.map(C=>y.replace(/&/,C))).reduce((y,C)=>y.concat(C)),b,l);else if(b&&typeof b=="object"){if(!f)throw new RangeError("The value of a property ("+p+") should be a primitive value.");o(i(p),b,d,m)}else b!=null&&d.push(p.replace(/_.*/,"").replace(/[A-Z]/g,y=>"-"+y.toLowerCase())+": "+b+";")}(d.length||m)&&l.push((n&&!f&&!c?s.map(n):s).join(", ")+" {"+d.join(" ")+"}")}for(let s in t)o(i(s),t[s],this.rules)}getRules(){return this.rules.join(`
`)}static newName(){let t=hde[fde]||1;return hde[fde]=t+1,n8+t.toString(36)}static mount(t,e,n){let i=t[i8],o=n&&n.nonce;i?o&&i.setNonce(o):i=new o8(t,o),i.mount(Array.isArray(e)?e:[e],t)}},mde=new Map,o8=class{constructor(t,e){let n=t.ownerDocument||t,i=n.defaultView;if(!t.head&&t.adoptedStyleSheets&&i.CSSStyleSheet){let o=mde.get(n);if(o)return t[i8]=o;this.sheet=new i.CSSStyleSheet,mde.set(n,this)}else this.styleTag=n.createElement("style"),e&&this.styleTag.setAttribute("nonce",e);this.modules=[],t[i8]=this}mount(t,e){let n=this.sheet,i=0,o=0;for(let s=0;s<t.length;s++){let a=t[s],l=this.modules.indexOf(a);if(l<o&&l>-1&&(this.modules.splice(l,1),o--,l=-1),l==-1){if(this.modules.splice(o++,0,a),n)for(let c=0;c<a.rules.length;c++)n.insertRule(a.rules[c],i++)}else{for(;o<l;)i+=this.modules[o++].rules.length;i+=a.rules.length,o++}}if(n)e.adoptedStyleSheets.indexOf(this.sheet)<0&&(e.adoptedStyleSheets=[this.sheet,...e.adoptedStyleSheets]);else{let s="";for(let l=0;l<this.modules.length;l++)s+=this.modules[l].getRules()+`
`;this.styleTag.textContent=s;let a=e.head||e;this.styleTag.parentNode!=a&&a.insertBefore(this.styleTag,a.firstChild)}}setNonce(t){this.styleTag&&this.styleTag.getAttribute("nonce")!=t&&this.styleTag.setAttribute("nonce",t)}};var _p={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},qM={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},HUt=typeof navigator<"u"&&/Mac/.test(navigator.platform),UUt=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(yo=0;yo<10;yo++)_p[48+yo]=_p[96+yo]=String(yo);var yo;for(yo=1;yo<=24;yo++)_p[yo+111]="F"+yo;var yo;for(yo=65;yo<=90;yo++)_p[yo]=String.fromCharCode(yo+32),qM[yo]=String.fromCharCode(yo);var yo;for(UM in _p)qM.hasOwnProperty(UM)||(qM[UM]=_p[UM]);var UM;function Dx(r){let t;return r.nodeType==11?t=r.getSelection?r:r.ownerDocument:t=r,t.getSelection()}function f8(r,t){return t?r==t||r.contains(t.nodeType!=1?t.parentNode:t):!1}function QM(r,t){if(!t.anchorNode)return!1;try{return f8(r,t.anchorNode)}catch{return!1}}function Ex(r){return r.nodeType==3?Cp(r,0,r.nodeValue.length).getClientRects():r.nodeType==1?r.getClientRects():[]}function _x(r,t,e,n){return e?pde(r,t,e,n,-1)||pde(r,t,e,n,1):!1}function wp(r){for(var t=0;;t++)if(r=r.previousSibling,!r)return t}function tA(r){return r.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(r.nodeName)}function pde(r,t,e,n,i){for(;;){if(r==e&&t==n)return!0;if(t==(i<0?0:Bu(r))){if(r.nodeName=="DIV")return!1;let o=r.parentNode;if(!o||o.nodeType!=1)return!1;t=wp(r)+(i<0?0:1),r=o}else if(r.nodeType==1){if(r=r.childNodes[t+(i<0?-1:0)],r.nodeType==1&&r.contentEditable=="false")return!1;t=i<0?Bu(r):0}else return!1}}function Bu(r){return r.nodeType==3?r.nodeValue.length:r.childNodes.length}function fA(r,t){let e=t?r.left:r.right;return{left:e,right:e,top:r.top,bottom:r.bottom}}function d4e(r){let t=r.visualViewport;return t?{left:0,right:t.width,top:0,bottom:t.height}:{left:0,right:r.innerWidth,top:0,bottom:r.innerHeight}}function Kde(r,t){let e=t.width/r.offsetWidth,n=t.height/r.offsetHeight;return(e>.995&&e<1.005||!isFinite(e)||Math.abs(t.width-r.offsetWidth)<1)&&(e=1),(n>.995&&n<1.005||!isFinite(n)||Math.abs(t.height-r.offsetHeight)<1)&&(n=1),{scaleX:e,scaleY:n}}function f4e(r,t,e,n,i,o,s,a){let l=r.ownerDocument,c=l.defaultView||window;for(let d=r,f=!1;d&&!f;)if(d.nodeType==1){let m,p=d==l.body,b=1,y=1;if(p)m=d4e(c);else{if(/^(fixed|sticky)$/.test(getComputedStyle(d).position)&&(f=!0),d.scrollHeight<=d.clientHeight&&d.scrollWidth<=d.clientWidth){d=d.assignedSlot||d.parentNode;continue}let A=d.getBoundingClientRect();({scaleX:b,scaleY:y}=Kde(d,A)),m={left:A.left,right:A.left+d.clientWidth*b,top:A.top,bottom:A.top+d.clientHeight*y}}let C=0,S=0;if(i=="nearest")t.top<m.top?(S=-(m.top-t.top+s),e>0&&t.bottom>m.bottom+S&&(S=t.bottom-m.bottom+S+s)):t.bottom>m.bottom&&(S=t.bottom-m.bottom+s,e<0&&t.top-S<m.top&&(S=-(m.top+S-t.top+s)));else{let A=t.bottom-t.top,x=m.bottom-m.top;S=(i=="center"&&A<=x?t.top+A/2-x/2:i=="start"||i=="center"&&e<0?t.top-s:t.bottom-x+s)-m.top}if(n=="nearest"?t.left<m.left?(C=-(m.left-t.left+o),e>0&&t.right>m.right+C&&(C=t.right-m.right+C+o)):t.right>m.right&&(C=t.right-m.right+o,e<0&&t.left<m.left+C&&(C=-(m.left+C-t.left+o))):C=(n=="center"?t.left+(t.right-t.left)/2-(m.right-m.left)/2:n=="start"==a?t.left-o:t.right-(m.right-m.left)+o)-m.left,C||S)if(p)c.scrollBy(C,S);else{let A=0,x=0;if(S){let M=d.scrollTop;d.scrollTop+=S/y,x=(d.scrollTop-M)*y}if(C){let M=d.scrollLeft;d.scrollLeft+=C/b,A=(d.scrollLeft-M)*b}t={left:t.left-A,top:t.top-x,right:t.right-A,bottom:t.bottom-x},A&&Math.abs(A-C)<1&&(n="nearest"),x&&Math.abs(x-S)<1&&(i="nearest")}if(p)break;d=d.assignedSlot||d.parentNode}else if(d.nodeType==11)d=d.host;else break}function h4e(r){let t=r.ownerDocument,e,n;for(let i=r.parentNode;i&&!(i==t.body||e&&n);)if(i.nodeType==1)!n&&i.scrollHeight>i.clientHeight&&(n=i),!e&&i.scrollWidth>i.clientWidth&&(e=i),i=i.assignedSlot||i.parentNode;else if(i.nodeType==11)i=i.host;else break;return{x:e,y:n}}var h8=class{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(t){return this.anchorNode==t.anchorNode&&this.anchorOffset==t.anchorOffset&&this.focusNode==t.focusNode&&this.focusOffset==t.focusOffset}setRange(t){let{anchorNode:e,focusNode:n}=t;this.set(e,Math.min(t.anchorOffset,e?Bu(e):0),n,Math.min(t.focusOffset,n?Bu(n):0))}set(t,e,n,i){this.anchorNode=t,this.anchorOffset=e,this.focusNode=n,this.focusOffset=i}},_0=null;function Xde(r){if(r.setActive)return r.setActive();if(_0)return r.focus(_0);let t=[];for(let e=r;e&&(t.push(e,e.scrollTop,e.scrollLeft),e!=e.ownerDocument);e=e.parentNode);if(r.focus(_0==null?{get preventScroll(){return _0={preventScroll:!0},!0}}:void 0),!_0){_0=!1;for(let e=0;e<t.length;){let n=t[e++],i=t[e++],o=t[e++];n.scrollTop!=i&&(n.scrollTop=i),n.scrollLeft!=o&&(n.scrollLeft=o)}}}var gde;function Cp(r,t,e=t){let n=gde||(gde=document.createRange());return n.setEnd(r,e),n.setStart(r,t),n}function w0(r,t,e,n){let i={key:t,code:t,keyCode:e,which:e,cancelable:!0};n&&({altKey:i.altKey,ctrlKey:i.ctrlKey,shiftKey:i.shiftKey,metaKey:i.metaKey}=n);let o=new KeyboardEvent("keydown",i);o.synthetic=!0,r.dispatchEvent(o);let s=new KeyboardEvent("keyup",i);return s.synthetic=!0,r.dispatchEvent(s),o.defaultPrevented||s.defaultPrevented}function m4e(r){for(;r;){if(r&&(r.nodeType==9||r.nodeType==11&&r.host))return r;r=r.assignedSlot||r.parentNode}return null}function Zde(r){for(;r.attributes.length;)r.removeAttributeNode(r.attributes[0])}function p4e(r,t){let e=t.focusNode,n=t.focusOffset;if(!e||t.anchorNode!=e||t.anchorOffset!=n)return!1;for(n=Math.min(n,Bu(e));;)if(n){if(e.nodeType!=1)return!1;let i=e.childNodes[n-1];i.contentEditable=="false"?n--:(e=i,n=Bu(e))}else{if(e==r)return!0;n=wp(e),e=e.parentNode}}function Qde(r){return r.scrollTop>Math.max(1,r.scrollHeight-r.clientHeight-4)}function Jde(r,t){for(let e=r,n=t;;){if(e.nodeType==3&&n>0)return{node:e,offset:n};if(e.nodeType==1&&n>0){if(e.contentEditable=="false")return null;e=e.childNodes[n-1],n=Bu(e)}else if(e.parentNode&&!tA(e))n=wp(e),e=e.parentNode;else return null}}function efe(r,t){for(let e=r,n=t;;){if(e.nodeType==3&&n<e.nodeValue.length)return{node:e,offset:n};if(e.nodeType==1&&n<e.childNodes.length){if(e.contentEditable=="false")return null;e=e.childNodes[n],n=0}else if(e.parentNode&&!tA(e))n=wp(e)+1,e=e.parentNode;else return null}}var ba=class r{constructor(t,e,n=!0){this.node=t,this.offset=e,this.precise=n}static before(t,e){return new r(t.parentNode,wp(t),e)}static after(t,e){return new r(t.parentNode,wp(t)+1,e)}},j8=[],mi=class r{constructor(){this.parent=null,this.dom=null,this.flags=2}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(t){let e=this.posAtStart;for(let n of this.children){if(n==t)return e;e+=n.length+n.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(t){return this.posBefore(t)+t.length}sync(t,e){if(this.flags&2){let n=this.dom,i=null,o;for(let s of this.children){if(s.flags&7){if(!s.dom&&(o=i?i.nextSibling:n.firstChild)){let a=r.get(o);(!a||!a.parent&&a.canReuseDOM(s))&&s.reuseDOM(o)}s.sync(t,e),s.flags&=-8}if(o=i?i.nextSibling:n.firstChild,e&&!e.written&&e.node==n&&o!=s.dom&&(e.written=!0),s.dom.parentNode==n)for(;o&&o!=s.dom;)o=vde(o);else n.insertBefore(s.dom,o);i=s.dom}for(o=i?i.nextSibling:n.firstChild,o&&e&&e.node==n&&(e.written=!0);o;)o=vde(o)}else if(this.flags&1)for(let n of this.children)n.flags&7&&(n.sync(t,e),n.flags&=-8)}reuseDOM(t){}localPosFromDOM(t,e){let n;if(t==this.dom)n=this.dom.childNodes[e];else{let i=Bu(t)==0?0:e==0?-1:1;for(;;){let o=t.parentNode;if(o==this.dom)break;i==0&&o.firstChild!=o.lastChild&&(t==o.firstChild?i=-1:i=1),t=o}i<0?n=t:n=t.nextSibling}if(n==this.dom.firstChild)return 0;for(;n&&!r.get(n);)n=n.nextSibling;if(!n)return this.length;for(let i=0,o=0;;i++){let s=this.children[i];if(s.dom==n)return o;o+=s.length+s.breakAfter}}domBoundsAround(t,e,n=0){let i=-1,o=-1,s=-1,a=-1;for(let l=0,c=n,d=n;l<this.children.length;l++){let f=this.children[l],m=c+f.length;if(c<t&&m>e)return f.domBoundsAround(t,e,c);if(m>=t&&i==-1&&(i=l,o=c),c>e&&f.dom.parentNode==this.dom){s=l,a=d;break}d=m,c=m+f.breakAfter}return{from:o,to:a<0?n+this.length:a,startDOM:(i?this.children[i-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:s<this.children.length&&s>=0?this.children[s].dom:null}}markDirty(t=!1){this.flags|=2,this.markParentsDirty(t)}markParentsDirty(t){for(let e=this.parent;e;e=e.parent){if(t&&(e.flags|=2),e.flags&1)return;e.flags|=1,t=!1}}setParent(t){this.parent!=t&&(this.parent=t,this.flags&7&&this.markParentsDirty(!0))}setDOM(t){this.dom!=t&&(this.dom&&(this.dom.cmView=null),this.dom=t,t.cmView=this)}get rootView(){for(let t=this;;){let e=t.parent;if(!e)return t;t=e}}replaceChildren(t,e,n=j8){this.markDirty();for(let i=t;i<e;i++){let o=this.children[i];o.parent==this&&n.indexOf(o)<0&&o.destroy()}n.length<250?this.children.splice(t,e-t,...n):this.children=[].concat(this.children.slice(0,t),n,this.children.slice(e));for(let i=0;i<n.length;i++)n[i].setParent(this)}ignoreMutation(t){return!1}ignoreEvent(t){return!1}childCursor(t=this.length){return new rA(this.children,t,this.children.length)}childPos(t,e=1){return this.childCursor().findPos(t,e)}toString(){let t=this.constructor.name.replace("View","");return t+(this.children.length?"("+this.children.join()+")":this.length?"["+(t=="Text"?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(t){return t.cmView}get isEditable(){return!0}get isWidget(){return!1}get isHidden(){return!1}merge(t,e,n,i,o,s){return!1}become(t){return!1}canReuseDOM(t){return t.constructor==this.constructor&&!((this.flags|t.flags)&8)}getSide(){return 0}destroy(){for(let t of this.children)t.parent==this&&t.destroy();this.parent=null}};mi.prototype.breakAfter=0;function vde(r){let t=r.nextSibling;return r.parentNode.removeChild(r),t}var rA=class{constructor(t,e,n){this.children=t,this.pos=e,this.i=n,this.off=0}findPos(t,e=1){for(;;){if(t>this.pos||t==this.pos&&(e>0||this.i==0||this.children[this.i-1].breakAfter))return this.off=t-this.pos,this;let n=this.children[--this.i];this.pos-=n.length+n.breakAfter}}};function tfe(r,t,e,n,i,o,s,a,l){let{children:c}=r,d=c.length?c[t]:null,f=o.length?o[o.length-1]:null,m=f?f.breakAfter:s;if(!(t==n&&d&&!s&&!m&&o.length<2&&d.merge(e,i,o.length?f:null,e==0,a,l))){if(n<c.length){let p=c[n];p&&(i<p.length||p.breakAfter&&f?.breakAfter)?(t==n&&(p=p.split(i),i=0),!m&&f&&p.merge(0,i,f,!0,0,l)?o[o.length-1]=p:((i||p.children.length&&!p.children[0].length)&&p.merge(0,i,null,!1,0,l),o.push(p))):p?.breakAfter&&(f?f.breakAfter=1:s=1),n++}for(d&&(d.breakAfter=s,e>0&&(!s&&o.length&&d.merge(e,d.length,o[0],!1,a,0)?d.breakAfter=o.shift().breakAfter:(e<d.length||d.children.length&&d.children[d.children.length-1].length==0)&&d.merge(e,d.length,null,!1,a,0),t++));t<n&&o.length;)if(c[n-1].become(o[o.length-1]))n--,o.pop(),l=o.length?0:a;else if(c[t].become(o[0]))t++,o.shift(),a=o.length?0:l;else break;!o.length&&t&&n<c.length&&!c[t-1].breakAfter&&c[n].merge(0,0,c[t-1],!1,a,l)&&t--,(t<n||o.length)&&r.replaceChildren(t,n,o)}}function rfe(r,t,e,n,i,o){let s=r.childCursor(),{i:a,off:l}=s.findPos(e,1),{i:c,off:d}=s.findPos(t,-1),f=t-e;for(let m of n)f+=m.length;r.length+=f,tfe(r,c,d,a,l,n,0,i,o)}var Ua=typeof navigator<"u"?navigator:{userAgent:"",vendor:"",platform:""},m8=typeof document<"u"?document:{documentElement:{style:{}}},p8=/Edge\/(\d+)/.exec(Ua.userAgent),nfe=/MSIE \d/.test(Ua.userAgent),g8=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Ua.userAgent),hA=!!(nfe||g8||p8),bde=!hA&&/gecko\/(\d+)/i.test(Ua.userAgent),s8=!hA&&/Chrome\/(\d+)/.exec(Ua.userAgent),yde="webkitFontSmoothing"in m8.documentElement.style,ife=!hA&&/Apple Computer/.test(Ua.vendor),_de=ife&&(/Mobile\/\w+/.test(Ua.userAgent)||Ua.maxTouchPoints>2),jt={mac:_de||/Mac/.test(Ua.platform),windows:/Win/.test(Ua.platform),linux:/Linux|X11/.test(Ua.platform),ie:hA,ie_version:nfe?m8.documentMode||6:g8?+g8[1]:p8?+p8[1]:0,gecko:bde,gecko_version:bde?+(/Firefox\/(\d+)/.exec(Ua.userAgent)||[0,0])[1]:0,chrome:!!s8,chrome_version:s8?+s8[1]:0,ios:_de,android:/Android\b/.test(Ua.userAgent),webkit:yde,safari:ife,webkit_version:yde?+(/\bAppleWebKit\/(\d+)/.exec(Ua.userAgent)||[0,0])[1]:0,tabSize:m8.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"},g4e=256,Vu=class r extends mi{constructor(t){super(),this.text=t}get length(){return this.text.length}createDOM(t){this.setDOM(t||document.createTextNode(this.text))}sync(t,e){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(e&&e.node==this.dom&&(e.written=!0),this.dom.nodeValue=this.text)}reuseDOM(t){t.nodeType==3&&this.createDOM(t)}merge(t,e,n){return this.flags&8||n&&(!(n instanceof r)||this.length-(e-t)+n.length>g4e||n.flags&8)?!1:(this.text=this.text.slice(0,t)+(n?n.text:"")+this.text.slice(e),this.markDirty(),!0)}split(t){let e=new r(this.text.slice(t));return this.text=this.text.slice(0,t),this.markDirty(),e.flags|=this.flags&8,e}localPosFromDOM(t,e){return t==this.dom?e:e?this.text.length:0}domAtPos(t){return new ba(this.dom,t)}domBoundsAround(t,e,n){return{from:n,to:n+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(t,e){return v4e(this.dom,t,e)}},Ih=class r extends mi{constructor(t,e=[],n=0){super(),this.mark=t,this.children=e,this.length=n;for(let i of e)i.setParent(this)}setAttrs(t){if(Zde(t),this.mark.class&&(t.className=this.mark.class),this.mark.attrs)for(let e in this.mark.attrs)t.setAttribute(e,this.mark.attrs[e]);return t}canReuseDOM(t){return super.canReuseDOM(t)&&!((this.flags|t.flags)&8)}reuseDOM(t){t.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(t),this.flags|=6)}sync(t,e){this.dom?this.flags&4&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(t,e)}merge(t,e,n,i,o,s){return n&&(!(n instanceof r&&n.mark.eq(this.mark))||t&&o<=0||e<this.length&&s<=0)?!1:(rfe(this,t,e,n?n.children.slice():[],o-1,s-1),this.markDirty(),!0)}split(t){let e=[],n=0,i=-1,o=0;for(let a of this.children){let l=n+a.length;l>t&&e.push(n<t?a.split(t-n):a),i<0&&n>=t&&(i=o),n=l,o++}let s=this.length-t;return this.length=t,i>-1&&(this.children.length=i,this.markDirty()),new r(this.mark,e,s)}domAtPos(t){return ofe(this,t)}coordsAt(t,e){return afe(this,t,e)}};function v4e(r,t,e){let n=r.nodeValue.length;t>n&&(t=n);let i=t,o=t,s=0;t==0&&e<0||t==n&&e>=0?jt.chrome||jt.gecko||(t?(i--,s=1):o<n&&(o++,s=-1)):e<0?i--:o<n&&o++;let a=Cp(r,i,o).getClientRects();if(!a.length)return null;let l=a[(s?s<0:e>=0)?0:a.length-1];return jt.safari&&!s&&l.width==0&&(l=Array.prototype.find.call(a,c=>c.width)||l),s?fA(l,s<0):l||null}var nA=class r extends mi{static create(t,e,n){return new r(t,e,n)}constructor(t,e,n){super(),this.widget=t,this.length=e,this.side=n,this.prevWidget=null}split(t){let e=r.create(this.widget,this.length-t,this.side);return this.length-=t,e}sync(t){(!this.dom||!this.widget.updateDOM(this.dom,t))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(t)),this.widget.editable||(this.dom.contentEditable="false"))}getSide(){return this.side}merge(t,e,n,i,o,s){return n&&(!(n instanceof r)||!this.widget.compare(n.widget)||t>0&&o<=0||e<this.length&&s<=0)?!1:(this.length=t+(n?n.length:0)+(this.length-e),!0)}become(t){return t instanceof r&&t.side==this.side&&this.widget.constructor==t.widget.constructor?(this.widget.compare(t.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=t.widget,this.length=t.length,!0):!1}ignoreMutation(){return!0}ignoreEvent(t){return this.widget.ignoreEvent(t)}get overrideDOMText(){if(this.length==0)return kn.empty;let t=this;for(;t.parent;)t=t.parent;let{view:e}=t,n=e&&e.state.doc,i=this.posAtStart;return n?n.slice(i,i+this.length):kn.empty}domAtPos(t){return(this.length?t==0:this.side>0)?ba.before(this.dom):ba.after(this.dom,t==this.length)}domBoundsAround(){return null}coordsAt(t,e){let n=this.widget.coordsAt(this.dom,t,e);if(n)return n;let i=this.dom.getClientRects(),o=null;if(!i.length)return null;let s=this.side?this.side<0:t>0;for(let a=s?i.length-1:0;o=i[a],!(t>0?a==0:a==i.length-1||o.top<o.bottom);a+=s?-1:1);return fA(o,!s)}get isEditable(){return!1}get isWidget(){return!0}get isHidden(){return this.widget.isHidden}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}},Mx=class r extends mi{constructor(t){super(),this.side=t}get length(){return 0}merge(){return!1}become(t){return t instanceof r&&t.side==this.side}split(){return new r(this.side)}sync(){if(!this.dom){let t=document.createElement("img");t.className="cm-widgetBuffer",t.setAttribute("aria-hidden","true"),this.setDOM(t)}}getSide(){return this.side}domAtPos(t){return this.side>0?ba.before(this.dom):ba.after(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(t){return this.dom.getBoundingClientRect()}get overrideDOMText(){return kn.empty}get isHidden(){return!0}};Vu.prototype.children=nA.prototype.children=Mx.prototype.children=j8;function ofe(r,t){let e=r.dom,{children:n}=r,i=0;for(let o=0;i<n.length;i++){let s=n[i],a=o+s.length;if(!(a==o&&s.getSide()<=0)){if(t>o&&t<a&&s.dom.parentNode==e)return s.domAtPos(t-o);if(t<=o)break;o=a}}for(let o=i;o>0;o--){let s=n[o-1];if(s.dom.parentNode==e)return s.domAtPos(s.length)}for(let o=i;o<n.length;o++){let s=n[o];if(s.dom.parentNode==e)return s.domAtPos(0)}return new ba(e,0)}function sfe(r,t,e){let n,{children:i}=r;e>0&&t instanceof Ih&&i.length&&(n=i[i.length-1])instanceof Ih&&n.mark.eq(t.mark)?sfe(n,t.children[0],e-1):(i.push(t),t.setParent(r)),r.length+=t.length}function afe(r,t,e){let n=null,i=-1,o=null,s=-1;function a(c,d){for(let f=0,m=0;f<c.children.length&&m<=d;f++){let p=c.children[f],b=m+p.length;b>=d&&(p.children.length?a(p,d-m):(!o||o.isHidden&&e>0)&&(b>d||m==b&&p.getSide()>0)?(o=p,s=d-m):(m<d||m==b&&p.getSide()<0&&!p.isHidden)&&(n=p,i=d-m)),m=b}}a(r,t);let l=(e<0?n:o)||n||o;return l?l.coordsAt(Math.max(0,l==n?i:s),e):b4e(r)}function b4e(r){let t=r.dom.lastChild;if(!t)return r.dom.getBoundingClientRect();let e=Ex(t);return e[e.length-1]||null}function v8(r,t){for(let e in r)e=="class"&&t.class?t.class+=" "+r.class:e=="style"&&t.style?t.style+=";"+r.style:t[e]=r[e];return t}var xde=Object.create(null);function iA(r,t,e){if(r==t)return!0;r||(r=xde),t||(t=xde);let n=Object.keys(r),i=Object.keys(t);if(n.length-(e&&n.indexOf(e)>-1?1:0)!=i.length-(e&&i.indexOf(e)>-1?1:0))return!1;for(let o of n)if(o!=e&&(i.indexOf(o)==-1||r[o]!==t[o]))return!1;return!0}function b8(r,t,e){let n=!1;if(t)for(let i in t)e&&i in e||(n=!0,i=="style"?r.style.cssText="":r.removeAttribute(i));if(e)for(let i in e)t&&t[i]==e[i]||(n=!0,i=="style"?r.style.cssText=e[i]:r.setAttribute(i,e[i]));return n}function y4e(r){let t=Object.create(null);for(let e=0;e<r.attributes.length;e++){let n=r.attributes[e];t[n.name]=n.value}return t}var C0=class{eq(t){return!1}updateDOM(t,e){return!1}compare(t){return this==t||this.constructor==t.constructor&&this.eq(t)}get estimatedHeight(){return-1}get lineBreaks(){return 0}ignoreEvent(t){return!0}coordsAt(t,e,n){return null}get isHidden(){return!1}get editable(){return!1}destroy(t){}},Pu=function(r){return r[r.Text=0]="Text",r[r.WidgetBefore=1]="WidgetBefore",r[r.WidgetAfter=2]="WidgetAfter",r[r.WidgetRange=3]="WidgetRange",r}(Pu||(Pu={})),Lo=class extends Wd{constructor(t,e,n,i){super(),this.startSide=t,this.endSide=e,this.widget=n,this.spec=i}get heightRelevant(){return!1}static mark(t){return new Ax(t)}static widget(t){let e=Math.max(-1e4,Math.min(1e4,t.side||0)),n=!!t.block;return e+=n&&!t.inlineOrder?e>0?3e8:-4e8:e>0?1e8:-1e8,new kh(t,e,e,n,t.widget||null,!1)}static replace(t){let e=!!t.block,n,i;if(t.isBlockGap)n=-5e8,i=4e8;else{let{start:o,end:s}=lfe(t,e);n=(o?e?-3e8:-1:5e8)-1,i=(s?e?2e8:1:-6e8)+1}return new kh(t,n,i,e,t.widget||null,!0)}static line(t){return new Tx(t)}static set(t,e=!1){return Ys.of(t,e)}hasHeight(){return this.widget?this.widget.estimatedHeight>-1:!1}};Lo.none=Ys.empty;var Ax=class r extends Lo{constructor(t){let{start:e,end:n}=lfe(t);super(e?-1:5e8,n?1:-6e8,null,t),this.tagName=t.tagName||"span",this.class=t.class||"",this.attrs=t.attributes||null}eq(t){var e,n;return this==t||t instanceof r&&this.tagName==t.tagName&&(this.class||((e=this.attrs)===null||e===void 0?void 0:e.class))==(t.class||((n=t.attrs)===null||n===void 0?void 0:n.class))&&iA(this.attrs,t.attrs,"class")}range(t,e=t){if(t>=e)throw new RangeError("Mark decorations may not be empty");return super.range(t,e)}};Ax.prototype.point=!1;var Tx=class r extends Lo{constructor(t){super(-2e8,-2e8,null,t)}eq(t){return t instanceof r&&this.spec.class==t.spec.class&&iA(this.spec.attributes,t.spec.attributes)}range(t,e=t){if(e!=t)throw new RangeError("Line decoration ranges must be zero-length");return super.range(t,e)}};Tx.prototype.mapMode=Ha.TrackBefore;Tx.prototype.point=!0;var kh=class r extends Lo{constructor(t,e,n,i,o,s){super(e,n,o,t),this.block=i,this.isReplace=s,this.mapMode=i?e<=0?Ha.TrackBefore:Ha.TrackAfter:Ha.TrackDel}get type(){return this.startSide!=this.endSide?Pu.WidgetRange:this.startSide<=0?Pu.WidgetBefore:Pu.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}eq(t){return t instanceof r&&_4e(this.widget,t.widget)&&this.block==t.block&&this.startSide==t.startSide&&this.endSide==t.endSide}range(t,e=t){if(this.isReplace&&(t>e||t==e&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&e!=t)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(t,e)}};kh.prototype.point=!0;function lfe(r,t=!1){let{inclusiveStart:e,inclusiveEnd:n}=r;return e==null&&(e=r.inclusive),n==null&&(n=r.inclusive),{start:e??t,end:n??t}}function _4e(r,t){return r==t||!!(r&&t&&r.compare(t))}function y8(r,t,e,n=0){let i=e.length-1;i>=0&&e[i]+n>=r?e[i]=Math.max(e[i],t):e.push(r,t)}var vs=class r extends mi{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(t,e,n,i,o,s){if(n){if(!(n instanceof r))return!1;this.dom||n.transferDOM(this)}return i&&this.setDeco(n?n.attrs:null),rfe(this,t,e,n?n.children.slice():[],o,s),!0}split(t){let e=new r;if(e.breakAfter=this.breakAfter,this.length==0)return e;let{i:n,off:i}=this.childPos(t);i&&(e.append(this.children[n].split(i),0),this.children[n].merge(i,this.children[n].length,null,!1,0,0),n++);for(let o=n;o<this.children.length;o++)e.append(this.children[o],0);for(;n>0&&this.children[n-1].length==0;)this.children[--n].destroy();return this.children.length=n,this.markDirty(),this.length=t,e}transferDOM(t){this.dom&&(this.markDirty(),t.setDOM(this.dom),t.prevAttrs=this.prevAttrs===void 0?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(t){iA(this.attrs,t)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=t)}append(t,e){sfe(this,t,e)}addLineDeco(t){let e=t.spec.attributes,n=t.spec.class;e&&(this.attrs=v8(e,this.attrs||{})),n&&(this.attrs=v8({class:n},this.attrs||{}))}domAtPos(t){return ofe(this,t)}reuseDOM(t){t.nodeName=="DIV"&&(this.setDOM(t),this.flags|=6)}sync(t,e){var n;this.dom?this.flags&4&&(Zde(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),this.prevAttrs!==void 0&&(b8(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(t,e);let i=this.dom.lastChild;for(;i&&mi.get(i)instanceof Ih;)i=i.lastChild;if(!i||!this.length||i.nodeName!="BR"&&((n=mi.get(i))===null||n===void 0?void 0:n.isEditable)==!1&&(!jt.ios||!this.children.some(o=>o instanceof Vu))){let o=document.createElement("BR");o.cmIgnore=!0,this.dom.appendChild(o)}}measureTextSize(){if(this.children.length==0||this.length>20)return null;let t=0,e;for(let n of this.children){if(!(n instanceof Vu)||/[^ -~]/.test(n.text))return null;let i=Ex(n.dom);if(i.length!=1)return null;t+=i[0].width,e=i[0].height}return t?{lineHeight:this.dom.getBoundingClientRect().height,charWidth:t/this.length,textHeight:e}:null}coordsAt(t,e){let n=afe(this,t,e);if(!this.children.length&&n&&this.parent){let{heightOracle:i}=this.parent.view.viewState,o=n.bottom-n.top;if(Math.abs(o-i.lineHeight)<2&&i.textHeight<o){let s=(o-i.textHeight)/2;return{top:n.top+s,bottom:n.bottom-s,left:n.left,right:n.left}}}return n}become(t){return t instanceof r&&this.children.length==0&&t.children.length==0&&iA(this.attrs,t.attrs)&&this.breakAfter==t.breakAfter}covers(){return!0}static find(t,e){for(let n=0,i=0;n<t.children.length;n++){let o=t.children[n],s=i+o.length;if(s>=e){if(o instanceof r)return o;if(s>e)break}i=s+o.breakAfter}return null}},xp=class r extends mi{constructor(t,e,n){super(),this.widget=t,this.length=e,this.deco=n,this.breakAfter=0,this.prevWidget=null}merge(t,e,n,i,o,s){return n&&(!(n instanceof r)||!this.widget.compare(n.widget)||t>0&&o<=0||e<this.length&&s<=0)?!1:(this.length=t+(n?n.length:0)+(this.length-e),!0)}domAtPos(t){return t==0?ba.before(this.dom):ba.after(this.dom,t==this.length)}split(t){let e=this.length-t;this.length=t;let n=new r(this.widget,e,this.deco);return n.breakAfter=this.breakAfter,n}get children(){return j8}sync(t){(!this.dom||!this.widget.updateDOM(this.dom,t))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(t)),this.widget.editable||(this.dom.contentEditable="false"))}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):kn.empty}domBoundsAround(){return null}become(t){return t instanceof r&&t.widget.constructor==this.widget.constructor?(t.widget.compare(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=t.widget,this.length=t.length,this.deco=t.deco,this.breakAfter=t.breakAfter,!0):!1}ignoreMutation(){return!0}ignoreEvent(t){return this.widget.ignoreEvent(t)}get isEditable(){return!1}get isWidget(){return!0}coordsAt(t,e){let n=this.widget.coordsAt(this.dom,t,e);return n||(this.widget instanceof Ix?null:fA(this.dom.getBoundingClientRect(),this.length?t==0:e<=0))}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}covers(t){let{startSide:e,endSide:n}=this.deco;return e==n?!1:t<0?e<0:n>0}},Ix=class extends C0{constructor(t){super(),this.height=t}toDOM(){let t=document.createElement("div");return t.className="cm-gap",this.updateDOM(t),t}eq(t){return t.height==this.height}updateDOM(t){return t.style.height=this.height+"px",!0}get editable(){return!0}get estimatedHeight(){return this.height}ignoreEvent(){return!1}},xx=class r{constructor(t,e,n,i){this.doc=t,this.pos=e,this.end=n,this.disallowBlockEffectsFor=i,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.bufferMarks=[],this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=t.iter(),this.skip=e}posCovered(){if(this.content.length==0)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let t=this.content[this.content.length-1];return!(t.breakAfter||t instanceof xp&&t.deco.endSide<0)}getLine(){return this.curLine||(this.content.push(this.curLine=new vs),this.atCursorPos=!0),this.curLine}flushBuffer(t=this.bufferMarks){this.pendingBuffer&&(this.curLine.append(WM(new Mx(-1),t),t.length),this.pendingBuffer=0)}addBlockWidget(t){this.flushBuffer(),this.curLine=null,this.content.push(t)}finish(t){this.pendingBuffer&&t<=this.bufferMarks.length?this.flushBuffer():this.pendingBuffer=0,!this.posCovered()&&!(t&&this.content.length&&this.content[this.content.length-1]instanceof xp)&&this.getLine()}buildText(t,e,n){for(;t>0;){if(this.textOff==this.text.length){let{value:o,lineBreak:s,done:a}=this.cursor.next(this.skip);if(this.skip=0,a)throw new Error("Ran out of text content when drawing inline views");if(s){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer(),this.curLine=null,this.atCursorPos=!0,t--;continue}else this.text=o,this.textOff=0}let i=Math.min(this.text.length-this.textOff,t,512);this.flushBuffer(e.slice(e.length-n)),this.getLine().append(WM(new Vu(this.text.slice(this.textOff,this.textOff+i)),e),n),this.atCursorPos=!0,this.textOff+=i,t-=i,n=0}}span(t,e,n,i){this.buildText(e-t,n,i),this.pos=e,this.openStart<0&&(this.openStart=i)}point(t,e,n,i,o,s){if(this.disallowBlockEffectsFor[s]&&n instanceof kh){if(n.block)throw new RangeError("Block decorations may not be specified via plugins");if(e>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let a=e-t;if(n instanceof kh)if(n.block)n.startSide>0&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new xp(n.widget||wde.block,a,n));else{let l=nA.create(n.widget||wde.inline,a,a?0:n.startSide),c=this.atCursorPos&&!l.isEditable&&o<=i.length&&(t<e||n.startSide>0),d=!l.isEditable&&(t<e||o>i.length||n.startSide<=0),f=this.getLine();this.pendingBuffer==2&&!c&&!l.isEditable&&(this.pendingBuffer=0),this.flushBuffer(i),c&&(f.append(WM(new Mx(1),i),o),o=i.length+Math.max(0,o-i.length)),f.append(WM(l,i),o),this.atCursorPos=d,this.pendingBuffer=d?t<e||o>i.length?1:2:0,this.pendingBuffer&&(this.bufferMarks=i.slice())}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(n);a&&(this.textOff+a<=this.text.length?this.textOff+=a:(this.skip+=a-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=e),this.openStart<0&&(this.openStart=o)}static build(t,e,n,i,o){let s=new r(t,e,n,o);return s.openEnd=Ys.spans(i,e,n,s),s.openStart<0&&(s.openStart=s.openEnd),s.finish(s.openEnd),s}};function WM(r,t){for(let e of t)r=new Ih(e,[r],r.length);return r}var wde=(()=>{class r extends C0{constructor(e){super(),this.tag=e}eq(e){return e.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(e){return e.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}}return r.inline=new r("span"),r.block=new r("div"),r})(),rs=function(r){return r[r.LTR=0]="LTR",r[r.RTL=1]="RTL",r}(rs||(rs={})),Sp=rs.LTR,H8=rs.RTL;function cfe(r){let t=[];for(let e=0;e<r.length;e++)t.push(1<<+r[e]);return t}var x4e=cfe("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),w4e=cfe("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),_8=Object.create(null),Ou=[];for(let r of["()","[]","{}"]){let t=r.charCodeAt(0),e=r.charCodeAt(1);_8[t]=e,_8[e]=-t}function ufe(r){return r<=247?x4e[r]:1424<=r&&r<=1524?2:1536<=r&&r<=1785?w4e[r-1536]:1774<=r&&r<=2220?4:8192<=r&&r<=8204?256:64336<=r&&r<=65023?4:1}var C4e=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/,Ru=class{get dir(){return this.level%2?H8:Sp}constructor(t,e,n){this.from=t,this.to=e,this.level=n}side(t,e){return this.dir==e==t?this.to:this.from}forward(t,e){return t==(this.dir==e)}static find(t,e,n,i){let o=-1;for(let s=0;s<t.length;s++){let a=t[s];if(a.from<=e&&a.to>=e){if(a.level==n)return s;(o<0||(i!=0?i<0?a.from<e:a.to>e:t[o].level>a.level))&&(o=s)}}if(o<0)throw new RangeError("Index out of range");return o}};function dfe(r,t){if(r.length!=t.length)return!1;for(let e=0;e<r.length;e++){let n=r[e],i=t[e];if(n.from!=i.from||n.to!=i.to||n.direction!=i.direction||!dfe(n.inner,i.inner))return!1}return!0}var ii=[];function S4e(r,t,e,n,i){for(let o=0;o<=n.length;o++){let s=o?n[o-1].to:t,a=o<n.length?n[o].from:e,l=o?256:i;for(let c=s,d=l,f=l;c<a;c++){let m=ufe(r.charCodeAt(c));m==512?m=d:m==8&&f==4&&(m=16),ii[c]=m==4?2:m,m&7&&(f=m),d=m}for(let c=s,d=l,f=l;c<a;c++){let m=ii[c];if(m==128)c<a-1&&d==ii[c+1]&&d&24?m=ii[c]=d:ii[c]=256;else if(m==64){let p=c+1;for(;p<a&&ii[p]==64;)p++;let b=c&&d==8||p<e&&ii[p]==8?f==1?1:8:256;for(let y=c;y<p;y++)ii[y]=b;c=p-1}else m==8&&f==1&&(ii[c]=1);d=m,m&7&&(f=m)}}}function D4e(r,t,e,n,i){let o=i==1?2:1;for(let s=0,a=0,l=0;s<=n.length;s++){let c=s?n[s-1].to:t,d=s<n.length?n[s].from:e;for(let f=c,m,p,b;f<d;f++)if(p=_8[m=r.charCodeAt(f)])if(p<0){for(let y=a-3;y>=0;y-=3)if(Ou[y+1]==-p){let C=Ou[y+2],S=C&2?i:C&4?C&1?o:i:0;S&&(ii[f]=ii[Ou[y]]=S),a=y;break}}else{if(Ou.length==189)break;Ou[a++]=f,Ou[a++]=m,Ou[a++]=l}else if((b=ii[f])==2||b==1){let y=b==i;l=y?0:1;for(let C=a-3;C>=0;C-=3){let S=Ou[C+2];if(S&2)break;if(y)Ou[C+2]|=2;else{if(S&4)break;Ou[C+2]|=4}}}}}function E4e(r,t,e,n){for(let i=0,o=n;i<=e.length;i++){let s=i?e[i-1].to:r,a=i<e.length?e[i].from:t;for(let l=s;l<a;){let c=ii[l];if(c==256){let d=l+1;for(;;)if(d==a){if(i==e.length)break;d=e[i++].to,a=i<e.length?e[i].from:t}else if(ii[d]==256)d++;else break;let f=o==1,m=(d<t?ii[d]:n)==1,p=f==m?f?1:2:n;for(let b=d,y=i,C=y?e[y-1].to:r;b>l;)b==C&&(b=e[--y].from,C=y?e[y-1].to:r),ii[--b]=p;l=d}else o=c,l++}}}function x8(r,t,e,n,i,o,s){let a=n%2?2:1;if(n%2==i%2)for(let l=t,c=0;l<e;){let d=!0,f=!1;if(c==o.length||l<o[c].from){let y=ii[l];y!=a&&(d=!1,f=y==16)}let m=!d&&a==1?[]:null,p=d?n:n+1,b=l;e:for(;;)if(c<o.length&&b==o[c].from){if(f)break e;let y=o[c];if(!d)for(let C=y.to,S=c+1;;){if(C==e)break e;if(S<o.length&&o[S].from==C)C=o[S++].to;else{if(ii[C]==a)break e;break}}if(c++,m)m.push(y);else{y.from>l&&s.push(new Ru(l,y.from,p));let C=y.direction==Sp!=!(p%2);w8(r,C?n+1:n,i,y.inner,y.from,y.to,s),l=y.to}b=y.to}else{if(b==e||(d?ii[b]!=a:ii[b]==a))break;b++}m?x8(r,l,b,n+1,i,m,s):l<b&&s.push(new Ru(l,b,p)),l=b}else for(let l=e,c=o.length;l>t;){let d=!0,f=!1;if(!c||l>o[c-1].to){let y=ii[l-1];y!=a&&(d=!1,f=y==16)}let m=!d&&a==1?[]:null,p=d?n:n+1,b=l;e:for(;;)if(c&&b==o[c-1].to){if(f)break e;let y=o[--c];if(!d)for(let C=y.from,S=c;;){if(C==t)break e;if(S&&o[S-1].to==C)C=o[--S].from;else{if(ii[C-1]==a)break e;break}}if(m)m.push(y);else{y.to<l&&s.push(new Ru(y.to,l,p));let C=y.direction==Sp!=!(p%2);w8(r,C?n+1:n,i,y.inner,y.from,y.to,s),l=y.from}b=y.from}else{if(b==t||(d?ii[b-1]!=a:ii[b-1]==a))break;b--}m?x8(r,b,l,n+1,i,m,s):b<l&&s.push(new Ru(b,l,p)),l=b}}function w8(r,t,e,n,i,o,s){let a=t%2?2:1;S4e(r,i,o,n,a),D4e(r,i,o,n,a),E4e(i,o,n,a),x8(r,i,o,t,e,n,s)}function M4e(r,t,e){if(!r)return[new Ru(0,0,t==H8?1:0)];if(t==Sp&&!e.length&&!C4e.test(r))return ffe(r.length);if(e.length)for(;r.length>ii.length;)ii[ii.length]=256;let n=[],i=t==Sp?0:1;return w8(r,i,i,e,0,r.length,n),n}function ffe(r){return[new Ru(0,r,0)]}var hfe="";function A4e(r,t,e,n,i){var o;let s=n.head-r.from,a=Ru.find(t,s,(o=n.bidiLevel)!==null&&o!==void 0?o:-1,n.assoc),l=t[a],c=l.side(i,e);if(s==c){let m=a+=i?1:-1;if(m<0||m>=t.length)return null;l=t[a=m],s=l.side(!i,e),c=l.side(i,e)}let d=ku(r.text,s,l.forward(i,e));(d<l.from||d>l.to)&&(d=c),hfe=r.text.slice(Math.min(s,d),Math.max(s,d));let f=a==(i?t.length-1:0)?null:t[a+(i?1:-1)];return f&&d==c&&f.level+(i?0:1)<l.level?Dr.cursor(f.side(!i,e)+r.from,f.forward(i,e)?1:-1,f.level):Dr.cursor(d+r.from,l.forward(i,e)?-1:1,l.level)}function T4e(r,t,e){for(let n=t;n<e;n++){let i=ufe(r.charCodeAt(n));if(i==1)return Sp;if(i==2||i==4)return H8}return Sp}var mfe=qr.define(),pfe=qr.define(),gfe=qr.define(),vfe=qr.define(),a8=qr.define(),bfe=qr.define(),yfe=qr.define(),U8=qr.define(),q8=qr.define(),Cde=qr.define({combine:r=>r.some(t=>t)}),I4e=qr.define({combine:r=>r.some(t=>t)}),_fe=qr.define(),wx=class r{constructor(t,e="nearest",n="nearest",i=5,o=5,s=!1){this.range=t,this.y=e,this.x=n,this.yMargin=i,this.xMargin=o,this.isSnapshot=s}map(t){return t.empty?this:new r(this.range.map(t),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}clip(t){return this.range.to<=t.doc.length?this:new r(Dr.cursor(t.doc.length),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}},$M=va.define({map:(r,t)=>r.map(t)}),xfe=va.define();function Bc(r,t,e){let n=r.facet(vfe);n.length?n[0](t):window.onerror?window.onerror(String(t),e,void 0,void 0,t):e?console.error(e+":",t):console.error(t)}var Ah=qr.define({combine:r=>r.length?r[0]:!0}),k4e=0,vx=qr.define(),S0=class r{constructor(t,e,n,i,o){this.id=t,this.create=e,this.domEventHandlers=n,this.domEventObservers=i,this.extension=o(this)}static define(t,e){let{eventHandlers:n,eventObservers:i,provide:o,decorations:s}=e||{};return new r(k4e++,t,n,i,a=>{let l=[vx.of(a)];return s&&l.push(kx.of(c=>{let d=c.plugin(a);return d?s(d):Lo.none})),o&&l.push(o(a)),l})}static fromClass(t,e){return r.define(n=>new t(n),e)}},Cx=class{constructor(t){this.spec=t,this.mustUpdate=null,this.value=null}update(t){if(this.value){if(this.mustUpdate){let e=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(e)}catch(n){if(Bc(e.state,n,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.create(t)}catch(e){Bc(t.state,e,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(t){var e;if(!((e=this.value)===null||e===void 0)&&e.destroy)try{this.value.destroy()}catch(n){Bc(t.state,n,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}},Sde=qr.define(),C8=qr.define(),kx=qr.define(),wfe=qr.define(),W8=qr.define(),Cfe=qr.define();function Dde(r,t){let e=r.state.facet(Cfe);if(!e.length)return e;let n=e.map(o=>o instanceof Function?o(r):o),i=[];return Ys.spans(n,t.from,t.to,{point(){},span(o,s,a,l){let c=o-t.from,d=s-t.from,f=i;for(let m=a.length-1;m>=0;m--,l--){let p=a[m].spec.bidiIsolate,b;if(p==null&&(p=T4e(t.text,c,d)),l>0&&f.length&&(b=f[f.length-1]).to==c&&b.direction==p)b.to=d,f=b.inner;else{let y={from:c,to:d,direction:p,inner:[]};f.push(y),f=y.inner}}}}),i}var Sfe=qr.define();function Dfe(r){let t=0,e=0,n=0,i=0;for(let o of r.state.facet(Sfe)){let s=o(r);s&&(s.left!=null&&(t=Math.max(t,s.left)),s.right!=null&&(e=Math.max(e,s.right)),s.top!=null&&(n=Math.max(n,s.top)),s.bottom!=null&&(i=Math.max(i,s.bottom)))}return{left:t,right:e,top:n,bottom:i}}var gx=qr.define(),Lu=class r{constructor(t,e,n,i){this.fromA=t,this.toA=e,this.fromB=n,this.toB=i}join(t){return new r(Math.min(this.fromA,t.fromA),Math.max(this.toA,t.toA),Math.min(this.fromB,t.fromB),Math.max(this.toB,t.toB))}addToSet(t){let e=t.length,n=this;for(;e>0;e--){let i=t[e-1];if(!(i.fromA>n.toA)){if(i.toA<n.fromA)break;n=n.join(i),t.splice(e-1,1)}}return t.splice(e,0,n),t}static extendWithRanges(t,e){if(e.length==0)return t;let n=[];for(let i=0,o=0,s=0,a=0;;i++){let l=i==t.length?null:t[i],c=s-a,d=l?l.fromB:1e9;for(;o<e.length&&e[o]<d;){let f=e[o],m=e[o+1],p=Math.max(a,f),b=Math.min(d,m);if(p<=b&&new r(p+c,b+c,p,b).addToSet(n),m>d)break;o+=2}if(!l)return n;new r(l.fromA,l.toA,l.fromB,l.toB).addToSet(n),s=l.toA,a=l.toB}}},oA=class r{constructor(t,e,n){this.view=t,this.state=e,this.transactions=n,this.flags=0,this.startState=t.state,this.changes=wl.empty(this.startState.doc.length);for(let o of n)this.changes=this.changes.compose(o.changes);let i=[];this.changes.iterChangedRanges((o,s,a,l)=>i.push(new Lu(o,s,a,l))),this.changedRanges=i}static create(t,e,n){return new r(t,e,n)}get viewportChanged(){return(this.flags&4)>0}get heightChanged(){return(this.flags&2)>0}get geometryChanged(){return this.docChanged||(this.flags&10)>0}get focusChanged(){return(this.flags&1)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(t=>t.selection)}get empty(){return this.flags==0&&this.transactions.length==0}},sA=class extends mi{get length(){return this.view.state.doc.length}constructor(t){super(),this.view=t,this.decorations=[],this.dynamicDecorationMap=[!1],this.domChanged=null,this.hasComposition=null,this.markedForComposition=new Set,this.editContextFormatting=Lo.none,this.lastCompositionAfterCursor=!1,this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(t.contentDOM),this.children=[new vs],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new Lu(0,0,0,t.state.doc.length)],0,null)}update(t){var e;let n=t.changedRanges;this.minWidth>0&&n.length&&(n.every(({fromA:c,toA:d})=>d<this.minWidthFrom||c>this.minWidthTo)?(this.minWidthFrom=t.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=t.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.updateEditContextFormatting(t);let i=-1;this.view.inputState.composing>=0&&!this.view.observer.editContext&&(!((e=this.domChanged)===null||e===void 0)&&e.newSel?i=this.domChanged.newSel.head:!B4e(t.changes,this.hasComposition)&&!t.selectionSet&&(i=t.state.selection.main.head));let o=i>-1?O4e(this.view,t.changes,i):null;if(this.domChanged=null,this.hasComposition){this.markedForComposition.clear();let{from:c,to:d}=this.hasComposition;n=new Lu(c,d,t.changes.mapPos(c,-1),t.changes.mapPos(d,1)).addToSet(n.slice())}this.hasComposition=o?{from:o.range.fromB,to:o.range.toB}:null,(jt.ie||jt.chrome)&&!o&&t&&t.state.doc.lines!=t.startState.doc.lines&&(this.forceSelection=!0);let s=this.decorations,a=this.updateDeco(),l=P4e(s,a,t.changes);return n=Lu.extendWithRanges(n,l),!(this.flags&7)&&n.length==0?!1:(this.updateInner(n,t.startState.doc.length,o),t.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(t,e,n){this.view.viewState.mustMeasureContent=!0,this.updateChildren(t,e,n);let{observer:i}=this.view;i.ignore(()=>{this.dom.style.height=this.view.viewState.contentHeight/this.view.scaleY+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let s=jt.chrome||jt.ios?{node:i.selectionRange.focusNode,written:!1}:void 0;this.sync(this.view,s),this.flags&=-8,s&&(s.written||i.selectionRange.focusNode!=s.node)&&(this.forceSelection=!0),this.dom.style.height=""}),this.markedForComposition.forEach(s=>s.flags&=-9);let o=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let s of this.children)s instanceof xp&&s.widget instanceof Ix&&o.push(s.dom);i.updateGaps(o)}updateChildren(t,e,n){let i=n?n.range.addToSet(t.slice()):t,o=this.childCursor(e);for(let s=i.length-1;;s--){let a=s>=0?i[s]:null;if(!a)break;let{fromA:l,toA:c,fromB:d,toB:f}=a,m,p,b,y;if(n&&n.range.fromB<f&&n.range.toB>d){let M=xx.build(this.view.state.doc,d,n.range.fromB,this.decorations,this.dynamicDecorationMap),E=xx.build(this.view.state.doc,n.range.toB,f,this.decorations,this.dynamicDecorationMap);p=M.breakAtStart,b=M.openStart,y=E.openEnd;let w=this.compositionView(n);E.breakAtStart?w.breakAfter=1:E.content.length&&w.merge(w.length,w.length,E.content[0],!1,E.openStart,0)&&(w.breakAfter=E.content[0].breakAfter,E.content.shift()),M.content.length&&w.merge(0,0,M.content[M.content.length-1],!0,0,M.openEnd)&&M.content.pop(),m=M.content.concat(w).concat(E.content)}else({content:m,breakAtStart:p,openStart:b,openEnd:y}=xx.build(this.view.state.doc,d,f,this.decorations,this.dynamicDecorationMap));let{i:C,off:S}=o.findPos(c,1),{i:A,off:x}=o.findPos(l,-1);tfe(this,A,x,C,S,m,p,b,y)}n&&this.fixCompositionDOM(n)}updateEditContextFormatting(t){this.editContextFormatting=this.editContextFormatting.map(t.changes);for(let e of t.transactions)for(let n of e.effects)n.is(xfe)&&(this.editContextFormatting=n.value)}compositionView(t){let e=new Vu(t.text.nodeValue);e.flags|=8;for(let{deco:i}of t.marks)e=new Ih(i,[e],e.length);let n=new vs;return n.append(e,0),n}fixCompositionDOM(t){let e=(o,s)=>{s.flags|=8|(s.children.some(l=>l.flags&7)?1:0),this.markedForComposition.add(s);let a=mi.get(o);a&&a!=s&&(a.dom=null),s.setDOM(o)},n=this.childPos(t.range.fromB,1),i=this.children[n.i];e(t.line,i);for(let o=t.marks.length-1;o>=-1;o--)n=i.childPos(n.off,1),i=i.children[n.i],e(o>=0?t.marks[o].node:t.text,i)}updateSelection(t=!1,e=!1){(t||!this.view.observer.selectionRange.focusNode)&&this.view.observer.readSelectionRange();let n=this.view.root.activeElement,i=n==this.dom,o=!i&&QM(this.dom,this.view.observer.selectionRange)&&!(n&&this.dom.contains(n));if(!(i||e||o))return;let s=this.forceSelection;this.forceSelection=!1;let a=this.view.state.selection.main,l=this.moveToLine(this.domAtPos(a.anchor)),c=a.empty?l:this.moveToLine(this.domAtPos(a.head));if(jt.gecko&&a.empty&&!this.hasComposition&&N4e(l)){let f=document.createTextNode("");this.view.observer.ignore(()=>l.node.insertBefore(f,l.node.childNodes[l.offset]||null)),l=c=new ba(f,0),s=!0}let d=this.view.observer.selectionRange;(s||!d.focusNode||(!_x(l.node,l.offset,d.anchorNode,d.anchorOffset)||!_x(c.node,c.offset,d.focusNode,d.focusOffset))&&!this.suppressWidgetCursorChange(d,a))&&(this.view.observer.ignore(()=>{jt.android&&jt.chrome&&this.dom.contains(d.focusNode)&&L4e(d.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let f=Dx(this.view.root);if(f)if(a.empty){if(jt.gecko){let m=F4e(l.node,l.offset);if(m&&m!=3){let p=(m==1?Jde:efe)(l.node,l.offset);p&&(l=new ba(p.node,p.offset))}}f.collapse(l.node,l.offset),a.bidiLevel!=null&&f.caretBidiLevel!==void 0&&(f.caretBidiLevel=a.bidiLevel)}else if(f.extend){f.collapse(l.node,l.offset);try{f.extend(c.node,c.offset)}catch{}}else{let m=document.createRange();a.anchor>a.head&&([l,c]=[c,l]),m.setEnd(c.node,c.offset),m.setStart(l.node,l.offset),f.removeAllRanges(),f.addRange(m)}o&&this.view.root.activeElement==this.dom&&(this.dom.blur(),n&&n.focus())}),this.view.observer.setSelectionRange(l,c)),this.impreciseAnchor=l.precise?null:new ba(d.anchorNode,d.anchorOffset),this.impreciseHead=c.precise?null:new ba(d.focusNode,d.focusOffset)}suppressWidgetCursorChange(t,e){return this.hasComposition&&e.empty&&_x(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)&&this.posFromDOM(t.focusNode,t.focusOffset)==e.head}enforceCursorAssoc(){if(this.hasComposition)return;let{view:t}=this,e=t.state.selection.main,n=Dx(t.root),{anchorNode:i,anchorOffset:o}=t.observer.selectionRange;if(!n||!e.empty||!e.assoc||!n.modify)return;let s=vs.find(this,e.head);if(!s)return;let a=s.posAtStart;if(e.head==a||e.head==a+s.length)return;let l=this.coordsAt(e.head,-1),c=this.coordsAt(e.head,1);if(!l||!c||l.bottom>c.top)return;let d=this.domAtPos(e.head+e.assoc);n.collapse(d.node,d.offset),n.modify("move",e.assoc<0?"forward":"backward","lineboundary"),t.observer.readSelectionRange();let f=t.observer.selectionRange;t.docView.posFromDOM(f.anchorNode,f.anchorOffset)!=e.from&&n.collapse(i,o)}moveToLine(t){let e=this.dom,n;if(t.node!=e)return t;for(let i=t.offset;!n&&i<e.childNodes.length;i++){let o=mi.get(e.childNodes[i]);o instanceof vs&&(n=o.domAtPos(0))}for(let i=t.offset-1;!n&&i>=0;i--){let o=mi.get(e.childNodes[i]);o instanceof vs&&(n=o.domAtPos(o.length))}return n?new ba(n.node,n.offset,!0):t}nearest(t){for(let e=t;e;){let n=mi.get(e);if(n&&n.rootView==this)return n;e=e.parentNode}return null}posFromDOM(t,e){let n=this.nearest(t);if(!n)throw new RangeError("Trying to find position for a DOM position outside of the document");return n.localPosFromDOM(t,e)+n.posAtStart}domAtPos(t){let{i:e,off:n}=this.childCursor().findPos(t,-1);for(;e<this.children.length-1;){let i=this.children[e];if(n<i.length||i instanceof vs)break;e++,n=0}return this.children[e].domAtPos(n)}coordsAt(t,e){let n=null,i=0;for(let o=this.length,s=this.children.length-1;s>=0;s--){let a=this.children[s],l=o-a.breakAfter,c=l-a.length;if(l<t)break;if(c<=t&&(c<t||a.covers(-1))&&(l>t||a.covers(1))&&(!n||a instanceof vs&&!(n instanceof vs&&e>=0)))n=a,i=c;else if(n&&c==t&&l==t&&a instanceof xp&&Math.abs(e)<2){if(a.deco.startSide<0)break;s&&(n=null)}o=c}return n?n.coordsAt(t-i,e):null}coordsForChar(t){let{i:e,off:n}=this.childPos(t,1),i=this.children[e];if(!(i instanceof vs))return null;for(;i.children.length;){let{i:a,off:l}=i.childPos(n,1);for(;;a++){if(a==i.children.length)return null;if((i=i.children[a]).length)break}n=l}if(!(i instanceof Vu))return null;let o=ku(i.text,n);if(o==n)return null;let s=Cp(i.dom,n,o).getClientRects();for(let a=0;a<s.length;a++){let l=s[a];if(a==s.length-1||l.top<l.bottom&&l.left<l.right)return l}return null}measureVisibleLineHeights(t){let e=[],{from:n,to:i}=t,o=this.view.contentDOM.clientWidth,s=o>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,a=-1,l=this.view.textDirection==rs.LTR;for(let c=0,d=0;d<this.children.length;d++){let f=this.children[d],m=c+f.length;if(m>i)break;if(c>=n){let p=f.dom.getBoundingClientRect();if(e.push(p.height),s){let b=f.dom.lastChild,y=b?Ex(b):[];if(y.length){let C=y[y.length-1],S=l?C.right-p.left:p.right-C.left;S>a&&(a=S,this.minWidth=o,this.minWidthFrom=c,this.minWidthTo=m)}}}c=m+f.breakAfter}return e}textDirectionAt(t){let{i:e}=this.childPos(t,1);return getComputedStyle(this.children[e].dom).direction=="rtl"?rs.RTL:rs.LTR}measureTextSize(){for(let o of this.children)if(o instanceof vs){let s=o.measureTextSize();if(s)return s}let t=document.createElement("div"),e,n,i;return t.className="cm-line",t.style.width="99999px",t.style.position="absolute",t.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.dom.appendChild(t);let o=Ex(t.firstChild)[0];e=t.getBoundingClientRect().height,n=o?o.width/27:7,i=o?o.height:e,t.remove()}),{lineHeight:e,charWidth:n,textHeight:i}}childCursor(t=this.length){let e=this.children.length;return e&&(t-=this.children[--e].length),new rA(this.children,t,e)}computeBlockGapDeco(){let t=[],e=this.view.viewState;for(let n=0,i=0;;i++){let o=i==e.viewports.length?null:e.viewports[i],s=o?o.from-1:this.length;if(s>n){let a=(e.lineBlockAt(s).bottom-e.lineBlockAt(n).top)/this.view.scaleY;t.push(Lo.replace({widget:new Ix(a),block:!0,inclusive:!0,isBlockGap:!0}).range(n,s))}if(!o)break;n=o.to+1}return Lo.set(t)}updateDeco(){let t=1,e=this.view.state.facet(kx).map(o=>(this.dynamicDecorationMap[t++]=typeof o=="function")?o(this.view):o),n=!1,i=this.view.state.facet(wfe).map((o,s)=>{let a=typeof o=="function";return a&&(n=!0),a?o(this.view):o});for(i.length&&(this.dynamicDecorationMap[t++]=n,e.push(Ys.join(i))),this.decorations=[this.editContextFormatting,...e,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco];t<this.decorations.length;)this.dynamicDecorationMap[t++]=!1;return this.decorations}scrollIntoView(t){if(t.isSnapshot){let c=this.view.viewState.lineBlockAt(t.range.head);this.view.scrollDOM.scrollTop=c.top-t.yMargin,this.view.scrollDOM.scrollLeft=t.xMargin;return}for(let c of this.view.state.facet(_fe))try{if(c(this.view,t.range,t))return!0}catch(d){Bc(this.view.state,d,"scroll handler")}let{range:e}=t,n=this.coordsAt(e.head,e.empty?e.assoc:e.head>e.anchor?-1:1),i;if(!n)return;!e.empty&&(i=this.coordsAt(e.anchor,e.anchor>e.head?-1:1))&&(n={left:Math.min(n.left,i.left),top:Math.min(n.top,i.top),right:Math.max(n.right,i.right),bottom:Math.max(n.bottom,i.bottom)});let o=Dfe(this.view),s={left:n.left-o.left,top:n.top-o.top,right:n.right+o.right,bottom:n.bottom+o.bottom},{offsetWidth:a,offsetHeight:l}=this.view.scrollDOM;f4e(this.view.scrollDOM,s,e.head<e.anchor?-1:1,t.x,t.y,Math.max(Math.min(t.xMargin,a),-a),Math.max(Math.min(t.yMargin,l),-l),this.view.textDirection==rs.LTR)}};function N4e(r){return r.node.nodeType==1&&r.node.firstChild&&(r.offset==0||r.node.childNodes[r.offset-1].contentEditable=="false")&&(r.offset==r.node.childNodes.length||r.node.childNodes[r.offset].contentEditable=="false")}function Efe(r,t){let e=r.observer.selectionRange;if(!e.focusNode)return null;let n=Jde(e.focusNode,e.focusOffset),i=efe(e.focusNode,e.focusOffset),o=n||i;if(i&&n&&i.node!=n.node){let a=mi.get(i.node);if(!a||a instanceof Vu&&a.text!=i.node.nodeValue)o=i;else if(r.docView.lastCompositionAfterCursor){let l=mi.get(n.node);!l||l instanceof Vu&&l.text!=n.node.nodeValue||(o=i)}}if(r.docView.lastCompositionAfterCursor=o!=n,!o)return null;let s=t-o.offset;return{from:s,to:s+o.node.nodeValue.length,node:o.node}}function O4e(r,t,e){let n=Efe(r,e);if(!n)return null;let{node:i,from:o,to:s}=n,a=i.nodeValue;if(/[\n\r]/.test(a)||r.state.doc.sliceString(n.from,n.to)!=a)return null;let l=t.invertedDesc,c=new Lu(l.mapPos(o),l.mapPos(s),o,s),d=[];for(let f=i.parentNode;;f=f.parentNode){let m=mi.get(f);if(m instanceof Ih)d.push({node:f,deco:m.mark});else{if(m instanceof vs||f.nodeName=="DIV"&&f.parentNode==r.contentDOM)return{range:c,text:i,marks:d,line:f};if(f!=r.contentDOM)d.push({node:f,deco:new Ax({inclusive:!0,attributes:y4e(f),tagName:f.tagName.toLowerCase()})});else return null}}}function F4e(r,t){return r.nodeType!=1?0:(t&&r.childNodes[t-1].contentEditable=="false"?1:0)|(t<r.childNodes.length&&r.childNodes[t].contentEditable=="false"?2:0)}var R4e=class{constructor(){this.changes=[]}compareRange(t,e){y8(t,e,this.changes)}comparePoint(t,e){y8(t,e,this.changes)}};function P4e(r,t,e){let n=new R4e;return Ys.compare(r,t,e,n),n.changes}function L4e(r,t){for(let e=r;e&&e!=t;e=e.assignedSlot||e.parentNode)if(e.nodeType==1&&e.contentEditable=="false")return!0;return!1}function B4e(r,t){let e=!1;return t&&r.iterChangedRanges((n,i)=>{n<t.to&&i>t.from&&(e=!0)}),e}function V4e(r,t,e=1){let n=r.charCategorizer(t),i=r.doc.lineAt(t),o=t-i.from;if(i.length==0)return Dr.cursor(t);o==0?e=1:o==i.length&&(e=-1);let s=o,a=o;e<0?s=ku(i.text,o,!1):a=ku(i.text,o);let l=n(i.text.slice(s,a));for(;s>0;){let c=ku(i.text,s,!1);if(n(i.text.slice(c,s))!=l)break;s=c}for(;a<i.length;){let c=ku(i.text,a);if(n(i.text.slice(a,c))!=l)break;a=c}return Dr.range(s+i.from,a+i.from)}function z4e(r,t){return t.left>r?t.left-r:Math.max(0,r-t.right)}function j4e(r,t){return t.top>r?t.top-r:Math.max(0,r-t.bottom)}function l8(r,t){return r.top<t.bottom-1&&r.bottom>t.top+1}function Ede(r,t){return t<r.top?{top:t,left:r.left,right:r.right,bottom:r.bottom}:r}function Mde(r,t){return t>r.bottom?{top:r.top,left:r.left,right:r.right,bottom:t}:r}function S8(r,t,e){let n,i,o,s,a=!1,l,c,d,f;for(let b=r.firstChild;b;b=b.nextSibling){let y=Ex(b);for(let C=0;C<y.length;C++){let S=y[C];i&&l8(i,S)&&(S=Ede(Mde(S,i.bottom),i.top));let A=z4e(t,S),x=j4e(e,S);if(A==0&&x==0)return b.nodeType==3?Ade(b,t,e):S8(b,t,e);if(!n||s>x||s==x&&o>A){n=b,i=S,o=A,s=x;let M=x?e<S.top?-1:1:A?t<S.left?-1:1:0;a=!M||(M>0?C<y.length-1:C>0)}A==0?e>S.bottom&&(!d||d.bottom<S.bottom)?(l=b,d=S):e<S.top&&(!f||f.top>S.top)&&(c=b,f=S):d&&l8(d,S)?d=Mde(d,S.bottom):f&&l8(f,S)&&(f=Ede(f,S.top))}}if(d&&d.bottom>=e?(n=l,i=d):f&&f.top<=e&&(n=c,i=f),!n)return{node:r,offset:0};let m=Math.max(i.left,Math.min(i.right,t));if(n.nodeType==3)return Ade(n,m,e);if(a&&n.contentEditable!="false")return S8(n,m,e);let p=Array.prototype.indexOf.call(r.childNodes,n)+(t>=(i.left+i.right)/2?1:0);return{node:r,offset:p}}function Ade(r,t,e){let n=r.nodeValue.length,i=-1,o=1e9,s=0;for(let a=0;a<n;a++){let l=Cp(r,a,a+1).getClientRects();for(let c=0;c<l.length;c++){let d=l[c];if(d.top==d.bottom)continue;s||(s=t-d.left);let f=(d.top>e?d.top-e:e-d.bottom)-1;if(d.left-1<=t&&d.right+1>=t&&f<o){let m=t>=(d.left+d.right)/2,p=m;if((jt.chrome||jt.gecko)&&Cp(r,a).getBoundingClientRect().left==d.right&&(p=!m),f<=0)return{node:r,offset:a+(p?1:0)};i=a+(p?1:0),o=f}}}return{node:r,offset:i>-1?i:s>0?r.nodeValue.length:0}}function Mfe(r,t,e,n=-1){var i,o;let s=r.contentDOM.getBoundingClientRect(),a=s.top+r.viewState.paddingTop,l,{docHeight:c}=r.viewState,{x:d,y:f}=t,m=f-a;if(m<0)return 0;if(m>c)return r.state.doc.length;for(let M=r.viewState.heightOracle.textHeight/2,E=!1;l=r.elementAtHeight(m),l.type!=Pu.Text;)for(;m=n>0?l.bottom+M:l.top-M,!(m>=0&&m<=c);){if(E)return e?null:0;E=!0,n=-n}f=a+m;let p=l.from;if(p<r.viewport.from)return r.viewport.from==0?0:e?null:Tde(r,s,l,d,f);if(p>r.viewport.to)return r.viewport.to==r.state.doc.length?r.state.doc.length:e?null:Tde(r,s,l,d,f);let b=r.dom.ownerDocument,y=r.root.elementFromPoint?r.root:b,C=y.elementFromPoint(d,f);C&&!r.contentDOM.contains(C)&&(C=null),C||(d=Math.max(s.left+1,Math.min(s.right-1,d)),C=y.elementFromPoint(d,f),C&&!r.contentDOM.contains(C)&&(C=null));let S,A=-1;if(C&&((i=r.docView.nearest(C))===null||i===void 0?void 0:i.isEditable)!=!1){if(b.caretPositionFromPoint){let M=b.caretPositionFromPoint(d,f);M&&({offsetNode:S,offset:A}=M)}else if(b.caretRangeFromPoint){let M=b.caretRangeFromPoint(d,f);M&&({startContainer:S,startOffset:A}=M,(!r.contentDOM.contains(S)||jt.safari&&H4e(S,A,d)||jt.chrome&&U4e(S,A,d))&&(S=void 0))}S&&(A=Math.min(Bu(S),A))}if(!S||!r.docView.dom.contains(S)){let M=vs.find(r.docView,p);if(!M)return m>l.top+l.height/2?l.to:l.from;({node:S,offset:A}=S8(M.dom,d,f))}let x=r.docView.nearest(S);if(!x)return null;if(x.isWidget&&((o=x.dom)===null||o===void 0?void 0:o.nodeType)==1){let M=x.dom.getBoundingClientRect();return t.y<M.top||t.y<=M.bottom&&t.x<=(M.left+M.right)/2?x.posAtStart:x.posAtEnd}else return x.localPosFromDOM(S,A)+x.posAtStart}function Tde(r,t,e,n,i){let o=Math.round((n-t.left)*r.defaultCharacterWidth);if(r.lineWrapping&&e.height>r.defaultLineHeight*1.5){let a=r.viewState.heightOracle.textHeight,l=Math.floor((i-e.top-(r.defaultLineHeight-a)*.5)/a);o+=l*r.viewState.heightOracle.lineLength}let s=r.state.sliceDoc(e.from,e.to);return e.from+dde(s,o,r.state.tabSize)}function H4e(r,t,e){let n;if(r.nodeType!=3||t!=(n=r.nodeValue.length))return!1;for(let i=r.nextSibling;i;i=i.nextSibling)if(i.nodeType!=1||i.nodeName!="BR")return!1;return Cp(r,n-1,n).getBoundingClientRect().left>e}function U4e(r,t,e){if(t!=0)return!1;for(let i=r;;){let o=i.parentNode;if(!o||o.nodeType!=1||o.firstChild!=i)return!1;if(o.classList.contains("cm-line"))break;i=o}let n=r.nodeType==1?r.getBoundingClientRect():Cp(r,0,Math.max(r.nodeValue.length,1)).getBoundingClientRect();return e-n.left>5}function q4e(r,t){let e=r.lineBlockAt(t);if(Array.isArray(e.type)){for(let n of e.type)if(n.to>t||n.to==t&&(n.to==e.to||n.type==Pu.Text))return n}return e}function W4e(r,t,e,n){let i=q4e(r,t.head),o=!n||i.type!=Pu.Text||!(r.lineWrapping||i.widgetLineBreaks)?null:r.coordsAtPos(t.assoc<0&&t.head>i.from?t.head-1:t.head);if(o){let s=r.dom.getBoundingClientRect(),a=r.textDirectionAt(i.from),l=r.posAtCoords({x:e==(a==rs.LTR)?s.right-1:s.left+1,y:(o.top+o.bottom)/2});if(l!=null)return Dr.cursor(l,e?-1:1)}return Dr.cursor(e?i.to:i.from,e?-1:1)}function Ide(r,t,e,n){let i=r.state.doc.lineAt(t.head),o=r.bidiSpans(i),s=r.textDirectionAt(i.from);for(let a=t,l=null;;){let c=A4e(i,o,s,a,e),d=hfe;if(!c){if(i.number==(e?r.state.doc.lines:1))return a;d=`
`,i=r.state.doc.line(i.number+(e?1:-1)),o=r.bidiSpans(i),c=r.visualLineSide(i,!e)}if(l){if(!l(d))return a}else{if(!n)return c;l=n(d)}a=c}}function $4e(r,t,e){let n=r.state.charCategorizer(t),i=n(e);return o=>{let s=n(o);return i==Iu.Space&&(i=s),i==s}}function G4e(r,t,e,n){let i=t.head,o=e?1:-1;if(i==(e?r.state.doc.length:0))return Dr.cursor(i,t.assoc);let s=t.goalColumn,a,l=r.contentDOM.getBoundingClientRect(),c=r.coordsAtPos(i,t.assoc||-1),d=r.documentTop;if(c)s==null&&(s=c.left-l.left),a=o<0?c.top:c.bottom;else{let p=r.viewState.lineBlockAt(i);s==null&&(s=Math.min(l.right-l.left,r.defaultCharacterWidth*(i-p.from))),a=(o<0?p.top:p.bottom)+d}let f=l.left+s,m=n??r.viewState.heightOracle.textHeight>>1;for(let p=0;;p+=10){let b=a+(m+p)*o,y=Mfe(r,{x:f,y:b},!1,o);if(b<l.top||b>l.bottom||(o<0?y<i:y>i)){let C=r.docView.coordsForChar(y),S=!C||b<C.top?-1:1;return Dr.cursor(y,S,void 0,s)}}}function JM(r,t,e){for(;;){let n=0;for(let i of r)i.between(t-1,t+1,(o,s,a)=>{if(t>o&&t<s){let l=n||e||(t-o<s-t?-1:1);t=l<0?o:s,n=l}});if(!n)return t}}function c8(r,t,e){let n=JM(r.state.facet(W8).map(i=>i(r)),e.from,t.head>e.from?-1:1);return n==e.from?e:Dr.cursor(n,n<e.from?1:-1)}var bx="\uFFFF",D8=class{constructor(t,e){this.points=t,this.text="",this.lineSeparator=e.facet(Nu.lineSeparator)}append(t){this.text+=t}lineBreak(){this.text+=bx}readRange(t,e){if(!t)return this;let n=t.parentNode;for(let i=t;;){this.findPointBefore(n,i);let o=this.text.length;this.readNode(i);let s=i.nextSibling;if(s==e)break;let a=mi.get(i),l=mi.get(s);(a&&l?a.breakAfter:(a?a.breakAfter:tA(i))||tA(s)&&(i.nodeName!="BR"||i.cmIgnore)&&this.text.length>o)&&this.lineBreak(),i=s}return this.findPointBefore(n,e),this}readTextNode(t){let e=t.nodeValue;for(let n of this.points)n.node==t&&(n.pos=this.text.length+Math.min(n.offset,e.length));for(let n=0,i=this.lineSeparator?null:/\r\n?|\n/g;;){let o=-1,s=1,a;if(this.lineSeparator?(o=e.indexOf(this.lineSeparator,n),s=this.lineSeparator.length):(a=i.exec(e))&&(o=a.index,s=a[0].length),this.append(e.slice(n,o<0?e.length:o)),o<0)break;if(this.lineBreak(),s>1)for(let l of this.points)l.node==t&&l.pos>this.text.length&&(l.pos-=s-1);n=o+s}}readNode(t){if(t.cmIgnore)return;let e=mi.get(t),n=e&&e.overrideDOMText;if(n!=null){this.findPointInside(t,n.length);for(let i=n.iter();!i.next().done;)i.lineBreak?this.lineBreak():this.append(i.value)}else t.nodeType==3?this.readTextNode(t):t.nodeName=="BR"?t.nextSibling&&this.lineBreak():t.nodeType==1&&this.readRange(t.firstChild,null)}findPointBefore(t,e){for(let n of this.points)n.node==t&&t.childNodes[n.offset]==e&&(n.pos=this.text.length)}findPointInside(t,e){for(let n of this.points)(t.nodeType==3?n.node==t:t.contains(n.node))&&(n.pos=this.text.length+(Y4e(t,n.node,n.offset)?e:0))}};function Y4e(r,t,e){for(;;){if(!t||e<Bu(t))return!1;if(t==r)return!0;e=wp(t)+1,t=t.parentNode}}var aA=class{constructor(t,e){this.node=t,this.offset=e,this.pos=-1}},E8=class{constructor(t,e,n,i){this.typeOver=i,this.bounds=null,this.text="",this.domChanged=e>-1;let{impreciseHead:o,impreciseAnchor:s}=t.docView;if(t.state.readOnly&&e>-1)this.newSel=null;else if(e>-1&&(this.bounds=t.docView.domBoundsAround(e,n,0))){let a=o||s?[]:Z4e(t),l=new D8(a,t.state);l.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=l.text,this.newSel=Q4e(a,this.bounds.from)}else{let a=t.observer.selectionRange,l=o&&o.node==a.focusNode&&o.offset==a.focusOffset||!f8(t.contentDOM,a.focusNode)?t.state.selection.main.head:t.docView.posFromDOM(a.focusNode,a.focusOffset),c=s&&s.node==a.anchorNode&&s.offset==a.anchorOffset||!f8(t.contentDOM,a.anchorNode)?t.state.selection.main.anchor:t.docView.posFromDOM(a.anchorNode,a.anchorOffset),d=t.viewport;if((jt.ios||jt.chrome)&&t.state.selection.main.empty&&l!=c&&(d.from>0||d.to<t.state.doc.length)){let f=Math.min(l,c),m=Math.max(l,c),p=d.from-f,b=d.to-m;(p==0||p==1||f==0)&&(b==0||b==-1||m==t.state.doc.length)&&(l=0,c=t.state.doc.length)}this.newSel=Dr.single(c,l)}}};function Afe(r,t){let e,{newSel:n}=t,i=r.state.selection.main,o=r.inputState.lastKeyTime>Date.now()-100?r.inputState.lastKeyCode:-1;if(t.bounds){let{from:s,to:a}=t.bounds,l=i.from,c=null;(o===8||jt.android&&t.text.length<a-s)&&(l=i.to,c="end");let d=X4e(r.state.doc.sliceString(s,a,bx),t.text,l-s,c);d&&(jt.chrome&&o==13&&d.toB==d.from+2&&t.text.slice(d.from,d.toB)==bx+bx&&d.toB--,e={from:s+d.from,to:s+d.toA,insert:kn.of(t.text.slice(d.from,d.toB).split(bx))})}else n&&(!r.hasFocus&&r.state.facet(Ah)||n.main.eq(i))&&(n=null);if(!e&&!n)return!1;if(!e&&t.typeOver&&!i.empty&&n&&n.main.empty?e={from:i.from,to:i.to,insert:r.state.doc.slice(i.from,i.to)}:e&&e.from>=i.from&&e.to<=i.to&&(e.from!=i.from||e.to!=i.to)&&i.to-i.from-(e.to-e.from)<=4?e={from:i.from,to:i.to,insert:r.state.doc.slice(i.from,e.from).append(e.insert).append(r.state.doc.slice(e.to,i.to))}:(jt.mac||jt.android)&&e&&e.from==e.to&&e.from==i.head-1&&/^\. ?$/.test(e.insert.toString())&&r.contentDOM.getAttribute("autocorrect")=="off"?(n&&e.insert.length==2&&(n=Dr.single(n.main.anchor-1,n.main.head-1)),e={from:i.from,to:i.to,insert:kn.of([" "])}):jt.chrome&&e&&e.from==e.to&&e.from==i.head&&e.insert.toString()==`
 `&&r.lineWrapping&&(n&&(n=Dr.single(n.main.anchor-1,n.main.head-1)),e={from:i.from,to:i.to,insert:kn.of([" "])}),e)return $8(r,e,n,o);if(n&&!n.main.eq(i)){let s=!1,a="select";return r.inputState.lastSelectionTime>Date.now()-50&&(r.inputState.lastSelectionOrigin=="select"&&(s=!0),a=r.inputState.lastSelectionOrigin),r.dispatch({selection:n,scrollIntoView:s,userEvent:a}),!0}else return!1}function $8(r,t,e,n=-1){if(jt.ios&&r.inputState.flushIOSKey(t))return!0;let i=r.state.selection.main;if(jt.android&&(t.to==i.to&&(t.from==i.from||t.from==i.from-1&&r.state.sliceDoc(t.from,i.from)==" ")&&t.insert.length==1&&t.insert.lines==2&&w0(r.contentDOM,"Enter",13)||(t.from==i.from-1&&t.to==i.to&&t.insert.length==0||n==8&&t.insert.length<t.to-t.from&&t.to>i.head)&&w0(r.contentDOM,"Backspace",8)||t.from==i.from&&t.to==i.to+1&&t.insert.length==0&&w0(r.contentDOM,"Delete",46)))return!0;let o=t.insert.toString();r.inputState.composing>=0&&r.inputState.composing++;let s,a=()=>s||(s=K4e(r,t,e));return r.state.facet(bfe).some(l=>l(r,t.from,t.to,o,a))||r.dispatch(a()),!0}function K4e(r,t,e){let n,i=r.state,o=i.selection.main;if(t.from>=o.from&&t.to<=o.to&&t.to-t.from>=(o.to-o.from)/3&&(!e||e.main.empty&&e.main.from==t.from+t.insert.length)&&r.inputState.composing<0){let a=o.from<t.from?i.sliceDoc(o.from,t.from):"",l=o.to>t.to?i.sliceDoc(t.to,o.to):"";n=i.replaceSelection(r.state.toText(a+t.insert.sliceString(0,void 0,r.state.lineBreak)+l))}else{let a=i.changes(t),l=e&&e.main.to<=a.newLength?e.main:void 0;if(i.selection.ranges.length>1&&r.inputState.composing>=0&&t.to<=o.to&&t.to>=o.to-10){let c=r.state.sliceDoc(t.from,t.to),d,f=e&&Efe(r,e.main.head);if(f){let b=t.insert.length-(t.to-t.from);d={from:f.from,to:f.to-b}}else d=r.state.doc.lineAt(o.head);let m=o.to-t.to,p=o.to-o.from;n=i.changeByRange(b=>{if(b.from==o.from&&b.to==o.to)return{changes:a,range:l||b.map(a)};let y=b.to-m,C=y-c.length;if(b.to-b.from!=p||r.state.sliceDoc(C,y)!=c||b.to>=d.from&&b.from<=d.to)return{range:b};let S=i.changes({from:C,to:y,insert:t.insert}),A=b.to-o.to;return{changes:S,range:l?Dr.range(Math.max(0,l.anchor+A),Math.max(0,l.head+A)):b.map(S)}})}else n={changes:a,selection:l&&i.selection.replaceRange(l)}}let s="input.type";return(r.composing||r.inputState.compositionPendingChange&&r.inputState.compositionEndedAt>Date.now()-50)&&(r.inputState.compositionPendingChange=!1,s+=".compose",r.inputState.compositionFirstChange&&(s+=".start",r.inputState.compositionFirstChange=!1)),i.update(n,{userEvent:s,scrollIntoView:!0})}function X4e(r,t,e,n){let i=Math.min(r.length,t.length),o=0;for(;o<i&&r.charCodeAt(o)==t.charCodeAt(o);)o++;if(o==i&&r.length==t.length)return null;let s=r.length,a=t.length;for(;s>0&&a>0&&r.charCodeAt(s-1)==t.charCodeAt(a-1);)s--,a--;if(n=="end"){let l=Math.max(0,o-Math.min(s,a));e-=s+l-o}if(s<o&&r.length<t.length){let l=e<=o&&e>=s?o-e:0;o-=l,a=o+(a-s),s=o}else if(a<o){let l=e<=o&&e>=a?o-e:0;o-=l,s=o+(s-a),a=o}return{from:o,toA:s,toB:a}}function Z4e(r){let t=[];if(r.root.activeElement!=r.contentDOM)return t;let{anchorNode:e,anchorOffset:n,focusNode:i,focusOffset:o}=r.observer.selectionRange;return e&&(t.push(new aA(e,n)),(i!=e||o!=n)&&t.push(new aA(i,o))),t}function Q4e(r,t){if(r.length==0)return null;let e=r[0].pos,n=r.length==2?r[1].pos:e;return e>-1&&n>-1?Dr.single(e+t,n+t):null}var M8=class{setSelectionOrigin(t){this.lastSelectionOrigin=t,this.lastSelectionTime=Date.now()}constructor(t){this.view=t,this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.pendingIOSKey=void 0,this.tabFocusMode=-1,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastContextMenu=0,this.scrollHandlers=[],this.handlers=Object.create(null),this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.mouseSelection=null,this.draggedContent=null,this.handleEvent=this.handleEvent.bind(this),this.notifiedFocused=t.hasFocus,jt.safari&&t.contentDOM.addEventListener("input",()=>null),jt.gecko&&m5e(t.contentDOM.ownerDocument)}handleEvent(t){!s5e(this.view,t)||this.ignoreDuringComposition(t)||t.type=="keydown"&&this.keydown(t)||this.runHandlers(t.type,t)}runHandlers(t,e){let n=this.handlers[t];if(n){for(let i of n.observers)i(this.view,e);for(let i of n.handlers){if(e.defaultPrevented)break;if(i(this.view,e)){e.preventDefault();break}}}}ensureHandlers(t){let e=J4e(t),n=this.handlers,i=this.view.contentDOM;for(let o in e)if(o!="scroll"){let s=!e[o].handlers.length,a=n[o];a&&s!=!a.handlers.length&&(i.removeEventListener(o,this.handleEvent),a=null),a||i.addEventListener(o,this.handleEvent,{passive:s})}for(let o in n)o!="scroll"&&!e[o]&&i.removeEventListener(o,this.handleEvent);this.handlers=e}keydown(t){if(this.lastKeyCode=t.keyCode,this.lastKeyTime=Date.now(),t.keyCode==9&&this.tabFocusMode>-1&&(!this.tabFocusMode||Date.now()<=this.tabFocusMode))return!0;if(this.tabFocusMode>0&&t.keyCode!=27&&t5e.indexOf(t.keyCode)<0&&(this.tabFocusMode=-1),jt.android&&jt.chrome&&!t.synthetic&&(t.keyCode==13||t.keyCode==8))return this.view.observer.delayAndroidKey(t.key,t.keyCode),!0;let e;return jt.ios&&!t.synthetic&&!t.altKey&&!t.metaKey&&((e=Tfe.find(n=>n.keyCode==t.keyCode))&&!t.ctrlKey||e5e.indexOf(t.key)>-1&&t.ctrlKey&&!t.shiftKey)?(this.pendingIOSKey=e||t,setTimeout(()=>this.flushIOSKey(),250),!0):(t.keyCode!=229&&this.view.observer.forceFlush(),!1)}flushIOSKey(t){let e=this.pendingIOSKey;return!e||e.key=="Enter"&&t&&t.from<t.to&&/^\S+$/.test(t.insert.toString())?!1:(this.pendingIOSKey=void 0,w0(this.view.contentDOM,e.key,e.keyCode,e instanceof KeyboardEvent?e:void 0))}ignoreDuringComposition(t){return/^key/.test(t.type)?this.composing>0?!0:jt.safari&&!jt.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100?(this.compositionPendingKey=!1,!0):!1:!1}startMouseSelection(t){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=t}update(t){this.view.observer.update(t),this.mouseSelection&&this.mouseSelection.update(t),this.draggedContent&&t.docChanged&&(this.draggedContent=this.draggedContent.map(t.changes)),t.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}};function kde(r,t){return(e,n)=>{try{return t.call(r,n,e)}catch(i){Bc(e.state,i)}}}function J4e(r){let t=Object.create(null);function e(n){return t[n]||(t[n]={observers:[],handlers:[]})}for(let n of r){let i=n.spec;if(i&&i.domEventHandlers)for(let o in i.domEventHandlers){let s=i.domEventHandlers[o];s&&e(o).handlers.push(kde(n.value,s))}if(i&&i.domEventObservers)for(let o in i.domEventObservers){let s=i.domEventObservers[o];s&&e(o).observers.push(kde(n.value,s))}}for(let n in Vc)e(n).handlers.push(Vc[n]);for(let n in rc)e(n).observers.push(rc[n]);return t}var Tfe=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Enter",keyCode:13,inputType:"insertLineBreak"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],e5e="dthko",t5e=[16,17,18,20,91,92,224,225],GM=6;function YM(r){return Math.max(0,r)*.7+8}function r5e(r,t){return Math.max(Math.abs(r.clientX-t.clientX),Math.abs(r.clientY-t.clientY))}var A8=class{constructor(t,e,n,i){this.view=t,this.startEvent=e,this.style=n,this.mustSelect=i,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=e,this.scrollParents=h4e(t.contentDOM),this.atoms=t.state.facet(W8).map(s=>s(t));let o=t.contentDOM.ownerDocument;o.addEventListener("mousemove",this.move=this.move.bind(this)),o.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=e.shiftKey,this.multiple=t.state.facet(Nu.allowMultipleSelections)&&n5e(t,e),this.dragging=o5e(t,e)&&Nfe(e)==1?null:!1}start(t){this.dragging===!1&&this.select(t)}move(t){if(t.buttons==0)return this.destroy();if(this.dragging||this.dragging==null&&r5e(this.startEvent,t)<10)return;this.select(this.lastEvent=t);let e=0,n=0,i=0,o=0,s=this.view.win.innerWidth,a=this.view.win.innerHeight;this.scrollParents.x&&({left:i,right:s}=this.scrollParents.x.getBoundingClientRect()),this.scrollParents.y&&({top:o,bottom:a}=this.scrollParents.y.getBoundingClientRect());let l=Dfe(this.view);t.clientX-l.left<=i+GM?e=-YM(i-t.clientX):t.clientX+l.right>=s-GM&&(e=YM(t.clientX-s)),t.clientY-l.top<=o+GM?n=-YM(o-t.clientY):t.clientY+l.bottom>=a-GM&&(n=YM(t.clientY-a)),this.setScrollSpeed(e,n)}up(t){this.dragging==null&&this.select(this.lastEvent),this.dragging||t.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let t=this.view.contentDOM.ownerDocument;t.removeEventListener("mousemove",this.move),t.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=this.view.inputState.draggedContent=null}setScrollSpeed(t,e){this.scrollSpeed={x:t,y:e},t||e?this.scrolling<0&&(this.scrolling=setInterval(()=>this.scroll(),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){let{x:t,y:e}=this.scrollSpeed;t&&this.scrollParents.x&&(this.scrollParents.x.scrollLeft+=t,t=0),e&&this.scrollParents.y&&(this.scrollParents.y.scrollTop+=e,e=0),(t||e)&&this.view.win.scrollBy(t,e),this.dragging===!1&&this.select(this.lastEvent)}skipAtoms(t){let e=null;for(let n=0;n<t.ranges.length;n++){let i=t.ranges[n],o=null;if(i.empty){let s=JM(this.atoms,i.from,0);s!=i.from&&(o=Dr.cursor(s,-1))}else{let s=JM(this.atoms,i.from,-1),a=JM(this.atoms,i.to,1);(s!=i.from||a!=i.to)&&(o=Dr.range(i.from==i.anchor?s:a,i.from==i.head?s:a))}o&&(e||(e=t.ranges.slice()),e[n]=o)}return e?Dr.create(e,t.mainIndex):t}select(t){let{view:e}=this,n=this.skipAtoms(this.style.get(t,this.extend,this.multiple));(this.mustSelect||!n.eq(e.state.selection,this.dragging===!1))&&this.view.dispatch({selection:n,userEvent:"select.pointer"}),this.mustSelect=!1}update(t){t.transactions.some(e=>e.isUserEvent("input.type"))?this.destroy():this.style.update(t)&&setTimeout(()=>this.select(this.lastEvent),20)}};function n5e(r,t){let e=r.state.facet(mfe);return e.length?e[0](t):jt.mac?t.metaKey:t.ctrlKey}function i5e(r,t){let e=r.state.facet(pfe);return e.length?e[0](t):jt.mac?!t.altKey:!t.ctrlKey}function o5e(r,t){let{main:e}=r.state.selection;if(e.empty)return!1;let n=Dx(r.root);if(!n||n.rangeCount==0)return!0;let i=n.getRangeAt(0).getClientRects();for(let o=0;o<i.length;o++){let s=i[o];if(s.left<=t.clientX&&s.right>=t.clientX&&s.top<=t.clientY&&s.bottom>=t.clientY)return!0}return!1}function s5e(r,t){if(!t.bubbles)return!0;if(t.defaultPrevented)return!1;for(let e=t.target,n;e!=r.contentDOM;e=e.parentNode)if(!e||e.nodeType==11||(n=mi.get(e))&&n.ignoreEvent(t))return!1;return!0}var Vc=Object.create(null),rc=Object.create(null),Ife=jt.ie&&jt.ie_version<15||jt.ios&&jt.webkit_version<604;function a5e(r){let t=r.dom.parentNode;if(!t)return;let e=t.appendChild(document.createElement("textarea"));e.style.cssText="position: fixed; left: -10000px; top: 10px",e.focus(),setTimeout(()=>{r.focus(),e.remove(),kfe(r,e.value)},50)}function mA(r,t,e){for(let n of r.facet(t))e=n(e,r);return e}function kfe(r,t){t=mA(r.state,U8,t);let{state:e}=r,n,i=1,o=e.toText(t),s=o.lines==e.selection.ranges.length;if(T8!=null&&e.selection.ranges.every(l=>l.empty)&&T8==o.toString()){let l=-1;n=e.changeByRange(c=>{let d=e.doc.lineAt(c.from);if(d.from==l)return{range:c};l=d.from;let f=e.toText((s?o.line(i++).text:t)+e.lineBreak);return{changes:{from:d.from,insert:f},range:Dr.cursor(c.from+f.length)}})}else s?n=e.changeByRange(l=>{let c=o.line(i++);return{changes:{from:l.from,to:l.to,insert:c.text},range:Dr.cursor(l.from+c.length)}}):n=e.replaceSelection(o);r.dispatch(n,{userEvent:"input.paste",scrollIntoView:!0})}rc.scroll=r=>{r.inputState.lastScrollTop=r.scrollDOM.scrollTop,r.inputState.lastScrollLeft=r.scrollDOM.scrollLeft};Vc.keydown=(r,t)=>(r.inputState.setSelectionOrigin("select"),t.keyCode==27&&r.inputState.tabFocusMode!=0&&(r.inputState.tabFocusMode=Date.now()+2e3),!1);rc.touchstart=(r,t)=>{r.inputState.lastTouchTime=Date.now(),r.inputState.setSelectionOrigin("select.pointer")};rc.touchmove=r=>{r.inputState.setSelectionOrigin("select.pointer")};Vc.mousedown=(r,t)=>{if(r.observer.flush(),r.inputState.lastTouchTime>Date.now()-2e3)return!1;let e=null;for(let n of r.state.facet(gfe))if(e=n(r,t),e)break;if(!e&&t.button==0&&(e=u5e(r,t)),e){let n=!r.hasFocus;r.inputState.startMouseSelection(new A8(r,t,e,n)),n&&r.observer.ignore(()=>{Xde(r.contentDOM);let o=r.root.activeElement;o&&!o.contains(r.contentDOM)&&o.blur()});let i=r.inputState.mouseSelection;if(i)return i.start(t),i.dragging===!1}return!1};function Nde(r,t,e,n){if(n==1)return Dr.cursor(t,e);if(n==2)return V4e(r.state,t,e);{let i=vs.find(r.docView,t),o=r.state.doc.lineAt(i?i.posAtEnd:t),s=i?i.posAtStart:o.from,a=i?i.posAtEnd:o.to;return a<r.state.doc.length&&a==o.to&&a++,Dr.range(s,a)}}var Ode=(r,t,e)=>t>=e.top&&t<=e.bottom&&r>=e.left&&r<=e.right;function l5e(r,t,e,n){let i=vs.find(r.docView,t);if(!i)return 1;let o=t-i.posAtStart;if(o==0)return 1;if(o==i.length)return-1;let s=i.coordsAt(o,-1);if(s&&Ode(e,n,s))return-1;let a=i.coordsAt(o,1);return a&&Ode(e,n,a)?1:s&&s.bottom>=n?-1:1}function Fde(r,t){let e=r.posAtCoords({x:t.clientX,y:t.clientY},!1);return{pos:e,bias:l5e(r,e,t.clientX,t.clientY)}}var c5e=jt.ie&&jt.ie_version<=11,Rde=null,Pde=0,Lde=0;function Nfe(r){if(!c5e)return r.detail;let t=Rde,e=Lde;return Rde=r,Lde=Date.now(),Pde=!t||e>Date.now()-400&&Math.abs(t.clientX-r.clientX)<2&&Math.abs(t.clientY-r.clientY)<2?(Pde+1)%3:1}function u5e(r,t){let e=Fde(r,t),n=Nfe(t),i=r.state.selection;return{update(o){o.docChanged&&(e.pos=o.changes.mapPos(e.pos),i=i.map(o.changes))},get(o,s,a){let l=Fde(r,o),c,d=Nde(r,l.pos,l.bias,n);if(e.pos!=l.pos&&!s){let f=Nde(r,e.pos,e.bias,n),m=Math.min(f.from,d.from),p=Math.max(f.to,d.to);d=m<d.from?Dr.range(m,p):Dr.range(p,m)}return s?i.replaceRange(i.main.extend(d.from,d.to)):a&&n==1&&i.ranges.length>1&&(c=d5e(i,l.pos))?c:a?i.addRange(d):Dr.create([d])}}}function d5e(r,t){for(let e=0;e<r.ranges.length;e++){let{from:n,to:i}=r.ranges[e];if(n<=t&&i>=t)return Dr.create(r.ranges.slice(0,e).concat(r.ranges.slice(e+1)),r.mainIndex==e?0:r.mainIndex-(r.mainIndex>e?1:0))}return null}Vc.dragstart=(r,t)=>{let{selection:{main:e}}=r.state;if(t.target.draggable){let i=r.docView.nearest(t.target);if(i&&i.isWidget){let o=i.posAtStart,s=o+i.length;(o>=e.to||s<=e.from)&&(e=Dr.range(o,s))}}let{inputState:n}=r;return n.mouseSelection&&(n.mouseSelection.dragging=!0),n.draggedContent=e,t.dataTransfer&&(t.dataTransfer.setData("Text",mA(r.state,q8,r.state.sliceDoc(e.from,e.to))),t.dataTransfer.effectAllowed="copyMove"),!1};Vc.dragend=r=>(r.inputState.draggedContent=null,!1);function Bde(r,t,e,n){if(e=mA(r.state,U8,e),!e)return;let i=r.posAtCoords({x:t.clientX,y:t.clientY},!1),{draggedContent:o}=r.inputState,s=n&&o&&i5e(r,t)?{from:o.from,to:o.to}:null,a={from:i,insert:e},l=r.state.changes(s?[s,a]:a);r.focus(),r.dispatch({changes:l,selection:{anchor:l.mapPos(i,-1),head:l.mapPos(i,1)},userEvent:s?"move.drop":"input.drop"}),r.inputState.draggedContent=null}Vc.drop=(r,t)=>{if(!t.dataTransfer)return!1;if(r.state.readOnly)return!0;let e=t.dataTransfer.files;if(e&&e.length){let n=Array(e.length),i=0,o=()=>{++i==e.length&&Bde(r,t,n.filter(s=>s!=null).join(r.state.lineBreak),!1)};for(let s=0;s<e.length;s++){let a=new FileReader;a.onerror=o,a.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(a.result)||(n[s]=a.result),o()},a.readAsText(e[s])}return!0}else{let n=t.dataTransfer.getData("Text");if(n)return Bde(r,t,n,!0),!0}return!1};Vc.paste=(r,t)=>{if(r.state.readOnly)return!0;r.observer.flush();let e=Ife?null:t.clipboardData;return e?(kfe(r,e.getData("text/plain")||e.getData("text/uri-list")),!0):(a5e(r),!1)};function f5e(r,t){let e=r.dom.parentNode;if(!e)return;let n=e.appendChild(document.createElement("textarea"));n.style.cssText="position: fixed; left: -10000px; top: 10px",n.value=t,n.focus(),n.selectionEnd=t.length,n.selectionStart=0,setTimeout(()=>{n.remove(),r.focus()},50)}function h5e(r){let t=[],e=[],n=!1;for(let i of r.selection.ranges)i.empty||(t.push(r.sliceDoc(i.from,i.to)),e.push(i));if(!t.length){let i=-1;for(let{from:o}of r.selection.ranges){let s=r.doc.lineAt(o);s.number>i&&(t.push(s.text),e.push({from:s.from,to:Math.min(r.doc.length,s.to+1)})),i=s.number}n=!0}return{text:mA(r,q8,t.join(r.lineBreak)),ranges:e,linewise:n}}var T8=null;Vc.copy=Vc.cut=(r,t)=>{let{text:e,ranges:n,linewise:i}=h5e(r.state);if(!e&&!i)return!1;T8=i?e:null,t.type=="cut"&&!r.state.readOnly&&r.dispatch({changes:n,scrollIntoView:!0,userEvent:"delete.cut"});let o=Ife?null:t.clipboardData;return o?(o.clearData(),o.setData("text/plain",e),!0):(f5e(r,e),!1)};var Ofe=Ud.define();function Ffe(r,t){let e=[];for(let n of r.facet(yfe)){let i=n(r,t);i&&e.push(i)}return e?r.update({effects:e,annotations:Ofe.of(!0)}):null}function Rfe(r){setTimeout(()=>{let t=r.hasFocus;if(t!=r.inputState.notifiedFocused){let e=Ffe(r.state,t);e?r.dispatch(e):r.update([])}},10)}rc.focus=r=>{r.inputState.lastFocusTime=Date.now(),!r.scrollDOM.scrollTop&&(r.inputState.lastScrollTop||r.inputState.lastScrollLeft)&&(r.scrollDOM.scrollTop=r.inputState.lastScrollTop,r.scrollDOM.scrollLeft=r.inputState.lastScrollLeft),Rfe(r)};rc.blur=r=>{r.observer.clearSelectionRange(),Rfe(r)};rc.compositionstart=rc.compositionupdate=r=>{r.observer.editContext||(r.inputState.compositionFirstChange==null&&(r.inputState.compositionFirstChange=!0),r.inputState.composing<0&&(r.inputState.composing=0))};rc.compositionend=r=>{r.observer.editContext||(r.inputState.composing=-1,r.inputState.compositionEndedAt=Date.now(),r.inputState.compositionPendingKey=!0,r.inputState.compositionPendingChange=r.observer.pendingRecords().length>0,r.inputState.compositionFirstChange=null,jt.chrome&&jt.android?r.observer.flushSoon():r.inputState.compositionPendingChange?Promise.resolve().then(()=>r.observer.flush()):setTimeout(()=>{r.inputState.composing<0&&r.docView.hasComposition&&r.update([])},50))};rc.contextmenu=r=>{r.inputState.lastContextMenu=Date.now()};Vc.beforeinput=(r,t)=>{var e,n;if(t.inputType=="insertReplacementText"&&r.observer.editContext){let o=(e=t.dataTransfer)===null||e===void 0?void 0:e.getData("text/plain"),s=t.getTargetRanges();if(o&&s.length){let a=s[0],l=r.posAtDOM(a.startContainer,a.startOffset),c=r.posAtDOM(a.endContainer,a.endOffset);return $8(r,{from:l,to:c,insert:r.state.toText(o)},null),!0}}let i;if(jt.chrome&&jt.android&&(i=Tfe.find(o=>o.inputType==t.inputType))&&(r.observer.delayAndroidKey(i.key,i.keyCode),i.key=="Backspace"||i.key=="Delete")){let o=((n=window.visualViewport)===null||n===void 0?void 0:n.height)||0;setTimeout(()=>{var s;(((s=window.visualViewport)===null||s===void 0?void 0:s.height)||0)>o+10&&r.hasFocus&&(r.contentDOM.blur(),r.focus())},100)}return jt.ios&&t.inputType=="deleteContentForward"&&r.observer.flushSoon(),jt.safari&&t.inputType=="insertText"&&r.inputState.composing>=0&&setTimeout(()=>rc.compositionend(r,t),20),!1};var Vde=new Set;function m5e(r){Vde.has(r)||(Vde.add(r),r.addEventListener("copy",()=>{}),r.addEventListener("cut",()=>{}))}var zde=["pre-wrap","normal","pre-line","break-spaces"],D0=!1;function jde(){D0=!1}var I8=class{constructor(t){this.lineWrapping=t,this.doc=kn.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30}heightForGap(t,e){let n=this.doc.lineAt(e).number-this.doc.lineAt(t).number+1;return this.lineWrapping&&(n+=Math.max(0,Math.ceil((e-t-n*this.lineLength*.5)/this.lineLength))),this.lineHeight*n}heightForLine(t){return this.lineWrapping?(1+Math.max(0,Math.ceil((t-this.lineLength)/(this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(t){return this.doc=t,this}mustRefreshForWrapping(t){return zde.indexOf(t)>-1!=this.lineWrapping}mustRefreshForHeights(t){let e=!1;for(let n=0;n<t.length;n++){let i=t[n];i<0?n++:this.heightSamples[Math.floor(i*10)]||(e=!0,this.heightSamples[Math.floor(i*10)]=!0)}return e}refresh(t,e,n,i,o,s){let a=zde.indexOf(t)>-1,l=Math.round(e)!=Math.round(this.lineHeight)||this.lineWrapping!=a;if(this.lineWrapping=a,this.lineHeight=e,this.charWidth=n,this.textHeight=i,this.lineLength=o,l){this.heightSamples={};for(let c=0;c<s.length;c++){let d=s[c];d<0?c++:this.heightSamples[Math.floor(d*10)]=!0}}return l}},k8=class{constructor(t,e){this.from=t,this.heights=e,this.index=0}get more(){return this.index<this.heights.length}},Fu=class r{constructor(t,e,n,i,o){this.from=t,this.length=e,this.top=n,this.height=i,this._content=o}get type(){return typeof this._content=="number"?Pu.Text:Array.isArray(this._content)?this._content:this._content.type}get to(){return this.from+this.length}get bottom(){return this.top+this.height}get widget(){return this._content instanceof kh?this._content.widget:null}get widgetLineBreaks(){return typeof this._content=="number"?this._content:0}join(t){let e=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray(t._content)?t._content:[t]);return new r(this.from,this.length+t.length,this.top,this.height+t.height,e)}},_i=function(r){return r[r.ByPos=0]="ByPos",r[r.ByHeight=1]="ByHeight",r[r.ByPosNoHeight=2]="ByPosNoHeight",r}(_i||(_i={})),eA=.001,Cl=class r{constructor(t,e,n=2){this.length=t,this.height=e,this.flags=n}get outdated(){return(this.flags&2)>0}set outdated(t){this.flags=(t?2:0)|this.flags&-3}setHeight(t){this.height!=t&&(Math.abs(this.height-t)>eA&&(D0=!0),this.height=t)}replace(t,e,n){return r.of(n)}decomposeLeft(t,e){e.push(this)}decomposeRight(t,e){e.push(this)}applyChanges(t,e,n,i){let o=this,s=n.doc;for(let a=i.length-1;a>=0;a--){let{fromA:l,toA:c,fromB:d,toB:f}=i[a],m=o.lineAt(l,_i.ByPosNoHeight,n.setDoc(e),0,0),p=m.to>=c?m:o.lineAt(c,_i.ByPosNoHeight,n,0,0);for(f+=p.to-c,c=p.to;a>0&&m.from<=i[a-1].toA;)l=i[a-1].fromA,d=i[a-1].fromB,a--,l<m.from&&(m=o.lineAt(l,_i.ByPosNoHeight,n,0,0));d+=m.from-l,l=m.from;let b=O8.build(n.setDoc(s),t,d,f);o=lA(o,o.replace(l,c,b))}return o.updateHeight(n,0)}static empty(){return new tc(0,0)}static of(t){if(t.length==1)return t[0];let e=0,n=t.length,i=0,o=0;for(;;)if(e==n)if(i>o*2){let a=t[e-1];a.break?t.splice(--e,1,a.left,null,a.right):t.splice(--e,1,a.left,a.right),n+=1+a.break,i-=a.size}else if(o>i*2){let a=t[n];a.break?t.splice(n,1,a.left,null,a.right):t.splice(n,1,a.left,a.right),n+=2+a.break,o-=a.size}else break;else if(i<o){let a=t[e++];a&&(i+=a.size)}else{let a=t[--n];a&&(o+=a.size)}let s=0;return t[e-1]==null?(s=1,e--):t[e]==null&&(s=1,n++),new N8(r.of(t.slice(0,e)),s,r.of(t.slice(n)))}};function lA(r,t){return r==t?r:(r.constructor!=t.constructor&&(D0=!0),t)}Cl.prototype.size=1;var cA=class extends Cl{constructor(t,e,n){super(t,e),this.deco=n}blockAt(t,e,n,i){return new Fu(i,this.length,n,this.height,this.deco||0)}lineAt(t,e,n,i,o){return this.blockAt(0,n,i,o)}forEachLine(t,e,n,i,o,s){t<=o+this.length&&e>=o&&s(this.blockAt(0,n,i,o))}updateHeight(t,e=0,n=!1,i){return i&&i.from<=e&&i.more&&this.setHeight(i.heights[i.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}},tc=class r extends cA{constructor(t,e){super(t,e,null),this.collapsed=0,this.widgetHeight=0,this.breaks=0}blockAt(t,e,n,i){return new Fu(i,this.length,n,this.height,this.breaks)}replace(t,e,n){let i=n[0];return n.length==1&&(i instanceof r||i instanceof Th&&i.flags&4)&&Math.abs(this.length-i.length)<10?(i instanceof Th?i=new r(i.length,this.height):i.height=this.height,this.outdated||(i.outdated=!1),i):Cl.of(n)}updateHeight(t,e=0,n=!1,i){return i&&i.from<=e&&i.more?this.setHeight(i.heights[i.index++]):(n||this.outdated)&&this.setHeight(Math.max(this.widgetHeight,t.heightForLine(this.length-this.collapsed))+this.breaks*t.lineHeight),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}},Th=class r extends Cl{constructor(t){super(t,0)}heightMetrics(t,e){let n=t.doc.lineAt(e).number,i=t.doc.lineAt(e+this.length).number,o=i-n+1,s,a=0;if(t.lineWrapping){let l=Math.min(this.height,t.lineHeight*o);s=l/o,this.length>o+1&&(a=(this.height-l)/(this.length-o-1))}else s=this.height/o;return{firstLine:n,lastLine:i,perLine:s,perChar:a}}blockAt(t,e,n,i){let{firstLine:o,lastLine:s,perLine:a,perChar:l}=this.heightMetrics(e,i);if(e.lineWrapping){let c=i+(t<e.lineHeight?0:Math.round(Math.max(0,Math.min(1,(t-n)/this.height))*this.length)),d=e.doc.lineAt(c),f=a+d.length*l,m=Math.max(n,t-f/2);return new Fu(d.from,d.length,m,f,0)}else{let c=Math.max(0,Math.min(s-o,Math.floor((t-n)/a))),{from:d,length:f}=e.doc.line(o+c);return new Fu(d,f,n+a*c,a,0)}}lineAt(t,e,n,i,o){if(e==_i.ByHeight)return this.blockAt(t,n,i,o);if(e==_i.ByPosNoHeight){let{from:p,to:b}=n.doc.lineAt(t);return new Fu(p,b-p,0,0,0)}let{firstLine:s,perLine:a,perChar:l}=this.heightMetrics(n,o),c=n.doc.lineAt(t),d=a+c.length*l,f=c.number-s,m=i+a*f+l*(c.from-o-f);return new Fu(c.from,c.length,Math.max(i,Math.min(m,i+this.height-d)),d,0)}forEachLine(t,e,n,i,o,s){t=Math.max(t,o),e=Math.min(e,o+this.length);let{firstLine:a,perLine:l,perChar:c}=this.heightMetrics(n,o);for(let d=t,f=i;d<=e;){let m=n.doc.lineAt(d);if(d==t){let b=m.number-a;f+=l*b+c*(t-o-b)}let p=l+c*m.length;s(new Fu(m.from,m.length,f,p,0)),f+=p,d=m.to+1}}replace(t,e,n){let i=this.length-e;if(i>0){let o=n[n.length-1];o instanceof r?n[n.length-1]=new r(o.length+i):n.push(null,new r(i-1))}if(t>0){let o=n[0];o instanceof r?n[0]=new r(t+o.length):n.unshift(new r(t-1),null)}return Cl.of(n)}decomposeLeft(t,e){e.push(new r(t-1),null)}decomposeRight(t,e){e.push(null,new r(this.length-t-1))}updateHeight(t,e=0,n=!1,i){let o=e+this.length;if(i&&i.from<=e+this.length&&i.more){let s=[],a=Math.max(e,i.from),l=-1;for(i.from>e&&s.push(new r(i.from-e-1).updateHeight(t,e));a<=o&&i.more;){let d=t.doc.lineAt(a).length;s.length&&s.push(null);let f=i.heights[i.index++];l==-1?l=f:Math.abs(f-l)>=eA&&(l=-2);let m=new tc(d,f);m.outdated=!1,s.push(m),a+=d+1}a<=o&&s.push(null,new r(o-a).updateHeight(t,a));let c=Cl.of(s);return(l<0||Math.abs(c.height-this.height)>=eA||Math.abs(l-this.heightMetrics(t,e).perLine)>=eA)&&(D0=!0),lA(this,c)}else(n||this.outdated)&&(this.setHeight(t.heightForGap(e,e+this.length)),this.outdated=!1);return this}toString(){return`gap(${this.length})`}},N8=class extends Cl{constructor(t,e,n){super(t.length+e+n.length,t.height+n.height,e|(t.outdated||n.outdated?2:0)),this.left=t,this.right=n,this.size=t.size+n.size}get break(){return this.flags&1}blockAt(t,e,n,i){let o=n+this.left.height;return t<o?this.left.blockAt(t,e,n,i):this.right.blockAt(t,e,o,i+this.left.length+this.break)}lineAt(t,e,n,i,o){let s=i+this.left.height,a=o+this.left.length+this.break,l=e==_i.ByHeight?t<s:t<a,c=l?this.left.lineAt(t,e,n,i,o):this.right.lineAt(t,e,n,s,a);if(this.break||(l?c.to<a:c.from>a))return c;let d=e==_i.ByPosNoHeight?_i.ByPosNoHeight:_i.ByPos;return l?c.join(this.right.lineAt(a,d,n,s,a)):this.left.lineAt(a,d,n,i,o).join(c)}forEachLine(t,e,n,i,o,s){let a=i+this.left.height,l=o+this.left.length+this.break;if(this.break)t<l&&this.left.forEachLine(t,e,n,i,o,s),e>=l&&this.right.forEachLine(t,e,n,a,l,s);else{let c=this.lineAt(l,_i.ByPos,n,i,o);t<c.from&&this.left.forEachLine(t,c.from-1,n,i,o,s),c.to>=t&&c.from<=e&&s(c),e>c.to&&this.right.forEachLine(c.to+1,e,n,a,l,s)}}replace(t,e,n){let i=this.left.length+this.break;if(e<i)return this.balanced(this.left.replace(t,e,n),this.right);if(t>this.left.length)return this.balanced(this.left,this.right.replace(t-i,e-i,n));let o=[];t>0&&this.decomposeLeft(t,o);let s=o.length;for(let a of n)o.push(a);if(t>0&&Hde(o,s-1),e<this.length){let a=o.length;this.decomposeRight(e,o),Hde(o,a)}return Cl.of(o)}decomposeLeft(t,e){let n=this.left.length;if(t<=n)return this.left.decomposeLeft(t,e);e.push(this.left),this.break&&(n++,t>=n&&e.push(null)),t>n&&this.right.decomposeLeft(t-n,e)}decomposeRight(t,e){let n=this.left.length,i=n+this.break;if(t>=i)return this.right.decomposeRight(t-i,e);t<n&&this.left.decomposeRight(t,e),this.break&&t<i&&e.push(null),e.push(this.right)}balanced(t,e){return t.size>2*e.size||e.size>2*t.size?Cl.of(this.break?[t,null,e]:[t,e]):(this.left=lA(this.left,t),this.right=lA(this.right,e),this.setHeight(t.height+e.height),this.outdated=t.outdated||e.outdated,this.size=t.size+e.size,this.length=t.length+this.break+e.length,this)}updateHeight(t,e=0,n=!1,i){let{left:o,right:s}=this,a=e+o.length+this.break,l=null;return i&&i.from<=e+o.length&&i.more?l=o=o.updateHeight(t,e,n,i):o.updateHeight(t,e,n),i&&i.from<=a+s.length&&i.more?l=s=s.updateHeight(t,a,n,i):s.updateHeight(t,a,n),l?this.balanced(o,s):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}};function Hde(r,t){let e,n;r[t]==null&&(e=r[t-1])instanceof Th&&(n=r[t+1])instanceof Th&&r.splice(t-1,3,new Th(e.length+1+n.length))}var p5e=5,O8=class r{constructor(t,e){this.pos=t,this.oracle=e,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=t}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(t,e){if(this.lineStart>-1){let n=Math.min(e,this.lineEnd),i=this.nodes[this.nodes.length-1];i instanceof tc?i.length+=n-this.pos:(n>this.pos||!this.isCovered)&&this.nodes.push(new tc(n-this.pos,-1)),this.writtenTo=n,e>n&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=e}point(t,e,n){if(t<e||n.heightRelevant){let i=n.widget?n.widget.estimatedHeight:0,o=n.widget?n.widget.lineBreaks:0;i<0&&(i=this.oracle.lineHeight);let s=e-t;n.block?this.addBlock(new cA(s,i,n)):(s||o||i>=p5e)&&this.addLineDeco(i,o,s)}else e>t&&this.span(t,e);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:t,to:e}=this.oracle.doc.lineAt(this.pos);this.lineStart=t,this.lineEnd=e,this.writtenTo<t&&((this.writtenTo<t-1||this.nodes[this.nodes.length-1]==null)&&this.nodes.push(this.blankContent(this.writtenTo,t-1)),this.nodes.push(null)),this.pos>t&&this.nodes.push(new tc(this.pos-t,-1)),this.writtenTo=this.pos}blankContent(t,e){let n=new Th(e-t);return this.oracle.doc.lineAt(t).to==e&&(n.flags|=4),n}ensureLine(){this.enterLine();let t=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(t instanceof tc)return t;let e=new tc(0,-1);return this.nodes.push(e),e}addBlock(t){this.enterLine();let e=t.deco;e&&e.startSide>0&&!this.isCovered&&this.ensureLine(),this.nodes.push(t),this.writtenTo=this.pos=this.pos+t.length,e&&e.endSide>0&&(this.covering=t)}addLineDeco(t,e,n){let i=this.ensureLine();i.length+=n,i.collapsed+=n,i.widgetHeight=Math.max(i.widgetHeight,t),i.breaks+=e,this.writtenTo=this.pos=this.pos+n}finish(t){let e=this.nodes.length==0?null:this.nodes[this.nodes.length-1];this.lineStart>-1&&!(e instanceof tc)&&!this.isCovered?this.nodes.push(new tc(0,-1)):(this.writtenTo<this.pos||e==null)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos));let n=t;for(let i of this.nodes)i instanceof tc&&i.updateHeight(this.oracle,n),n+=i?i.length:1;return this.nodes}static build(t,e,n,i){let o=new r(n,t);return Ys.spans(e,n,i,o,0),o.finish(n)}};function g5e(r,t,e){let n=new F8;return Ys.compare(r,t,e,n,0),n.changes}var F8=class{constructor(){this.changes=[]}compareRange(){}comparePoint(t,e,n,i){(t<e||n&&n.heightRelevant||i&&i.heightRelevant)&&y8(t,e,this.changes,5)}};function v5e(r,t){let e=r.getBoundingClientRect(),n=r.ownerDocument,i=n.defaultView||window,o=Math.max(0,e.left),s=Math.min(i.innerWidth,e.right),a=Math.max(0,e.top),l=Math.min(i.innerHeight,e.bottom);for(let c=r.parentNode;c&&c!=n.body;)if(c.nodeType==1){let d=c,f=window.getComputedStyle(d);if((d.scrollHeight>d.clientHeight||d.scrollWidth>d.clientWidth)&&f.overflow!="visible"){let m=d.getBoundingClientRect();o=Math.max(o,m.left),s=Math.min(s,m.right),a=Math.max(a,m.top),l=Math.min(c==r.parentNode?i.innerHeight:l,m.bottom)}c=f.position=="absolute"||f.position=="fixed"?d.offsetParent:d.parentNode}else if(c.nodeType==11)c=c.host;else break;return{left:o-e.left,right:Math.max(o,s)-e.left,top:a-(e.top+t),bottom:Math.max(a,l)-(e.top+t)}}function b5e(r,t){let e=r.getBoundingClientRect();return{left:0,right:e.right-e.left,top:t,bottom:e.bottom-(e.top+t)}}var Sx=class{constructor(t,e,n,i){this.from=t,this.to=e,this.size=n,this.displaySize=i}static same(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++){let i=t[n],o=e[n];if(i.from!=o.from||i.to!=o.to||i.size!=o.size)return!1}return!0}draw(t,e){return Lo.replace({widget:new R8(this.displaySize*(e?t.scaleY:t.scaleX),e)}).range(this.from,this.to)}},R8=class extends C0{constructor(t,e){super(),this.size=t,this.vertical=e}eq(t){return t.size==this.size&&t.vertical==this.vertical}toDOM(){let t=document.createElement("div");return this.vertical?t.style.height=this.size+"px":(t.style.width=this.size+"px",t.style.height="2px",t.style.display="inline-block"),t}get estimatedHeight(){return this.vertical?this.size:-1}},uA=class{constructor(t){this.state=t,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!1,this.scaleX=1,this.scaleY=1,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=Ude,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=rs.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let e=t.facet(C8).some(n=>typeof n!="function"&&n.class=="cm-lineWrapping");this.heightOracle=new I8(e),this.stateDeco=t.facet(kx).filter(n=>typeof n!="function"),this.heightMap=Cl.empty().applyChanges(this.stateDeco,kn.empty,this.heightOracle.setDoc(t.doc),[new Lu(0,0,0,t.doc.length)]);for(let n=0;n<2&&(this.viewport=this.getViewport(0,null),!!this.updateForViewport());n++);this.updateViewportLines(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=Lo.set(this.lineGaps.map(n=>n.draw(this,!1))),this.computeVisibleRanges()}updateForViewport(){let t=[this.viewport],{main:e}=this.state.selection;for(let n=0;n<=1;n++){let i=n?e.head:e.anchor;if(!t.some(({from:o,to:s})=>i>=o&&i<=s)){let{from:o,to:s}=this.lineBlockAt(i);t.push(new x0(o,s))}}return this.viewports=t.sort((n,i)=>n.from-i.from),this.updateScaler()}updateScaler(){let t=this.scaler;return this.scaler=this.heightMap.height<=7e6?Ude:new P8(this.heightOracle,this.heightMap,this.viewports),t.eq(this.scaler)?0:2}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,t=>{this.viewportLines.push(yx(t,this.scaler))})}update(t,e=null){this.state=t.state;let n=this.stateDeco;this.stateDeco=this.state.facet(kx).filter(d=>typeof d!="function");let i=t.changedRanges,o=Lu.extendWithRanges(i,g5e(n,this.stateDeco,t?t.changes:wl.empty(this.state.doc.length))),s=this.heightMap.height,a=this.scrolledToBottom?null:this.scrollAnchorAt(this.scrollTop);jde(),this.heightMap=this.heightMap.applyChanges(this.stateDeco,t.startState.doc,this.heightOracle.setDoc(this.state.doc),o),(this.heightMap.height!=s||D0)&&(t.flags|=2),a?(this.scrollAnchorPos=t.changes.mapPos(a.from,-1),this.scrollAnchorHeight=a.top):(this.scrollAnchorPos=-1,this.scrollAnchorHeight=this.heightMap.height);let l=o.length?this.mapViewport(this.viewport,t.changes):this.viewport;(e&&(e.range.head<l.from||e.range.head>l.to)||!this.viewportIsAppropriate(l))&&(l=this.getViewport(0,e));let c=l.from!=this.viewport.from||l.to!=this.viewport.to;this.viewport=l,t.flags|=this.updateForViewport(),(c||!t.changes.empty||t.flags&2)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,t.changes))),t.flags|=this.computeVisibleRanges(),e&&(this.scrollTarget=e),!this.mustEnforceCursorAssoc&&t.selectionSet&&t.view.lineWrapping&&t.state.selection.main.empty&&t.state.selection.main.assoc&&!t.state.facet(I4e)&&(this.mustEnforceCursorAssoc=!0)}measure(t){let e=t.contentDOM,n=window.getComputedStyle(e),i=this.heightOracle,o=n.whiteSpace;this.defaultTextDirection=n.direction=="rtl"?rs.RTL:rs.LTR;let s=this.heightOracle.mustRefreshForWrapping(o),a=e.getBoundingClientRect(),l=s||this.mustMeasureContent||this.contentDOMHeight!=a.height;this.contentDOMHeight=a.height,this.mustMeasureContent=!1;let c=0,d=0;if(a.width&&a.height){let{scaleX:M,scaleY:E}=Kde(e,a);(M>.005&&Math.abs(this.scaleX-M)>.005||E>.005&&Math.abs(this.scaleY-E)>.005)&&(this.scaleX=M,this.scaleY=E,c|=8,s=l=!0)}let f=(parseInt(n.paddingTop)||0)*this.scaleY,m=(parseInt(n.paddingBottom)||0)*this.scaleY;(this.paddingTop!=f||this.paddingBottom!=m)&&(this.paddingTop=f,this.paddingBottom=m,c|=10),this.editorWidth!=t.scrollDOM.clientWidth&&(i.lineWrapping&&(l=!0),this.editorWidth=t.scrollDOM.clientWidth,c|=8);let p=t.scrollDOM.scrollTop*this.scaleY;this.scrollTop!=p&&(this.scrollAnchorHeight=-1,this.scrollTop=p),this.scrolledToBottom=Qde(t.scrollDOM);let b=(this.printing?b5e:v5e)(e,this.paddingTop),y=b.top-this.pixelViewport.top,C=b.bottom-this.pixelViewport.bottom;this.pixelViewport=b;let S=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(S!=this.inView&&(this.inView=S,S&&(l=!0)),!this.inView&&!this.scrollTarget)return 0;let A=a.width;if((this.contentDOMWidth!=A||this.editorHeight!=t.scrollDOM.clientHeight)&&(this.contentDOMWidth=a.width,this.editorHeight=t.scrollDOM.clientHeight,c|=8),l){let M=t.docView.measureVisibleLineHeights(this.viewport);if(i.mustRefreshForHeights(M)&&(s=!0),s||i.lineWrapping&&Math.abs(A-this.contentDOMWidth)>i.charWidth){let{lineHeight:E,charWidth:w,textHeight:T}=t.docView.measureTextSize();s=E>0&&i.refresh(o,E,w,T,A/w,M),s&&(t.docView.minWidth=0,c|=8)}y>0&&C>0?d=Math.max(y,C):y<0&&C<0&&(d=Math.min(y,C)),jde();for(let E of this.viewports){let w=E.from==this.viewport.from?M:t.docView.measureVisibleLineHeights(E);this.heightMap=(s?Cl.empty().applyChanges(this.stateDeco,kn.empty,this.heightOracle,[new Lu(0,0,0,t.state.doc.length)]):this.heightMap).updateHeight(i,0,s,new k8(E.from,w))}D0&&(c|=2)}let x=!this.viewportIsAppropriate(this.viewport,d)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return x&&(c&2&&(c|=this.updateScaler()),this.viewport=this.getViewport(d,this.scrollTarget),c|=this.updateForViewport()),(c&2||x)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(s?[]:this.lineGaps,t)),c|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,t.docView.enforceCursorAssoc()),c}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(t,e){let n=.5-Math.max(-.5,Math.min(.5,t/1e3/2)),i=this.heightMap,o=this.heightOracle,{visibleTop:s,visibleBottom:a}=this,l=new x0(i.lineAt(s-n*1e3,_i.ByHeight,o,0,0).from,i.lineAt(a+(1-n)*1e3,_i.ByHeight,o,0,0).to);if(e){let{head:c}=e.range;if(c<l.from||c>l.to){let d=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),f=i.lineAt(c,_i.ByPos,o,0,0),m;e.y=="center"?m=(f.top+f.bottom)/2-d/2:e.y=="start"||e.y=="nearest"&&c<l.from?m=f.top:m=f.bottom-d,l=new x0(i.lineAt(m-1e3/2,_i.ByHeight,o,0,0).from,i.lineAt(m+d+1e3/2,_i.ByHeight,o,0,0).to)}}return l}mapViewport(t,e){let n=e.mapPos(t.from,-1),i=e.mapPos(t.to,1);return new x0(this.heightMap.lineAt(n,_i.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(i,_i.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:t,to:e},n=0){if(!this.inView)return!0;let{top:i}=this.heightMap.lineAt(t,_i.ByPos,this.heightOracle,0,0),{bottom:o}=this.heightMap.lineAt(e,_i.ByPos,this.heightOracle,0,0),{visibleTop:s,visibleBottom:a}=this;return(t==0||i<=s-Math.max(10,Math.min(-n,250)))&&(e==this.state.doc.length||o>=a+Math.max(10,Math.min(n,250)))&&i>s-2*1e3&&o<a+2*1e3}mapLineGaps(t,e){if(!t.length||e.empty)return t;let n=[];for(let i of t)e.touchesRange(i.from,i.to)||n.push(new Sx(e.mapPos(i.from),e.mapPos(i.to),i.size,i.displaySize));return n}ensureLineGaps(t,e){let n=this.heightOracle.lineWrapping,i=n?1e4:2e3,o=i>>1,s=i<<1;if(this.defaultTextDirection!=rs.LTR&&!n)return[];let a=[],l=(d,f,m,p)=>{if(f-d<o)return;let b=this.state.selection.main,y=[b.from];b.empty||y.push(b.to);for(let S of y)if(S>d&&S<f){l(d,S-10,m,p),l(S+10,f,m,p);return}let C=_5e(t,S=>S.from>=m.from&&S.to<=m.to&&Math.abs(S.from-d)<o&&Math.abs(S.to-f)<o&&!y.some(A=>S.from<A&&S.to>A));if(!C){if(f<m.to&&e&&n&&e.visibleRanges.some(x=>x.from<=f&&x.to>=f)){let x=e.moveToLineBoundary(Dr.cursor(f),!1,!0).head;x>d&&(f=x)}let S=this.gapSize(m,d,f,p),A=n||S<2e6?S:2e6;C=new Sx(d,f,S,A)}a.push(C)},c=d=>{if(d.length<s||d.type!=Pu.Text)return;let f=y5e(d.from,d.to,this.stateDeco);if(f.total<s)return;let m=this.scrollTarget?this.scrollTarget.range.head:null,p,b;if(n){let y=i/this.heightOracle.lineLength*this.heightOracle.lineHeight,C,S;if(m!=null){let A=XM(f,m),x=((this.visibleBottom-this.visibleTop)/2+y)/d.height;C=A-x,S=A+x}else C=(this.visibleTop-d.top-y)/d.height,S=(this.visibleBottom-d.top+y)/d.height;p=KM(f,C),b=KM(f,S)}else{let y=f.total*this.heightOracle.charWidth,C=i*this.heightOracle.charWidth,S=0;if(y>2e6)for(let w of t)w.from>=d.from&&w.from<d.to&&w.size!=w.displaySize&&w.from*this.heightOracle.charWidth+S<this.pixelViewport.left&&(S=w.size-w.displaySize);let A=this.pixelViewport.left+S,x=this.pixelViewport.right+S,M,E;if(m!=null){let w=XM(f,m),T=((x-A)/2+C)/y;M=w-T,E=w+T}else M=(A-C)/y,E=(x+C)/y;p=KM(f,M),b=KM(f,E)}p>d.from&&l(d.from,p,d,f),b<d.to&&l(b,d.to,d,f)};for(let d of this.viewportLines)Array.isArray(d.type)?d.type.forEach(c):c(d);return a}gapSize(t,e,n,i){let o=XM(i,n)-XM(i,e);return this.heightOracle.lineWrapping?t.height*o:i.total*this.heightOracle.charWidth*o}updateLineGaps(t){Sx.same(t,this.lineGaps)||(this.lineGaps=t,this.lineGapDeco=Lo.set(t.map(e=>e.draw(this,this.heightOracle.lineWrapping))))}computeVisibleRanges(){let t=this.stateDeco;this.lineGaps.length&&(t=t.concat(this.lineGapDeco));let e=[];Ys.spans(t,this.viewport.from,this.viewport.to,{span(i,o){e.push({from:i,to:o})},point(){}},20);let n=e.length!=this.visibleRanges.length||this.visibleRanges.some((i,o)=>i.from!=e[o].from||i.to!=e[o].to);return this.visibleRanges=e,n?4:0}lineBlockAt(t){return t>=this.viewport.from&&t<=this.viewport.to&&this.viewportLines.find(e=>e.from<=t&&e.to>=t)||yx(this.heightMap.lineAt(t,_i.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(t){return t>=this.viewportLines[0].top&&t<=this.viewportLines[this.viewportLines.length-1].bottom&&this.viewportLines.find(e=>e.top<=t&&e.bottom>=t)||yx(this.heightMap.lineAt(this.scaler.fromDOM(t),_i.ByHeight,this.heightOracle,0,0),this.scaler)}scrollAnchorAt(t){let e=this.lineBlockAtHeight(t+8);return e.from>=this.viewport.from||this.viewportLines[0].top-t>200?e:this.viewportLines[0]}elementAtHeight(t){return yx(this.heightMap.blockAt(this.scaler.fromDOM(t),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}},x0=class{constructor(t,e){this.from=t,this.to=e}};function y5e(r,t,e){let n=[],i=r,o=0;return Ys.spans(e,r,t,{span(){},point(s,a){s>i&&(n.push({from:i,to:s}),o+=s-i),i=a}},20),i<t&&(n.push({from:i,to:t}),o+=t-i),{total:o,ranges:n}}function KM({total:r,ranges:t},e){if(e<=0)return t[0].from;if(e>=1)return t[t.length-1].to;let n=Math.floor(r*e);for(let i=0;;i++){let{from:o,to:s}=t[i],a=s-o;if(n<=a)return o+n;n-=a}}function XM(r,t){let e=0;for(let{from:n,to:i}of r.ranges){if(t<=i){e+=t-n;break}e+=i-n}return e/r.total}function _5e(r,t){for(let e of r)if(t(e))return e}var Ude={toDOM(r){return r},fromDOM(r){return r},scale:1,eq(r){return r==this}},P8=class r{constructor(t,e,n){let i=0,o=0,s=0;this.viewports=n.map(({from:a,to:l})=>{let c=e.lineAt(a,_i.ByPos,t,0,0).top,d=e.lineAt(l,_i.ByPos,t,0,0).bottom;return i+=d-c,{from:a,to:l,top:c,bottom:d,domTop:0,domBottom:0}}),this.scale=(7e6-i)/(e.height-i);for(let a of this.viewports)a.domTop=s+(a.top-o)*this.scale,s=a.domBottom=a.domTop+(a.bottom-a.top),o=a.bottom}toDOM(t){for(let e=0,n=0,i=0;;e++){let o=e<this.viewports.length?this.viewports[e]:null;if(!o||t<o.top)return i+(t-n)*this.scale;if(t<=o.bottom)return o.domTop+(t-o.top);n=o.bottom,i=o.domBottom}}fromDOM(t){for(let e=0,n=0,i=0;;e++){let o=e<this.viewports.length?this.viewports[e]:null;if(!o||t<o.domTop)return n+(t-i)/this.scale;if(t<=o.domBottom)return o.top+(t-o.domTop);n=o.bottom,i=o.domBottom}}eq(t){return t instanceof r?this.scale==t.scale&&this.viewports.length==t.viewports.length&&this.viewports.every((e,n)=>e.from==t.viewports[n].from&&e.to==t.viewports[n].to):!1}};function yx(r,t){if(t.scale==1)return r;let e=t.toDOM(r.top),n=t.toDOM(r.bottom);return new Fu(r.from,r.length,e,n-e,Array.isArray(r._content)?r._content.map(i=>yx(i,t)):r._content)}var ZM=qr.define({combine:r=>r.join(" ")}),u8=qr.define({combine:r=>r.indexOf(!0)>-1}),L8=ec.newName(),Pfe=ec.newName(),Lfe=ec.newName(),Bfe={"&light":"."+Pfe,"&dark":"."+Lfe};function B8(r,t,e){return new ec(t,{finish(n){return/&/.test(n)?n.replace(/&\w*/,i=>{if(i=="&")return r;if(!e||!e[i])throw new RangeError(`Unsupported selector: ${i}`);return e[i]}):r+" "+n}})}var x5e=B8("."+L8,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0,overflowAnchor:"none"},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",minHeight:"100%",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#ddd"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},".cm-iso":{unicodeBidi:"isolate"},".cm-announced":{position:"fixed",top:"-10000px"},"@media print":{".cm-announced":{display:"none"}},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",insetInlineStart:0,zIndex:200},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",borderRight:"1px solid #ddd"},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0,zIndex:300},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top"},".cm-highlightSpace":{backgroundImage:"radial-gradient(circle at 50% 55%, #aaa 20%, transparent 5%)",backgroundPosition:"center"},".cm-highlightTab":{backgroundImage:`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>')`,backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},Bfe),w5e={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},d8=jt.ie&&jt.ie_version<=11,V8=class{constructor(t){this.view=t,this.active=!1,this.editContext=null,this.selectionRange=new h8,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.printQuery=null,this.parentCheck=-1,this.dom=t.contentDOM,this.observer=new MutationObserver(e=>{for(let n of e)this.queue.push(n);(jt.ie&&jt.ie_version<=11||jt.ios&&t.composing)&&e.some(n=>n.type=="childList"&&n.removedNodes.length||n.type=="characterData"&&n.oldValue.length>n.target.nodeValue.length)?this.flushSoon():this.flush()}),window.EditContext&&t.constructor.EDIT_CONTEXT!==!1&&!(jt.chrome&&jt.chrome_version<126)&&(this.editContext=new z8(t),t.state.facet(Ah)&&(t.contentDOM.editContext=this.editContext.editContext)),d8&&(this.onCharData=e=>{this.queue.push({target:e.target,type:"characterData",oldValue:e.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),window.matchMedia&&(this.printQuery=window.matchMedia("print")),typeof ResizeObserver=="function"&&(this.resizeScroll=new ResizeObserver(()=>{var e;((e=this.view.docView)===null||e===void 0?void 0:e.lastUpdate)<Date.now()-75&&this.onResize()}),this.resizeScroll.observe(t.scrollDOM)),this.addWindowListeners(this.win=t.win),this.start(),typeof IntersectionObserver=="function"&&(this.intersection=new IntersectionObserver(e=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),e.length>0&&e[e.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(e=>{e.length>0&&e[e.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(t){this.view.inputState.runHandlers("scroll",t),this.intersecting&&this.view.measure()}onScroll(t){this.intersecting&&this.flush(!1),this.editContext&&this.view.requestMeasure(this.editContext.measureReq),this.onScrollChanged(t)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(t){(t.type=="change"||!t.type)&&!t.matches||(this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500))}updateGaps(t){if(this.gapIntersection&&(t.length!=this.gaps.length||this.gaps.some((e,n)=>e!=t[n]))){this.gapIntersection.disconnect();for(let e of t)this.gapIntersection.observe(e);this.gaps=t}}onSelectionChange(t){let e=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:n}=this,i=this.selectionRange;if(n.state.facet(Ah)?n.root.activeElement!=this.dom:!QM(this.dom,i))return;let o=i.anchorNode&&n.docView.nearest(i.anchorNode);if(o&&o.ignoreEvent(t)){e||(this.selectionChanged=!1);return}(jt.ie&&jt.ie_version<=11||jt.android&&jt.chrome)&&!n.state.selection.main.empty&&i.focusNode&&_x(i.focusNode,i.focusOffset,i.anchorNode,i.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:t}=this,e=Dx(t.root);if(!e)return!1;let n=jt.safari&&t.root.nodeType==11&&t.root.activeElement==this.dom&&C5e(this.view,e)||e;if(!n||this.selectionRange.eq(n))return!1;let i=QM(this.dom,n);return i&&!this.selectionChanged&&t.inputState.lastFocusTime>Date.now()-200&&t.inputState.lastTouchTime<Date.now()-300&&p4e(this.dom,n)?(this.view.inputState.lastFocusTime=0,t.docView.updateSelection(),!1):(this.selectionRange.setRange(n),i&&(this.selectionChanged=!0),!0)}setSelectionRange(t,e){this.selectionRange.set(t.node,t.offset,e.node,e.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let t=0,e=null;for(let n=this.dom;n;)if(n.nodeType==1)!e&&t<this.scrollTargets.length&&this.scrollTargets[t]==n?t++:e||(e=this.scrollTargets.slice(0,t)),e&&e.push(n),n=n.assignedSlot||n.parentNode;else if(n.nodeType==11)n=n.host;else break;if(t<this.scrollTargets.length&&!e&&(e=this.scrollTargets.slice(0,t)),e){for(let n of this.scrollTargets)n.removeEventListener("scroll",this.onScroll);for(let n of this.scrollTargets=e)n.addEventListener("scroll",this.onScroll)}}ignore(t){if(!this.active)return t();try{return this.stop(),t()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,w5e),d8&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),d8&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(t,e){var n;if(!this.delayedAndroidKey){let i=()=>{let o=this.delayedAndroidKey;o&&(this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=o.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&o.force&&w0(this.dom,o.key,o.keyCode))};this.flushingAndroidKey=this.view.win.requestAnimationFrame(i)}(!this.delayedAndroidKey||t=="Enter")&&(this.delayedAndroidKey={key:t,keyCode:e,force:this.lastChange<Date.now()-50||!!(!((n=this.delayedAndroidKey)===null||n===void 0)&&n.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()}))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let t of this.observer.takeRecords())this.queue.push(t);return this.queue}processRecords(){let t=this.pendingRecords();t.length&&(this.queue=[]);let e=-1,n=-1,i=!1;for(let o of t){let s=this.readMutation(o);s&&(s.typeOver&&(i=!0),e==-1?{from:e,to:n}=s:(e=Math.min(s.from,e),n=Math.max(s.to,n)))}return{from:e,to:n,typeOver:i}}readChange(){let{from:t,to:e,typeOver:n}=this.processRecords(),i=this.selectionChanged&&QM(this.dom,this.selectionRange);if(t<0&&!i)return null;t>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;let o=new E8(this.view,t,e,n);return this.view.docView.domChanged={newSel:o.newSel?o.newSel.main:null},o}flush(t=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;t&&this.readSelectionRange();let e=this.readChange();if(!e)return this.view.requestMeasure(),!1;let n=this.view.state,i=Afe(this.view,e);return this.view.state==n&&(e.domChanged||e.newSel&&!e.newSel.main.eq(this.view.state.selection.main))&&this.view.update([]),i}readMutation(t){let e=this.view.docView.nearest(t.target);if(!e||e.ignoreMutation(t))return null;if(e.markDirty(t.type=="attributes"),t.type=="attributes"&&(e.flags|=4),t.type=="childList"){let n=qde(e,t.previousSibling||t.target.previousSibling,-1),i=qde(e,t.nextSibling||t.target.nextSibling,1);return{from:n?e.posAfter(n):e.posAtStart,to:i?e.posBefore(i):e.posAtEnd,typeOver:!1}}else return t.type=="characterData"?{from:e.posAtStart,to:e.posAtEnd,typeOver:t.target.nodeValue==t.oldValue}:null}setWindow(t){t!=this.win&&(this.removeWindowListeners(this.win),this.win=t,this.addWindowListeners(this.win))}addWindowListeners(t){t.addEventListener("resize",this.onResize),this.printQuery?this.printQuery.addEventListener?this.printQuery.addEventListener("change",this.onPrint):this.printQuery.addListener(this.onPrint):t.addEventListener("beforeprint",this.onPrint),t.addEventListener("scroll",this.onScroll),t.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(t){t.removeEventListener("scroll",this.onScroll),t.removeEventListener("resize",this.onResize),this.printQuery?this.printQuery.removeEventListener?this.printQuery.removeEventListener("change",this.onPrint):this.printQuery.removeListener(this.onPrint):t.removeEventListener("beforeprint",this.onPrint),t.document.removeEventListener("selectionchange",this.onSelectionChange)}update(t){this.editContext&&(this.editContext.update(t),t.startState.facet(Ah)!=t.state.facet(Ah)&&(t.view.contentDOM.editContext=t.state.facet(Ah)?this.editContext.editContext:null))}destroy(){var t,e,n;this.stop(),(t=this.intersection)===null||t===void 0||t.disconnect(),(e=this.gapIntersection)===null||e===void 0||e.disconnect(),(n=this.resizeScroll)===null||n===void 0||n.disconnect();for(let i of this.scrollTargets)i.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey),this.editContext&&(this.view.contentDOM.editContext=null,this.editContext.destroy())}};function qde(r,t,e){for(;t;){let n=mi.get(t);if(n&&n.parent==r)return n;let i=t.parentNode;t=i!=r.dom?i:e>0?t.nextSibling:t.previousSibling}return null}function Wde(r,t){let e=t.startContainer,n=t.startOffset,i=t.endContainer,o=t.endOffset,s=r.docView.domAtPos(r.state.selection.main.anchor);return _x(s.node,s.offset,i,o)&&([e,n,i,o]=[i,o,e,n]),{anchorNode:e,anchorOffset:n,focusNode:i,focusOffset:o}}function C5e(r,t){if(t.getComposedRanges){let i=t.getComposedRanges(r.root)[0];if(i)return Wde(r,i)}let e=null;function n(i){i.preventDefault(),i.stopImmediatePropagation(),e=i.getTargetRanges()[0]}return r.contentDOM.addEventListener("beforeinput",n,!0),r.dom.ownerDocument.execCommand("indent"),r.contentDOM.removeEventListener("beforeinput",n,!0),e?Wde(r,e):null}var z8=class{constructor(t){this.from=0,this.to=0,this.pendingContextChange=null,this.handlers=Object.create(null),this.composing=null,this.resetRange(t.state);let e=this.editContext=new window.EditContext({text:t.state.doc.sliceString(this.from,this.to),selectionStart:this.toContextPos(Math.max(this.from,Math.min(this.to,t.state.selection.main.anchor))),selectionEnd:this.toContextPos(t.state.selection.main.head)});this.handlers.textupdate=n=>{let{anchor:i}=t.state.selection.main,o=this.toEditorPos(n.updateRangeStart),s=this.toEditorPos(n.updateRangeEnd);t.inputState.composing>=0&&!this.composing&&(this.composing={contextBase:n.updateRangeStart,editorBase:o,drifted:!1});let a={from:o,to:s,insert:kn.of(n.text.split(`
`))};a.from==this.from&&i<this.from?a.from=i:a.to==this.to&&i>this.to&&(a.to=i),!(a.from==a.to&&!a.insert.length)&&(this.pendingContextChange=a,t.state.readOnly||$8(t,a,Dr.single(this.toEditorPos(n.selectionStart),this.toEditorPos(n.selectionEnd))),this.pendingContextChange&&(this.revertPending(t.state),this.setSelection(t.state)))},this.handlers.characterboundsupdate=n=>{let i=[],o=null;for(let s=this.toEditorPos(n.rangeStart),a=this.toEditorPos(n.rangeEnd);s<a;s++){let l=t.coordsForChar(s);o=l&&new DOMRect(l.left,l.top,l.right-l.left,l.bottom-l.top)||o||new DOMRect,i.push(o)}e.updateCharacterBounds(n.rangeStart,i)},this.handlers.textformatupdate=n=>{let i=[];for(let o of n.getTextFormats()){let s=o.underlineStyle,a=o.underlineThickness;if(s!="None"&&a!="None"){let l=`text-decoration: underline ${s=="Dashed"?"dashed ":s=="Squiggle"?"wavy ":""}${a=="Thin"?1:2}px`;i.push(Lo.mark({attributes:{style:l}}).range(this.toEditorPos(o.rangeStart),this.toEditorPos(o.rangeEnd)))}}t.dispatch({effects:xfe.of(Lo.set(i))})},this.handlers.compositionstart=()=>{t.inputState.composing<0&&(t.inputState.composing=0,t.inputState.compositionFirstChange=!0)},this.handlers.compositionend=()=>{if(t.inputState.composing=-1,t.inputState.compositionFirstChange=null,this.composing){let{drifted:n}=this.composing;this.composing=null,n&&this.reset(t.state)}};for(let n in this.handlers)e.addEventListener(n,this.handlers[n]);this.measureReq={read:n=>{this.editContext.updateControlBounds(n.contentDOM.getBoundingClientRect());let i=Dx(n.root);i&&i.rangeCount&&this.editContext.updateSelectionBounds(i.getRangeAt(0).getBoundingClientRect())}}}applyEdits(t){let e=0,n=!1,i=this.pendingContextChange;return t.changes.iterChanges((o,s,a,l,c)=>{if(n)return;let d=c.length-(s-o);if(i&&s>=i.to)if(i.from==o&&i.to==s&&i.insert.eq(c)){i=this.pendingContextChange=null,e+=d,this.to+=d;return}else i=null,this.revertPending(t.state);if(o+=e,s+=e,s<=this.from)this.from+=d,this.to+=d;else if(o<this.to){if(o<this.from||s>this.to||this.to-this.from+c.length>3e4){n=!0;return}this.editContext.updateText(this.toContextPos(o),this.toContextPos(s),c.toString()),this.to+=d}e+=d}),i&&!n&&this.revertPending(t.state),!n}update(t){let e=this.pendingContextChange;this.composing&&(this.composing.drifted||t.transactions.some(n=>!n.isUserEvent("input.type")&&n.changes.touchesRange(this.from,this.to)))?(this.composing.drifted=!0,this.composing.editorBase=t.changes.mapPos(this.composing.editorBase)):!this.applyEdits(t)||!this.rangeIsValid(t.state)?(this.pendingContextChange=null,this.reset(t.state)):(t.docChanged||t.selectionSet||e)&&this.setSelection(t.state),(t.geometryChanged||t.docChanged||t.selectionSet)&&t.view.requestMeasure(this.measureReq)}resetRange(t){let{head:e}=t.selection.main;this.from=Math.max(0,e-1e4),this.to=Math.min(t.doc.length,e+1e4)}reset(t){this.resetRange(t),this.editContext.updateText(0,this.editContext.text.length,t.doc.sliceString(this.from,this.to)),this.setSelection(t)}revertPending(t){let e=this.pendingContextChange;this.pendingContextChange=null,this.editContext.updateText(this.toContextPos(e.from),this.toContextPos(e.from+e.insert.length),t.doc.sliceString(e.from,e.to))}setSelection(t){let{main:e}=t.selection,n=this.toContextPos(Math.max(this.from,Math.min(this.to,e.anchor))),i=this.toContextPos(e.head);(this.editContext.selectionStart!=n||this.editContext.selectionEnd!=i)&&this.editContext.updateSelection(n,i)}rangeIsValid(t){let{head:e}=t.selection.main;return!(this.from>0&&e-this.from<500||this.to<t.doc.length&&this.to-e<500||this.to-this.from>1e4*3)}toEditorPos(t){let e=this.composing;return e&&e.drifted?e.editorBase+(t-e.contextBase):t+this.from}toContextPos(t){let e=this.composing;return e&&e.drifted?e.contextBase+(t-e.editorBase):t-this.from}destroy(){for(let t in this.handlers)this.editContext.removeEventListener(t,this.handlers[t])}},G8=(()=>{class r{get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return this.inputState.composing>0}get compositionStarted(){return this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}constructor(e={}){var n;this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.className="cm-announced",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),e.parent&&e.parent.appendChild(this.dom);let{dispatch:i}=e;this.dispatchTransactions=e.dispatchTransactions||i&&(o=>o.forEach(s=>i(s,this)))||(o=>this.update(o)),this.dispatch=this.dispatch.bind(this),this._root=e.root||m4e(e.parent)||document,this.viewState=new uA(e.state||Nu.create(e)),e.scrollTo&&e.scrollTo.is($M)&&(this.viewState.scrollTarget=e.scrollTo.value.clip(this.viewState.state)),this.plugins=this.state.facet(vx).map(o=>new Cx(o));for(let o of this.plugins)o.update(this);this.observer=new V8(this),this.inputState=new M8(this),this.inputState.ensureHandlers(this.plugins),this.docView=new sA(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),!((n=document.fonts)===null||n===void 0)&&n.ready&&document.fonts.ready.then(()=>this.requestMeasure())}dispatch(...e){let n=e.length==1&&e[0]instanceof Mh?e:e.length==1&&Array.isArray(e[0])?e[0]:[this.state.update(...e)];this.dispatchTransactions(n,this)}update(e){if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let n=!1,i=!1,o,s=this.state;for(let p of e){if(p.startState!=s)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");s=p.state}if(this.destroyed){this.viewState.state=s;return}let a=this.hasFocus,l=0,c=null;e.some(p=>p.annotation(Ofe))?(this.inputState.notifiedFocused=a,l=1):a!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=a,c=Ffe(s,a),c||(l=1));let d=this.observer.delayedAndroidKey,f=null;if(d?(this.observer.clearDelayedAndroidKey(),f=this.observer.readChange(),(f&&!this.state.doc.eq(s.doc)||!this.state.selection.eq(s.selection))&&(f=null)):this.observer.clear(),s.facet(Nu.phrases)!=this.state.facet(Nu.phrases))return this.setState(s);o=oA.create(this,s,e),o.flags|=l;let m=this.viewState.scrollTarget;try{this.updateState=2;for(let p of e){if(m&&(m=m.map(p.changes)),p.scrollIntoView){let{main:b}=p.state.selection;m=new wx(b.empty?b:Dr.cursor(b.head,b.head>b.anchor?-1:1))}for(let b of p.effects)b.is($M)&&(m=b.value.clip(this.state))}this.viewState.update(o,m),this.bidiCache=dA.update(this.bidiCache,o.changes),o.empty||(this.updatePlugins(o),this.inputState.update(o)),n=this.docView.update(o),this.state.facet(gx)!=this.styleModules&&this.mountStyles(),i=this.updateAttrs(),this.showAnnouncements(e),this.docView.updateSelection(n,e.some(p=>p.isUserEvent("select.pointer")))}finally{this.updateState=0}if(o.startState.facet(ZM)!=o.state.facet(ZM)&&(this.viewState.mustMeasureContent=!0),(n||i||m||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),n&&this.docViewUpdate(),!o.empty)for(let p of this.state.facet(a8))try{p(o)}catch(b){Bc(this.state,b,"update listener")}(c||f)&&Promise.resolve().then(()=>{c&&this.state==c.startState&&this.dispatch(c),f&&!Afe(this,f)&&d.force&&w0(this.contentDOM,d.key,d.keyCode)})}setState(e){if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed){this.viewState.state=e;return}this.updateState=2;let n=this.hasFocus;try{for(let i of this.plugins)i.destroy(this);this.viewState=new uA(e),this.plugins=e.facet(vx).map(i=>new Cx(i)),this.pluginMap.clear();for(let i of this.plugins)i.update(this);this.docView.destroy(),this.docView=new sA(this),this.inputState.ensureHandlers(this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}n&&this.focus(),this.requestMeasure()}updatePlugins(e){let n=e.startState.facet(vx),i=e.state.facet(vx);if(n!=i){let o=[];for(let s of i){let a=n.indexOf(s);if(a<0)o.push(new Cx(s));else{let l=this.plugins[a];l.mustUpdate=e,o.push(l)}}for(let s of this.plugins)s.mustUpdate!=e&&s.destroy(this);this.plugins=o,this.pluginMap.clear()}else for(let o of this.plugins)o.mustUpdate=e;for(let o=0;o<this.plugins.length;o++)this.plugins[o].update(this);n!=i&&this.inputState.ensureHandlers(this.plugins)}docViewUpdate(){for(let e of this.plugins){let n=e.value;if(n&&n.docViewUpdate)try{n.docViewUpdate(this)}catch(i){Bc(this.state,i,"doc view update listener")}}}measure(e=!0){if(this.destroyed)return;if(this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.observer.delayedAndroidKey){this.measureScheduled=-1,this.requestMeasure();return}this.measureScheduled=0,e&&this.observer.forceFlush();let n=null,i=this.scrollDOM,o=i.scrollTop*this.scaleY,{scrollAnchorPos:s,scrollAnchorHeight:a}=this.viewState;Math.abs(o-this.viewState.scrollTop)>1&&(a=-1),this.viewState.scrollAnchorHeight=-1;try{for(let l=0;;l++){if(a<0)if(Qde(i))s=-1,a=this.viewState.heightMap.height;else{let b=this.viewState.scrollAnchorAt(o);s=b.from,a=b.top}this.updateState=1;let c=this.viewState.measure(this);if(!c&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(l>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let d=[];c&4||([this.measureRequests,d]=[d,this.measureRequests]);let f=d.map(b=>{try{return b.read(this)}catch(y){return Bc(this.state,y),$de}}),m=oA.create(this,this.state,[]),p=!1;m.flags|=c,n?n.flags|=c:n=m,this.updateState=2,m.empty||(this.updatePlugins(m),this.inputState.update(m),this.updateAttrs(),p=this.docView.update(m),p&&this.docViewUpdate());for(let b=0;b<d.length;b++)if(f[b]!=$de)try{let y=d[b];y.write&&y.write(f[b],this)}catch(y){Bc(this.state,y)}if(p&&this.docView.updateSelection(!0),!m.viewportChanged&&this.measureRequests.length==0){if(this.viewState.editorHeight)if(this.viewState.scrollTarget){this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,a=-1;continue}else{let y=(s<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(s).top)-a;if(y>1||y<-1){o=o+y,i.scrollTop=o/this.scaleY,a=-1;continue}}break}}}finally{this.updateState=0,this.measureScheduled=-1}if(n&&!n.empty)for(let l of this.state.facet(a8))l(n)}get themeClasses(){return L8+" "+(this.state.facet(u8)?Lfe:Pfe)+" "+this.state.facet(ZM)}updateAttrs(){let e=Gde(this,Sde,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),n={spellcheck:"false",autocorrect:"off",autocapitalize:"off",translate:"no",contenteditable:this.state.facet(Ah)?"true":"false",class:"cm-content",style:`${jt.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(n["aria-readonly"]="true"),Gde(this,C8,n);let i=this.observer.ignore(()=>{let o=b8(this.contentDOM,this.contentAttrs,n),s=b8(this.dom,this.editorAttrs,e);return o||s});return this.editorAttrs=e,this.contentAttrs=n,i}showAnnouncements(e){let n=!0;for(let i of e)for(let o of i.effects)if(o.is(r.announce)){n&&(this.announceDOM.textContent=""),n=!1;let s=this.announceDOM.appendChild(document.createElement("div"));s.textContent=o.value}}mountStyles(){this.styleModules=this.state.facet(gx);let e=this.state.facet(r.cspNonce);ec.mount(this.root,this.styleModules.concat(x5e).reverse(),e?{nonce:e}:void 0)}readMeasured(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");this.updateState==0&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(e){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure())),e){if(this.measureRequests.indexOf(e)>-1)return;if(e.key!=null){for(let n=0;n<this.measureRequests.length;n++)if(this.measureRequests[n].key===e.key){this.measureRequests[n]=e;return}}this.measureRequests.push(e)}}plugin(e){let n=this.pluginMap.get(e);return(n===void 0||n&&n.spec!=e)&&this.pluginMap.set(e,n=this.plugins.find(i=>i.spec==e)||null),n&&n.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}get scaleX(){return this.viewState.scaleX}get scaleY(){return this.viewState.scaleY}elementAtHeight(e){return this.readMeasured(),this.viewState.elementAtHeight(e)}lineBlockAtHeight(e){return this.readMeasured(),this.viewState.lineBlockAtHeight(e)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(e){return this.viewState.lineBlockAt(e)}get contentHeight(){return this.viewState.contentHeight}moveByChar(e,n,i){return c8(this,e,Ide(this,e,n,i))}moveByGroup(e,n){return c8(this,e,Ide(this,e,n,i=>$4e(this,e.head,i)))}visualLineSide(e,n){let i=this.bidiSpans(e),o=this.textDirectionAt(e.from),s=i[n?i.length-1:0];return Dr.cursor(s.side(n,o)+e.from,s.forward(!n,o)?1:-1)}moveToLineBoundary(e,n,i=!0){return W4e(this,e,n,i)}moveVertically(e,n,i){return c8(this,e,G4e(this,e,n,i))}domAtPos(e){return this.docView.domAtPos(e)}posAtDOM(e,n=0){return this.docView.posFromDOM(e,n)}posAtCoords(e,n=!0){return this.readMeasured(),Mfe(this,e,n)}coordsAtPos(e,n=1){this.readMeasured();let i=this.docView.coordsAt(e,n);if(!i||i.left==i.right)return i;let o=this.state.doc.lineAt(e),s=this.bidiSpans(o),a=s[Ru.find(s,e-o.from,-1,n)];return fA(i,a.dir==rs.LTR==n>0)}coordsForChar(e){return this.readMeasured(),this.docView.coordsForChar(e)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(e){return!this.state.facet(Cde)||e<this.viewport.from||e>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(e))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(e){if(e.length>S5e)return ffe(e.length);let n=this.textDirectionAt(e.from),i;for(let s of this.bidiCache)if(s.from==e.from&&s.dir==n&&(s.fresh||dfe(s.isolates,i=Dde(this,e))))return s.order;i||(i=Dde(this,e));let o=M4e(e.text,n,i);return this.bidiCache.push(new dA(e.from,e.to,n,i,!0,o)),o}get hasFocus(){var e;return(this.dom.ownerDocument.hasFocus()||jt.safari&&((e=this.inputState)===null||e===void 0?void 0:e.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{Xde(this.contentDOM),this.docView.updateSelection()})}setRoot(e){this._root!=e&&(this._root=e,this.observer.setWindow((e.nodeType==9?e:e.ownerDocument).defaultView||window),this.mountStyles())}destroy(){this.root.activeElement==this.contentDOM&&this.contentDOM.blur();for(let e of this.plugins)e.destroy(this);this.plugins=[],this.inputState.destroy(),this.docView.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(e,n={}){return $M.of(new wx(typeof e=="number"?Dr.cursor(e):e,n.y,n.x,n.yMargin,n.xMargin))}scrollSnapshot(){let{scrollTop:e,scrollLeft:n}=this.scrollDOM,i=this.viewState.scrollAnchorAt(e);return $M.of(new wx(Dr.cursor(i.from),"start","start",i.top-e,n,!0))}setTabFocusMode(e){e==null?this.inputState.tabFocusMode=this.inputState.tabFocusMode<0?0:-1:typeof e=="boolean"?this.inputState.tabFocusMode=e?0:-1:this.inputState.tabFocusMode!=0&&(this.inputState.tabFocusMode=Date.now()+e)}static domEventHandlers(e){return S0.define(()=>({}),{eventHandlers:e})}static domEventObservers(e){return S0.define(()=>({}),{eventObservers:e})}static theme(e,n){let i=ec.newName(),o=[ZM.of(i),gx.of(B8(`.${i}`,e))];return n&&n.dark&&o.push(u8.of(!0)),o}static baseTheme(e){return r8.lowest(gx.of(B8("."+L8,e,Bfe)))}static findFromDOM(e){var n;let i=e.querySelector(".cm-content"),o=i&&mi.get(i)||mi.get(e);return((n=o?.rootView)===null||n===void 0?void 0:n.view)||null}}return r.styleModule=gx,r.inputHandler=bfe,r.clipboardInputFilter=U8,r.clipboardOutputFilter=q8,r.scrollHandler=_fe,r.focusChangeEffect=yfe,r.perLineTextDirection=Cde,r.exceptionSink=vfe,r.updateListener=a8,r.editable=Ah,r.mouseSelectionStyle=gfe,r.dragMovesSelection=pfe,r.clickAddsSelectionRange=mfe,r.decorations=kx,r.outerDecorations=wfe,r.atomicRanges=W8,r.bidiIsolatedRanges=Cfe,r.scrollMargins=Sfe,r.darkTheme=u8,r.cspNonce=qr.define({combine:t=>t.length?t[0]:""}),r.contentAttributes=C8,r.editorAttributes=Sde,r.lineWrapping=r.contentAttributes.of({class:"cm-lineWrapping"}),r.announce=va.define(),r})(),S5e=4096,$de={},dA=class r{constructor(t,e,n,i,o,s){this.from=t,this.to=e,this.dir=n,this.isolates=i,this.fresh=o,this.order=s}static update(t,e){if(e.empty&&!t.some(o=>o.fresh))return t;let n=[],i=t.length?t[t.length-1].dir:rs.LTR;for(let o=Math.max(0,t.length-10);o<t.length;o++){let s=t[o];s.dir==i&&!e.touchesRange(s.from,s.to)&&n.push(new r(e.mapPos(s.from,1),e.mapPos(s.to,-1),s.dir,s.isolates,!1,s.order))}return n}};function Gde(r,t,e){for(let n=r.state.facet(t),i=n.length-1;i>=0;i--){let o=n[i],s=typeof o=="function"?o(r):o;s&&v8(s,e)}return e}var XUt=jt.mac?"mac":jt.windows?"win":jt.linux?"linux":"key";var D5e=!jt.ios;var Yde={".cm-line":{"& ::selection, &::selection":{backgroundColor:"transparent !important"}},".cm-content":{"& :focus":{caretColor:"initial !important","&::selection, & ::selection":{backgroundColor:"Highlight !important"}}}};D5e&&(Yde[".cm-line"].caretColor=Yde[".cm-content"].caretColor="transparent !important");var ZUt=/x/.unicode!=null?"gu":"g";var QUt=G8.baseTheme({".cm-tooltip":{zIndex:500,boxSizing:"border-box"},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"7px",width:`${7*2}px`,position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"7px solid transparent",borderRight:"7px solid transparent"},".cm-tooltip-above &":{bottom:"-7px","&:before":{borderTop:"7px solid #bbb"},"&:after":{borderTop:"7px solid #f5f5f5",bottom:"1px"}},".cm-tooltip-below &":{top:"-7px","&:before":{borderBottom:"7px solid #bbb"},"&:after":{borderBottom:"7px solid #f5f5f5",top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}});var $d=class extends Wd{compare(t){return this==t||this.constructor==t.constructor&&this.eq(t)}eq(t){return!1}destroy(t){}};$d.prototype.elementClass="";$d.prototype.toDOM=void 0;$d.prototype.mapMode=Ha.TrackBefore;$d.prototype.startSide=$d.prototype.endSide=-1;$d.prototype.point=!0;var Y8,E0=new fn;function E5e(r){return qr.define({combine:r?t=>t.concat(r):void 0})}var M5e=new fn,zu=(()=>{class r{constructor(e,n,i=[],o=""){this.data=e,this.name=o,Nu.prototype.hasOwnProperty("tree")||Object.defineProperty(Nu.prototype,"tree",{get(){return Z8(this)}}),this.parser=n,this.extension=[M0.of(this),Nu.languageData.of((s,a,l)=>{let c=Vfe(s,a,l),d=c.type.prop(E0);if(!d)return[];let f=s.facet(d),m=c.type.prop(M5e);if(m){let p=c.resolve(a-c.from,l);for(let b of m)if(b.test(p,s)){let y=s.facet(b.facet);return b.type=="replace"?y:y.concat(f)}}return f})].concat(i)}isActiveAt(e,n,i=-1){return Vfe(e,n,i).type.prop(E0)==this.data}findRegions(e){let n=e.facet(M0);if(n?.data==this.data)return[{from:0,to:e.doc.length}];if(!n||!n.allowsNesting)return[];let i=[],o=(s,a)=>{if(s.prop(E0)==this.data){i.push({from:a,to:a+s.length});return}let l=s.prop(fn.mounted);if(l){if(l.tree.prop(E0)==this.data){if(l.overlay)for(let c of l.overlay)i.push({from:c.from+a,to:c.to+a});else i.push({from:a,to:a+s.length});return}else if(l.overlay){let c=i.length;if(o(l.tree,l.overlay[0].from+a),i.length>c)return}}for(let c=0;c<s.children.length;c++){let d=s.children[c];d instanceof ao&&o(d,s.positions[c]+a)}};return o(Z8(e),0),i}get allowsNesting(){return!0}}return r.setState=va.define(),r})();function Vfe(r,t,e){let n=r.facet(M0),i=Z8(r).topNode;if(!n||n.allowsNesting)for(let o=i;o;o=o.enter(t,e,Po.ExcludeBuffers))o.type.isTop&&(i=o);return i}var pA=class r extends zu{constructor(t,e,n){super(t,e,[],n),this.parser=e}static define(t){let e=E5e(t.languageData);return new r(e,t.parser.configure({props:[E0.add(n=>n.isTop?e:void 0)]}),t.name)}configure(t,e){return new r(this.data,this.parser.configure(t),e||this.name)}get allowsNesting(){return this.parser.hasWrappers()}};function Z8(r){let t=r.field(zu.state,!1);return t?t.tree:ao.empty}var Q8=class{constructor(t){this.doc=t,this.cursorPos=0,this.string="",this.cursor=t.iter()}get length(){return this.doc.length}syncTo(t){return this.string=this.cursor.next(t-this.cursorPos).value,this.cursorPos=t+this.string.length,this.cursorPos-this.string.length}chunk(t){return this.syncTo(t),this.string}get lineChunks(){return!0}read(t,e){let n=this.cursorPos-this.string.length;return t<n||e>=this.cursorPos?this.doc.sliceString(t,e):this.string.slice(t-n,e-n)}},Nx=null,J8=class r{constructor(t,e,n=[],i,o,s,a,l){this.parser=t,this.state=e,this.fragments=n,this.tree=i,this.treeLen=o,this.viewport=s,this.skipped=a,this.scheduleOn=l,this.parse=null,this.tempSkipped=[]}static create(t,e,n){return new r(t,e,[],ao.empty,0,n,[],null)}startParse(){return this.parser.startParse(new Q8(this.state.doc),this.fragments)}work(t,e){return e!=null&&e>=this.state.doc.length&&(e=void 0),this.tree!=ao.empty&&this.isDone(e??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var n;if(typeof t=="number"){let i=Date.now()+t;t=()=>Date.now()>i}for(this.parse||(this.parse=this.startParse()),e!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>e)&&e<this.state.doc.length&&this.parse.stopAt(e);;){let i=this.parse.advance();if(i)if(this.fragments=this.withoutTempSkipped(hp.addTree(i,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(n=this.parse.stoppedAt)!==null&&n!==void 0?n:this.state.doc.length,this.tree=i,this.parse=null,this.treeLen<(e??this.state.doc.length))this.parse=this.startParse();else return!0;if(t())return!1}})}takeTree(){let t,e;this.parse&&(t=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>t)&&this.parse.stopAt(t),this.withContext(()=>{for(;!(e=this.parse.advance()););}),this.treeLen=t,this.tree=e,this.fragments=this.withoutTempSkipped(hp.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(t){let e=Nx;Nx=this;try{return t()}finally{Nx=e}}withoutTempSkipped(t){for(let e;e=this.tempSkipped.pop();)t=zfe(t,e.from,e.to);return t}changes(t,e){let{fragments:n,tree:i,treeLen:o,viewport:s,skipped:a}=this;if(this.takeTree(),!t.empty){let l=[];if(t.iterChangedRanges((c,d,f,m)=>l.push({fromA:c,toA:d,fromB:f,toB:m})),n=hp.applyChanges(n,l),i=ao.empty,o=0,s={from:t.mapPos(s.from,-1),to:t.mapPos(s.to,1)},this.skipped.length){a=[];for(let c of this.skipped){let d=t.mapPos(c.from,1),f=t.mapPos(c.to,-1);d<f&&a.push({from:d,to:f})}}}return new r(this.parser,e,n,i,o,s,a,this.scheduleOn)}updateViewport(t){if(this.viewport.from==t.from&&this.viewport.to==t.to)return!1;this.viewport=t;let e=this.skipped.length;for(let n=0;n<this.skipped.length;n++){let{from:i,to:o}=this.skipped[n];i<t.to&&o>t.from&&(this.fragments=zfe(this.fragments,i,o),this.skipped.splice(n--,1))}return this.skipped.length>=e?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(t,e){this.skipped.push({from:t,to:e})}static getSkippingParser(t){return new class extends d0{createParse(e,n,i){let o=i[0].from,s=i[i.length-1].to;return{parsedPos:o,advance(){let l=Nx;if(l){for(let c of i)l.tempSkipped.push(c);t&&(l.scheduleOn=l.scheduleOn?Promise.all([l.scheduleOn,t]):t)}return this.parsedPos=s,new ao($s.none,[],[],s-o)},stoppedAt:null,stopAt(){}}}}}isDone(t){t=Math.min(t,this.state.doc.length);let e=this.fragments;return this.treeLen>=t&&e.length&&e[0].from==0&&e[0].to>=t}static get(){return Nx}};function zfe(r,t,e){return hp.applyChanges(r,[{fromA:t,toA:e,fromB:t,toB:e}])}var Ox=class r{constructor(t){this.context=t,this.tree=t.tree}apply(t){if(!t.docChanged&&this.tree==this.context.tree)return this;let e=this.context.changes(t.changes,t.state),n=this.context.treeLen==t.startState.doc.length?void 0:Math.max(t.changes.mapPos(this.context.treeLen),e.viewport.to);return e.work(20,n)||e.takeTree(),new r(e)}static init(t){let e=Math.min(3e3,t.doc.length),n=J8.create(t.facet(M0).parser,t,{from:0,to:e});return n.work(20,e)||n.takeTree(),new r(n)}};zu.state=qd.define({create:Ox.init,update(r,t){for(let e of t.effects)if(e.is(zu.setState))return e.value;return t.startState.facet(M0)!=t.state.facet(M0)?Ox.init(t.state):r.apply(t)}});var qfe=r=>{let t=setTimeout(()=>r(),500);return()=>clearTimeout(t)};typeof requestIdleCallback<"u"&&(qfe=r=>{let t=-1,e=setTimeout(()=>{t=requestIdleCallback(r,{timeout:400})},100);return()=>t<0?clearTimeout(e):cancelIdleCallback(t)});var K8=typeof navigator<"u"&&(!((Y8=navigator.scheduling)===null||Y8===void 0)&&Y8.isInputPending)?()=>navigator.scheduling.isInputPending():null,A5e=S0.fromClass(class{constructor(t){this.view=t,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(t){let e=this.view.state.field(zu.state).context;(e.updateViewport(t.view.viewport)||this.view.viewport.to>e.treeLen)&&this.scheduleWork(),(t.docChanged||t.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(e)}scheduleWork(){if(this.working)return;let{state:t}=this.view,e=t.field(zu.state);(e.tree!=e.context.tree||!e.context.isDone(t.doc.length))&&(this.working=qfe(this.work))}work(t){this.working=null;let e=Date.now();if(this.chunkEnd<e&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=e+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:n,viewport:{to:i}}=this.view,o=n.field(zu.state);if(o.tree==o.context.tree&&o.context.isDone(i+1e5))return;let s=Date.now()+Math.min(this.chunkBudget,100,t&&!K8?Math.max(25,t.timeRemaining()-5):1e9),a=o.context.treeLen<i&&n.doc.length>i+1e3,l=o.context.work(()=>K8&&K8()||Date.now()>s,i+(a?0:1e5));this.chunkBudget-=Date.now()-e,(l||this.chunkBudget<=0)&&(o.context.takeTree(),this.view.dispatch({effects:zu.setState.of(new Ox(o.context))})),this.chunkBudget>0&&!(l&&!a)&&this.scheduleWork(),this.checkAsyncSchedule(o.context)}checkAsyncSchedule(t){t.scheduleOn&&(this.workScheduled++,t.scheduleOn.then(()=>this.scheduleWork()).catch(e=>Bc(this.view.state,e)).then(()=>this.workScheduled--),t.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),M0=qr.define({combine(r){return r.length?r[0]:null},enables:r=>[zu.state,A5e,G8.contentAttributes.compute([r],t=>{let e=t.facet(r);return e&&e.name?{"data-language":e.name}:{}})]}),gA=class{constructor(t,e=[]){this.language=t,this.support=e,this.extension=[t,e]}};var Wfe=new fn;function tj({except:r,units:t=1}={}){return e=>{let n=r&&r.test(e.textAfter);return e.baseIndent+(n?0:t*e.unit)}}var $fe=new fn;function Gfe(r){let t=r.firstChild,e=r.lastChild;return t&&t.to<e.from?{from:t.to,to:e.type.isError?r.to:e.from}:null}var ej=class r{constructor(t,e){this.specs=t;let n;function i(a){let l=ec.newName();return(n||(n=Object.create(null)))["."+l]=a,l}let o=typeof e.all=="string"?e.all:e.all?i(e.all):void 0,s=e.scope;this.scope=s instanceof zu?a=>a.prop(E0)==s.data:s?a=>a==s:void 0,this.style=B5(t.map(a=>({tag:a.tag,class:a.class||i(Object.assign({},a,{tag:null}))})),{all:o}).style,this.module=n?new ec(n):null,this.themeType=e.themeType}static define(t,e){return new r(t,e||{})}};var l6t=ej.define([{tag:bt.meta,color:"#404740"},{tag:bt.link,textDecoration:"underline"},{tag:bt.heading,textDecoration:"underline",fontWeight:"bold"},{tag:bt.emphasis,fontStyle:"italic"},{tag:bt.strong,fontWeight:"bold"},{tag:bt.strikethrough,textDecoration:"line-through"},{tag:bt.keyword,color:"#708"},{tag:[bt.atom,bt.bool,bt.url,bt.contentSeparator,bt.labelName],color:"#219"},{tag:[bt.literal,bt.inserted],color:"#164"},{tag:[bt.string,bt.deleted],color:"#a11"},{tag:[bt.regexp,bt.escape,bt.special(bt.string)],color:"#e40"},{tag:bt.definition(bt.variableName),color:"#00f"},{tag:bt.local(bt.variableName),color:"#30a"},{tag:[bt.typeName,bt.namespace],color:"#085"},{tag:bt.className,color:"#167"},{tag:[bt.special(bt.variableName),bt.macroName],color:"#256"},{tag:bt.definition(bt.propertyName),color:"#00c"},{tag:bt.comment,color:"#940"},{tag:bt.invalid,color:"#f00"}]);var T5e=Object.create(null),jfe=[$s.none];var Hfe=[],Ufe=Object.create(null),I5e=Object.create(null);for(let[r,t]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])I5e[r]=k5e(T5e,t);function X8(r,t){Hfe.indexOf(r)>-1||(Hfe.push(r),console.warn(t))}function k5e(r,t){let e=[];for(let a of t.split(" ")){let l=[];for(let c of a.split(".")){let d=r[c]||bt[c];d?typeof d=="function"?l.length?l=l.map(d):X8(c,`Modifier ${c} used at start of tag`):l.length?X8(c,`Tag ${c} used as modifier`):l=Array.isArray(d)?d:[d]:X8(c,`Unknown highlighting tag ${c}`)}for(let c of l)e.push(c)}if(!e.length)return 0;let n=t.replace(/ /g,"_"),i=n+" "+e.map(a=>a.id),o=Ufe[i];if(o)return o.id;let s=Ufe[i]=$s.define({id:jfe.length,name:n,props:[kM({[n]:e})]});return jfe.push(s),s.id}var c6t={rtl:Lo.mark({class:"cm-iso",inclusive:!0,attributes:{dir:"rtl"},bidiIsolate:rs.RTL}),ltr:Lo.mark({class:"cm-iso",inclusive:!0,attributes:{dir:"ltr"},bidiIsolate:rs.LTR}),auto:Lo.mark({class:"cm-iso",inclusive:!0,attributes:{dir:"auto"},bidiIsolate:null})};var N5e=pA.define({name:"json",parser:Uue.configure({props:[Wfe.add({Object:tj({except:/^\s*\}/}),Array:tj({except:/^\s*\]/})}),$fe.add({"Object Array":Gfe})]}),languageData:{closeBrackets:{brackets:["[","{",'"']},indentOnInput:/^\s*[\}\]]$/}});function Yfe(){return new gA(N5e)}var Fx=Wh(Kfe());var O5e=["editorHolder"],Xfe=(()=>{class r{constructor(){this.editorHolder=Ei("editorHolder"),this.mode=Ne("json"),this.lineNumbers=Ne(!0),this.readonly=Ne(!1)}ngOnInit(){let e=this.editorHolder();console.log(e),this.codeMirror=new Fx.EditorView({parent:e.nativeElement,extensions:[Fx.basicSetup,Yfe(),Fx.EditorView.updateListener.of(n=>{n.docChanged&&(this._code=n.state.doc.toString(),this.onChanged&&this.onChanged(this._code))})]})}initCodeMirror(){this.codeMirror.dispatch({changes:{from:0,to:this.codeMirror.state.doc.length,insert:this._code}})}writeValue(e){e!==this._code&&(this._code=e,this.initCodeMirror())}setDisabledState(e){}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChanged=e}static{this.\u0275fac=function(n){return new(n||r)}}static{this.\u0275cmp=Be({type:r,selectors:[["jee-code-editor"]],viewQuery:function(n,i){n&1&&Ai(i.editorHolder,O5e,5),n&2&&ai()},inputs:{mode:[1,"mode"],lineNumbers:[1,"lineNumbers"],readonly:[1,"readonly"]},features:[Lt([{provide:vn,useExisting:Hr(()=>r),multi:!0}])],decls:2,vars:0,consts:[["editorHolder",""],[2,"height","100%","overflow","hidden"]],template:function(n,i){n&1&&Te(0,"div",1,0)},encapsulation:2})}}return r})();var Gd=class{toJSON(){return{code:this.code,selected:this.selected,data:this.data?.toJSON?this.data?.toJSON():this.data}}constructor(t){this.code="",this.selected=!1,Object.assign(this,t)}};var vA=(()=>{class r{static{this.DASHBOARDS_KEY="jee-panel-dashboards"}setSettings(e){this.settings=e}openModalConfig(){return tt(new Gd)}removeDashboard(e){let n=this._getDashboards(),i=n.findIndex(o=>o.id===e);return i>=0&&(n.splice(i,1),this._saveDashboards(n)),tt(void 0)}getDashboards(){let e=this._getDashboards();return tt(e)}saveDashboards(e){return e.forEach(n=>this._prepareDashboard(n,e)),this._saveDashboards(e),tt(e)}saveDashboard(e){let n=this._getDashboards();return this._prepareDashboard(e,n),this._saveDashboards(n),tt(e)}_getDashboards(){let e=localStorage.getItem(r.DASHBOARDS_KEY)||"[]";return JSON.parse(e).map(o=>new yl(o))}_saveDashboards(e){localStorage.setItem(r.DASHBOARDS_KEY,JSON.stringify(e))}_prepareDashboard(e,n){if(e.id){let i=n.findIndex(o=>o.id===e.id);i!=-1&&(n[i]=e)}else{let i=Math.max(0,...n?.map(o=>o.id)||[0]);e.id=i+1,n.push(e)}}static{this.\u0275fac=function(n){return new(n||r)}}static{this.\u0275prov=Fe({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();var F5e=["btnSave"],Zfe=(()=>{class r{constructor(){this.jeeLocalStorage=V(vA),this.settings=[],this.configType="",this.btnSave=Ei.required("btnSave"),this.btnSaveLabel="Enregistrer"}ngOnInit(){}onConfigTypeChanged(){}save(){}toJSON(e){return JSON.stringify(e,null,4)}_saved(){this.btnSaveLabel="Enregistr\xE9 !",setTimeout(()=>this.btnSaveLabel="Enregistrer",1e3)}static{this.\u0275fac=function(n){return new(n||r)}}static{this.\u0275cmp=Be({type:r,selectors:[["jee-local-config-page"]],viewQuery:function(n,i){n&1&&Ai(i.btnSave,F5e,5),n&2&&ai()},decls:22,vars:3,consts:[["btnSave",""],[1,"config-header"],[1,"config-header-actions"],["mat-raised-button","","color","primary",3,"click"],[1,"config-select"],[3,"ngModelChange","selectionChange","ngModel"],["value","local-settings"],["value","settings"],["value","dashboards"],[1,"config-container"],["ngDefaultControl","",3,"ngModelChange","ngModel"]],template:function(n,i){if(n&1){let o=ot();W(0,"div",1)(1,"h2"),ge(2,"Configuration : Local Storage"),$(),W(3,"div",2)(4,"button",3,0),Me("click",function(){return xe(o),we(i.save())}),W(6,"mat-icon"),ge(7,"save"),$(),ge(8),$()()(),W(9,"div",4)(10,"mat-form-field")(11,"mat-label"),ge(12,"Configuration"),$(),W(13,"mat-select",5),Cn("ngModelChange",function(a){return xe(o),Mn(i.configType,a)||(i.configType=a),we(a)}),Me("selectionChange",function(){return xe(o),we(i.onConfigTypeChanged())}),W(14,"mat-option",6),ge(15,"Configuration locale"),$(),W(16,"mat-option",7),ge(17,"Configuration globale"),$(),W(18,"mat-option",8),ge(19,"Dashboards"),$()()()(),W(20,"div",9)(21,"jee-code-editor",10),Cn("ngModelChange",function(a){return xe(o),Mn(i.config,a)||(i.config=a),we(a)}),$()()}n&2&&(K(8),sn(" ",i.btnSaveLabel,""),K(5),wn("ngModel",i.configType),K(8),wn("ngModel",i.config))},dependencies:[Sr,ui,en,Ro,ts,Vn,es,qs,Wo,Wn,Fn,fM,Yi,Qr,Xfe],styles:["[_nghost-%COMP%]{height:100%;display:flex;flex-direction:column;padding:20px;box-sizing:border-box}.config-header[_ngcontent-%COMP%]{display:flex;flex-direction:row}.config-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{flex:1}.config-header[_ngcontent-%COMP%]   .config-header-actions[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex-direction:row;align-items:center}.config-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex:1}.config-container[_ngcontent-%COMP%]   jee-code-editor[_ngcontent-%COMP%]{height:100%}"]})}}return r})();var R5e=new Gd({code:"local",selected:!0}),Nh=(()=>{class r{constructor(){this.storagesSettings=[],this.currentStorage=null}static{this.STORAGE_KEY="jee-panel-storages"}getCurrentSettings(){return this.currentStorage||(this.currentStorage=this.storagesSettings.find(e=>e.selected),this.currentStorage??=this.storagesSettings[0]),this.currentStorage}getStorageSettings(e){return this.storagesSettings.find(i=>i.code===e)}setStorage(e){this.storagesSettings.forEach(i=>i.selected=!1);let n=this.storagesSettings.find(i=>i.code===e);return n||(n=new Gd({code:e}),this.storagesSettings.push(n)),n.selected=!0,this.currentStorage=n,this.saveStoragesSettings(),n}getStoragesSettings(){return tt(this._getStorageSettings())}_getStorageSettings(){let e=localStorage.getItem(r.STORAGE_KEY)||"[]",n=JSON.parse(e),i=n.map(o=>new Gd(o));return i.length||(i.push(new Gd(R5e)),this.saveStoragesSettings(n)),this.storagesSettings=i,this.storagesSettings}saveStoragesSettings(e){e&&(this.storagesSettings=e);let n=this.storagesSettings.map(i=>i?.toJSON?i.toJSON():i);return localStorage.setItem(r.STORAGE_KEY,JSON.stringify(n)),tt(this.storagesSettings)}saveStorageSettings(e){let n=this._getStorageSettings(),i=n.find(o=>o.code===e.code);return i?Object.assign(i,e):n.push(e),this.saveStoragesSettings(n),tt(e)}static{this.\u0275fac=function(n){return new(n||r)}}static{this.\u0275prov=Fe({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();var bs=[];for(let r=0;r<256;++r)bs.push((r+256).toString(16).slice(1));function Qfe(r,t=0){return(bs[r[t+0]]+bs[r[t+1]]+bs[r[t+2]]+bs[r[t+3]]+"-"+bs[r[t+4]]+bs[r[t+5]]+"-"+bs[r[t+6]]+bs[r[t+7]]+"-"+bs[r[t+8]]+bs[r[t+9]]+"-"+bs[r[t+10]]+bs[r[t+11]]+bs[r[t+12]]+bs[r[t+13]]+bs[r[t+14]]+bs[r[t+15]]).toLowerCase()}var ij,P5e=new Uint8Array(16);function oj(){if(!ij){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");ij=crypto.getRandomValues.bind(crypto)}return ij(P5e)}var L5e=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),sj={randomUUID:L5e};function B5e(r,t,e){if(sj.randomUUID&&!t&&!r)return sj.randomUUID();r=r||{};let n=r.random||(r.rng||oj)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){e=e||0;for(let i=0;i<16;++i)t[e+i]=n[i];return t}return Qfe(n)}var Rx=B5e;var V5e=(r,t)=>t.storageType;function z5e(r,t){if(r&1){let e=ot();W(0,"li")(1,"input",4),Me("click",function(){let i=xe(e).$implicit,o=ie();return we(o.switchStorageTo(i))}),$(),ge(2),Te(3,"br"),ge(4),Te(5,"br"),W(6,"button",5),Me("click",function(){let i=xe(e).$implicit,o=ie();return we(o.openStorageConfig(i))}),ge(7,"Modifier la configuration"),$()()}if(r&2){let e=t.$implicit;K(),oe("checked",e.selected),K(),sn("",e.storageName," "),K(2),sn(" ",e.description," ")}}function j5e(r,t){if(r&1){let e=ot();W(0,"li"),ge(1),W(2,"button",5),Me("click",function(){let i=xe(e).$implicit,o=ie();return we(o.addProvider(i))}),ge(3,"Ajouter"),$()()}if(r&2){let e=t.$implicit;K(),sn("",e.providerName," ")}}function H5e(r,t){if(r&1){let e=ot();W(0,"li"),ge(1),W(2,"button",5),Me("click",function(){let i=xe(e).$implicit,o=ie();return we(o.editProviderSettings(i))}),ge(3,"Configuration"),$(),W(4,"button",5),Me("click",function(){let i=xe(e).$implicit,o=ie();return we(o.deleteProviderSettings(i))}),ge(5,"Supprimer"),$()()}if(r&2){let e=t.$implicit;K(),SN(" ",e.label," ( ",e.code,") ")}}var Jfe=(()=>{class r{constructor(){this.providersService=V(En),this.providersSettingsService=V(e0),this.dashboardStorageSettingsService=V(Nh),this.dashboardStorageService=V(Ql),this.modalService=V(go),this.pageTitleService=V(xM),this.availableStorages=[],this.availableProviders=[],this.providersSettings=[],this.pageTitleService.actions=[],this.initStorage(),this.initProviders()}initStorage(){let e=this.dashboardStorageSettingsService.storagesSettings;this.availableStorages=Object.values(Px).map(n=>{let i=$n(n);return i.selected=e.find(o=>o.code===n.storageType)?.selected??!1,i})}switchStorageTo(e){this.dashboardStorageService.openModalConfig(e.storageType).subscribe(n=>{n&&this.modalService.open(ph,{title:"Configuration",message:"Voulez vous enregistrer le dashboard actuel dans ce stockage ? (Attention cela \xE9crasera les donn\xE9es actuellement dans le stockage)",actions:[{text:"Enregistrer le dashboard actuel",value:"erase"},{text:"Non, je veux r\xE9cup\xE9rer le dashboard enregistr\xE9 dans le stockage",value:"get"}]}).afterClosed().subscribe(i=>{i==="erase"?this.dashboardStorageService.getDashboards().subscribe(o=>{this._switchTo(e),this.dashboardStorageService.saveDashboards(o).subscribe({next:()=>{}})}):this._switchTo(e)})})}openStorageConfig(e){this.dashboardStorageService.openModalConfig(e.storageType).subscribe(n=>{n&&e.selected&&this.dashboardStorageService.getDashboards().subscribe()})}initProviders(){this.providersSettingsService.getAvailableProviders().subscribe(e=>{this.availableProviders=e}),this.refreshProviders()}refreshProviders(){this.providersSettingsService.getProvidersSettings().subscribe(e=>{this.providersSettings=e})}addProvider(e){let n=new yh({code:Rx(),type:e.providerType,label:e.providerName});this.providersSettingsService.saveProviderSettings(n).subscribe(i=>{this.refreshProviders()})}editProviderSettings(e){this.providersService.openConfigurationModal(e).subscribe()}deleteProviderSettings(e){this.modalService.open(ph,{title:"Suppression",message:`Voulez vous supprimer ce fournisseur : ${e.label} (${e.code})`}).afterClosed().subscribe(n=>{n&&this.providersSettingsService.removeProviderSettings(e.id).subscribe(()=>{this.providersService.deleteIntanceOf(e.code),this.refreshProviders()})})}_switchTo(e){this.dashboardStorageService.switchStorageTo(e.storageType),this.initStorage(),this.dashboardStorageService.getDashboards().subscribe()}static{this.\u0275fac=function(n){return new(n||r)}}static{this.\u0275cmp=Be({type:r,selectors:[["jee-settings-page"]],decls:24,vars:0,consts:[[1,"settings-container"],[1,"left-container"],[1,"storage-container"],[1,"right-container"],["type","radio",3,"click","checked"],["mat-button","",3,"click"]],template:function(n,i){n&1&&(W(0,"div",0)(1,"div",1)(2,"div",2)(3,"h4"),ge(4,"Stockage des dashboards"),$(),W(5,"ul"),ur(6,z5e,8,3,"li",null,V5e),$()()(),W(8,"div",3)(9,"div")(10,"div")(11,"h3"),ge(12,"Fournisseurs de donn\xE9es disponibles"),$(),W(13,"div")(14,"ul"),ur(15,j5e,4,1,"li",null,Mi),$()()(),W(17,"div")(18,"h3"),ge(19,"Fournisseurs de donn\xE9es configur\xE9s"),$(),W(20,"div")(21,"ul"),ur(22,H5e,6,2,"li",null,Mi),$()()()()()()),n&2&&(K(6),dr(i.availableStorages),K(9),dr(i.availableProviders),K(7),dr(i.providersSettings))},dependencies:[Fn,Pae],styles:[".settings-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:30px;margin:20px}@media screen and (max-width: 959px){.settings-container[_ngcontent-%COMP%]{flex-direction:column-reverse}}.settings-container[_ngcontent-%COMP%]   .left-container[_ngcontent-%COMP%]   .storage-container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style:none;margin-bottom:25px}.settings-container[_ngcontent-%COMP%]   .right-container[_ngcontent-%COMP%]{display:flex;flex-direction:column}@media screen and (min-width: 960px){.settings-container[_ngcontent-%COMP%]   .right-container[_ngcontent-%COMP%]{min-width:600px}}"]})}}return r})();var ehe=[{pathMatch:"full",path:"",redirectTo:"dashboards"},{pathMatch:"full",path:"dashboards",component:b5},{pathMatch:"full",path:"dashboards/:code",component:b5},{path:"settings",component:Jfe},{path:"settings/localconfig",component:Zfe}];var A0=new He("settings"),aj=class{get currentStorage(){return this.storagesSettings.find(t=>t.selected)}constructor(t){this.storagesSettings=[],this.providersSettings=[],this.dashboards=[],Object.assign(this,t)}},Dp=new aj;var the=(()=>{class r{constructor(){this.window=V(Window),this.dashboardStorageSettingsService=V(Nh),this.providerSettingsService=V(e0),this.providersService=V(En),this.dashboardStorageService=V(Ql)}loadConfig(e){return this.providerSettingsService.availableProviders=e,$c([this.dashboardStorageSettingsService.getStoragesSettings(),this.providerSettingsService.getProvidersSettings()]).pipe(Wr(n=>this.providersService.initProviders().pipe(at(()=>n))),Wr(([n,i])=>(Dp.providersSettings=i,Dp.storagesSettings=n,this.dashboardStorageService.getDashboards())),at(n=>(Dp.dashboards=n,Dp)))}static{this.\u0275fac=function(n){return new(n||r)}}static{this.\u0275prov=Fe({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();var Ep=class{constructor(t){t?.command&&(this.command=new bh(t.command))}toJSON(){return{command:this.command?.toJSON?this.command?.toJSON():this.command}}};var U5e=(r,t)=>t.settings.code;function q5e(r,t){if(r&1&&(W(0,"mat-option",3),ge(1),$()),r&2){let e=t.$implicit;oe("value",e),K(),zt(e.settings.label)}}var rhe=(()=>{class r{constructor(e,n){this.dialogRef=e,this.data=n,this.providersService=V(En),this.commandLabel="",this.jeedomProviders=this.providersService.providers.filter(i=>i.settings.type==="jeedom"),this.settings=n.settings,this.command=this.settings?.command,this.providerSelected=this.command?.providerCode?this.jeedomProviders.find(i=>i.settings.code===this.command?.providerCode):void 0,!this.providerSelected&&this.jeedomProviders.length>0&&(this.providerSelected=this.jeedomProviders[0]),this.providerSelected&&this.providerSelected.jeedomService.loadJeedomData().subscribe(i=>{this.command&&this._updateCommandLabel()})}ngOnInit(){}onProviderSelected(){this.settings&&(this.command=void 0,this.providerSelected?.jeedomService.loadJeedomData())}openCommandPicker(){this.providerSelected&&this.providerSelected.openCommandPickerModal(a0.newDynamicForm(new ko),this.command).subscribe(e=>{e&&(this.command=e,this._updateCommandLabel())})}save(){this.dialogRef.close(new Ep({command:this.command}))}_updateCommandLabel(){if(this.commandLabel="",this.providerSelected&&this.command){let e=this.providerSelected.getCommandLabelId(this.command);e&&(this.commandLabel=e)}}static{this.\u0275fac=function(n){return new(n||r)(ze(so),ze(ps))}}static{this.\u0275cmp=Be({type:r,selectors:[["jee-jeedom-command-picker-modal"]],decls:23,vars:4,consts:[["mat-dialog-title",""],[1,"select-provider"],[3,"ngModelChange","selectionChange","ngModel"],[3,"value"],[1,"select-command"],["matInput","","type","text","disabled","",3,"value"],["matSuffix","","mat-icon-button","","aria-label","Clear",3,"click","disabled"],["align","end"],["mat-button","",3,"mat-dialog-close"],["mat-button","","color","primary","cdkFocusInitial","",3,"click","disabled"]],template:function(n,i){n&1&&(W(0,"h2",0),ge(1,"Stockage dans Jeedom"),$(),W(2,"mat-dialog-content")(3,"div",1)(4,"mat-form-field")(5,"mat-label"),ge(6,"Jeedom"),$(),W(7,"mat-select",2),Cn("ngModelChange",function(s){return Mn(i.providerSelected,s)||(i.providerSelected=s),s}),Me("selectionChange",function(){return i.onProviderSelected()}),ur(8,q5e,2,2,"mat-option",3,U5e),$()()(),W(10,"div",4)(11,"mat-form-field")(12,"mat-label"),ge(13,"Commande"),$(),Te(14,"input",5),W(15,"button",6),Me("click",function(){return i.openCommandPicker()}),W(16,"mat-icon"),ge(17,"menu"),$()()()()(),W(18,"mat-dialog-actions",7)(19,"button",8),ge(20,"Annuler"),$(),W(21,"button",9),Me("click",function(){return i.save()}),ge(22,"Enregistrer"),$()()),n&2&&(K(7),wn("ngModel",i.providerSelected),K(),dr(i.jeedomProviders),K(6),oe("value",i.commandLabel),K(),oe("disabled",!i.providerSelected),K(6),oe("disabled",!i.command))},dependencies:[Sr,en,Ro,Qr,Vn,es,sM,Na,vo,Ki,ts,qs,Wo,Hs,xu,Vs,js,zs,Fn,Yi],styles:[".jeedom-command-picker[_ngcontent-%COMP%]{display:flex;gap:15px;margin:10px}@media screen and (max-width: 959px){.jeedom-command-picker[_ngcontent-%COMP%]{flex-direction:column}.jeedom-command-picker[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%}}"]})}}return r})();var nhe=(()=>{class r{constructor(){this.modalService=V(go),this.providersService=V(En),this.dashboardStorageService=V(Ql),this.config=new Ep}setSettings(e){this._setSettings(new Ep(e))}_setSettings(e){if(this.config=e,this.config.command?.providerCode){let n=this.providersService.getProvider(this.config.command.providerCode);n&&(this.jeedomResource=n.jeedomResource)}}openModalConfig(){let e=new Ke;return this.modalService.open(rhe,{settings:this.config}).afterClosed().subscribe(n=>{n&&this._setSettings(n),e.next(n)}),e.asObservable()}removeDashboard(e){return this.getDashboards().pipe(Wr(n=>{let i=n.findIndex(o=>o.id===e);return i>=0?(n.splice(i,1),this.saveDashboards(n).pipe(at(()=>{}))):tt(void 0)}))}getDashboards(){let e=this.config.command?.commandRef,n=this.jeedomResource;return!e||!n?tt([]):this.jeedomResource.getCommandValue(e).pipe(at(i=>{if(!i)return[];try{return JSON.parse(i).map(a=>new yl(a))}catch(o){return console.error("impossible de recuperer les dashboards",o),[]}}))}saveDashboards(e){return e.forEach(n=>this._prepareDashboard(n,e)),this._saveDashboards(e).pipe(at(()=>e))}saveDashboard(e){return this.getDashboards().pipe(Wr(n=>(this._prepareDashboard(e,n),this._saveDashboards(n).pipe(at(()=>e)))))}_saveDashboards(e){let n=this.config.command?.commandRef;if(n){let i=JSON.stringify(e);return this.jeedomResource.setCommandValue(n,i).pipe(at(()=>e))}return tt([])}_prepareDashboard(e,n){if(e.id){let i=n.findIndex(o=>o.id===e.id);i!=-1&&(n[i]=e)}else{let i=Math.max(0,...n?.map(o=>o.id)||[0]);e.id=i+1,n.push(e)}}static{this.\u0275fac=function(n){return new(n||r)}}static{this.\u0275prov=Fe({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();var ihe=(()=>{class r{intercept(e,n){let i=e.clone({headers:e.headers.set("Cache-Control","no-cache").set("Pragma","no-cache").set("Expires","Sat, 01 Jan 2000 00:00:00 GMT")});return n.handle(i)}static{this.\u0275fac=function(n){return new(n||r)}}static{this.\u0275prov=Fe({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();var Oh=class{constructor(t){this.commandRef="",this.providerCode="",Object.assign(this,t)}};var lj=(r,t)=>t.id;function W5e(r,t){if(r&1&&(W(0,"mat-option",4),ge(1),$()),r&2){let e=t.$implicit;oe("value",e),K(),zt(e.name)}}function $5e(r,t){if(r&1&&(W(0,"mat-option",4),ge(1),$()),r&2){let e=t.$implicit;oe("value",e),K(),zt(e.name)}}function G5e(r,t){if(r&1&&(W(0,"mat-option",4),ge(1),$()),r&2){let e=t.$implicit;oe("value",e),K(),zt(e.name)}}var ohe=(()=>{class r{constructor(e,n){this.dialogRef=e,this.data=n,this.objectSelected=null,this.equipmentSelected=null,this.commandSelected=null,this.commandValue=null,this.jeedomCommandValue=null,this.commands=[],this.isHistorized=!1,this.commandLabelId="",this.formElement=n.element,this.jeedomService=n.jeedomService,this.commandSelected=this.jeedomService.getJeedomCommand(n.commandId),this.type=this.formElement.ui?.type,this.isHistorized=this.formElement.ui?.isHistorized??!1,this.subType=this.formElement.ui?.subType,this.objects=this.jeedomService.objects}ngOnInit(){this.commandSelected&&(this.equipmentSelected=this.jeedomService.equipments.find(e=>e.id===this.commandSelected?.eqLogic_id)||null,this.onEquipmentSelected()),this.equipmentSelected&&(this.objectSelected=this.jeedomService.objects.find(e=>e.id===this.equipmentSelected?.object_id)||null)}onEquipmentSelected(){this.equipmentSelected!=null&&(this.commands=this.equipmentSelected.cmds,this.type&&(this.commands=this.commands.filter(e=>e.type===this.type)),this.subType&&(this.commands=this.commands.filter(e=>e.subType===this.subType||e.eqType==="virtual"&&e.subType==="other")),this.isHistorized&&(this.commands=this.commands.filter(e=>e.isHistorized)))}onCommandSelected(){this.dialogRef.close(this.commandSelected||void 0)}static{this.\u0275fac=function(n){return new(n||r)(ze(so),ze(ps))}}static{this.\u0275cmp=Be({type:r,selectors:[["jee-jeedom-command-picker-modal"]],decls:30,vars:4,consts:[["mat-dialog-title",""],[1,"jeedom-command-picker"],[1,"select-objects"],[3,"ngModelChange","ngModel"],[3,"value"],[1,"select-equipments"],[3,"ngModelChange","selectionChange","ngModel"],[1,"select-commands"],["align","end"],["mat-button","",3,"mat-dialog-close"],["mat-button","","color","primary","cdkFocusInitial","",3,"click"]],template:function(n,i){n&1&&(W(0,"h2",0),ge(1),$(),W(2,"mat-dialog-content")(3,"div",1)(4,"div",2)(5,"mat-form-field")(6,"mat-label"),ge(7,"Objet"),$(),W(8,"mat-select",3),Cn("ngModelChange",function(s){return Mn(i.objectSelected,s)||(i.objectSelected=s),s}),ur(9,W5e,2,2,"mat-option",4,lj),$()()(),W(11,"div",5)(12,"mat-form-field")(13,"mat-label"),ge(14,"\xC9quipement"),$(),W(15,"mat-select",6),Cn("ngModelChange",function(s){return Mn(i.equipmentSelected,s)||(i.equipmentSelected=s),s}),Me("selectionChange",function(){return i.onEquipmentSelected()}),ur(16,$5e,2,2,"mat-option",4,lj),$()()(),W(18,"div",7)(19,"mat-form-field")(20,"mat-label"),ge(21,"Commandes"),$(),W(22,"mat-select",3),Cn("ngModelChange",function(s){return Mn(i.commandSelected,s)||(i.commandSelected=s),s}),ur(23,G5e,2,2,"mat-option",4,lj),$()()()()(),W(25,"mat-dialog-actions",8)(26,"button",9),ge(27,"Annuler"),$(),W(28,"button",10),Me("click",function(){return i.onCommandSelected()}),ge(29,"Enregistrer"),$()()),n&2&&(K(),sn("Commande : ",i.formElement.label,""),K(7),wn("ngModel",i.objectSelected),K(),dr(i.objects),K(6),wn("ngModel",i.equipmentSelected),K(),dr(i.objectSelected==null?null:i.objectSelected.eqLogics),K(6),wn("ngModel",i.commandSelected),K(),dr(i.commands))},dependencies:[Sr,en,Ro,Qr,Vn,es,vo,ts,qs,Wo,Hs,xu,Vs,js,zs,Fn],styles:[".jeedom-command-picker[_ngcontent-%COMP%]{display:flex;gap:15px;margin:10px}@media screen and (max-width: 959px){.jeedom-command-picker[_ngcontent-%COMP%]{flex-direction:column}.jeedom-command-picker[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%}}"]})}}return r})();function Y5e(r,t){r&1&&(W(0,"mat-error"),ge(1,"L'identifiant est requise"),$())}function K5e(r,t){r&1&&(W(0,"mat-error"),ge(1,"L'URL est requise"),$())}function X5e(r,t){r&1&&(W(0,"mat-error"),ge(1,"L'URL n'est pas valide"),$())}function Z5e(r,t){r&1&&(W(0,"mat-error"),ge(1,"La cl\xE9 API est requise"),$())}function Q5e(r,t){r&1&&(W(0,"mat-error"),ge(1,"Le temps d'attente est obligatoire"),$())}var she=(()=>{class r{constructor(e,n){this.dialogRef=e,this.data=n,this.formBuilder=V(_u),this.settings=$n(n.settings),this.form=this.formBuilder.group({providerCode:[this.settings.code,[pl.required]],waitTimeBetweenPolls:[this.settings.waitTimeBetweenPolls??1e3,[pl.required]],url:[this.settings.url,[pl.required]],apiKey:[this.settings.apiKey,pl.required]})}onConfirm(){this.form.valid&&(this.settings.code=this.form.value.providerCode,this.settings.waitTimeBetweenPolls=this.form.value.waitTimeBetweenPolls,this.settings.apiKey=this.form.value.apiKey,this.settings.url=this.form.value.url,this.dialogRef.close(this.settings))}onDismiss(){this.dialogRef.close(null)}static{this.\u0275fac=function(n){return new(n||r)(ze(so),ze(ps))}}static{this.\u0275cmp=Be({type:r,selectors:[["jee-jeedom-configuration-modal"]],decls:30,vars:6,consts:[["mat-dialog-title",""],["mat-dialog-content",""],[3,"ngSubmit","formGroup"],["matInput","","formControlName","providerCode","placeholder","Identifiant du fournisseur"],["matInput","","formControlName","url","placeholder","https://example.com/api"],["matInput","","formControlName","apiKey","placeholder","Votre cl\xE9 API"],["matInput","","formControlName","waitTimeBetweenPolls","type","number"],["mat-dialog-actions","","align","end"],["mat-button","",3,"click"],["mat-raised-button","","color","primary",3,"click"]],template:function(n,i){if(n&1&&(W(0,"h2",0),ge(1,` Configuration Jeedom
`),$(),W(2,"div",1)(3,"form",2),Me("ngSubmit",function(){return i.onConfirm()}),W(4,"mat-form-field")(5,"mat-label"),ge(6,"Identifiant du fournisseur"),$(),Te(7,"input",3),Oe(8,Y5e,2,0,"mat-error"),$(),W(9,"mat-form-field")(10,"mat-label"),ge(11,"URL"),$(),Te(12,"input",4),Oe(13,K5e,2,0,"mat-error")(14,X5e,2,0,"mat-error"),$(),W(15,"mat-form-field")(16,"mat-label"),ge(17,"API Key"),$(),Te(18,"input",5),Oe(19,Z5e,2,0,"mat-error"),$(),W(20,"mat-form-field")(21,"mat-label"),ge(22,"Temps d'attente entre 2 polling Jeedom (en ms)"),$(),Te(23,"input",6),Oe(24,Q5e,2,0,"mat-error"),$()()(),W(25,"div",7)(26,"button",8),Me("click",function(){return i.onDismiss()}),ge(27,"Annuler"),$(),W(28,"button",9),Me("click",function(){return i.onConfirm()}),ge(29,"Valider"),$()()),n&2){let o,s,a,l,c;K(3),oe("formGroup",i.form),K(5),Pe((o=i.form.get("providerCode"))!=null&&o.hasError("required")?8:-1),K(5),Pe((s=i.form.get("url"))!=null&&s.hasError("required")?13:-1),K(),Pe((a=i.form.get("url"))!=null&&a.hasError("pattern")?14:-1),K(5),Pe((l=i.form.get("apiKey"))!=null&&l.hasError("required")?19:-1),K(5),Pe((c=i.form.get("waitTimeBetweenPolls "))!=null&&c.hasError("required")?24:-1)}},dependencies:[Sr,Kl,ui,rp,en,di,Hs,Vs,js,zs,Wn,Fn,Qr,Vn,es,Kv,fi,Dn,ji,Ki],encapsulation:2})}}return r})();var ju=class extends yh{constructor(){super(...arguments),this.waitTimeBetweenPolls=1e3}isValid(){return this.url&&this.apiKey}};var bA=class{constructor(t){this.eqLogics=[],Object.assign(this,t),this.eqLogics=[],t?.eqLogics&&t.eqLogics.forEach(e=>{let n=new yA(e);n.object=this,this.eqLogics.push(n)})}},yA=class{constructor(t){this.cmds=[],Object.assign(this,t),this.cmds=[],t?.cmds&&t.cmds.forEach(e=>{let n=new cj(e);n.equipment=this,this.cmds.push(n)})}},cj=class{constructor(t){this.name="",this.equipment=new yA,Object.assign(this,t)}toCommandValue(t){return new Oh({providerCode:t,commandRef:this.id,unit:this.unite,value:this.state})}toCommand(t){return new bh({providerCode:t,commandRef:this.id,unit:this.unite,type:this.type,subType:this.subType,isHistorized:this?.isHistorized==="1"})}};var T0=class{numberValue(){let t=parseFloat(this.displayValue);return isNaN(t)&&(t=this.value),t}};var _A=class{constructor(t){Object.assign(this,t),this.datetime=new Date(t.datetime)}toHistoryValue(){let t=new T0;return t.date=this.datetime,t.value=this.value,t}};var xA=class{constructor(t){this.pollingUpdateRunning=!1,this.lastTime=0,this.settings=new ju,this.equipments={},this.commands=[],this._specificParamNameDict={numeric:"slider"},this._httpClient=t}_getJeedomUri(){var t=this.settings.url+"/core/api/jeeApi.php?apikey="+this.settings.apiKey;return t}sendCmd(t,e){var n=this._getJeedomUri()+"&type=cmd&id="+t.id;if(e!==null&&e!=null){var i=t.subType;n+="&"+i+"="+e}return n+="&nocache="+new Date().getTime(),this._httpClient.get(n)}loadItems(){var t=this._getJeedomUri()+"&type=fullData&nocache="+new Date().getTime();return this._httpClient.get(t).pipe(at(e=>{let n=[];return e.forEach(i=>n.push(new bA(i))),n}))}setCommandValue(t,e){var n=this._getJeedomUri()+"&nocache="+new Date().getTime();let i=new FormData;return i.append("type","cmd"),i.append("id",t),i.append("value",e),this._httpClient.post(n,i).pipe(at(o=>o))}getCommandValue(t){var e=this._getJeedomUri()+"&type=cmd&id="+t+"&nocache="+new Date().getTime();return this._httpClient.get(e,{responseType:"text"}).pipe(at(n=>n))}getHistory(t,e,n){let i=this._toLocalIsoTime(e),o=this._toLocalIsoTime(n);var s=this.settings.url+"/core/api/jeeApi.php",a={jsonrpc:"2.0",method:"cmd::getHistory",params:{apikey:this.settings.apiKey,id:t,startTime:i??new Date().toISOString(),endTime:o??new Date().toISOString()}};return this._httpClient.post(s,a,{headers:{"Content-Type":"text/plain"},responseType:"json"}).pipe(at(l=>{let c=[];return l.result.forEach(d=>c.push(new _A(d))),c}))}eventChanges(){var t=this.settings.url+"/core/api/jeeApi.php",e={jsonrpc:"2.0",method:"event::changes",params:{apikey:this.settings.apiKey,longPolling:30,datetime:this.lastTime}};return this._httpClient.post(t,e,{headers:{"Content-Type":"text/plain"},responseType:"json"}).pipe(Fr(n=>{this.lastTime=n.result.datetime}))}_toLocalIsoTime(t){t??=new Date;var e=t.getTimezoneOffset()*6e4,n=new Date(t.getTime()-e).toISOString().slice(0,-1);return n}};var wA=class{constructor(t,e){this.TypeIcon={LIGHT:{icon:"bulb",iconType:"icon",iconset:"smarthome-set"},ENERGY:{icon:"plug",iconType:"icon",iconset:"smarthome-set"}},this.currentForms=t,this.modalService=e}preset(t,e,n){if(!this.currentForms)return;if(this.currentForms.elementsMap.actionType.value==="toggle"&&e.name==="action.command"&&n.generic_type&&n.generic_type?.indexOf("_ON")>-1){let o=n.generic_type.match(/^(.*)_ON/),s=o?o[1]:null;if(!s)return;let a=this.currentForms.elementsMap.label,l=this.currentForms.elementsMap["actionAlt.command"],c=n.equipment?.cmds?.find(m=>m.generic_type===s+"_OFF"),d=this.currentForms.elementsMap.valueCommand,f=n.equipment?.cmds?.find(m=>m.generic_type===s+"_STATE");e.value||(this.currentForms.elementsMap.hideValue?.formControl?.patchValue("true"),this.setButtonLabel(n,"1"),this.currentForms.elementsMap["action.colorize"]?.formControl?.patchValue("true"),this.TypeIcon[s]&&this.currentForms.elementsMap.icon?.formControl?.patchValue(this.TypeIcon[s])),a&&!a.value&&a.formControl?.patchValue(n.equipment.name),c&&!l.value&&(l.formControl?.patchValue(c.toCommand(t.settings.code)),this.setButtonAltLabel(c)),f&&!d.value&&d.formControl?.patchValue(f.toCommand(t.settings.code));return}if(e.name==="action.command"){this.setButtonLabel(n);return}e.name==="actionAlt.command"&&this.setButtonAltLabel(n)}setButtonLabel(t,e){let n=this.currentForms.elementsMap.activeValue,i=this.currentForms.elementsMap["action.buttonLabel"];n&&!n.value&&n.formControl?.patchValue(e??t.name),i&&!i.value&&i.formControl?.patchValue(t.name)}setButtonAltLabel(t){let e=this.currentForms.elementsMap["actionAlt.buttonLabel"];e&&!e.value&&e.formControl?.patchValue(t.name)}};var CA=class{constructor(t,e){this.TypeIcon={LIGHT:{icon:"bulb",iconType:"icon",iconset:"smarthome-set"},ENERGY:{icon:"plug",iconType:"icon",iconset:"smarthome-set"},TEMPERATURE:{icon:"temperature",iconType:"icon",iconset:"smarthome-set"}},this.currentForms=t,this.modalService=e}preset(t,e,n){if(!this.currentForms||e.name!=="valueCommand")return;let i=n?.generic_type??"";if(i.indexOf("_ON")>-1){let l=i.match(/^(.*)_ON/);i=l?l[1]:""}(i==="ENERGY"||i==="LIGHT")&&this.currentForms.elementsMap.hideValue?.formControl?.patchValue("true");let o=this.currentForms.elementsMap["background.backdropIcon"];this.TypeIcon[i]&&!o.value&&o.formControl?.patchValue(this.TypeIcon[i]);let s=this.currentForms.elementsMap.label;s&&!s.value&&s.formControl?.patchValue(n.equipment.name);let a=this.currentForms.elementsMap.valueFont;a||(a=new hS),a.value||(a.value=Mr.ValueFont()),a.value.unit||(a.value.unit=n.unite,a.formControl?.patchValue(a.value))}setButtonLabel(t,e){let n=this.currentForms.elementsMap.activeValue,i=this.currentForms.elementsMap["action.buttonLabel"];n&&!n.value&&n.formControl?.patchValue(e??t.name),i&&!i.value&&i.formControl?.patchValue(t.name)}setButtonAltLabel(t){let e=this.currentForms.elementsMap["actionAlt.buttonLabel"];e&&!e.value&&e.formControl?.patchValue(t.name)}};var ahe=(()=>{class r{constructor(){this.dynamicFormService=V(Du),this.modalService=V(go),this.currentForms=null}presetForm(e,n,i){let o=this.dynamicFormService.dynamicForms;if(!(!i||!o||!o.metadata))switch(this.currentForms=o,this.currentForms.metadata.widgetType){case"SelectionWidgetComponent":this._presetSelectionWidgetComponent(e,n,i);break;case"ButtonWidgetComponent":this.presetButtonWidget||(this.presetButtonWidget=new wA(o,this.modalService)),this.presetButtonWidget.preset(e,n,i);break;case"LabelWidgetComponent":this.presetLabelWidget||(this.presetLabelWidget=new CA(o,this.modalService)),this.presetLabelWidget.preset(e,n,i);break;case"ThermostatWidgetComponent":this._presetThermostatWidgetComponent(e,n,i);break}}_presetThermostatWidgetComponent(e,n,i){if(this.currentForms){if(i.equipment.eqType_name==="thermostat"){let o=i.equipment.cmds.filter(C=>C.generic_type==="THERMOSTAT_SET_MODE"),s=this.currentForms.elementsMap.modeCommands;if(!s.value?.length){let C=[];o.forEach(S=>{C.push(new Su({command:S.toCommand(e.settings.code),value:S.name}))}),s.formControl?.patchValue(C)}let a=this.currentForms.elementsMap.label;a&&!a?.value&&a.formControl?.patchValue(i.equipment.name);let l=i.equipment.cmds.find(C=>C.generic_type==="THERMOSTAT_MODE"),c=this.currentForms.elementsMap.modeValueCommand;l&&!c?.value&&c.formControl?.patchValue(l.toCommand(e.settings.code));let d=i.equipment.cmds.find(C=>C.generic_type==="THERMOSTAT_SETPOINT"),f=this.currentForms.elementsMap.setPointTemperatureValueCommand;d&&!f?.value&&f.formControl?.patchValue(d.toCommand(e.settings.code));let m=i.equipment.cmds.find(C=>C.generic_type==="THERMOSTAT_SET_SETPOINT"),p=this.currentForms.elementsMap.setPointTemperatureCommand;m&&!p?.value&&p.formControl?.patchValue(m.toCommand(e.settings.code));let b=i.equipment.cmds.find(C=>C.generic_type==="THERMOSTAT_STATE_NAME"),y=this.currentForms.elementsMap.stateValueCommand;if(b&&!y?.value){y.formControl?.patchValue(b.toCommand(e.settings.code));let C=this.currentForms.elementsMap.heatingValue;C?.value||C.formControl?.patchValue("Chauffage")}}if(n.name.indexOf("modeCommands-")===0){let o=n.formControl;o&&!o.value.value&&o.controls.value.patchValue(i.name)}}}_presetSelectionWidgetComponent(e,n,i){if(!this.currentForms)return;let o=this.currentForms?.elementsMap.commands;if(!(n.name!=="valueCommand"||!o)){if(i.equipment.eqType_name==="thermostat"){let s=i.equipment.cmds.filter(a=>a.generic_type==="THERMOSTAT_SET_MODE");!n.value?.length&&s.length&&this.modalService.open(ph,{title:"Initialisation",message:"Voulez vous initialiser les modes disponibles \xE0 partir des modes du thermostat Jeedom ?"}).afterClosed().subscribe(a=>{if(!a)return;let l=[];s.forEach(c=>{l.push(new Su({command:c.toCommand(e.settings.code),value:c.name}))}),o.formControl?.patchValue(l)})}if(i.generic_type==="MODE_STATE"&&n&&!n.value?.length){let s=e.commands.filter(a=>a.eqLogic_id===i.eqLogic_id&&a.generic_type==="MODE_SET_STATE");s.length&&this.modalService.open(ph,{title:"Initialisation",message:"Voulez vous initialiser les modes disponibles \xE0 partir des modes Jeedom ?"}).afterClosed().subscribe(a=>{if(a){let l=[];s.forEach(c=>{l.push(new Su({command:c.toCommand(e.settings.code),value:c.name}))}),o.formControl?.patchValue(l)}})}}}static{this.\u0275fac=function(n){return new(n||r)}}static{this.\u0275prov=Fe({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();var uj=class{},Fh=function(r){return r[r.loading=0]="loading",r[r.loaded=1]="loaded",r[r.error=2]="error",r}(Fh||{}),lhe=(()=>{class r{static{this.PROVIDER_NAME="jeedom"}constructor(e){this.settings=new ju,this.reconnecting=!1,this.equipments=[],this.objects=[],this.commands=[],this.commandsSubSource={},this._longPollingNodeJSTimeout=null,this._stopLongPolling=!1,this.jeedomResource=e}loadJeedomData(){let e=new uj;if(this.loadingItems)return e.status=Fh.loading,tt(e);let n=new Ke;return this.loadingItems=!0,this.jeedomResource.loadItems().subscribe({next:i=>(this.loadingItems=!1,Array.isArray(i)?(console.log("Loaded "+i.length+" jeedom Objects"),this.reconnecting=!1,this.objects=i,this.equipments=i.flatMap(o=>o.eqLogics),this.commands=this.equipments.flatMap(o=>o.cmds),this.commands.forEach(o=>{o.labelId="#["+o.equipment.object.name+"]["+o.equipment.name+"]["+o.name+"]#",o.type==="info"&&this._updateCommandValue(o.toCommandValue())}),console.log("Loaded "+Object.keys(this.equipments).length+" jeedom Equipments"),console.log("Loaded "+this.commands.length+" jeedom Commands"),e.status=Fh.loaded,n.next(e)):(console.error("Items not found"),this.loadingItems=!1,this.objects=[],this.commands=[],e.error="Items not found",e.status=Fh.error,n.next(e))),error:i=>(this.loadingItems=!1,e.error=i,e.status=Fh.error,n.next(e))}),n}registerLongPolling(){this.pollingUpdateRunning||(this.pollingUpdateRunning=!0,this.jeedomResource.eventChanges().pipe(Sa(()=>{if(this.pollingUpdateRunning=!1,this._stopLongPolling){this._stopLongPolling=!1;return}this._longPollingNodeJSTimeout=setTimeout(()=>this.registerLongPolling(),this.settings.waitTimeBetweenPolls??1e3)})).subscribe({next:e=>{var n=e.result.result;n.forEach(i=>{this._updateCommandValue(this._rpcCommandToCommandValue(i.option))})},error:e=>console.log(e)}))}stopLongPolling(){this._longPollingNodeJSTimeout&&(clearTimeout(this._longPollingNodeJSTimeout),this._stopLongPolling=!0)}getJeedomCommand(e){return this.commands.find(i=>i.id===e)||null}_updateCommandValue(e){let n=this.commands.find(o=>o.id===e.commandRef);n&&(n.value=e.value);let i=this.commandsSubSource[e.commandRef];i&&i.next(e)}_rpcCommandToCommandValue(e){return new Oh({providerCode:r.PROVIDER_NAME,commandRef:e.cmd_id,value:e.value,unit:e.unit})}}return r})();var che=(()=>{class r{static{this.PROVIDER_NAME="jeedom"}constructor(){this.jeedomPresets=V(ahe),this.modalService=V(go),this.dashboardsRepository=V(Ql),this.dashboardStoringSettingsService=V(Nh),this.httpClient=V(bc),this.lastCommandSelected=null,this.settings=new ju,this.jeedomResource=new xA(this.httpClient),this.jeedomService=new lhe(this.jeedomResource),this.setSettings(new ju)}ngOnDestroy(){this.OnDestroy()}OnDestroy(){debugger;this.jeedomService.stopLongPolling()}setSettings(e){return this.settings=new ju(e),this.jeedomResource.settings=this.settings,this.jeedomService.settings=this.settings,this.settings}getSettings(){return this.settings}onDashboardEvent(e){if(e===jd.Close){this.jeedomService.stopLongPolling();return}if(e===jd.Edit&&this.jeedomService.stopLongPolling(),!this.settings.isValid()){console.error(`Provider ${this.settings.code} settings invalid`);return}this.jeedomService.loadJeedomData().subscribe(n=>{n.status===Fh.loaded?e===jd.View&&this.jeedomService.registerLongPolling():n.status===Fh.error&&(console.error("Error loading jeedom items... retrying in 5 seconds",n.error),setTimeout(()=>this.onDashboardEvent(e),5e3))})}getCommandByLabelId(e){let n=this.jeedomService.commands.find(i=>i.labelId.trim().toLowerCase()===e.trim().toLowerCase());return n?n.toCommand(this.settings.code):null}getCommandLabelId(e){return e?.commandRef&&this.jeedomService.getJeedomCommand(e.commandRef)?.labelId||null}openCommandPickerModal(e,n){let i=new Ke;return this.modalService.open(ohe,{jeedomService:this.jeedomService,element:e,commandId:n?.commandRef||this.lastCommandSelected?.id}).afterClosed().subscribe(s=>{if(s){this.lastCommandSelected=s;let a=s.toCommand(this.settings.code);i.next(a),this.jeedomPresets.presetForm(this.jeedomService,e,s)}}),i.asObservable()}openConfigurationModal(){let e=this.settings.code,n=new Ke;return this.modalService.open(she,{settings:this.settings}).afterClosed().subscribe(o=>{if(o){if(this.setSettings(o),e!==this.settings.code){let s=this.dashboardStoringSettingsService.getStorageSettings("jeedom");if(s&&s.data?.command?.providerCode===e){s.data.command.providerCode=this.settings.code,this.dashboardStoringSettingsService.saveStorageSettings(s).subscribe(()=>{n.next(this.settings)});return}}n.next(this.settings)}}),n.asObservable()}onCommandUpdate(e){return this.jeedomService.commandsSubSource[e.commandRef]||(this.jeedomService.commandsSubSource[e.commandRef]=new ss(1)),this.jeedomService.commandsSubSource[e.commandRef].asObservable()}sendCmd(e,n){var i=this.jeedomService.getJeedomCommand(e.commandRef);if(i==null)return;let o=new Date().getTime();this.jeedomResource.sendCmd(i,n).subscribe({next:s=>{},error:s=>{console.log(s)}})}getHistory(e,n,i){return this.jeedomResource.getHistory(e,n,i).pipe(at(o=>{let s=[];return o.map(a=>a.toHistoryValue())}))}getValue(e){let i=this.jeedomService.commands.find(o=>o.id===e)?.toCommandValue()||new Oh;return i.providerCode=this.settings.code,tt(i)}static{this.\u0275fac=function(n){return new(n||r)}}static{this.\u0275prov=Fe({token:r,factory:r.\u0275fac})}}return r})();var Bx="Service workers are disabled or not supported by this browser";function J5e(r){return ra(()=>zo(new Error(r)))}var I0=class{serviceWorker;worker;registration;events;constructor(t){if(this.serviceWorker=t,!t)this.worker=this.events=this.registration=J5e(Bx);else{let n=Ca(t,"controllerchange").pipe(at(()=>t.controller)),i=ra(()=>tt(t.controller)),o=El(i,n);this.worker=o.pipe(sr(d=>!!d)),this.registration=this.worker.pipe(Wr(()=>t.getRegistration()));let c=Ca(t,"message").pipe(at(d=>d.data)).pipe(sr(d=>d&&d.type)).pipe(nI());c.connect(),this.events=c}}postMessage(t,e){return this.worker.pipe(on(1),Fr(n=>{n.postMessage(Ue({action:t},e))})).toPromise().then(()=>{})}postMessageWithOperation(t,e,n){let i=this.waitForOperationCompleted(n),o=this.postMessage(t,e);return Promise.all([o,i]).then(([,s])=>s)}generateNonce(){return Math.round(Math.random()*1e7)}eventsOfType(t){let e;return typeof t=="string"?e=n=>n.type===t:e=n=>t.includes(n.type),this.events.pipe(sr(e))}nextEventOfType(t){return this.eventsOfType(t).pipe(on(1))}waitForOperationCompleted(t){return this.eventsOfType("OPERATION_COMPLETED").pipe(sr(e=>e.nonce===t),on(1),at(e=>{if(e.result!==void 0)return e.result;throw new Error(e.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}},e8e=(()=>{class r{sw;messages;notificationClicks;subscription;get isEnabled(){return this.sw.isEnabled}pushManager=null;subscriptionChanges=new Ke;constructor(e){if(this.sw=e,!e.isEnabled){this.messages=em,this.notificationClicks=em,this.subscription=em;return}this.messages=this.sw.eventsOfType("PUSH").pipe(at(i=>i.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(at(i=>i.data)),this.pushManager=this.sw.registration.pipe(at(i=>i.pushManager));let n=this.pushManager.pipe(Wr(i=>i.getSubscription()));this.subscription=Si(n,this.subscriptionChanges)}requestSubscription(e){if(!this.sw.isEnabled||this.pushManager===null)return Promise.reject(new Error(Bx));let n={userVisibleOnly:!0},i=this.decodeBase64(e.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),o=new Uint8Array(new ArrayBuffer(i.length));for(let s=0;s<i.length;s++)o[s]=i.charCodeAt(s);return n.applicationServerKey=o,this.pushManager.pipe(Wr(s=>s.subscribe(n)),on(1)).toPromise().then(s=>(this.subscriptionChanges.next(s),s))}unsubscribe(){if(!this.sw.isEnabled)return Promise.reject(new Error(Bx));let e=n=>{if(n===null)throw new Error("Not subscribed to push notifications.");return n.unsubscribe().then(i=>{if(!i)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})};return this.subscription.pipe(on(1),Wr(e)).toPromise()}decodeBase64(e){return atob(e)}static \u0275fac=function(n){return new(n||r)(Tt(I0))};static \u0275prov=Fe({token:r,factory:r.\u0275fac})}return r})(),t8e=(()=>{class r{sw;versionUpdates;unrecoverable;get isEnabled(){return this.sw.isEnabled}constructor(e){if(this.sw=e,!e.isEnabled){this.versionUpdates=em,this.unrecoverable=em;return}this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Bx));let e=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:e},e)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Bx));let e=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:e},e)}static \u0275fac=function(n){return new(n||r)(Tt(I0))};static \u0275prov=Fe({token:r,factory:r.\u0275fac})}return r})();var uhe=new He("");function r8e(r,t,e,n){return()=>{if(!(iu(n)&&"serviceWorker"in navigator&&e.enabled!==!1))return;let i=r.get(xt),o=r.get(Uo);i.runOutsideAngular(()=>{let a=navigator.serviceWorker,l=()=>a.controller?.postMessage({action:"INITIALIZE"});a.addEventListener("controllerchange",l),o.onDestroy(()=>{a.removeEventListener("controllerchange",l)})});let s;if(typeof e.registrationStrategy=="function")s=e.registrationStrategy();else{let[a,...l]=(e.registrationStrategy||"registerWhenStable:30000").split(":");switch(a){case"registerImmediately":s=tt(null);break;case"registerWithDelay":s=dhe(+l[0]||0);break;case"registerWhenStable":let c=On(r.get(Uo).whenStable());s=l[0]?Si(c,dhe(+l[0])):c;break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${e.registrationStrategy}`)}}i.runOutsideAngular(()=>s.pipe(on(1)).subscribe(()=>navigator.serviceWorker.register(t,{scope:e.scope}).catch(a=>console.error("Service worker registration failed with:",a))))}}function dhe(r){return tt(null).pipe(nd(r))}function n8e(r,t){return new I0(iu(t)&&r.enabled!==!1?navigator.serviceWorker:void 0)}var Lx=class{enabled;scope;registrationStrategy};function fhe(r,t={}){return Jc([e8e,t8e,{provide:uhe,useValue:r},{provide:Lx,useValue:t},{provide:I0,useFactory:n8e,deps:[Lx,jo]},{provide:pd,useFactory:r8e,deps:[lr,uhe,Lx,jo],multi:!0}])}var i8e=[{providerType:"jeedom",providerName:"Jeedom",provide:new He("jeedom"),useClass:che}],Px={local:{storageType:"local",storageName:"Local Storage",description:"Les dashboards sont enregistr\xE9s pour ce navigateur et cet appareil uniquement. Ils seront conserv\xE9es tant que vous ne nettoierez pas les donn\xE9es historiques du navigateur.",useClass:vA},jeedom:{storageType:"jeedom",storageName:"Jeedom",description:"Les dashboards sont enregistr\xE9s dans une commande Jeedom. Au moins un fournisseur Jeedom doit \xEAtre configur\xE9.",useClass:nhe}},FWt={providers:[mle(),N7(O7()),kae(ehe),fhe("/ngsw-worker.js"),zse(),Pk(VE),{provide:gc,useClass:z1},{provide:Window,useFactory:r=>r.defaultView,deps:[Xt]},gW(()=>V(the).loadConfig(i8e)),{provide:A0,useFactory:()=>Dp,deps:[pd]},{provide:A7,useClass:ihe,multi:!0}]};var Ql=(()=>{class r{constructor(){this.storageSettingsService=V(Nh),this.injector=V(lr),this.app_settings=V(A0)}get currentDashboardStorage(){if(!this._currentDashboardStorage){let e=this.storageSettingsService.getCurrentSettings().code;this._setStorage(e)}return this._currentDashboardStorage}switchStorageTo(e){this._setStorage(e),this.storageSettingsService.saveStoragesSettings()}_setStorage(e){let n=this.storageSettingsService.setStorage(e);this._currentDashboardStorage=this.injector.get(Px[e].useClass),this._currentDashboardStorage.setSettings(n?.data||{})}getDashboards(){return this.currentDashboardStorage.getDashboards().pipe(Fr(e=>{this.app_settings.dashboards=e}))}saveDashboards(e){return this.currentDashboardStorage.saveDashboards(e).pipe(Fr(n=>{this.app_settings.dashboards=n}))}saveDashboard(e){return this.currentDashboardStorage.saveDashboard(e).pipe(Wr(()=>this.getDashboards()),at(()=>e))}removeDashboard(e){return this.currentDashboardStorage.removeDashboard(e).pipe(Fr(n=>{var i=this.app_settings.dashboards.findIndex(o=>o.id===e);i>=0&&this.app_settings.dashboards.slice(i,1)}))}openModalConfig(e){let n=this.injector.get(Px[e].useClass),i=this.storageSettingsService.getStorageSettings(e);return n.setSettings(i.data),n.openModalConfig().pipe(Fr(o=>{o&&(i.data=o,this.storageSettingsService.saveStorageSettings(i))}))}updateProviderCode(e,n){let i=new ss(1),o=!1;return this.getDashboards().subscribe(s=>{if(s.forEach(a=>{let l=a.getCommands().filter(c=>c.providerCode===e);l.length>0&&(o=!0,l.forEach(c=>c.providerCode=n))}),o){this.saveDashboards(s).subscribe(()=>{i.next()});return}i.next()}),i.asObservable()}static{this.\u0275fac=function(n){return new(n||r)}}static{this.\u0275prov=Fe({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();var jd=function(r){return r[r.Edit=0]="Edit",r[r.View=1]="View",r[r.Close=2]="Close",r}(jd||{}),bo=(()=>{class r{get _dashboards(){return this.jeeSettings.dashboards}constructor(){this.dasboardsUpdatedSubject=new Ke,this.dashboardsEventSource=new Ke,this.onDashboardsEvent=this.dashboardsEventSource.asObservable(),this.persistantDashboardStorage=V(Ql),this.providersService=V(En),this.jeeSettings=V(A0),this._dashboard=new yl,this.commandsSub={}}Close(){this.providersService.broadcastDashboardsEvent(jd.Close)}getRootDashboard(){let e=this._dashboards?.find(n=>n.default);return e?tt(e):(e=new yl({default:!0,settings:{title:"Dashboard",code:"root"}}),this.persistantDashboardStorage.saveDashboard(e).pipe(Fr(n=>(this._dashboards.push(n),n))))}onDashboardsUpdated(){return this.dasboardsUpdatedSubject.asObservable()}getDashboard(e){let n=this._dashboards.find(o=>o.hasCode(e)),i=new yl(n);return tt(i)}saveDashboard(e){if(!e)return zo(()=>new Error("dashboard is null"));let n=new ss(1);return this.persistantDashboardStorage.saveDashboard(e).subscribe(i=>{let o=this._dashboards.findIndex(s=>s.id===e.id);o!=-1?this._dashboards[o]=i:this._dashboards.push(i),this.dasboardsUpdatedSubject.next(this._dashboards),n.next(i)}),n.asObservable()}removeDashboard(e){let n=this._dashboards.findIndex(i=>i.id===e);return n<0?new Jt:this.persistantDashboardStorage.removeDashboard(e).pipe(Fr(()=>{this._dashboards.splice(n,1),this.dasboardsUpdatedSubject.next(this._dashboards)}))}get dashboard(){return this._dashboard}set dashboard(e){this._dashboard=e,this.init()}addWidget(e){this.dashboard.widgets?.push(e)}removeWidget(e){if(this.dashboard.widgets){let n=this.dashboard.widgets.findIndex(i=>i&&i===e);n>=0&&this.dashboard.widgets.splice(n,1)}}init(){this.reset()}broadcastCommandValue(e,n){this.commandsSub[e.providerCode]&&this.commandsSub[e.providerCode][e.commandRef]&&this.commandsSub[e.providerCode][e.commandRef].next(e)}onCommandUpdate(e){let n=this.providersService.getProvider(e.providerCode);return n?n.onCommandUpdate(e):zo(()=>new Error("unknown provider"))}sendCmd(e,n=null){let i=this.providersService.getProvider(e.providerCode);return i?i.sendCmd(e,n):zo(()=>new Error("unknown provider"))}getHistory(e,n,i){let o=this.providersService.getProvider(e.providerCode);return o?o.getHistory(e.commandRef,n,i):zo(()=>new Error("unknown provider"))}broadcastDashboardEvent(e){this.dashboardsEventSource.next(e)}reset(){this.commandsSub={}}static{this.\u0275fac=function(n){return new(n||r)}}static{this.\u0275prov=Fe({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();function o8e(r,t){r&1&&Xa(0)}function s8e(r,t){if(r&1&&Oe(0,o8e,1,0,"ng-container",2),r&2){ie();let e=Ao(3);oe("ngTemplateOutlet",e)}}function a8e(r,t){r&1&&Xa(0)}function l8e(r,t){if(r&1&&(W(0,"a",1),Oe(1,a8e,1,0,"ng-container",2),$()),r&2){let e=ie(),n=Ao(3);oe("href",e.settings().href,bm)("routerLink",e.routerLink)("target",e.settings().newTab?"_blank":""),K(),oe("ngTemplateOutlet",n)}}function c8e(r,t){if(r&1){let e=ot();W(0,"button",8),Me("click",function(i){xe(e);let o=ie(3);return we(o.buttonActionClick(i))}),ge(1),$()}if(r&2){let e=ie(3);K(),zt(e.settings().action.buttonLabel)}}function u8e(r,t){if(r&1){let e=ot();W(0,"button",8),Me("click",function(i){xe(e);let o=ie(3);return we(o.buttonActionAltClick(i))}),ge(1),$()}if(r&2){let e=ie(3);K(),zt(e.settings().actionAlt.buttonLabel)}}function d8e(r,t){if(r&1&&(W(0,"div",6)(1,"div"),Oe(2,c8e,2,1,"button",7),$(),W(3,"div"),Oe(4,u8e,2,1,"button",7),$()()),r&2){let e=ie(2);K(2),Pe(e.settings().action.buttonLabel?2:-1),K(2),Pe(e.settings().actionAlt.buttonLabel?4:-1)}}function f8e(r,t){if(r&1){let e=ot();W(0,"widget-box",3),Me("click",function(){xe(e);let i=ie();return we(i.actionClick())}),W(1,"div",4),Te(2,"label-icon-value",5),Oe(3,d8e,5,2,"div",6),$()()}if(r&2){let e=ie();oe("background",e.background),K(2),oe("alignHorizontal",e.settings().alignHorizontal)("label",e.label)("labelFont",e.labelFont)("value",e.value)("valueFont",e.valueFont)("icon",e.icon)("iconLeft",e.settings().iconLeft)("highlightIcon",e.highlightIcon)("hideValue",e.navigate||e.hideValue),K(),Pe(e.showButtons?3:-1)}}var hhe=(()=>{class r extends Zo{get hideValue(){return this.navigate||this.settings().hideValue}constructor(e){super(),this.dashboardManager=e,this.settings=Ne(new n_),this.valueComparisonService=V(eh),this.changeRef=V(qt),this.label="",this.labelFont=Mr.LabelFont(),this.current=null,this.highlightIcon=!1,this.background=new Ba,this.valueFont=Mr.ValueFont(),this.navigate=!1,this.showButtons=!1}onResize(){}ngOnInit(){new ResizeObserver(i=>{let o=i[0].contentRect.width;console.log(o)}).observe(this.elementRef.nativeElement);let n=this.settings();if(n_.ensureSettings(n),this.navigate=n.actionType===Wm.Navigate,this.showButtons=n.actionType===Wm.Toggle&&n.showButtons,this.background=$n(n.background)||new Ba,this.valueFont=$n(n.valueFont)||Mr.ValueFont(),this.labelFont=$n(n.labelFont)||Mr.LabelFont(),this.icon=n.icon,this.label=n.label,this.navigate){this.initLink();return}n.valueCommand&&this.dashboardManager.onCommandUpdate(n.valueCommand).pipe(Vt(this.destroy)).subscribe(i=>{this.updateValue(i),this.changeRef.detectChanges()})}updateValue(e){this.value=e.value;let n=this.settings();n.valueCommand&&(this.action=n.action,this.current=n.action,this.highlightIcon=!1,n.actionType===Wm.Toggle&&(this.current=n.actionAlt||n.action,this.action=n.action,n.activeValue&&this.valueComparisonService.compare(this.value,n.activeValue)&&(this.current=n.action,this.action=n.actionAlt||n.action,this.highlightIcon=!0)),this._setDisplay(),this.valueFont.unit=e.unit??n.valueFont.unit)}actionClick(){this.action?.command&&this.dashboardManager.sendCmd(this.action.command)}buttonActionClick(e){let n=this.settings();n.action?.command&&this.dashboardManager.sendCmd(n.action?.command),e.stopPropagation()}buttonActionAltClick(e){let n=this.settings();n.actionAlt?.command&&this.dashboardManager.sendCmd(n.actionAlt?.command),e.stopPropagation()}initLink(){let e=this.settings();e.linkType===i_.Dashboard?this.dashboardManager.getDashboard(e.targetDashboardCode).subscribe(n=>{let i=this.settings();this.label=i.dashboardName?n.settings.title:i.label,this.routerLink=n.link}):e.linkType===i_.Link&&(this.label=e.label,this.href=e.href)}_setDisplay(){let e=this.settings();this.background.bgColor=e.background?.bgColor,this.labelFont.color=e.labelFont?.color,this.valueFont.color=e.valueFont?.color,e.actionType===Wm.Toggle&&(this.background.bgColor=this.current?.bgColor||this.background.bgColor,this.labelFont.color=this.current?.labelColor||this.labelFont.color,this.valueFont.color=this.current?.valueColor||this.valueFont.color)}static{this.\u0275fac=function(n){return new(n||r)(ze(bo))}}static{this.\u0275cmp=Be({type:r,selectors:[["button-widget"]],inputs:{settings:[1,"settings"]},features:[er],decls:4,vars:2,consts:[["boxcontent",""],[3,"href","routerLink","target"],[4,"ngTemplateOutlet"],[1,"action",3,"click","background"],[1,"button-widget"],[3,"alignHorizontal","label","labelFont","value","valueFont","icon","iconLeft","highlightIcon","hideValue"],[1,"buttons"],["mat-stroked-button",""],["mat-stroked-button","",3,"click"]],template:function(n,i){n&1&&Oe(0,s8e,1,1,"ng-container")(1,l8e,2,4,"a",1)(2,f8e,4,11,"ng-template",null,0,mc),n&2&&(Pe(i.navigate?-1:0),K(),Pe(i.navigate?1:-1))},dependencies:[eo,nu,Qo,Wn,Fn,rh],styles:[".button-widget[_ngcontent-%COMP%]{display:flex;place-content:space-evenly;height:100%}.box-content[_ngcontent-%COMP%]:focus, .box-content[_ngcontent-%COMP%]:active{background-color:#0000001a}.buttons[_ngcontent-%COMP%]{display:flex;flex-direction:column;place-content:space-between}.buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{min-width:90px}"],changeDetection:0})}}return r})();var h8e=["tooltip"],ghe=20;var vhe=new He("mat-tooltip-scroll-strategy",{providedIn:"root",factory:()=>{let r=V(oo);return()=>r.scrollStrategies.reposition({scrollThrottle:ghe})}});function m8e(r){return()=>r.scrollStrategies.reposition({scrollThrottle:ghe})}var p8e={provide:vhe,deps:[oo],useFactory:m8e};function g8e(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}var v8e=new He("mat-tooltip-default-options",{providedIn:"root",factory:g8e});var mhe="tooltip-panel",phe=Ia({passive:!0}),b8e=8,y8e=8,_8e=24,x8e=200,bhe=(()=>{class r{_overlay=V(oo);_elementRef=V(ut);_scrollDispatcher=V($v);_viewContainerRef=V(Zn);_ngZone=V(xt);_platform=V(tn);_ariaDescriber=V(i$);_focusMonitor=V(el);_dir=V(no);_injector=V(lr);_defaultOptions=V(v8e,{optional:!0});_overlayRef;_tooltipInstance;_portal;_position="below";_positionAtOrigin=!1;_disabled=!1;_tooltipClass;_scrollStrategy=V(vhe);_viewInitialized=!1;_pointerExitEventsInitialized=!1;_tooltipComponent=w8e;_viewportMargin=8;_currentPosition;_cssClassPrefix="mat-mdc";_ariaDescriptionPending;get position(){return this._position}set position(e){e!==this._position&&(this._position=e,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get positionAtOrigin(){return this._positionAtOrigin}set positionAtOrigin(e){this._positionAtOrigin=Es(e),this._detach(),this._overlayRef=null}get disabled(){return this._disabled}set disabled(e){let n=Es(e);this._disabled!==n&&(this._disabled=n,n?this.hide(0):this._setupPointerEnterEventsIfNeeded(),this._syncAriaDescription(this.message))}get showDelay(){return this._showDelay}set showDelay(e){this._showDelay=ou(e)}_showDelay;get hideDelay(){return this._hideDelay}set hideDelay(e){this._hideDelay=ou(e),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}_hideDelay;touchGestures="auto";get message(){return this._message}set message(e){let n=this._message;this._message=e!=null?String(e).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage()),this._syncAriaDescription(n)}_message="";get tooltipClass(){return this._tooltipClass}set tooltipClass(e){this._tooltipClass=e,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}_passiveListeners=[];_document=V(Xt);_touchstartTimeout=null;_destroyed=new Ke;constructor(){let e=this._defaultOptions;e&&(this._showDelay=e.showDelay,this._hideDelay=e.hideDelay,e.position&&(this.position=e.position),e.positionAtOrigin&&(this.positionAtOrigin=e.positionAtOrigin),e.touchGestures&&(this.touchGestures=e.touchGestures),e.tooltipClass&&(this.tooltipClass=e.tooltipClass)),this._dir.change.pipe(Vt(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)}),this._viewportMargin=b8e}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(Vt(this._destroyed)).subscribe(e=>{e?e==="keyboard"&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){let e=this._elementRef.nativeElement;this._touchstartTimeout&&clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([n,i])=>{e.removeEventListener(n,i,phe)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(e,this.message,"tooltip"),this._focusMonitor.stopMonitoring(e)}show(e=this.showDelay,n){if(this.disabled||!this.message||this._isTooltipVisible()){this._tooltipInstance?._cancelPendingAnimations();return}let i=this._createOverlay(n);this._detach(),this._portal=this._portal||new fh(this._tooltipComponent,this._viewContainerRef);let o=this._tooltipInstance=i.attach(this._portal).instance;o._triggerElement=this._elementRef.nativeElement,o._mouseLeaveHideDelay=this._hideDelay,o.afterHidden().pipe(Vt(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),o.show(e)}hide(e=this.hideDelay){let n=this._tooltipInstance;n&&(n.isVisible()?n.hide(e):(n._cancelPendingAnimations(),this._detach()))}toggle(e){this._isTooltipVisible()?this.hide():this.show(void 0,e)}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(e){if(this._overlayRef){let o=this._overlayRef.getConfig().positionStrategy;if((!this.positionAtOrigin||!e)&&o._origin instanceof ut)return this._overlayRef;this._detach()}let n=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),i=this._overlay.position().flexibleConnectedTo(this.positionAtOrigin?e||this._elementRef:this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(n);return i.positionChanges.pipe(Vt(this._destroyed)).subscribe(o=>{this._updateCurrentPositionClass(o.connectionPair),this._tooltipInstance&&o.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:i,panelClass:`${this._cssClassPrefix}-${mhe}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe(Vt(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe(Vt(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe(Vt(this._destroyed)).subscribe(o=>{this._isTooltipVisible()&&o.keyCode===27&&!to(o)&&(o.preventDefault(),o.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(e){let n=e.getConfig().positionStrategy,i=this._getOrigin(),o=this._getOverlayPosition();n.withPositions([this._addOffset(Ue(Ue({},i.main),o.main)),this._addOffset(Ue(Ue({},i.fallback),o.fallback))])}_addOffset(e){let n=y8e,i=!this._dir||this._dir.value=="ltr";return e.originY==="top"?e.offsetY=-n:e.originY==="bottom"?e.offsetY=n:e.originX==="start"?e.offsetX=i?-n:n:e.originX==="end"&&(e.offsetX=i?n:-n),e}_getOrigin(){let e=!this._dir||this._dir.value=="ltr",n=this.position,i;n=="above"||n=="below"?i={originX:"center",originY:n=="above"?"top":"bottom"}:n=="before"||n=="left"&&e||n=="right"&&!e?i={originX:"start",originY:"center"}:(n=="after"||n=="right"&&e||n=="left"&&!e)&&(i={originX:"end",originY:"center"});let{x:o,y:s}=this._invertPosition(i.originX,i.originY);return{main:i,fallback:{originX:o,originY:s}}}_getOverlayPosition(){let e=!this._dir||this._dir.value=="ltr",n=this.position,i;n=="above"?i={overlayX:"center",overlayY:"bottom"}:n=="below"?i={overlayX:"center",overlayY:"top"}:n=="before"||n=="left"&&e||n=="right"&&!e?i={overlayX:"end",overlayY:"center"}:(n=="after"||n=="right"&&e||n=="left"&&!e)&&(i={overlayX:"start",overlayY:"center"});let{x:o,y:s}=this._invertPosition(i.overlayX,i.overlayY);return{main:i,fallback:{overlayX:o,overlayY:s}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),Ho(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()},{injector:this._injector}))}_setTooltipClass(e){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=e,this._tooltipInstance._markForCheck())}_invertPosition(e,n){return this.position==="above"||this.position==="below"?n==="top"?n="bottom":n==="bottom"&&(n="top"):e==="end"?e="start":e==="start"&&(e="end"),{x:e,y:n}}_updateCurrentPositionClass(e){let{overlayY:n,originX:i,originY:o}=e,s;if(n==="center"?this._dir&&this._dir.value==="rtl"?s=i==="end"?"left":"right":s=i==="start"?"left":"right":s=n==="bottom"&&o==="top"?"above":"below",s!==this._currentPosition){let a=this._overlayRef;if(a){let l=`${this._cssClassPrefix}-${mhe}-`;a.removePanelClass(l+this._currentPosition),a.addPanelClass(l+s)}this._currentPosition=s}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",e=>{this._setupPointerExitEventsIfNeeded();let n;e.x!==void 0&&e.y!==void 0&&(n=e),this.show(void 0,n)}]):this.touchGestures!=="off"&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",e=>{let n=e.targetTouches?.[0],i=n?{x:n.clientX,y:n.clientY}:void 0;this._setupPointerExitEventsIfNeeded(),this._touchstartTimeout&&clearTimeout(this._touchstartTimeout);let o=500;this._touchstartTimeout=setTimeout(()=>{this._touchstartTimeout=null,this.show(void 0,i)},this._defaultOptions?.touchLongPressShowDelay??o)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;let e=[];if(this._platformSupportsMouseEvents())e.push(["mouseleave",n=>{let i=n.relatedTarget;(!i||!this._overlayRef?.overlayElement.contains(i))&&this.hide()}],["wheel",n=>this._wheelListener(n)]);else if(this.touchGestures!=="off"){this._disableNativeGesturesIfNecessary();let n=()=>{this._touchstartTimeout&&clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions?.touchendHideDelay)};e.push(["touchend",n],["touchcancel",n])}this._addListeners(e),this._passiveListeners.push(...e)}_addListeners(e){e.forEach(([n,i])=>{this._elementRef.nativeElement.addEventListener(n,i,phe)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(e){if(this._isTooltipVisible()){let n=this._document.elementFromPoint(e.clientX,e.clientY),i=this._elementRef.nativeElement;n!==i&&!i.contains(n)&&this.hide()}}_disableNativeGesturesIfNecessary(){let e=this.touchGestures;if(e!=="off"){let n=this._elementRef.nativeElement,i=n.style;(e==="on"||n.nodeName!=="INPUT"&&n.nodeName!=="TEXTAREA")&&(i.userSelect=i.msUserSelect=i.webkitUserSelect=i.MozUserSelect="none"),(e==="on"||!n.draggable)&&(i.webkitUserDrag="none"),i.touchAction="none",i.webkitTapHighlightColor="transparent"}}_syncAriaDescription(e){this._ariaDescriptionPending||(this._ariaDescriptionPending=!0,this._ariaDescriber.removeDescription(this._elementRef.nativeElement,e,"tooltip"),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriptionPending=!1,this.message&&!this.disabled&&this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}static \u0275fac=function(n){return new(n||r)};static \u0275dir=ft({type:r,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-mdc-tooltip-trigger"],hostVars:2,hostBindings:function(n,i){n&2&&Wt("mat-mdc-tooltip-disabled",i.disabled)},inputs:{position:[0,"matTooltipPosition","position"],positionAtOrigin:[0,"matTooltipPositionAtOrigin","positionAtOrigin"],disabled:[0,"matTooltipDisabled","disabled"],showDelay:[0,"matTooltipShowDelay","showDelay"],hideDelay:[0,"matTooltipHideDelay","hideDelay"],touchGestures:[0,"matTooltipTouchGestures","touchGestures"],message:[0,"matTooltip","message"],tooltipClass:[0,"matTooltipClass","tooltipClass"]},exportAs:["matTooltip"]})}return r})(),w8e=(()=>{class r{_changeDetectorRef=V(qt);_elementRef=V(ut);_isMultiline=!1;message;tooltipClass;_showTimeoutId;_hideTimeoutId;_triggerElement;_mouseLeaveHideDelay;_animationsDisabled;_tooltip;_closeOnInteraction=!1;_isVisible=!1;_onHide=new Ke;_showAnimation="mat-mdc-tooltip-show";_hideAnimation="mat-mdc-tooltip-hide";constructor(){let e=V(Xn,{optional:!0});this._animationsDisabled=e==="NoopAnimations"}show(e){this._hideTimeoutId!=null&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},e)}hide(e){this._showTimeoutId!=null&&clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},e)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:e}){(!e||!this._triggerElement.contains(e))&&(this.isVisible()?this.hide(this._mouseLeaveHideDelay):this._finalizeAnimation(!1))}_onShow(){this._isMultiline=this._isTooltipMultiline(),this._markForCheck()}_isTooltipMultiline(){let e=this._elementRef.nativeElement.getBoundingClientRect();return e.height>_8e&&e.width>=x8e}_handleAnimationEnd({animationName:e}){(e===this._showAnimation||e===this._hideAnimation)&&this._finalizeAnimation(e===this._showAnimation)}_cancelPendingAnimations(){this._showTimeoutId!=null&&clearTimeout(this._showTimeoutId),this._hideTimeoutId!=null&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalizeAnimation(e){e?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(e){let n=this._tooltip.nativeElement,i=this._showAnimation,o=this._hideAnimation;if(n.classList.remove(e?o:i),n.classList.add(e?i:o),this._isVisible!==e&&(this._isVisible=e,this._changeDetectorRef.markForCheck()),e&&!this._animationsDisabled&&typeof getComputedStyle=="function"){let s=getComputedStyle(n);(s.getPropertyValue("animation-duration")==="0s"||s.getPropertyValue("animation-name")==="none")&&(this._animationsDisabled=!0)}e&&this._onShow(),this._animationsDisabled&&(n.classList.add("_mat-animation-noopable"),this._finalizeAnimation(e))}static \u0275fac=function(n){return new(n||r)};static \u0275cmp=Be({type:r,selectors:[["mat-tooltip-component"]],viewQuery:function(n,i){if(n&1&&Cr(h8e,7),n&2){let o;Ft(o=Rt())&&(i._tooltip=o.first)}},hostAttrs:["aria-hidden","true"],hostBindings:function(n,i){n&1&&Me("mouseleave",function(s){return i._handleMouseLeave(s)})},decls:4,vars:4,consts:[["tooltip",""],[1,"mdc-tooltip","mat-mdc-tooltip",3,"animationend","ngClass"],[1,"mat-mdc-tooltip-surface","mdc-tooltip__surface"]],template:function(n,i){if(n&1){let o=ot();W(0,"div",1,0),Me("animationend",function(a){return xe(o),we(i._handleAnimationEnd(a))}),W(2,"div",2),ge(3),$()()}n&2&&(Wt("mdc-tooltip--multiline",i._isMultiline),oe("ngClass",i.tooltipClass),K(3),zt(i.message))},dependencies:[ho],styles:['.mat-mdc-tooltip{position:relative;transform:scale(0);display:inline-flex}.mat-mdc-tooltip::before{content:"";top:0;right:0;bottom:0;left:0;z-index:-1;position:absolute}.mat-mdc-tooltip-panel-below .mat-mdc-tooltip::before{top:-8px}.mat-mdc-tooltip-panel-above .mat-mdc-tooltip::before{bottom:-8px}.mat-mdc-tooltip-panel-right .mat-mdc-tooltip::before{left:-8px}.mat-mdc-tooltip-panel-left .mat-mdc-tooltip::before{right:-8px}.mat-mdc-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.mat-mdc-tooltip-surface{word-break:normal;overflow-wrap:anywhere;padding:4px 8px;min-width:40px;max-width:200px;min-height:24px;max-height:40vh;box-sizing:border-box;overflow:hidden;text-align:center;will-change:transform,opacity;background-color:var(--mdc-plain-tooltip-container-color, var(--mat-sys-inverse-surface));color:var(--mdc-plain-tooltip-supporting-text-color, var(--mat-sys-inverse-on-surface));border-radius:var(--mdc-plain-tooltip-container-shape, var(--mat-sys-corner-extra-small));font-family:var(--mdc-plain-tooltip-supporting-text-font, var(--mat-sys-body-small-font));font-size:var(--mdc-plain-tooltip-supporting-text-size, var(--mat-sys-body-small-size));font-weight:var(--mdc-plain-tooltip-supporting-text-weight, var(--mat-sys-body-small-weight));line-height:var(--mdc-plain-tooltip-supporting-text-line-height, var(--mat-sys-body-small-line-height));letter-spacing:var(--mdc-plain-tooltip-supporting-text-tracking, var(--mat-sys-body-small-tracking))}.mat-mdc-tooltip-surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mdc-tooltip--multiline .mat-mdc-tooltip-surface{text-align:left}[dir=rtl] .mdc-tooltip--multiline .mat-mdc-tooltip-surface{text-align:right}.mat-mdc-tooltip-panel.mat-mdc-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-mdc-tooltip-show{0%{opacity:0;transform:scale(0.8)}100%{opacity:1;transform:scale(1)}}@keyframes mat-mdc-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(0.8)}}.mat-mdc-tooltip-show{animation:mat-mdc-tooltip-show 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-mdc-tooltip-hide{animation:mat-mdc-tooltip-hide 75ms cubic-bezier(0.4, 0, 1, 1) forwards}'],encapsulation:2,changeDetection:0})}return r})();var yhe=(()=>{class r{static \u0275fac=function(n){return new(n||r)};static \u0275mod=Nt({type:r});static \u0275inj=kt({providers:[p8e],imports:[lS,Xl,$r,$r,uh]})}return r})();var S8e=["mat-menu-item",""],D8e=[[["mat-icon"],["","matMenuItemIcon",""]],"*"],E8e=["mat-icon, [matMenuItemIcon]","*"];function M8e(r,t){r&1&&(ru(),W(0,"svg",2),Te(1,"polygon",3),$())}var A8e=["*"];function T8e(r,t){if(r&1){let e=ot();W(0,"div",0),Me("click",function(){xe(e);let i=ie();return we(i.closed.emit("click"))})("@transformMenu.start",function(i){xe(e);let o=ie();return we(o._onAnimationStart(i))})("@transformMenu.done",function(i){xe(e);let o=ie();return we(o._onAnimationDone(i))}),W(1,"div",1),hr(2),$()()}if(r&2){let e=ie();Li(e._classList),oe("id",e.panelId)("@transformMenu",e._panelAnimationState),rr("aria-label",e.ariaLabel||null)("aria-labelledby",e.ariaLabelledby||null)("aria-describedby",e.ariaDescribedby||null)}}var dj=new He("MAT_MENU_PANEL"),Vx=(()=>{class r{_elementRef=V(ut);_document=V(Xt);_focusMonitor=V(el);_parentMenu=V(dj,{optional:!0});_changeDetectorRef=V(qt);role="menuitem";disabled=!1;disableRipple=!1;_hovered=new Ke;_focused=new Ke;_highlighted=!1;_triggersSubmenu=!1;constructor(){V(Ti).load(tl),this._parentMenu?.addItem?.(this)}focus(e,n){this._focusMonitor&&e?this._focusMonitor.focusVia(this._getHostElement(),e,n):this._getHostElement().focus(n),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(e){this.disabled&&(e.preventDefault(),e.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){let e=this._elementRef.nativeElement.cloneNode(!0),n=e.querySelectorAll("mat-icon, .material-icons");for(let i=0;i<n.length;i++)n[i].remove();return e.textContent?.trim()||""}_setHighlighted(e){this._highlighted=e,this._changeDetectorRef.markForCheck()}_setTriggersSubmenu(e){this._triggersSubmenu=e,this._changeDetectorRef.markForCheck()}_hasFocus(){return this._document&&this._document.activeElement===this._getHostElement()}static \u0275fac=function(n){return new(n||r)};static \u0275cmp=Be({type:r,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-mdc-menu-item","mat-focus-indicator"],hostVars:8,hostBindings:function(n,i){n&1&&Me("click",function(s){return i._checkDisabled(s)})("mouseenter",function(){return i._handleMouseEnter()}),n&2&&(rr("role",i.role)("tabindex",i._getTabIndex())("aria-disabled",i.disabled)("disabled",i.disabled||null),Wt("mat-mdc-menu-item-highlighted",i._highlighted)("mat-mdc-menu-item-submenu-trigger",i._triggersSubmenu))},inputs:{role:"role",disabled:[2,"disabled","disabled",Mt],disableRipple:[2,"disableRipple","disableRipple",Mt]},exportAs:["matMenuItem"],features:[Ur],attrs:S8e,ngContentSelectors:E8e,decls:5,vars:3,consts:[[1,"mat-mdc-menu-item-text"],["matRipple","",1,"mat-mdc-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["viewBox","0 0 5 10","focusable","false","aria-hidden","true",1,"mat-mdc-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(n,i){n&1&&(un(D8e),hr(0),W(1,"span",0),hr(2,1),$(),Te(3,"div",1),Oe(4,M8e,2,0,":svg:svg",2)),n&2&&(K(3),oe("matRippleDisabled",i.disableRipple||i.disabled)("matRippleTrigger",i._getHostElement()),K(),Pe(i._triggersSubmenu?4:-1))},dependencies:[_c],encapsulation:2,changeDetection:0})}return r})();var I8e=new He("MatMenuContent");var SA={transformMenu:fl("transformMenu",[Bs("void",ri({opacity:0,transform:"scale(0.8)"})),ms("void => enter",Ls("120ms cubic-bezier(0, 0, 0.2, 1)",ri({opacity:1,transform:"scale(1)"}))),ms("* => void",Ls("100ms 25ms linear",ri({opacity:0})))]),fadeInItems:fl("fadeInItems",[Bs("showing",ri({opacity:1})),ms("void => *",[ri({opacity:0}),Ls("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},n$t=SA.fadeInItems,i$t=SA.transformMenu,k8e=new He("mat-menu-default-options",{providedIn:"root",factory:N8e});function N8e(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}var Mp=(()=>{class r{_elementRef=V(ut);_changeDetectorRef=V(qt);_keyManager;_xPosition;_yPosition;_firstItemFocusRef;_allItems;_directDescendantItems=new Al;_classList={};_panelAnimationState="void";_animationDone=new Ke;_isAnimating;parentMenu;direction;overlayPanelClass;backdropClass;ariaLabel;ariaLabelledby;ariaDescribedby;get xPosition(){return this._xPosition}set xPosition(e){this._xPosition=e,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(e){this._yPosition=e,this.setPositionClasses()}templateRef;items;lazyContent;overlapTrigger;hasBackdrop;set panelClass(e){let n=this._previousPanelClass,i=Ue({},this._classList);n&&n.length&&n.split(" ").forEach(o=>{i[o]=!1}),this._previousPanelClass=e,e&&e.length&&(e.split(" ").forEach(o=>{i[o]=!0}),this._elementRef.nativeElement.className=""),this._classList=i}_previousPanelClass;get classList(){return this.panelClass}set classList(e){this.panelClass=e}closed=new ct;close=this.closed;panelId=V(qn).getId("mat-menu-panel-");_injector=V(lr);constructor(){let e=V(k8e);this.overlayPanelClass=e.overlayPanelClass||"",this._xPosition=e.xPosition,this._yPosition=e.yPosition,this.backdropClass=e.backdropClass,this.overlapTrigger=e.overlapTrigger,this.hasBackdrop=e.hasBackdrop}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new Tf(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe(si(this._directDescendantItems),Wr(e=>Si(...e.map(n=>n._focused)))).subscribe(e=>this._keyManager.updateActiveItem(e)),this._directDescendantItems.changes.subscribe(e=>{let n=this._keyManager;if(this._panelAnimationState==="enter"&&n.activeItem?._hasFocus()){let i=e.toArray(),o=Math.max(0,Math.min(i.length-1,n.activeItemIndex||0));i[o]&&!i[o].disabled?n.setActiveItem(o):n.setNextItemActive()}})}ngOnDestroy(){this._keyManager?.destroy(),this._directDescendantItems.destroy(),this.closed.complete(),this._firstItemFocusRef?.destroy()}_hovered(){return this._directDescendantItems.changes.pipe(si(this._directDescendantItems),Wr(n=>Si(...n.map(i=>i._hovered))))}addItem(e){}removeItem(e){}_handleKeydown(e){let n=e.keyCode,i=this._keyManager;switch(n){case 27:to(e)||(e.preventDefault(),this.closed.emit("keydown"));break;case 37:this.parentMenu&&this.direction==="ltr"&&this.closed.emit("keydown");break;case 39:this.parentMenu&&this.direction==="rtl"&&this.closed.emit("keydown");break;default:(n===38||n===40)&&i.setFocusOrigin("keyboard"),i.onKeydown(e);return}}focusFirstItem(e="program"){this._firstItemFocusRef?.destroy(),this._firstItemFocusRef=Ho(()=>{let n=null;if(this._directDescendantItems.length&&(n=this._directDescendantItems.first._getHostElement().closest('[role="menu"]')),!n||!n.contains(document.activeElement)){let i=this._keyManager;i.setFocusOrigin(e).setFirstItemActive(),!i.activeItem&&n&&n.focus()}},{injector:this._injector})}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(e){}setPositionClasses(e=this.xPosition,n=this.yPosition){this._classList=pr(Ue({},this._classList),{"mat-menu-before":e==="before","mat-menu-after":e==="after","mat-menu-above":n==="above","mat-menu-below":n==="below"}),this._changeDetectorRef.markForCheck()}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(e){this._animationDone.next(e),this._isAnimating=!1}_onAnimationStart(e){this._isAnimating=!0,e.toState==="enter"&&this._keyManager.activeItemIndex===0&&(e.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe(si(this._allItems)).subscribe(e=>{this._directDescendantItems.reset(e.filter(n=>n._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}static \u0275fac=function(n){return new(n||r)};static \u0275cmp=Be({type:r,selectors:[["mat-menu"]],contentQueries:function(n,i,o){if(n&1&&(Qn(o,I8e,5),Qn(o,Vx,5),Qn(o,Vx,4)),n&2){let s;Ft(s=Rt())&&(i.lazyContent=s.first),Ft(s=Rt())&&(i._allItems=s),Ft(s=Rt())&&(i.items=s)}},viewQuery:function(n,i){if(n&1&&Cr(Ui,5),n&2){let o;Ft(o=Rt())&&(i.templateRef=o.first)}},hostVars:3,hostBindings:function(n,i){n&2&&rr("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},inputs:{backdropClass:"backdropClass",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:[2,"overlapTrigger","overlapTrigger",Mt],hasBackdrop:[2,"hasBackdrop","hasBackdrop",e=>e==null?null:Mt(e)],panelClass:[0,"class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"},exportAs:["matMenu"],features:[Lt([{provide:dj,useExisting:r}]),Ur],ngContentSelectors:A8e,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-mdc-menu-panel",3,"click","id"],[1,"mat-mdc-menu-content"]],template:function(n,i){n&1&&(un(),Oe(0,T8e,3,7,"ng-template"))},styles:['mat-menu{display:none}.mat-mdc-menu-content{margin:0;padding:8px 0;outline:0}.mat-mdc-menu-content,.mat-mdc-menu-content .mat-mdc-menu-item .mat-mdc-menu-item-text{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;flex:1;white-space:normal;font-family:var(--mat-menu-item-label-text-font, var(--mat-sys-label-large-font));line-height:var(--mat-menu-item-label-text-line-height, var(--mat-sys-label-large-line-height));font-size:var(--mat-menu-item-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mat-menu-item-label-text-tracking, var(--mat-sys-label-large-tracking));font-weight:var(--mat-menu-item-label-text-weight, var(--mat-sys-label-large-weight))}.mat-mdc-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;box-sizing:border-box;outline:0;border-radius:var(--mat-menu-container-shape, var(--mat-sys-corner-extra-small));background-color:var(--mat-menu-container-color, var(--mat-sys-surface-container));box-shadow:var(--mat-menu-container-elevation-shadow, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12));will-change:transform,opacity}.mat-mdc-menu-panel.ng-animating{pointer-events:none}.mat-mdc-menu-panel.ng-animating:has(.mat-mdc-menu-content:empty){display:none}@media(forced-colors: active){.mat-mdc-menu-panel{outline:solid 1px}}.mat-mdc-menu-panel .mat-divider{color:var(--mat-menu-divider-color, var(--mat-sys-surface-variant));margin-bottom:var(--mat-menu-divider-bottom-spacing, 8px);margin-top:var(--mat-menu-divider-top-spacing, 8px)}.mat-mdc-menu-item{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;cursor:pointer;width:100%;text-align:left;box-sizing:border-box;color:inherit;font-size:inherit;background:none;text-decoration:none;margin:0;min-height:48px;padding-left:var(--mat-menu-item-leading-spacing, 12px);padding-right:var(--mat-menu-item-trailing-spacing, 12px);-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-menu-item::-moz-focus-inner{border:0}[dir=rtl] .mat-mdc-menu-item{padding-left:var(--mat-menu-item-trailing-spacing, 12px);padding-right:var(--mat-menu-item-leading-spacing, 12px)}.mat-mdc-menu-item:has(.material-icons,mat-icon,[matButtonIcon]){padding-left:var(--mat-menu-item-with-icon-leading-spacing, 12px);padding-right:var(--mat-menu-item-with-icon-trailing-spacing, 12px)}[dir=rtl] .mat-mdc-menu-item:has(.material-icons,mat-icon,[matButtonIcon]){padding-left:var(--mat-menu-item-with-icon-trailing-spacing, 12px);padding-right:var(--mat-menu-item-with-icon-leading-spacing, 12px)}.mat-mdc-menu-item,.mat-mdc-menu-item:visited,.mat-mdc-menu-item:link{color:var(--mat-menu-item-label-text-color, var(--mat-sys-on-surface))}.mat-mdc-menu-item .mat-icon-no-color,.mat-mdc-menu-item .mat-mdc-menu-submenu-icon{color:var(--mat-menu-item-icon-color, var(--mat-sys-on-surface-variant))}.mat-mdc-menu-item[disabled]{cursor:default;opacity:.38}.mat-mdc-menu-item[disabled]::after{display:block;position:absolute;content:"";top:0;left:0;bottom:0;right:0}.mat-mdc-menu-item:focus{outline:0}.mat-mdc-menu-item .mat-icon{flex-shrink:0;margin-right:var(--mat-menu-item-spacing, 12px);height:var(--mat-menu-item-icon-size, 24px);width:var(--mat-menu-item-icon-size, 24px)}[dir=rtl] .mat-mdc-menu-item{text-align:right}[dir=rtl] .mat-mdc-menu-item .mat-icon{margin-right:0;margin-left:var(--mat-menu-item-spacing, 12px)}.mat-mdc-menu-item:not([disabled]):hover{background-color:var(--mat-menu-item-hover-state-layer-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-hover-state-layer-opacity) * 100%), transparent))}.mat-mdc-menu-item:not([disabled]).cdk-program-focused,.mat-mdc-menu-item:not([disabled]).cdk-keyboard-focused,.mat-mdc-menu-item:not([disabled]).mat-mdc-menu-item-highlighted{background-color:var(--mat-menu-item-focus-state-layer-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-focus-state-layer-opacity) * 100%), transparent))}@media(forced-colors: active){.mat-mdc-menu-item{margin-top:1px}}.mat-mdc-menu-submenu-icon{width:var(--mat-menu-item-icon-size, 24px);height:10px;fill:currentColor;padding-left:var(--mat-menu-item-spacing, 12px)}[dir=rtl] .mat-mdc-menu-submenu-icon{padding-right:var(--mat-menu-item-spacing, 12px);padding-left:0}[dir=rtl] .mat-mdc-menu-submenu-icon polygon{transform:scaleX(-1);transform-origin:center}@media(forced-colors: active){.mat-mdc-menu-submenu-icon{fill:CanvasText}}.mat-mdc-menu-item .mat-mdc-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}'],encapsulation:2,data:{animation:[SA.transformMenu,SA.fadeInItems]},changeDetection:0})}return r})(),xhe=new He("mat-menu-scroll-strategy",{providedIn:"root",factory:()=>{let r=V(oo);return()=>r.scrollStrategies.reposition()}});function O8e(r){return()=>r.scrollStrategies.reposition()}var F8e={provide:xhe,deps:[oo],useFactory:O8e},_he=Ia({passive:!0});var whe=(()=>{class r{_overlay=V(oo);_element=V(ut);_viewContainerRef=V(Zn);_menuItemInstance=V(Vx,{optional:!0,self:!0});_dir=V(no,{optional:!0});_focusMonitor=V(el);_ngZone=V(xt);_scrollStrategy=V(xhe);_changeDetectorRef=V(qt);_portal;_overlayRef=null;_menuOpen=!1;_closingActionsSubscription=yr.EMPTY;_hoverSubscription=yr.EMPTY;_menuCloseSubscription=yr.EMPTY;_parentMaterialMenu;_parentInnerPadding;_handleTouchStart=e=>{oy(e)||(this._openedBy="touch")};_openedBy=void 0;get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(e){this.menu=e}get menu(){return this._menu}set menu(e){e!==this._menu&&(this._menu=e,this._menuCloseSubscription.unsubscribe(),e&&(this._parentMaterialMenu,this._menuCloseSubscription=e.close.subscribe(n=>{this._destroyMenu(n),(n==="click"||n==="tab")&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(n)})),this._menuItemInstance?._setTriggersSubmenu(this.triggersSubmenu()))}_menu;menuData;restoreFocus=!0;menuOpened=new ct;onMenuOpen=this.menuOpened;menuClosed=new ct;onMenuClose=this.menuClosed;constructor(){let e=V(dj,{optional:!0});this._parentMaterialMenu=e instanceof Mp?e:void 0,this._element.nativeElement.addEventListener("touchstart",this._handleTouchStart,_he)}ngAfterContentInit(){this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,_he),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&this._dir.value==="rtl"?"rtl":"ltr"}triggersSubmenu(){return!!(this._menuItemInstance&&this._parentMaterialMenu&&this.menu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){let e=this.menu;if(this._menuOpen||!e)return;let n=this._createOverlay(e),i=n.getConfig(),o=i.positionStrategy;this._setPosition(e,o),i.hasBackdrop=e.hasBackdrop==null?!this.triggersSubmenu():e.hasBackdrop,n.attach(this._getPortal(e)),e.lazyContent&&e.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(e),e instanceof Mp&&(e._startAnimation(),e._directDescendantItems.changes.pipe(Vt(e.close)).subscribe(()=>{o.withLockedPosition(!1).reapplyLastPosition(),o.withLockedPosition(!0)}))}closeMenu(){this.menu?.close.emit()}focus(e,n){this._focusMonitor&&e?this._focusMonitor.focusVia(this._element,e,n):this._element.nativeElement.focus(n)}updatePosition(){this._overlayRef?.updatePosition()}_destroyMenu(e){if(!this._overlayRef||!this.menuOpen)return;let n=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this.restoreFocus&&(e==="keydown"||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,n instanceof Mp?(n._resetAnimation(),n.lazyContent?n._animationDone.pipe(sr(i=>i.toState==="void"),on(1),Vt(n.lazyContent._attached)).subscribe({next:()=>n.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),n?.lazyContent?.detach())}_initMenu(e){e.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,e.direction=this.dir,e.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0)}_setIsMenuOpen(e){e!==this._menuOpen&&(this._menuOpen=e,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(e),this._changeDetectorRef.markForCheck())}_createOverlay(e){if(!this._overlayRef){let n=this._getOverlayConfig(e);this._subscribeToPositions(e,n.positionStrategy),this._overlayRef=this._overlay.create(n),this._overlayRef.keydownEvents().subscribe(i=>{this.menu instanceof Mp&&this.menu._handleKeydown(i)})}return this._overlayRef}_getOverlayConfig(e){return new hh({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:e.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:e.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir||"ltr"})}_subscribeToPositions(e,n){e.setPositionClasses&&n.positionChanges.subscribe(i=>{this._ngZone.run(()=>{let o=i.connectionPair.overlayX==="start"?"after":"before",s=i.connectionPair.overlayY==="top"?"below":"above";e.setPositionClasses(o,s)})})}_setPosition(e,n){let[i,o]=e.xPosition==="before"?["end","start"]:["start","end"],[s,a]=e.yPosition==="above"?["bottom","top"]:["top","bottom"],[l,c]=[s,a],[d,f]=[i,o],m=0;if(this.triggersSubmenu()){if(f=i=e.xPosition==="before"?"start":"end",o=d=i==="end"?"start":"end",this._parentMaterialMenu){if(this._parentInnerPadding==null){let p=this._parentMaterialMenu.items.first;this._parentInnerPadding=p?p._getHostElement().offsetTop:0}m=s==="bottom"?this._parentInnerPadding:-this._parentInnerPadding}}else e.overlapTrigger||(l=s==="top"?"bottom":"top",c=a==="top"?"bottom":"top");n.withPositions([{originX:i,originY:l,overlayX:d,overlayY:s,offsetY:m},{originX:o,originY:l,overlayX:f,overlayY:s,offsetY:m},{originX:i,originY:c,overlayX:d,overlayY:a,offsetY:-m},{originX:o,originY:c,overlayX:f,overlayY:a,offsetY:-m}])}_menuClosingActions(){let e=this._overlayRef.backdropClick(),n=this._overlayRef.detachments(),i=this._parentMaterialMenu?this._parentMaterialMenu.closed:tt(),o=this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe(sr(s=>s!==this._menuItemInstance),sr(()=>this._menuOpen)):tt();return Si(e,i,o,n)}_handleMousedown(e){iy(e)||(this._openedBy=e.button===0?"mouse":void 0,this.triggersSubmenu()&&e.preventDefault())}_handleKeydown(e){let n=e.keyCode;(n===13||n===32)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(n===39&&this.dir==="ltr"||n===37&&this.dir==="rtl")&&(this._openedBy="keyboard",this.openMenu())}_handleClick(e){this.triggersSubmenu()?(e.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){!this.triggersSubmenu()||!this._parentMaterialMenu||(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe(sr(e=>e===this._menuItemInstance&&!e.disabled),nd(0,Xh)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof Mp&&this.menu._isAnimating?this.menu._animationDone.pipe(on(1),nd(0,Xh),Vt(this._parentMaterialMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(e){return(!this._portal||this._portal.templateRef!==e.templateRef)&&(this._portal=new Va(e.templateRef,this._viewContainerRef)),this._portal}static \u0275fac=function(n){return new(n||r)};static \u0275dir=ft({type:r,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-mdc-menu-trigger"],hostVars:3,hostBindings:function(n,i){n&1&&Me("click",function(s){return i._handleClick(s)})("mousedown",function(s){return i._handleMousedown(s)})("keydown",function(s){return i._handleKeydown(s)}),n&2&&rr("aria-haspopup",i.menu?"menu":null)("aria-expanded",i.menuOpen)("aria-controls",i.menuOpen?i.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:[0,"mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:[0,"matMenuTriggerFor","menu"],menuData:[0,"matMenuTriggerData","menuData"],restoreFocus:[0,"matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"},exportAs:["matMenuTrigger"]})}return r})(),Che=(()=>{class r{static \u0275fac=function(n){return new(n||r)};static \u0275mod=Nt({type:r});static \u0275inj=kt({providers:[F8e],imports:[Em,$r,Xl,uh,$r]})}return r})();var She=(()=>{class r extends Zo{constructor(e,n,i){super(),this.dashboardManager=e,this.modalService=n,this.dialog=i,this.widgetDeclaration=new DA,this.httpClient=V(bc),this.dynamicFormService=V(Du),this.options=rx}ngOnInit(){this.widgetDeclaration=dp[this.settings().widgetType]}edit(e){let n=this.widgetDeclaration.configJsonFile;if(n){let i=`assets/config/widgets/${n}`;this.httpClient.get(i).subscribe({next:o=>{if(!o)return;let s=[];o.forEach(l=>{s.push(Mm.newDynamicForm(l))}),this._setSettingsValues(s),this.modalService.open(vM,{dynamicForms:s,title:this.settings().widgetType,metadata:this.settings()}).afterClosed().subscribe(l=>{l&&this.dynamicFormService.toModel(this.settings(),l)})},error:o=>{console.error(o)}})}}_setSettingsValues(e){e.flatMap(i=>i.rows).forEach(i=>{let o=this.settings(),s=i.name.split(".");s.forEach((a,l)=>{let c=l===s.length-1;!o[a]&&!c&&(o[a]={}),o=o[a]}),i.value=o??i.defaultValue})}delete(e){this.dashboardManager.removeWidget(this.settings())}clone(e){let n=ID(this.settings());n.id=0,this.dashboardManager.addWidget(n)}static{this.\u0275fac=function(n){return new(n||r)(ze(bo),ze(go),ze(op))}}static{this.\u0275cmp=Be({type:r,selectors:[["editing-widget"]],features:[er],decls:28,vars:5,consts:[["menu",""],[3,"center"],[1,"editing-widget"],[1,"toolbar"],[3,"matTooltip"],[1,"actions"],["mat-icon-button","",3,"mousedown","touchstart","matMenuTriggerFor"],["mat-menu-item","","title","Editer",3,"click"],["mat-menu-item","","title","Cloner",3,"click"],["mat-menu-item","","title","Supprimer",3,"click"],[1,"content"]],template:function(n,i){if(n&1){let o=ot();W(0,"widget-box",1)(1,"div",2)(2,"div",3)(3,"h3",4),ge(4),Te(5,"br"),ge(6),$(),W(7,"div",5)(8,"button",6),Me("mousedown",function(a){return xe(o),we(a.stopPropagation())})("touchstart",function(a){return xe(o),we(a.stopPropagation())}),W(9,"mat-icon"),ge(10,"more_vert"),$()(),W(11,"mat-menu",null,0)(13,"button",7),Me("click",function(a){return xe(o),we(i.edit(a))}),W(14,"mat-icon"),ge(15,"edit"),$(),ge(16,"Editer"),$(),W(17,"button",8),Me("click",function(a){return xe(o),we(i.clone(a))}),W(18,"mat-icon"),ge(19,"content_copy"),$(),ge(20,"Cloner"),$(),W(21,"button",9),Me("click",function(a){return xe(o),we(i.delete(a))}),W(22,"mat-icon"),ge(23,"close"),$(),ge(24,"Supprimer"),$()()()(),W(25,"div",10)(26,"mat-icon"),ge(27,"open_with"),$()()()()}if(n&2){let o=Ao(12);oe("center",!1),K(3),oe("matTooltip",i.settings().label),K(),zt(i.settings().label),K(2),zt(i.widgetDeclaration.label),K(2),oe("matMenuTriggerFor",o)}},dependencies:[Wn,Na,Che,Mp,Vx,whe,za,Yi,Qo,yhe,bhe],styles:["[_nghost-%COMP%]{height:100%;cursor:move}.editing-widget[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex:1}.editing-widget[_ngcontent-%COMP%]   .toolbar[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center}.editing-widget[_ngcontent-%COMP%]   .toolbar[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{flex:1;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;margin:0}.editing-widget[_ngcontent-%COMP%]   .toolbar[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{display:flex;flex-direction:row}.editing-widget[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{display:flex;flex-direction:row;height:100%;flex:1;place-content:center;align-items:center}"]})}}return r})();var jx=function(r){return r.Static="static",r.Command="command",r}(jx||{}),zx=class r extends Oi{constructor(t){super(),this.hideLabel=!1,this.source=jx.Static,Object.assign(this,t),r.ensureSettings(this)}static ensureSettings(t){t.labelFont=t.labelFont||new $o,t.labelFont.size=t.labelFont.size||12}};function P8e(r,t){if(r&1&&Te(0,"text-font",1),r&2){let e=ie();oe("text",e.settings().label)("font",e.settings().labelFont)}}var Dhe=(()=>{class r extends Zo{constructor(e){super(),this.dashboardManager=e,this.changeRef=V(qt),this.settings=Ne(new zx)}ngOnInit(){let e=this.settings();zx.ensureSettings(e),this.hideLabel=!e.label,e.source===jx.Command?e.valueCommand&&this.dashboardManager.onCommandUpdate(e.valueCommand).pipe(Vt(this.destroy)).subscribe(n=>{this.updateValue(n)}):this.refreshUrl(e.staticUrl),e.refreshInterval>0&&(this.interval=setInterval(()=>{let n=this.settings();n.source===jx.Command||this.refreshUrl(n.staticUrl)},e.refreshInterval*1e3))}ngOnDestroy(){this.interval&&clearInterval(this.interval),super.ngOnDestroy()}refreshUrl(e){var n=new URL(e);n.searchParams.append("nocache",new Date().getTime().toString()),this.url=n.toString(),this.changeRef.detectChanges()}updateValue(e){this.refreshUrl(e.value)}static{this.\u0275fac=function(n){return new(n||r)(ze(bo))}}static{this.\u0275cmp=Be({type:r,selectors:[["image-widget"]],inputs:{settings:[1,"settings"]},features:[er],decls:4,vars:4,consts:[[3,"background","center"],[3,"text","font"],[1,"image"],[3,"src"]],template:function(n,i){n&1&&(W(0,"widget-box",0),Oe(1,P8e,1,2,"text-font",1),W(2,"div",2),Te(3,"img",3),$()()),n&2&&(oe("background",i.settings().background)("center",!1),K(),Pe(i.hideLabel?-1:1),K(2),oe("src",i.url,bm))},dependencies:[Qo,Wl],styles:["text-font[_ngcontent-%COMP%]{margin-bottom:15px}.image[_ngcontent-%COMP%]{position:relative;overflow:hidden;display:flex;place-content:center;flex:1}img[_ngcontent-%COMP%]{max-height:100%;max-width:100%;object-fit:contain}"],changeDetection:0})}}return r})();var L8e=["chart"],Ehe=(()=>{class r{constructor(){this.chart=Ne(),this.annotations=Ne(),this.colors=Ne(),this.dataLabels=Ne(),this.series=Ne(),this.stroke=Ne(),this.labels=Ne(),this.legend=Ne(),this.markers=Ne(),this.noData=Ne(),this.fill=Ne(),this.tooltip=Ne(),this.plotOptions=Ne(),this.responsive=Ne(),this.xaxis=Ne(),this.yaxis=Ne(),this.forecastDataPoints=Ne(),this.grid=Ne(),this.states=Ne(),this.title=Ne(),this.subtitle=Ne(),this.theme=Ne(),this.autoUpdateSeries=Ne(!0),this.chartReady=Mg(),this.chartInstance=vi(null),this.chartElement=Ei.required("chart"),this.ngZone=V(xt),this.isBrowser=iu(V(jo))}ngOnChanges(e){this.isBrowser&&this.ngZone.runOutsideAngular(()=>{Xh.schedule(()=>this.hydrate(e))})}ngOnDestroy(){this.destroy()}hydrate(e){if(this.autoUpdateSeries()&&Object.keys(e).filter(i=>i!=="series").length===0){this.updateSeries(this.series(),!0);return}this.createElement()}createElement(){return Zu(this,null,function*(){let{default:e}=yield import("./chunk-7SHN5TTN.js");window.ApexCharts||=e;let n={};["annotations","chart","colors","dataLabels","series","stroke","labels","legend","fill","tooltip","plotOptions","responsive","markers","noData","xaxis","yaxis","forecastDataPoints","grid","states","title","subtitle","theme"].forEach(s=>{let a=this[s]();a&&(n[s]=a)}),this.destroy();let o=this.ngZone.runOutsideAngular(()=>new e(this.chartElement().nativeElement,n));this.chartInstance.set(o),this.render(),this.chartReady.emit({chartObj:o})})}render(){return this.ngZone.runOutsideAngular(()=>this.chartInstance()?.render())}updateOptions(e,n,i,o){return this.ngZone.runOutsideAngular(()=>this.chartInstance()?.updateOptions(e,n,i,o))}updateSeries(e,n){return this.ngZone.runOutsideAngular(()=>this.chartInstance()?.updateSeries(e,n))}appendSeries(e,n){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.appendSeries(e,n))}appendData(e){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.appendData(e))}highlightSeries(e){return this.ngZone.runOutsideAngular(()=>this.chartInstance()?.highlightSeries(e))}toggleSeries(e){return this.ngZone.runOutsideAngular(()=>this.chartInstance()?.toggleSeries(e))}showSeries(e){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.showSeries(e))}hideSeries(e){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.hideSeries(e))}resetSeries(){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.resetSeries())}zoomX(e,n){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.zoomX(e,n))}toggleDataPointSelection(e,n){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.toggleDataPointSelection(e,n))}destroy(){this.chartInstance()?.destroy(),this.chartInstance.set(null)}setLocale(e){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.setLocale(e))}paper(){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.paper())}addXaxisAnnotation(e,n,i){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.addXaxisAnnotation(e,n,i))}addYaxisAnnotation(e,n,i){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.addYaxisAnnotation(e,n,i))}addPointAnnotation(e,n,i){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.addPointAnnotation(e,n,i))}removeAnnotation(e,n){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.removeAnnotation(e,n))}clearAnnotations(e){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.clearAnnotations(e))}dataURI(e){return this.chartInstance()?.dataURI(e)}static{this.\u0275fac=function(n){return new(n||r)}}static{this.\u0275cmp=Be({type:r,selectors:[["apx-chart"]],viewQuery:function(n,i){n&1&&Ai(i.chartElement,L8e,5),n&2&&ai()},inputs:{chart:[1,"chart"],annotations:[1,"annotations"],colors:[1,"colors"],dataLabels:[1,"dataLabels"],series:[1,"series"],stroke:[1,"stroke"],labels:[1,"labels"],legend:[1,"legend"],markers:[1,"markers"],noData:[1,"noData"],fill:[1,"fill"],tooltip:[1,"tooltip"],plotOptions:[1,"plotOptions"],responsive:[1,"responsive"],xaxis:[1,"xaxis"],yaxis:[1,"yaxis"],forecastDataPoints:[1,"forecastDataPoints"],grid:[1,"grid"],states:[1,"states"],title:[1,"title"],subtitle:[1,"subtitle"],theme:[1,"theme"],autoUpdateSeries:[1,"autoUpdateSeries"]},outputs:{chartReady:"chartReady"},features:[cr],decls:2,vars:0,consts:[["chart",""]],template:function(n,i){n&1&&Te(0,"div",null,0)},encapsulation:2,changeDetection:0})}}return r})();var Mhe=(()=>{class r{static{this.\u0275fac=function(n){return new(n||r)}}static{this.\u0275mod=Nt({type:r})}static{this.\u0275inj=kt({})}}return r})();function V8e(r,t){if(r&1){let e=ot();W(0,"mat-checkbox",3),Cn("ngModelChange",function(i){xe(e);let o=ie();return Mn(o.showOriginalValues,i)||(o.showOriginalValues=i),we(i)}),ge(1,"Afficher les valeurs originales"),$()}if(r&2){let e=ie();wn("ngModel",e.showOriginalValues)}}function z8e(r,t){if(r&1&&(W(0,"mat-option",5),ge(1),$()),r&2){let e=t.$implicit;oe("value",e.name),K(),zt(e.name)}}function j8e(r,t){if(r&1){let e=ot();W(0,"mat-form-field")(1,"mat-label"),ge(2,"Filtre S\xE9rie"),$(),W(3,"mat-select",4),Cn("ngModelChange",function(i){xe(e);let o=ie(2);return Mn(o.seriesSelected,i)||(o.seriesSelected=i),we(i)}),ur(4,z8e,2,2,"mat-option",5,Mi),$()()}if(r&2){let e,n=ie(2);K(3),wn("ngModel",n.seriesSelected),K(),dr((e=n.settings())==null?null:e.series)}}function H8e(r,t){if(r&1&&(W(0,"mat-option",5),ge(1),$()),r&2){let e=t.$implicit,n=ie(2);oe("value",e),K(),zt(n.showOriginalValues()?e.value:e.displayValue)}}function U8e(r,t){if(r&1){let e=ot();W(0,"div",1),Oe(1,j8e,6,1,"mat-form-field"),W(2,"mat-form-field")(3,"mat-label"),ge(4,"Filtre valeurs"),$(),W(5,"mat-select",4),Cn("ngModelChange",function(i){xe(e);let o=ie();return Mn(o.filtersSelected,i)||(o.filtersSelected=i),we(i)}),ur(6,H8e,2,2,"mat-option",5,Mi),$()()()}if(r&2){let e=ie();K(),Pe(e.multiple()?1:-1),K(4),wn("ngModel",e.filtersSelected),K(),dr(e.availableValuesFilter())}}function q8e(r,t){if(r&1&&(W(0,"span"),ge(1),$()),r&2){let e=ie().$implicit;K(),sn("(",e.name,") ")}}function W8e(r,t){if(r&1&&(W(0,"div"),Oe(1,q8e,2,1,"span"),W(2,"span"),ge(3),S1(4,"date"),$(),ge(5," - "),W(6,"span"),ge(7),$()()),r&2){let e=t.$implicit,n=ie();hn("color",e.color),K(),Pe(n.multiple()?1:-1),K(2),sn("Date : ",D1(4,5,e.date,"dd/MM/yyyy '\xE0' HH:mm"),""),K(4),sn("Valeur : ",n.showOriginalValues()?e.value:e.displayValue,"")}}var Ahe=(()=>{class r{constructor(){this.providerService=V(En),this.valueComparisonService=V(eh),this.charService=V(k0),this.settings=Ne.required(),this.showOriginalValues=qo(!1),this.hasAlternatives=To(()=>this.settings()?.alternatives?.alternatives?.length>0),this.allValues=vi([]),this.values=To(()=>{let e=this.allValues();return this.filtersSelected().length&&(e=e.filter(n=>this.filtersSelected()?.some(i=>i.displayValue===n.displayValue))),this.seriesSelected().length&&(e=e.filter(n=>this.seriesSelected()?.some(i=>i.name===n.name))),e}),this.multiple=To(()=>(this.settings()?.series?.length??0)>1),this.filtersSelected=qo([]),this.seriesSelected=qo([]),this.availableValuesFilter=To(()=>Array.from(new Map(this.allValues().map(n=>[`${n.value}|#|${n.displayValue}`,{value:n.value,displayValue:n.displayValue}])).values())),Io(()=>{this.charService.getChartList(this.settings()).subscribe(e=>{let n=e.flatMap(i=>i).sort((i,o)=>o.date.getTime()-i.date.getTime());this.allValues.set(n)})})}static{this.\u0275fac=function(n){return new(n||r)}}static{this.\u0275cmp=Be({type:r,selectors:[["jee-list-value-chart"]],inputs:{settings:[1,"settings"],showOriginalValues:[1,"showOriginalValues"],filtersSelected:[1,"filtersSelected"],seriesSelected:[1,"seriesSelected"]},outputs:{showOriginalValues:"showOriginalValuesChange",filtersSelected:"filtersSelectedChange",seriesSelected:"seriesSelectedChange"},decls:4,vars:2,consts:[[3,"ngModel"],[1,"filters"],[3,"color"],[3,"ngModelChange","ngModel"],["multiple","",3,"ngModelChange","ngModel"],[3,"value"]],template:function(n,i){n&1&&(Oe(0,V8e,2,1,"mat-checkbox",0)(1,U8e,8,2,"div",1),ur(2,W8e,8,8,"div",2,Mi)),n&2&&(Pe(i.hasAlternatives()?0:-1),K(),Pe(i.settings().hideFilters?-1:1),K(),dr(i.values()))},dependencies:[U1,Zl,ja,es,Vn,Sr,en,Ro,ts,qs,Wo],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;overflow:auto;flex:1}.filters[_ngcontent-%COMP%]{flex-direction:row;display:flex;gap:10px}.filters[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{flex:1}"]})}}return r})();var $8e=["chart"];function G8e(r,t){if(r&1&&Te(0,"jee-list-value-chart",1),r&2){let e=ie();oe("settings",e.settings())}}function Y8e(r,t){if(r&1&&Te(0,"apx-chart",2,0),r&2){let e=ie();oe("autoUpdateSeries",!0)("series",e.chartOptions.series)("chart",e.chartOptions.chart)("xaxis",e.chartOptions.xaxis)("dataLabels",e.chartOptions.dataLabels)("grid",e.chartOptions.grid)("stroke",e.chartOptions.stroke)("plotOptions",e.chartOptions.plotOptions)("tooltip",e.chartOptions.tooltip)("theme",e.chartOptions.theme)("colors",e.chartOptions.colors)}}var EA=(()=>{class r{constructor(){this.chartService=V(k0),this.dashboardManager=V(bo),this.destroyRef=V(Il),this.settings=Ne.required(),this.chart=Ei.required("chart"),this.ChartTypes=Pc,this.isList=To(()=>{let e=this.settings().type===Pc.list.type;return e||this._initChart(),e})}_initChart(){this._initChartOptions(),this.settings().type===Pc.line.type&&(this.chartOptions.xaxis.type="datetime",this.chartOptions.tooltip={x:{format:"dd/MM/yyyy HH:mm:ss"}},this.chartService.getChartList(this.settings()).subscribe(e=>{let n=[];e.forEach(o=>{if(o.length){let s=o[0];n.push({name:s.name??"data",color:s.color,data:o.map(a=>[a.date.getTime(),a.numberValue()])})}});let i=this.chart();i&&i.updateSeries(n)})),this.settings().type===Pc.bar.type&&this._initBarChart()}_initBarChart(){this.chartOptions.plotOptions={bar:{columnWidth:"45%",distributed:!0,dataLabels:{position:"top"}}},this.chartOptions.dataLabels={enabled:!0,offsetY:-20},this.chartOptions.dataLabels.formatter=function(n){return n+""};let e=[];this.settings().series?.forEach((n,i)=>{n.command&&(this.chartOptions.xaxis.categories.push(n.name),this.chartOptions.colors.push(n.color),this.dashboardManager.onCommandUpdate(n.command).pipe(c0(this.destroyRef)).subscribe(o=>{e[i]=o.value,this._updateSeries([{name:"data",data:e}])}))})}_updateSeries(e){setTimeout(()=>{let n=this.chart();n&&n.updateSeries(e)})}_initChartOptions(){let e=this.settings().type;this.chartOptions={series:[],chart:{type:e,height:"100%",background:"transparent",zoom:{enabled:!1}},stroke:{curve:"straight"},colors:[],grid:{},plotOptions:{},xaxis:{categories:[]},theme:{mode:"dark"}}}static{this.\u0275fac=function(n){return new(n||r)}}static{this.\u0275cmp=Be({type:r,selectors:[["jee-generic-chart"]],viewQuery:function(n,i){n&1&&Ai(i.chart,$8e,5),n&2&&ai()},inputs:{settings:[1,"settings"]},decls:2,vars:1,consts:[["chart",""],[3,"settings"],[1,"chart",3,"autoUpdateSeries","series","chart","xaxis","dataLabels","grid","stroke","plotOptions","tooltip","theme","colors"]],template:function(n,i){n&1&&Oe(0,G8e,1,1,"jee-list-value-chart",1)(1,Y8e,2,11,"apx-chart",2),n&2&&Pe(i.isList()?0:1)},dependencies:[Mhe,Ehe,Ahe],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;flex:1}apx-chart[_ngcontent-%COMP%]{flex:1}"]})}}return r})();var K8e=(r,t)=>t.type,X8e=(r,t)=>t.code;function Z8e(r,t){if(r&1&&(W(0,"mat-option",6),ge(1),$()),r&2){let e=t.$implicit;oe("value",e.type),K(),zt(e.label)}}function Q8e(r,t){if(r&1&&(W(0,"mat-option",6),ge(1),$()),r&2){let e=t.$implicit;oe("value",e.code),K(),zt(e.label)}}var The=(()=>{class r{constructor(e,n){this.dialogRef=e,this.data=n,this.chartTypes=Pc.ALL,this.chartPeriods=xh.ALL,this.type=qo(),this.period=qo(),this.form=new Fi({}),this.type.set(n.settings.type),this.period.set(n.settings.period)}save(){this.dialogRef.close({type:this.type(),period:this.period()})}cancel(){this.dialogRef.close()}static{this.\u0275fac=function(n){return new(n||r)(ze(so),ze(ps))}}static{this.\u0275cmp=Be({type:r,selectors:[["jee-chart-modal-settings"]],inputs:{type:[1,"type"],period:[1,"period"]},outputs:{type:"typeChange",period:"periodChange"},decls:27,vars:2,consts:[["mat-dialog-title",""],[1,"row"],[1,"col-label"],[1,"col-value"],[1,"full-width-field"],[3,"ngModelChange","ngModel"],[3,"value"],["align","end"],["mat-button","",3,"mat-dialog-close"],["mat-button","",3,"click"]],template:function(n,i){n&1&&(W(0,"h2",0),ge(1,"Param\xE9trage Historique"),$(),W(2,"mat-dialog-content")(3,"div")(4,"div",1)(5,"div",2)(6,"label"),ge(7,"Graphique"),$()(),W(8,"div",3)(9,"mat-form-field",4)(10,"mat-select",5),Cn("ngModelChange",function(s){return Mn(i.type,s)||(i.type=s),s}),ur(11,Z8e,2,2,"mat-option",6,K8e),$()()()(),W(13,"div",1)(14,"div",2)(15,"label"),ge(16,"P\xE9riode"),$()(),W(17,"div",3)(18,"mat-form-field",4)(19,"mat-select",5),Cn("ngModelChange",function(s){return Mn(i.period,s)||(i.period=s),s}),ur(20,Q8e,2,2,"mat-option",6,X8e),$()()()()()(),W(22,"mat-dialog-actions",7)(23,"button",8),ge(24,"Annuler"),$(),W(25,"button",9),Me("click",function(){return i.save()}),ge(26,"Enregistrer"),$()()),n&2&&(K(10),wn("ngModel",i.type),K(),dr(i.chartTypes),K(8),wn("ngModel",i.period),K(),dr(i.chartPeriods))},dependencies:[Hs,xu,Vs,js,zs,Fn,Vn,ts,qs,Wo,Sr,en,Ro],encapsulation:2})}}return r})();var Ihe=(()=>{class r{constructor(e,n){this.dialogRef=e,this.data=n,this.modalService=V(go),this.ChartType=i0,this.settings=$n(n.settings)}showChartSettings(){this.modalService.open(The,{settings:this.settings}).afterClosed().subscribe(e=>{e&&(this.settings=$n(this.settings),this.settings.period=e.period,this.settings.type=e.type)})}static{this.\u0275fac=function(n){return new(n||r)(ze(so),ze(ps))}}static{this.\u0275cmp=Be({type:r,selectors:[["jee-chart-modal"]],decls:12,vars:2,consts:[[1,"header"],["mat-dialog-title",""],[1,"actions"],["mat-icon-button","","tabindex","-1",3,"click"],[3,"settings"],["align","end"],["mat-button","",3,"mat-dialog-close"]],template:function(n,i){n&1&&(W(0,"div",0)(1,"h2",1),ge(2),$(),W(3,"div",2)(4,"button",3),Me("click",function(){return i.showChartSettings()}),W(5,"mat-icon"),ge(6,"settings"),$()()()(),W(7,"mat-dialog-content"),Te(8,"jee-generic-chart",4),$(),W(9,"mat-dialog-actions",5)(10,"button",6),ge(11,"Ok"),$()()),n&2&&(K(2),sn("Historique - ",i.settings.title,""),K(6),oe("settings",i.settings))},dependencies:[Hs,xu,Vs,js,zs,EA,Wn,Fn,Na,Yi],styles:[".header[_ngcontent-%COMP%]{display:flex;gap:10px}.header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{flex:1}.header[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{place-content:center;margin-right:20px;padding:10px}.header[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{cursor:pointer}"]})}}return r})();var k0=(()=>{class r{constructor(){this.modalService=V(go),this.providerService=V(En),this.valueComparisonService=V(eh)}openModalChart(e){this.modalService.open(Ihe,{settings:e},{disableClose:!1,width:"50vw",maxWidth:"90vw",minWidth:"300px",height:"auto"}).afterClosed().subscribe()}getChartList(e){let n=new Ke,i=ga.toDate(e.period),o=[],s=[];return e.series?.forEach(a=>{if(a.command){let l=this.providerService.getHistory(a.command,i).pipe(Fr(c=>{s.push(c),this._evalValues(c,a,e.alternatives?.alternatives)}));o.push(l)}}),$c(o).subscribe(()=>{n.next(s)}),n.asObservable()}getChartBar(e){let n=new Ke,i=[],o=[];return e.series?.forEach(s=>{if(s.command){let a=this.providerService.getValue(s.command).pipe(Fr(l=>{if(l){let c=new T0;c.value=l.value,this._evalValue(c,s,e.alternatives?.alternatives),o.push(c)}}));i.push(a)}}),$c(i).pipe(at(()=>o))}_evalValue(e,n,i){if(e.color=n.color,e.name=n.name,i||=[],i.forEach(o=>{if(this.valueComparisonService.compare(e.value,o.expression)&&o.displayValue!=null){e.displayValue=o.displayValue;return}}),e.displayValue==null||e.displayValue==null){e.displayValue=e.value;let o=parseFloat(e.value);Number.isNaN(o)||(o=Math.round((o+Number.EPSILON)*100)/100,e.displayValue=o.toString())}}_evalValues(e,n,i){e.forEach(o=>{this._evalValue(o,n,i)})}static{this.\u0275fac=function(n){return new(n||r)}}static{this.\u0275prov=Fe({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();var Hx=class r extends Oi{constructor(t){super(),this.labelFont=Mr.LabelFont(),this.hideLabel=!1,this.valueFont=Mr.ValueFont(),this.hideValue=!1,this.alignHorizontal=!1,this.iconLeft=!1,this.marquee=!1,this.alternatives=new vh,this.alternativesMarquee=new vh,this.valueCommand=null,this.showHistory=!1,this.history=new cp,Object.assign(this,t),r.ensureSettings(this)}static ensureSettings(t){t.valueFont??=Mr.ValueFont(),t.labelFont??=Mr.LabelFont(),Oi.ensureWidgetBaseSettings(t)}};var J8e=["marqueeTemplate"],eje=()=>({});function tje(r,t){if(r&1&&Xa(0,2),r&2){let e=ie(2);oe("ngTemplateOutlet",e.marqueeTemplate())("ngTemplateOutletContext",Ig(2,eje))}}function rje(r,t){if(r&1&&(W(0,"div",1),Oe(1,tje,1,3,"ng-container",2),$()),r&2){let e=ie();K(),Pe(e.marqueeTemplate()?1:-1)}}var khe=(()=>{class r{constructor(){this.marqueeTemplate=_m.required("marqueeTemplate"),this.iterations=[];for(let e=0;e<15;e++)this.iterations.push(Rx().toString())}static{this.\u0275fac=function(n){return new(n||r)}}static{this.\u0275cmp=Be({type:r,selectors:[["jee-marquee"]],contentQueries:function(n,i,o){n&1&&xm(o,i.marqueeTemplate,J8e,5),n&2&&ai()},decls:3,vars:0,consts:[[1,"jee-marquee-container"],[1,"jee-marquee-content-wrapper"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(n,i){n&1&&(W(0,"div",0),ur(1,rje,2,1,"div",1,sa),$()),n&2&&(K(),dr(i.iterations))},dependencies:[nu],styles:[".jee-marquee-container[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;overflow-x:hidden}.jee-marquee-content-wrapper[_ngcontent-%COMP%]{padding-inline:8px;display:flex;column-gap:16px;align-items:center;white-space:nowrap}.jee-marquee-container[_ngcontent-%COMP%]:hover   .jee-marquee-content-wrapper[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_scroll 10s linear infinite}@keyframes _ngcontent-%COMP%_scroll{0%{transform:translate(0)}to{transform:translate(-100%)}}"]})}}return r})();var nje=r=>({action:r});function ije(r,t){if(r&1&&Te(0,"label-icon-value",2),r&2){let e=ie();oe("alignHorizontal",e.settings().alignHorizontal)("label",e.settings().label)("labelFont",e.labelFont)("value",e.displayValue)("valueFont",e.valueFont)("icon",e.icon)("highlightIcon",e.highlightIcon)("iconLeft",e.settings().iconLeft)("hideValue",e.hideValue)}}function oje(r,t){if(r&1&&Te(0,"label-icon-value",3),r&2){let e=ie(2);oe("alignHorizontal",!0)("label",e.settings().label)("labelFont",e.labelFont)("value",e.displayValue)("valueFont",e.valueFont)("hideValue",e.hideValue)}}function sje(r,t){r&1&&(W(0,"jee-marquee"),Oe(1,oje,1,6,"ng-template",null,0,mc),$())}var Nhe=(()=>{class r extends Zo{get hideLabel(){let e=this.settings();return e.hideLabel||!e.label}get hideValue(){return this.settings().hideValue}constructor(e){super(),this.dashboardManage=e,this.settings=Ne(new Hx),this.valueComparisonService=V(eh),this.chartService=V(k0),this.changeRef=V(qt),this.isHistorized=!1,this.background=new Ba,this.labelFont=new $o,this.valueFont=new $o,this.highlightIcon=!1}ngOnInit(){let e=this.settings();Hx.ensureSettings(e),this.background=$n(e.background),this.labelFont=$n(e.labelFont),this.valueFont=$n(e.valueFont),this.icon=e.icon?$n(e.icon):null,this.highlightIcon=e.highlightIcon,this.alternativesSettings=this.settings().marquee?this.settings().alternativesMarquee:this.settings().alternatives,e.valueCommand&&(this.isHistorized=e.showHistory,this.dashboardManage.onCommandUpdate(e.valueCommand).pipe(Vt(this.destroy)).subscribe(n=>{let i=this.settings();i.valueCommand&&(this.value=n,this.evalAlternatives()),i.valueFont.unit=i.valueFont.unit||n.unit||"",this.changeRef.detectChanges()}))}evalAlternatives(){let e=this.settings();if(this.icon=e.icon,this.background.bgColor=e.background?.bgColor,this.background.backdropIcon=e.background?.backdropIcon,this.labelFont.color=e.labelFont.color,this.valueFont.color=e.valueFont.color,this.highlightIcon=e.highlightIcon,this.displayValue=this.value.value,!this.alternativesSettings||!this.alternativesSettings.alternatives?.length)return;this.alternativesSettings.alternatives.forEach(i=>{if(this.valueComparisonService.compare(this.value.value,i.expression)){this.background.backdropIcon=i.bgIcon||this.background.backdropIcon,this.background.bgColor=i.bgColor||this.background.bgColor,this.icon=i.icon||this.icon,this.labelFont.color=i.labelColor||this.labelFont.color,this.valueFont.color=i.valueColor||this.valueFont.color,this.displayValue=i.displayValue||this.displayValue,this.highlightIcon=i.hightlightIcon||this.highlightIcon;return}})}showHistory(){let e=this.settings();!this.isHistorized||!e.showHistory||!e.valueCommand||(e.history.alternatives=this.alternativesSettings,e.history.title=e.label,e.history.series=[new o0({name:e.label,command:e.valueCommand})],this.chartService.openModalChart(e.history))}static{this.\u0275fac=function(n){return new(n||r)(ze(bo))}}static{this.\u0275cmp=Be({type:r,selectors:[["label-widget"]],inputs:{settings:[1,"settings"]},features:[er],decls:3,vars:5,consts:[["marqueeTemplate",""],[3,"click","background","ngClass"],[3,"alignHorizontal","label","labelFont","value","valueFont","icon","highlightIcon","iconLeft","hideValue"],[3,"alignHorizontal","label","labelFont","value","valueFont","hideValue"]],template:function(n,i){n&1&&(W(0,"widget-box",1),Me("click",function(){return i.showHistory()}),Oe(1,ije,1,9,"label-icon-value",2)(2,sje,3,0,"jee-marquee"),$()),n&2&&(oe("background",i.background)("ngClass",Un(3,nje,i.isHistorized)),K(),Pe(i.settings().marquee?2:1))},dependencies:[eo,ho,Qo,rh,khe],encapsulation:2})}}return r})();var Ux=class r extends Oi{constructor(t){super(),this.hideLabel=!1,this.hideValue=!1,this.alignHorizontal=!1,this.iconLeft=!1,this.keepOpen=!1,this.columns=1,this.commands=[],Object.assign(this,t),r.ensureSettings(this)}static ensureSettings(t){Oi.ensureWidgetBaseSettings(t),t.valueFont??=Mr.ValueFont(),t.labelFont??=Mr.ValueFont()}};var aje=["selectionTemplateModal"],lje=r=>({"grid-template-columns":r}),cje=(r,t,e)=>({selected:r,column:t,row:e});function uje(r,t){if(r&1){let e=ot();W(0,"div",6),Me("click",function(){let i=xe(e).$implicit,o=ie().$implicit;return we(o.select(i))}),Te(1,"text-font",7),$()}if(r&2){let e=t.$implicit,n=ie().$implicit;oe("ngClass",wm(3,cje,e.selected,n.columns>1,n.columns===1)),K(),oe("text",e.value)("font",e.valueFont||n.defaultFont)}}function dje(r,t){if(r&1&&(W(0,"div",3)(1,"div",4),ur(2,uje,2,7,"div",5,sa),$()()),r&2){let e=t.$implicit;K(),oe("ngStyle",Un(1,lje,"repeat("+e.columns+", 1fr)")),K(),dr(e.commands)}}var Ohe=(()=>{class r extends Zo{get hideLabel(){let e=this.settings();return e.hideLabel||!e.label}get hideValue(){return this.settings().hideValue}constructor(e,n,i){super(),this.dashboardManager=e,this.modalService=n,this.changeRef=i,this.selectionModalTemplate=Ei.required("selectionTemplateModal"),this.settings=Ne(new Ux),this.label="",this.labelFont=Mr.LabelFont(),this.valueFont=Mr.ValueFont(),this.currentCommand=vi(null),this.background=new Ba,this.icon=null,this.value=To(()=>this.currentCommand()?.value)}ngOnInit(){this.labelFont=$n(this.settings().labelFont)||Mr.LabelFont(),this.background=$n(this.settings().background)||new Ba,this.valueFont=$n(this.settings().valueFont)||Mr.ValueFont(),this.icon=$n(this.settings().icon)||{};let e=this.settings();Ux.ensureSettings(e),e.valueCommand&&e.valueCommand&&this.dashboardManager.onCommandUpdate(e.valueCommand).pipe(Vt(this.destroy)).subscribe(n=>{this.updateValue(n)})}updateValue(e){let n=this.settings();this.background.bgColor=n.background?.bgColor,this.valueFont.color=n.valueFont.color,this.labelFont.color=n.labelFont.color;let i=this.currentCommand();i&&(i.selected=!1),i=n.commands.find(o=>o.value===e.value)??null,i&&(i.selected=!0,this.background.bgColor=i.bgColor??this.background.bgColor,this.labelFont.color=i.labelColor??n.labelFont.color,this.valueFont.color=i.valueColor??n.valueFont.color),this.currentCommand.set(i),this.changeRef.detectChanges()}openSelection(){let e={columns:this.settings().columns,commands:this.settings().commands,defaultFont:this.settings().valueFont,select:i=>{this.selectionSelected(i),this.settings().keepOpen||n.close()}},n=this.modalService.open(this.selectionModalTemplate(),e,{panelClass:"",width:"900px",position:{top:"20px"},disableClose:!1});n.afterClosed().subscribe(()=>{})}selectionSelected(e){e.command&&this.dashboardManager.sendCmd(e.command)}static{this.\u0275fac=function(n){return new(n||r)(ze(bo),ze(go),ze(qt))}}static{this.\u0275cmp=Be({type:r,selectors:[["selection-widget"]],viewQuery:function(n,i){n&1&&Ai(i.selectionModalTemplate,aje,5),n&2&&ai()},inputs:{settings:[1,"settings"]},features:[er],decls:4,vars:9,consts:[["selectionTemplateModal",""],[3,"click","background"],[3,"alignHorizontal","label","labelFont","value","valueFont","icon","iconLeft","hideValue"],[1,"selection"],[3,"ngStyle"],[1,"selection-choice","switch","value",3,"ngClass"],[1,"selection-choice","switch","value",3,"click","ngClass"],[3,"text","font"]],template:function(n,i){if(n&1){let o=ot();W(0,"widget-box",1),Me("click",function(){return xe(o),we(i.openSelection())}),Te(1,"label-icon-value",2),$(),Oe(2,dje,4,3,"ng-template",null,0,mc)}n&2&&(oe("background",i.background),K(),oe("alignHorizontal",i.settings().alignHorizontal)("label",i.settings().label)("labelFont",i.labelFont)("value",i.value())("valueFont",i.valueFont)("icon",i.icon)("iconLeft",i.settings().iconLeft)("hideValue",i.hideValue))},dependencies:[eo,ho,Ng,Qo,Wl,rh],styles:["[_nghost-%COMP%]{cursor:pointer}[_nghost-%COMP%]:active{filter:brightness(130%);-webkit-filter:brightness(130%)}.widget-content[_ngcontent-%COMP%]{z-index:9;display:flex;place-content:center;align-items:center}widget-icon.icon[_ngcontent-%COMP%]{display:block;height:100%}.value[_ngcontent-%COMP%]{color:var(--primary-color);text-align:center}.noLineBreak[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{text-align:right}.selection[_ngcontent-%COMP%]{flex:1;background-color:var(--body-bg);display:table}.selection[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:grid;padding:10px 20px}.selection[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .selection-choice[_ngcontent-%COMP%]{margin:15px 10px;padding:15px 10px;background-color:var(--box-bg);cursor:pointer}.selection[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .selection-choice.column[_ngcontent-%COMP%]{height:75px;display:flex;place-content:center;align-items:center}"],changeDetection:0})}}return r})();var qx=class r extends Oi{constructor(t){super(),this.hideLabel=!1,Object.assign(this,t),r.ensureSettings(this)}static ensureSettings(t){Oi.ensureWidgetBaseSettings(t),t.labelFont??=Mr.LabelFont()}};var Fhe=(()=>{class r{constructor(e,n){this.sliderEl=e,this.renderer=n,this.JeeBigSlider=Ne(!0)}ngOnChanges(e){}ngAfterViewInit(){this.JeeBigSlider()&&this.renderer.addClass(this.sliderEl.nativeElement,"jee-big-slider")}static{this.\u0275fac=function(n){return new(n||r)(ze(ut),ze(gi))}}static{this.\u0275dir=ft({type:r,selectors:[["mat-slider","JeeBigSlider",""]],inputs:{JeeBigSlider:[1,"JeeBigSlider"]},features:[cr]})}}return r})();var Rhe=(()=>{class r{constructor(e,n){this.sliderEl=e,this.renderer=n,this.min=Ne(0,{transform:i=>i||0}),this.max=Ne(100,{transform:i=>i||100}),this.step=Ne(1,{transform:i=>i||1}),this.showTicks=Ne(!1),this.showTicksLabel=Ne(!1),this.vertical=Ne(!1),this.ngModel=Ne(0),this.displayWith=Ne(i=>i)}ngOnChanges(e){e.ngModel&&this.showTicks()&&this.sliderStepThumbSelected(this.ngModel())}ngOnInit(){}sliderStepThumbSelected(e){this.sliderEl.nativeElement.querySelectorAll(".jee-slider-step-thumb").forEach(i=>{parseInt(i.attributes["data-value"].value)<=e?this.renderer.addClass(i,"selected"):this.renderer.removeClass(i,"selected")})}ngAfterViewInit(){this.renderer.addClass(this.sliderEl.nativeElement,"jee-ticks-label"),this.divStepsContainer=this.renderer.createElement("div"),this.renderer.addClass(this.divStepsContainer,"jee-slider-steps-container"),this.divMatSliderWrapper=this.sliderEl.nativeElement.querySelector(".mdc-slider__track"),this.renderer.appendChild(this.divMatSliderWrapper,this.divStepsContainer);let e=this.step()||1,n=this.max()||100,i=this.min()||0,o=(n-i)/e,s=100/o;if(this.createDivStep(0,s,i||0,!0),this.createDivStep(o,s,n,!0),this.showTicks()){for(let d=1;d<o;d++){let f=e*d+i;this.createDivStep(d,s,f,this.showTicksLabel())}let l="aria-valuetext",c=new MutationObserver(d=>{if(d.find(m=>l==l)){let m=this.sliderInputHTML.attributes[l].value;this.sliderStepThumbSelected(m)}});var a={attributes:!0,attributeFilter:["aria-valuetext"]};this.sliderInputHTML=this.sliderEl.nativeElement.querySelector(".mdc-slider__input"),c.observe(this.sliderInputHTML,a)}}createDivStep(e,n,i,o){let s=n*2,a=this.renderer.createElement("div");this.renderer.addClass(a,"jee-slider-step-container");let l=o?this.formatLabel(i):"&nbsp;";this.renderer.setProperty(a,"innerHTML","<div class='jee-slider-step-label'>"+l+"</div>"),this.renderer.appendChild(this.divStepsContainer,a);let c=this.renderer.createElement("div");this.renderer.addClass(c,"jee-slider-step-thumb"),this.renderer.setAttribute(c,"data-value",i.toString()),this.renderer.appendChild(a,c);let d=e*n-n;this.renderer.setStyle(a,"left",d+"%"),this.renderer.setStyle(a,"width",s+"%"),this.vertical()&&this.renderer.addClass(this.sliderEl.nativeElement,"jee-slider-vertical")}formatLabel(e){let n=this.displayWith();return(n?n(e):e)||e.toString()}static{this.\u0275fac=function(n){return new(n||r)(ze(ut),ze(gi))}}static{this.\u0275dir=ft({type:r,selectors:[["","jeeTicksLabelSlider",""]],inputs:{min:[1,"min"],max:[1,"max"],step:[1,"step"],showTicks:[1,"showTicks"],showTicksLabel:[1,"showTicksLabel"],vertical:[1,"vertical"],ngModel:[1,"ngModel"],displayWith:[1,"displayWith"]},features:[cr]})}}return r})();var Phe=(()=>{class r{constructor(){this.bigSlider=Ne(!1),this.min=Ne(0),this.max=Ne(100),this.invert=!1,this.disabled=Ne(!1),this.step=Ne(1),this.thumbLabel=Ne(!0),this.tickInterval=Ne(1),this.vertical=Ne(!1),this.showTicks=Ne(!1),this.showTicksLabel=Ne(!1),this.value=qo(0),this.matSlider=Ei.required(lp)}ngOnChanges(e){e.min!=null&&e.min!=null&&this.value()==null&&this.value.set(this.min())}ngAfterViewInit(){setTimeout(()=>{var e=new MouseEvent("mouseover",{view:window,bubbles:!0,cancelable:!0}),n=this.matSlider()._elementRef.nativeElement;n.dispatchEvent(e)})}ngOnInit(){}formatLabel(e){return e?e.toString():"0"}static{this.\u0275fac=function(n){return new(n||r)}}static{this.\u0275cmp=Be({type:r,selectors:[["jee-slider"]],viewQuery:function(n,i){n&1&&Ai(i.matSlider,lp,5),n&2&&ai()},inputs:{bigSlider:[1,"bigSlider"],min:[1,"min"],max:[1,"max"],disabled:[1,"disabled"],step:[1,"step"],thumbLabel:[1,"thumbLabel"],tickInterval:[1,"tickInterval"],vertical:[1,"vertical"],showTicks:[1,"showTicks"],showTicksLabel:[1,"showTicksLabel"],value:[1,"value"]},outputs:{value:"valueChange"},features:[cr],decls:3,vars:11,consts:[[1,"jee-slider-content"],["jeeTicksLabelSlider","",3,"JeeBigSlider","disabled","max","min","step","discrete","vertical","displayWith","showTicks","showTicksLabel"],["matSliderThumb","",3,"ngModelChange","ngModel"]],template:function(n,i){n&1&&(W(0,"div",0)(1,"mat-slider",1)(2,"input",2),Cn("ngModelChange",function(s){return Mn(i.value,s)||(i.value=s),s}),$()()()),n&2&&(K(),oe("JeeBigSlider",i.bigSlider())("disabled",i.disabled())("max",i.max())("min",i.min())("step",i.step())("discrete",i.thumbLabel())("vertical",i.vertical())("displayWith",i.formatLabel)("showTicks",i.showTicks())("showTicksLabel",i.showTicksLabel()),K(),wn("ngModel",i.value))},dependencies:[dM,lp,K_,Sr,ui,en,Ro,Fhe,Rhe],styles:[`jee-slider{container-type:size;display:flex;align-items:center}.jee-slider-content{display:flex;flex:1;height:100%;align-items:center}mat-slider{flex:1}mat-slider.jee-slider-vertical{min-width:85cqh!important}
`,`.jee-big-slider{margin:0 30px!important;height:165px!important}.jee-big-slider .mdc-slider__input{bottom:0;top:inherit;height:128px!important}.jee-big-slider .jee-slider-steps-container{display:none}.jee-big-slider .mat-slider-wrapper:after{display:none}.jee-big-slider div.mdc-slider__track{bottom:0;transform:none;top:inherit;height:117px!important}.jee-big-slider div.mdc-slider__track .mdc-slider__track--inactive{opacity:1!important;height:100%;border-radius:0;background-color:transparent;transform:translateZ(0) translate(.5%)!important;background-size:1% 2px!important;background-image:repeating-linear-gradient(to right,var(--slider-tick-color),var(--slider-tick-color) 2px,transparent 0,transparent)!important}.jee-big-slider div.mdc-slider__track div.mdc-slider__track--active{top:0;height:100%!important;border-radius:0}.jee-big-slider div.mdc-slider__track div.mdc-slider__track--active .mdc-slider__track--active_fill{border:none;height:117px!important;z-index:99;background-color:var(--slider-track-fill);opacity:.7}.jee-big-slider .mdc-slider__thumb{width:32px!important;z-index:999;height:128px!important;left:-17px!important;bottom:0}.jee-big-slider .mdc-slider__thumb .mdc-slider__thumb-knob{bottom:0;left:0;top:inherit;width:32px;height:128px;border-radius:0!important;border:none!important;transform:none!important;background-color:var(--primary-color, #0db9f0)!important}.jee-big-slider .mdc-slider__thumb .mdc-slider__thumb-knob:after{content:"";position:absolute;top:0;bottom:0;left:calc(50% - 4px);height:128px;background-color:var(--slider-pointer-bg-color, #def);border-left:3px solid var(--slider-pointer-color, #234);border-right:3px solid var(--slider-pointer-color, #234);background:#fff;width:2px}.jee-big-slider .mdc-slider__thumb .mdc-slider__value-indicator-container{left:50%!important;top:-50px;bottom:initial;background-color:var(--slider-bubble-bg-color)!important;padding:10px 18px;border-radius:10px!important;border:2px solid var(--slider-bubble-border-color);z-index:1000;text-align:center;opacity:1!important;transform:translate(-50%)!important}.jee-big-slider .mdc-slider__thumb .mdc-slider__value-indicator-container .mdc-slider__value-indicator{background:transparent}.jee-big-slider .mdc-slider__thumb .mdc-slider__value-indicator-container .mdc-slider__value-indicator .mdc-slider__value-indicator-text{color:var(--slider-bubble-color)!important;transform:none!important;font-size:18pt;opacity:1!important}.jee-big-slider .mdc-slider__thumb .mat-mdc-focus-indicator{display:none}
`,`jee-slider .mdc-slider__value-indicator{transform:scale(1)!important}jee-slider .jee-slider-vertical{transform:rotate(-90deg)}jee-slider .jee-slider-vertical .mdc-slider__value-indicator-container{transform:translate(-50%) rotate(-45deg)}jee-slider .jee-slider-vertical .mdc-slider__value-indicator-text{transform:rotate(135deg)}jee-slider .jee-slider-vertical .jee-slider-step-label{transform:rotate(90deg)}jee-slider .jee-slider-steps-container{position:absolute;width:100%;top:-30px}jee-slider .jee-slider-steps-container .jee-slider-step-container{position:absolute;text-align:center}jee-slider .jee-slider-steps-container .jee-slider-step-thumb{height:20px;width:20px;transform:scale(.5);border-radius:50%;margin:2px auto;background-color:var(--slider-tick-color)}jee-slider .jee-slider-steps-container .jee-slider-step-thumb.selected{background-color:var(--slider-track-fill)}jee-slider .jee-slider-steps-container .jee-slider-step-thumb{margin:3px auto}
`],encapsulation:2})}}return r})();var fje=r=>({"big-slider":r}),hje=r=>({vertical:r});function mje(r,t){if(r&1&&(W(0,"div",2),Te(1,"text-font",4),$()),r&2){let e=ie();K(),oe("text",e.settings().label)("font",e.settings().labelFont)}}var Lhe=(()=>{class r extends Zo{constructor(){super(),this.settings=Ne(new qx),this.dashboardManager=V(bo),this.changeRef=V(qt),this.value=0}ngOnInit(){qx.ensureSettings(this.settings()),this.settings().valueCommand&&this.dashboardManager.onCommandUpdate(this.settings().valueCommand).pipe(Vt(this.destroy)).subscribe(e=>{this.value=e.value,this.changeRef.detectChanges()})}onValueChange(e){this.settings().actionCommand&&this.dashboardManager.sendCmd(this.settings().actionCommand,e)}static{this.\u0275fac=function(n){return new(n||r)}}static{this.\u0275cmp=Be({type:r,selectors:[["slider-widget"]],inputs:{settings:[1,"settings"]},features:[er],decls:4,vars:16,consts:[[3,"background","ngClass"],[1,"slider-widget"],[1,"label"],[3,"valueChange","ngClass","min","max","vertical","bigSlider","value","step","showTicks","showTicksLabel"],[3,"text","font"]],template:function(n,i){n&1&&(W(0,"widget-box",0)(1,"div",1),Oe(2,mje,2,2,"div",2),W(3,"jee-slider",3),Me("valueChange",function(s){return i.onValueChange(s)}),$()()()),n&2&&(oe("background",i.settings().background)("ngClass",Un(12,fje,i.settings().bigSlider)),K(2),Pe(i.settings().hideLabel?-1:2),K(),oe("ngClass",Un(14,hje,i.settings().vertical))("min",i.settings().min)("max",i.settings().max)("vertical",i.settings().vertical)("bigSlider",i.settings().bigSlider)("value",i.value)("step",i.settings().step)("showTicks",i.settings().showTicks)("showTicksLabel",i.settings().showTicksLabel))},dependencies:[eo,ho,Phe,Qo,Wl],styles:[".slider-widget[_ngcontent-%COMP%]{flex:1;flex-direction:column;display:flex;padding:0 15px}jee-slider[_ngcontent-%COMP%]{place-content:center;flex:1}.label[_ngcontent-%COMP%]{margin:5px 0;text-align:center;z-index:9}.vertical[_ngcontent-%COMP%]{height:100%}.big-slider[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{margin:0}"]})}}return r})();var MA=class r extends Oi{constructor(t){super(),this.labelFont=Mr.LabelFont(),Object.assign(this,t),r.ensureSettings(this)}static ensureSettings(t){t.labelFont??=Mr.LabelFont(),Oi.ensureWidgetBaseSettings(t)}};var pje=["chart"],Bhe=(()=>{class r extends Zo{constructor(){super(...arguments),this.changeRef=V(qt),this.settings=Ne(new MA),this.divChart=Ei.required("chart"),this.chartHeight=0}ngAfterViewInit(){setTimeout(()=>{let e=this.divChart();e&&(this.chartHeight=e.nativeElement.clientHeight,this.changeRef.detectChanges())})}static{this.\u0275fac=(()=>{let e;return function(i){return(e||(e=Kn(r)))(i||r)}})()}static{this.\u0275cmp=Be({type:r,selectors:[["jee-chart-widget"]],viewQuery:function(n,i){n&1&&Ai(i.divChart,pje,5),n&2&&ai()},inputs:{settings:[1,"settings"]},features:[er],decls:5,vars:5,consts:[["chart",""],[3,"background","center"],[3,"text","font"],[1,"chart"],[3,"settings"]],template:function(n,i){n&1&&(W(0,"widget-box",1),Te(1,"text-font",2),W(2,"div",3,0),Te(4,"jee-generic-chart",4),$()()),n&2&&(oe("background",i.settings().background)("center",!1),K(),oe("text",i.settings().label)("font",i.settings().labelFont),K(3),oe("settings",i.settings().chartSettings))},dependencies:[Sr,Qo,Wl,EA],styles:["text-font[_ngcontent-%COMP%]{margin-bottom:15px}.chart[_ngcontent-%COMP%]{overflow:hidden;display:flex;flex:1}.chart[_ngcontent-%COMP%]   jee-generic-chart[_ngcontent-%COMP%]{flex:1}"]})}}return r})();var AA=class r extends Oi{constructor(t){super(),Object.assign(this,t),r.ensureSettings(this)}static ensureSettings(t){t.labelFont=t.labelFont||Mr.LabelFont(),t.labelFont=t.labelFont||Mr.ValueFont()}};var Vhe=(()=>{class r extends Zo{constructor(e){super(),this.dashboardManager=e,this.changeRef=V(qt),this.settings=Ne(new AA),this.now=Date.now()}ngOnInit(){this.interval=setInterval(()=>{this.now=Date.now()},900)}ngOnDestroy(){this.interval&&clearInterval(this.interval),super.ngOnDestroy()}static{this.\u0275fac=function(n){return new(n||r)(ze(bo))}}static{this.\u0275cmp=Be({type:r,selectors:[["clock-widget"]],inputs:{settings:[1,"settings"]},features:[er],decls:4,vars:7,consts:[[3,"background","center"],[1,"clock-widget"],[3,"text","font"]],template:function(n,i){n&1&&(W(0,"widget-box",0)(1,"div",1),Te(2,"text-font",2),S1(3,"date"),$()()),n&2&&(oe("background",i.settings().background)("center",!0),K(2),oe("text",D1(3,4,i.now,"HH:mm:ss"))("font",i.settings().clockFont))},dependencies:[eo,U1,Qo,Wl],styles:["[_nghost-%COMP%]{display:flex;align-items:center;flex-direction:column;place-content:center;height:100%;width:100%}widget-box[_ngcontent-%COMP%]{flex:1;width:100%}.clock-widget[_ngcontent-%COMP%]{align-self:center}"]})}}return r})();var Hhe=Wh(jhe());var gje=["divKnobContainer"],vje=["divActionsContainer"],bje=["divActions"],yje=["addBtn"],_je=["minBtn"];function xje(r,t){if(r&1&&(W(0,"div",11),ge(1),$()),r&2){let e=ie(2);K(),zt(e.label())}}function wje(r,t){if(r&1){let e=ot();W(0,"div",9,2)(2,"div",8),Me("click",function(i){xe(e);let o=ie();return we(o.remove(i))}),W(3,"mat-icon"),ge(4,"remove"),$()(),W(5,"div",10),Oe(6,xje,2,1,"div",11),W(7,"div",12),Te(8,"jee-value-unit",13),$()(),W(9,"div",8),Me("click",function(i){xe(e);let o=ie();return we(o.add(i))}),W(10,"mat-icon"),ge(11,"add"),$()()()}if(r&2){let e=ie();K(6),Pe(e.label()?6:-1),K(2),oe("value",e.value())("unit",e.unit())}}var Uhe=(()=>{class r{constructor(){this.renderer=V(gi),this.elementRef=V(ut),this.value=qo.required(),this.label=Ne(""),this.unit=Ne(""),this.valMin=Ne(0),this.valMax=Ne(100),this.textColor=Ne("white"),this.trackColor=Ne("rgba(0, 0, 0, 0.3)"),this.fillingColor=Ne("#883E1C"),this.divKnobContainer=Ei.required("divKnobContainer"),this.divActionsContainer=Ei.required("divActionsContainer"),this.divActions=Ei.required("divActions"),this.addBtn=Ei.required("addBtn"),this.minBtn=Ei.required("minBtn"),this.showKnob=!1,this.showAddRemove=!1,Io(()=>{this.setValue(this.value())})}ngOnChanges(e){}ngOnInit(){setTimeout(()=>{this.init()},1e3)}ngAfterViewInit(){}add(e){this.setValue(this.value()+1),e.stopPropagation()}remove(e){this.setValue(this.value()-1),e.stopPropagation()}setValue(e){if(this.knob){this.knob.setValue(e);return}this.value.set(e)}init(){let e=this.elementRef.nativeElement.offsetHeight,n=this.elementRef.nativeElement.offsetWidth;if((n<e?n:e)<150){this.initAddRemove();return}setTimeout(()=>{this.initKnob()})}initAddRemove(){this.showAddRemove=!0}initKnob(){this.showKnob=!0;let e=this.elementRef.nativeElement.offsetHeight,n=this.elementRef.nativeElement.offsetWidth;this.showKnob=!0;let i=n<e?n:e;this.knob=Hhe.default.createKnob(i,i);var o=this.knob;o.setProperty("angleStart",-.75*Math.PI),o.setProperty("angleEnd",.75*Math.PI),o.setProperty("colorFG",this.fillingColor()),o.setProperty("colorBG",this.trackColor()),o.setProperty("colorText",this.textColor()),o.setProperty("trackWidth",.15),o.setProperty("valMin",this.valMin()),o.setProperty("valMax",this.valMax()),o.setProperty("label",this.label()),o.setProperty("unitValue",this.unit()),o.setValue(this.value());let s=this,a=function(b,y){s.value.set(y)};o.addListener(a);let l=o.node(),c=this.divKnobContainer().nativeElement;c.insertBefore(l,c.firstChild);let d=this.divKnobContainer();this.renderer.setStyle(d.nativeElement,"height",i+"px"),this.renderer.setStyle(d.nativeElement,"width",i+"px");let f=Math.min(i*.15,40),m=this.addBtn();this.renderer.setStyle(m.nativeElement,"height",f+"px"),this.renderer.setStyle(m.nativeElement,"width",f+"px");let p=this.minBtn();this.renderer.setStyle(p.nativeElement,"height",f+"px"),this.renderer.setStyle(p.nativeElement,"width",f+"px"),this.adjustActionsPosition(i)}adjustActionsPosition(e){let o=.75*e;this.renderer.setStyle(this.divActionsContainer().nativeElement,"top",o+"px")}static{this.\u0275fac=function(n){return new(n||r)}}static{this.\u0275cmp=Be({type:r,selectors:[["jee-knob"]],viewQuery:function(n,i){n&1&&(Ai(i.divKnobContainer,gje,5),Ai(i.divActionsContainer,vje,5),Ai(i.divActions,bje,5),Ai(i.addBtn,yje,5),Ai(i.minBtn,_je,5)),n&2&&ai(5)},inputs:{value:[1,"value"],label:[1,"label"],unit:[1,"unit"],valMin:[1,"valMin"],valMax:[1,"valMax"],textColor:[1,"textColor"],trackColor:[1,"trackColor"],fillingColor:[1,"fillingColor"]},outputs:{value:"valueChange"},features:[cr],decls:15,vars:2,consts:[["divKnobContainer",""],["divActionsContainer",""],["divActions",""],["minBtn",""],["addBtn",""],[1,"jee-knob-container",3,"hidden"],[1,"jee-knob-actions-container"],[1,"jee-knob-actions"],[1,"jee-knob-action",3,"click"],[1,"jee-knob-without-knob"],[1,"jee-knob-value"],[1,"label"],[1,"value"],[3,"value","unit"]],template:function(n,i){if(n&1){let o=ot();W(0,"div",5,0)(2,"div",6,1)(4,"div",7,2)(6,"div",8,3),Me("click",function(a){return xe(o),we(i.remove(a))}),W(8,"mat-icon"),ge(9,"remove"),$()(),W(10,"div",8,4),Me("click",function(a){return xe(o),we(i.add(a))}),W(12,"mat-icon"),ge(13,"add"),$()()()()(),Oe(14,wje,12,3,"div",9)}n&2&&(oe("hidden",!i.showKnob),K(14),Pe(i.showAddRemove?14:-1))},dependencies:[Yi,Ev],styles:["[_nghost-%COMP%]{display:flex;flex:1;place-content:center;align-items:center}.jee-knob-container[_ngcontent-%COMP%]{position:relative;flex-direction:column}.jee-knob-container[_ngcontent-%COMP%]   .jee-knob-actions-container[_ngcontent-%COMP%]{position:absolute;display:flex;flex-direction:column;align-items:center;left:50%;transform:translate(-50%)}.jee-knob-container[_ngcontent-%COMP%]   .jee-knob-actions-container[_ngcontent-%COMP%]   .jee-knob-actions[_ngcontent-%COMP%]{display:flex;gap:10px}.jee-knob-action[_ngcontent-%COMP%]{width:30px;height:30px;background-color:transparent;border:1px solid gray;border-radius:50%;display:flex;justify-content:center;align-items:center;cursor:pointer}.jee-knob-without-knob[_ngcontent-%COMP%]{display:flex;flex:1;place-content:center;align-items:center}.jee-knob-without-knob[_ngcontent-%COMP%]   .jee-knob-action[_ngcontent-%COMP%]{width:30px;height:30px}.jee-knob-without-knob[_ngcontent-%COMP%]   .jee-knob-value[_ngcontent-%COMP%]{margin:0 20px;display:flex;flex-direction:column;align-items:center}.jee-knob-without-knob[_ngcontent-%COMP%]   .jee-knob-value[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:12px;margin-bottom:10px}"]})}}return r})();var Cje=["itemTemplate"],Sje=["selectedTemplate"],Dje=(r,t)=>({item:r,index:t}),Eje=(r,t,e)=>({item:r,index:t,selected:e});function Mje(r,t){if(r&1&&Xa(0,2),r&2){let e=ie();oe("ngTemplateOutlet",e.selectedTemplate())("ngTemplateOutletContext",C1(2,Dje,e.selectedItem(),e.i))}}function Aje(r,t){if(r&1){let e=ot();W(0,"button",6),Me("click",function(){let i=xe(e).$implicit,o=ie(2);return we(o.onItemSelected(i))}),Xa(1,2),$()}if(r&2){let e=t.$implicit,n=t.$index,i=ie(2);K(),oe("ngTemplateOutlet",i.itemTemplate())("ngTemplateOutletContext",wm(2,Eje,e,n,e===i.selectedItem()))}}function Tje(r,t){if(r&1&&(W(0,"div",4),ur(1,Aje,2,6,"button",5,sa),$()),r&2){let e=ie();K(),dr(e.items())}}var qhe=(()=>{class r{constructor(){this.isOpen=!1,this.selectedItem=qo(),this.items=Ne.required(),this.itemTemplate=_m.required("itemTemplate"),this.selectedTemplate=_m.required("selectedTemplate")}close(){this.isOpen=!1}onItemSelected(e){this.selectedItem.set(e),this.close()}static{this.\u0275fac=function(n){return new(n||r)}}static{this.\u0275cmp=Be({type:r,selectors:[["jee-select"]],contentQueries:function(n,i,o){n&1&&(xm(o,i.itemTemplate,Cje,5),xm(o,i.selectedTemplate,Sje,5)),n&2&&ai(2)},inputs:{selectedItem:[1,"selectedItem"],items:[1,"items"]},outputs:{selectedItem:"selectedItemChange"},decls:4,vars:5,consts:[["trigger","cdkOverlayOrigin"],["mat-stroked-button","","type","button","cdkOverlayOrigin","",3,"click","backdropClick"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["cdkConnectedOverlay","",3,"overlayOutsideClick","cdkConnectedOverlayOrigin","cdkConnectedOverlayDisableClose","cdkConnectedOverlayOpen","cdkConnectedOverlayBackdropClass"],[1,"jee-select-overlay-content"],["mat-button","",1,"jee-select-item"],["mat-button","",1,"jee-select-item",3,"click"]],template:function(n,i){if(n&1){let o=ot();W(0,"button",1,0),Me("click",function(){return xe(o),we(i.isOpen=!i.isOpen)})("backdropClick",function(){return xe(o),we(i.isOpen=!i.isOpen)}),Oe(2,Mje,1,5,"ng-container",2),$(),Oe(3,Tje,3,0,"ng-template",3),Me("overlayOutsideClick",function(){return xe(o),we(i.close())})}if(n&2){let o=Ao(1);K(2),Pe(i.selectedTemplate()&&i.selectedItem()?2:-1),K(),oe("cdkConnectedOverlayOrigin",o)("cdkConnectedOverlayDisableClose",!1)("cdkConnectedOverlayOpen",i.isOpen)("cdkConnectedOverlayBackdropClass","jee-select-backdrop")}},dependencies:[Fn,Xl,q_,ip,nu],styles:["button[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;align-items:start}.jee-select-overlay-content[_ngcontent-%COMP%]{min-width:150px;display:flex;flex-direction:column;background-color:var(--widget-bg);padding-top:15px}"]})}}return r})();var IA=class extends Oi{constructor(t){super(),this.labelFont=Mr.LabelFont(),this.heatingValue="",this.modeCommands=[],Object.assign(this,t)}static ensureSettings(t){}};function Ije(r,t){if(r&1&&Te(0,"widget-icon",19),r&2){let e=ie().item;oe("settings",e.icon)}}function kje(r,t){r&1&&(W(0,"mat-icon",20),ge(1,"heat_pump_balance"),$()),r&2&&oe("inline",!0)}function Nje(r,t){if(r&1&&(W(0,"div",17)(1,"div",18),Oe(2,Ije,1,1,"widget-icon",19)(3,kje,2,1,"mat-icon",20),$(),W(4,"div",21),ge(5),$()()),r&2){let e=t.item;K(2),Pe(e.icon?2:3),K(3),zt(e.value)}}function Oje(r,t){if(r&1&&Te(0,"widget-icon",19),r&2){let e=ie().item;oe("settings",e.icon)}}function Fje(r,t){r&1&&(W(0,"mat-icon",20),ge(1,"heat_pump_balance"),$()),r&2&&oe("inline",!0)}function Rje(r,t){if(r&1&&(W(0,"div",17)(1,"div",18),Oe(2,Oje,1,1,"widget-icon",19)(3,Fje,2,1,"mat-icon",20),$(),W(4,"div",21),ge(5),$()()),r&2){let e=t.item;K(2),Pe(e.icon?2:3),K(3),zt(e.value)}}var Whe=(()=>{class r extends Zo{static{this.HEATING_STATUS="Chauffage"}static{this.OFF_STATUS="Arr\xEAt\xE9"}constructor(){super(),this.settings=Ne(new IA),this.changeRef=V(qt),this.dashboardManager=V(bo),this.background=new Ba,this.currentTemperatureFont=new $o,this.currentTemperature=0,this.setpointTemperatureValue=0,this.status=r.HEATING_STATUS,this.valMax=30,this.valMin=10,this.heating=!1,this.modes=[]}ngOnInit(){let e=this.settings();this.modes=e.modeCommands||[],e.temperatureValueCommand&&this.dashboardManager.onCommandUpdate(e.temperatureValueCommand).pipe(Vt(this.destroy)).subscribe({next:n=>{this.currentTemperature=n.value,this.changeRef.detectChanges()}}),e.setPointTemperatureValueCommand&&this.dashboardManager.onCommandUpdate(e.setPointTemperatureValueCommand).pipe(Vt(this.destroy)).subscribe({next:n=>{this.setpointTemperatureValue=n.value}}),e.modeValueCommand&&this.dashboardManager.onCommandUpdate(e.modeValueCommand).pipe(Vt(this.destroy)).subscribe({next:n=>{this.selectedMode=e.modeCommands.find(i=>i.value.toLocaleLowerCase()===n.value.toLowerCase()),this.selectedMode||(this.selectedMode=new Su({value:n.value})),this.changeRef.detectChanges()}}),e.stateValueCommand&&this.dashboardManager.onCommandUpdate(e.stateValueCommand).pipe(Vt(this.destroy)).subscribe({next:n=>{this.status=r.OFF_STATUS,this.heating=this.settings().heatingValue?.toLocaleLowerCase()===n.value?.toLowerCase(),this.heating&&(this.status=r.HEATING_STATUS),this.changeRef.detectChanges()}})}onSelectedItemChange(){this.selectedMode?.command&&this.dashboardManager.sendCmd(this.selectedMode.command)}onSetPointChange(){this.settings().setPointTemperatureCommand&&this.dashboardManager.sendCmd(this.settings().setPointTemperatureCommand,this.setpointTemperatureValue)}static{this.\u0275fac=function(n){return new(n||r)}}static{this.\u0275cmp=Be({type:r,selectors:[["thermostat-widget"]],inputs:{settings:[1,"settings"]},features:[er],decls:25,vars:13,consts:[["selectedTemplate",""],["itemTemplate",""],[3,"background"],[3,"label","labelFont"],[1,"current-temperature"],[1,"temp-title"],[1,"temp-value"],[3,"value","unit"],[1,"setpoint-temperature"],["label","Cible","unit","\xB0C",3,"valueChange","value","valMin","valMax"],[1,"footer"],[1,"current-status"],[1,"current-status-content"],[1,"current-status-label"],[1,"current-status-value"],[1,"modes"],[3,"selectedItemChange","selectedItem","items"],[1,"mode"],[1,"mode-icon"],["color","white",3,"settings"],[3,"inline"],[1,"mode-value"]],template:function(n,i){if(n&1){let o=ot();W(0,"widget-box",2)(1,"div"),Te(2,"label-icon-value",3),$(),W(3,"div",4)(4,"div",5),ge(5,"Temp\xE9rature actuelle"),$(),W(6,"div",6),Te(7,"jee-value-unit",7),$()(),W(8,"div",8)(9,"jee-knob",9),Cn("valueChange",function(a){return xe(o),Mn(i.setpointTemperatureValue,a)||(i.setpointTemperatureValue=a),we(a)}),Me("valueChange",function(){return xe(o),we(i.onSetPointChange())}),$()(),W(10,"div",10)(11,"div",11)(12,"mat-icon"),ge(13,"local_fire_department"),$(),W(14,"div",12)(15,"div",13),ge(16,"Etat"),$(),W(17,"div",14),ge(18),$()()(),W(19,"div",15)(20,"jee-select",16),Cn("selectedItemChange",function(a){return xe(o),Mn(i.selectedMode,a)||(i.selectedMode=a),we(a)}),Me("selectedItemChange",function(){return xe(o),we(i.onSelectedItemChange())}),Oe(21,Nje,6,2,"ng-template",null,0,mc)(23,Rje,6,2,"ng-template",null,1,mc),$()()()()}n&2&&(oe("background",i.background),K(2),oe("label",i.settings().label)("labelFont",i.settings().labelFont),K(5),oe("value",i.currentTemperature)("unit","\xB0C"),K(2),wn("value",i.setpointTemperatureValue),oe("valMin",i.valMin)("valMax",i.valMax),K(3),Wt("fill",i.heating),K(6),zt(i.status),K(2),wn("selectedItem",i.selectedMode),oe("items",i.modes))},dependencies:[eo,Qo,Uhe,Yi,Qr,ts,qhe,Ev,th,rh],styles:["widget-box[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex:1;height:100%;padding:5px}.current-temperature[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:5px}.current-temperature[_ngcontent-%COMP%]   .temp-title[_ngcontent-%COMP%]{font-size:13px}.current-temperature[_ngcontent-%COMP%]   .temp-value[_ngcontent-%COMP%]{font-size:19px}.setpoint-temperature[_ngcontent-%COMP%]{display:flex;flex:1}.footer[_ngcontent-%COMP%]{display:flex;gap:25px;align-items:center;place-content:center;min-width:90px}.footer[_ngcontent-%COMP%]   .current-status[_ngcontent-%COMP%]{min-width:90px;height:34px;display:flex;flex-direction:row;align-items:center;gap:7px}.footer[_ngcontent-%COMP%]   .current-status[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{place-content:center}.footer[_ngcontent-%COMP%]   .current-status[_ngcontent-%COMP%]   mat-icon.fill[_ngcontent-%COMP%]{color:red}.footer[_ngcontent-%COMP%]   .current-status[_ngcontent-%COMP%]   .current-status-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex:1}.footer[_ngcontent-%COMP%]   .current-status[_ngcontent-%COMP%]   .current-status-content[_ngcontent-%COMP%]   .current-status-label[_ngcontent-%COMP%]{font-size:12px}.mode[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;gap:7px}.mode[_ngcontent-%COMP%]   .mode-icon[_ngcontent-%COMP%]{height:20px;width:20px}.mode[_ngcontent-%COMP%]   .mode-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:14px}.mode[_ngcontent-%COMP%]   .mode-value[_ngcontent-%COMP%]{flex:1}"]})}}return r})();var DA=class{constructor(t){this.hide=!1,Object.assign(this,t)}},dp={EditingWidgetComponent:{type:She,hide:!0},LabelWidgetComponent:{type:Nhe,label:"Label",hide:!1,configJsonFile:"label-settings.json"},SliderWidgetComponent:{type:Lhe,label:"Curseur/Slider",hide:!1,configJsonFile:"slider-settings.json"},ButtonWidgetComponent:{type:hhe,label:"Bouton",hide:!1,configJsonFile:"button-settings.json"},SelectionWidgetComponent:{type:Ohe,label:"Selection/Mode",hide:!1,configJsonFile:"selection-settings.json"},ImageWidgetComponent:{type:Dhe,label:"Image",hide:!1,configJsonFile:"image-settings.json"},ChartWidgetComponent:{type:Bhe,label:"Graphique",hide:!1,configJsonFile:"chart-settings.json"},ClockWidgetComponent:{type:Vhe,label:"Horloge",hide:!1,configJsonFile:"clock-settings.json"},ThermostatWidgetComponent:{type:Whe,label:"Thermostat",hide:!1,configJsonFile:"thermostat-settings.json"}},mXt=Object.values(dp);export{Ke as a,at as b,Ca as c,Si as d,sr as e,xn as f,on as g,Cb as h,si as i,Vt as j,kt as k,He as l,V as m,xe as n,we as o,lr as p,ct as q,xt as r,ut as s,Al as t,Xn as u,dg as v,Ho as w,rN as x,K as y,ze as z,Be as A,Nt as B,ft as C,Ei as D,er as E,Oe as F,rr as G,oe as H,hn as I,Wt as J,Li as K,Pe as L,Mi as M,sa as N,ur as O,dr as P,W as Q,$ as R,Te as S,ot as T,R_e as U,Me as V,H_e as W,ie as X,un as Y,hr as Z,Qn as _,Cr as $,Ft as aa,Rt as ba,Ai as ca,ai as da,Ao as ea,ge as fa,zt as ga,sn as ha,wn as ia,Mn as ja,Cn as ka,G_e as la,iGe as ma,oGe as na,Lt as oa,Ig as pa,Un as qa,S1 as ra,sGe as sa,D1 as ta,qt as ua,To as va,Xt as wa,v7 as xa,EGe as ya,U1 as za,eo as Aa,iYe as Ba,dFe as Ca,Kse as Da,HPt as Ea,Pae as Fa,fl as Ga,Ls as Ha,ri as Ia,Bs as Ja,ms as Ka,Es as La,ui as Ma,en as Na,Ro as Oa,Sr as Pa,tn as Qa,to as Ra,mO as Sa,s$ as Ta,el as Ua,no as Va,$r as Wa,Fn as Xa,Na as Ya,Wn as Za,$v as _a,j_ as $a,dh as ab,uh as bb,so as cb,ps as db,Vs as eb,zs as fb,js as gb,Hs as hb,fce as ib,go as jb,A0 as kb,yl as lb,bo as mb,S3e as nb,Yi as ob,za as pb,Vx as qb,Mp as rb,whe as sb,Che as tb,Vn as ub,Qr as vb,Ki as wb,vo as xb,c0 as yb,dp as zb,Aue as Ab,xM as Bb,FWt as Cb};
